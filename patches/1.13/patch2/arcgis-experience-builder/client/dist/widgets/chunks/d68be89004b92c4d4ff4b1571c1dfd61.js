/*! For license information please see d68be89004b92c4d4ff4b1571c1dfd61.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[48303],{58892:(e,t,i)=>{i.d(t,{a:()=>r,b:()=>n,c:()=>a,d:()=>o});const o=(0,i(27010).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),r=o.state,a=o.state,n=o.state},66683:(e,t,i)=>{i.d(t,{a:()=>d,s:()=>p});var o=i(42762),r=(i(72637),i(66716),i(58892)),a=i(88009),n=i(61099),s=i(59004),l=i(41171);function c(e,t,i,o){var r,a,n,s;const l=null!==(r=t.latitudeFieldName)&&void 0!==r?r:i.latitudeFieldName,c=null!==(a=t.longitudeFieldName)&&void 0!==a?a:i.longitudeFieldName,d=null!==(n=t.coordinateFieldName)&&void 0!==n?n:i.coordinateFieldName,p=null!==(s=t.coordinateFieldType)&&void 0!==s?s:i.coordinateFieldType;return o[e.name]?o[e.name]:e.name===d?null==p?void 0:p.toLowerCase():e.name===l?"latitude":e.name===c?"longitude":e.locationType||"unknown"}async function d({analyzeArgs:e,configArgs:t,itemArgs:i,initialize:d}){var u,g;const{config:m,lang:v,portal:h,user:S}=t,{itemType:f}=i;if(d&&(0,s.m)(S)){const e=(0,n.b)(null!==(g=null===(u=h.helperServices)||void 0===u?void 0:u.geocode)&&void 0!==g?g:[],S,h.isPortal);if(e&&(r.a.allowGeocode=e.allowGeocode,r.a.isAgoWorldGeocodeServer=e.isAgoWorldGeocodeServer,r.a.isServiceProxyAgoWorldGeocodeServer=e.isServiceProxyAgoWorldGeocodeServer,r.a.isWorldGeocodeServer=e.isWorldGeocodeServer,r.a.geocodeServers=e.geocodeServers,r.a.geocodeServiceUrl=e.geocodeServiceUrl),r.a.geocodeServers){r.a.sourceCountry=(0,n.d)(S.region,h.ipCntryCode);try{r.a.countryCodes=await async function(e,t,i){const o=(0,n.f)(e,i);let r;if(null==o?void 0:o.itemId){const e=`${t}/content/items/${o.itemId}`,i=await(0,l.r)(e),a=i.proxyFilter&&JSON.parse(i.proxyFilter).sourceCountry;a&&(r=a.split(",").map((e=>e.toLowerCase())),r.push("world"))}return Object.keys(n.c).map((e=>({label:n.c[e],value:e}))).filter((({value:e})=>!r||r.includes(e.toLowerCase()))).sort(((e,t)=>e.label<t.label?-1:e.label>t.label?1:0))}(r.a.geocodeServiceUrl,m.restBaseUrl,r.a.geocodeServers),r.a.standardizedFieldNames=await y(r.a.geocodeServiceUrl,v)}catch(e){return console.error("Geocoder unavailable",e),{error:{code:"unavailableGeocoder"}}}}}const{locationType:w,isWorldGeocodeServer:b,geocodeServiceUrl:x,geocodeServers:k,isServiceProxyAgoWorldGeocodeServer:T,sourceCountry:P,analyzeResults:A,analyzedLocationTypes:C}=r.a,E=`${m.restBaseUrl}content/features/analyze`,{isPortal:L}=h;let G,F=!1;"item"===(null==e?void 0:e.type)&&"append"===e.workflow?(G=a.a[f],F=!0):G="Microsoft Excel"===f?"excel":f.toLowerCase();let M={filetype:G};switch(null==e?void 0:e.type){case"url":M.sourceUrl=e.sourceUrl;break;case"item":M.itemid=e.itemid;break;case"file":M=new FormData,M.append("file",e.file),M.append("filetype",G);break;case"text":M.text=e.text}const D={enableGlobalGeocoding:!0,sourceLocale:v,locationType:w,returnEstimatedRowCount:!0,returnSize:!0};if(L&&x||!L){if((L||!L&&(null==k?void 0:k.length))&&(D.geocodeServiceUrl=encodeURI(x)),A||L){const e="address"===w?"addressTypes":"locationTypes";-1===C.indexOf(e)&&C.push(e),D.locationType=w||"coordinates"}(!h.isPortal&&b||h.isPortal&&T)&&(D.sourceCountryHint=A?"":P.toLowerCase(),D.sourceCountry=A?P.toLowerCase():"");const e=JSON.stringify(D);M instanceof FormData?M.append("analyzeParameters",e):M.analyzeParameters=e}try{return async function({response:e,analyzeSelectedLayer:t,initialize:i,geocodeServiceUrl:a,lang:s,portal:d,itemType:y}){var u,g,m,v,h,S;const f=r.a,w=d.isPortal,b="Microsoft Excel"===y?null!==(g=null===(u=e.publishParameters.layers)||void 0===u?void 0:u[f.selectedSheet])&&void 0!==g?g:null===(m=e.publishParameters.layers)||void 0===m?void 0:m[0]:e.publishParameters;let x;if(!w&&f.isWorldGeocodeServer||w&&f.isServiceProxyAgoWorldGeocodeServer){const e=(0,o.a)(b.sourceCountry);x=f.sourceCountry||b.sourceCountry||"world",x="wo"===x?"world":x,r.a.isWorldGeocodeServer=e,r.a.sourceCountry=x}f.allowGeocode||"address"!==b.locationType||(r.a.locationType="none"),function(e){var t,i,o,a,n,s;const{selectedSheet:l}=r.a,{publishParameters:d}=e,p=null!==(a=null!==(i=null===(t=d.layers)||void 0===t?void 0:t[l])&&void 0!==i?i:null===(o=d.layers)||void 0===o?void 0:o[0])&&void 0!==a?a:d.layerInfo;if(!p)return e;const y=null!==(s=null!==(n=p.addressFields)&&void 0!==n?n:d.addressFields)&&void 0!==s?s:{},u=Object.keys(y).reduce(((e,t)=>Object.assign(Object.assign({},e),{[y[t]]:t})),{});p.fields=p.fields.map((e=>Object.assign(Object.assign({},e),{locationType:c(e,p,d,u)}))),r.a.selectedFields&&(r.a.selectedFields=Object.keys(r.a.selectedFields).reduce(((e,t)=>{const i=r.a.selectedFields[t];return e[t]=Object.assign(Object.assign({},i),{locationType:c(i,p,d,u)}),e}),{}))}(e);const k=function(e){return function(e,t){var i,o,r,a;const{selectedFields:n,type:s,selectedSheet:l}=t;if(!n)return e;const c=e.publishParameters;let d=null==c?void 0:c.layerInfo;switch(s){case"Microsoft Excel":d=null!==(o=null===(i=null==c?void 0:c.layers)||void 0===i?void 0:i[l])&&void 0!==o?o:null===(r=null==c?void 0:c.layers)||void 0===r?void 0:r[0];break;case"GeoJson":d=null===(a=null==c?void 0:c.layers)||void 0===a?void 0:a[0]}return d.fields=d.fields.reduce(((e,t)=>{const i=n[t.name];return i&&(t.alias=i.alias,e.push(t)),e}),[]),e}(e,r.a)}(e);r.a.analyzeResults=k,(null===(v=null==k?void 0:k.publishParameters)||void 0===v?void 0:v.layers)&&(r.a.excelLayers=null===(h=null==k?void 0:k.publishParameters)||void 0===h?void 0:h.layers);const T=(0,n.a)(e,t);var P;i?r.a.backupLayerFields=JSON.parse(JSON.stringify(T.fields)):b.standardizedFieldNames?r.a.standardizedFieldNames=b.standardizedFieldNames:p({lang:s,geocodeServiceUrl:a,locationType:r.a.locationType}),"address"===r.a.locationType||"address"===T.locationType||"address"===(null===(S=null==e?void 0:e.publishParameters)||void 0===S?void 0:S.locationType)?r.a.geocodeCost=await(P=T.estimatedRecordCount,(0,l.r)(`${(0,l.g)()}portals/self/cost`,{geocodeCount:P})):r.a.geocodeCost=null}({response:await(M instanceof FormData?(0,l.e)(E,M,{},"post"):(0,l.r)(E,M,{},"post")),initialize:d,analyzeSelectedLayer:F,geocodeServiceUrl:x,lang:v,portal:h,itemType:f}),{}}catch(e){console.error(e);const t=(null==e?void 0:e.message)||e||"";switch(!0){case t.includes("specify data to be analyzed"):return{error:{code:"emptyFile"}};case t.includes("Duplicate field names are not allowed"):return{error:{code:"duplicateFieldNames"}};case t.toLowerCase().includes("timeout"):return{error:{code:"timeout"}}}return{error:{code:"unhandledError"}}}}async function p({lang:e,geocodeServiceUrl:t,locationType:i}){"address"===i&&(r.a.standardizedFieldNames=await y(t,e))}async function y(e,t){return(await(0,l.r)(e,{},{addTokenManually:!1})).addressFields.reduce(((e,i)=>{var o;return"unknown"!==i.name&&(e[i.name]=(null===(o=null==i?void 0:i.localizedNames)||void 0===o?void 0:o[`${t}`])||i.alias||i.name),e}),{})}},88009:(e,t,i)=>{i.d(t,{A:()=>s,N:()=>r,a:()=>n,b:()=>a,c:()=>c,d:()=>l,u:()=>o});const o=["esriFieldTypeOID","esriFieldTypeGlobalID"],r="<None>",a={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},n={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},s={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},l=["zip","csv","xls","xlsx","geojson","gpkg","json"],c=["zip","csv","xls","xlsx"]},48303:(e,t,i)=>{i.r(t),i.d(t,{arcgis_new_item_pages_csv_location_fields:()=>u});var o=i(28384),r=i(76134),a=i(81068),n=i(66683),s=i(58892),l=i(54871),c=i(61099),d=i(51510),p=i(59004),y=i(62381);i(27010),i(66716),i(18869),i(42762),i(72637),i(88009),i(41171),i(31546);const u=class{constructor(e){(0,o.r)(this,e),this.newItemUpdatePage=(0,o.c)(this,"newItemUpdatePage",7),this.workflowComplete=(0,o.c)(this,"workflowComplete",7),this.newItemToggleNavigationEnabled=(0,o.c)(this,"newItemToggleNavigationEnabled",7),this.newItemDisableCloseButtons=(0,o.c)(this,"newItemDisableCloseButtons",7),this.userHasAssignedCredits=!1,this.orgIsRestricted=!1,this.showTotalCredits=!1,this.isAppendWorkflow=!1,this.logCSVLocationFieldsChanges=()=>{const e=r.c.telemetry,t={eventType:"other",pageName:"my content",category:"new item csv location settings",label:this.currentLocationType};"address place names"===this.currentLocationType&&(this.displayEnrichLayerSettings?t.action="GeometryOnly"===this.selectedCandidateFieldsType?"enrich with some fields":"enrich with all fields":t.action="enrich with no fields",t.facetValue="Multiple"===this.selectedLocationFieldSelectionType?"multi":"single line address",t.details=this.initialLocator===s.a.geocodeServiceUrl?"default locator":"locator changed",t.attribute=this.initialRegion===s.a.sourceCountry?"default region":"region changed"),null==e||e.logEvent(t)},this.selectedLocationType="none",this.advancedExpanded=!1,this.selectedCandidateFieldsType="GeometryOnly",this.displayEnrichLayerSettings=!1,this.selectedLocationFieldSelectionType="Single",this.error=void 0,this.i18n=void 0}async handleNext(){var e;if((this.orgIsRestricted||this.userHasAssignedCredits)&&this.hasInsufficientCredits())return this.error=this.i18n.errors.insufficientCredits,void(null===(e=this.estimate)||void 0===e||e.scrollIntoView());const t=this.validateFields();if(t)this.error=t;else{if(this.error=null,this.isAppendWorkflow&&("add"===s.a.addAppendSelectOption||"upsert"===s.a.addAppendSelectOption)&&"none"===s.a.locationType&&"esriGeometryPoint"===s.a.sourceDataLayer.geometryType)return void(this.error=this.i18n.errors.noLocationTypeForAppend);const e=s.a.analyzeResults,t=(0,c.e)(this.selectedLocationFieldSelectionType,this.isAppendWorkflow);if(s.a.analyzeResults=Object.assign(Object.assign({},e),{publishParameters:t}),this.isAppendWorkflow){const{name:e}=s.a.dataLayer;s.a.dataLayer=t,s.a.dataLayer.name=e}this.logCSVLocationFieldsChanges();let i="itemProperties";this.isAddToMapTerminalPage()?this.workflowComplete.emit({type:s.a.type,url:encodeURI(s.a.url),customParameters:s.a.customParameters,results:{analyzeResults:s.a.analyzeResults,fields:s.a.selectedFields}}):(this.isAppendWorkflow&&(i="add"!==s.a.addAppendSelectOption||s.a.backupLayerFields.some((e=>"esriFieldTypeDate"===e.type))&&!this.isEnterprise?"appendKeyPairSelect":"appendMatchFields"),this.newItemUpdatePage.emit(i))}}hasInsufficientCredits(){return"address"===this.selectedLocationType&&(0,c.i)(s.a.geocodeServiceUrl)&&s.a.geocodeCost&&s.a.geocodeCost.transactionCreditCost>s.a.geocodeCost.availableCredits}showUnrestrictedOrgCreditsNotice(){return!(this.orgIsRestricted||this.userHasAssignedCredits)&&this.hasInsufficientCredits()}isAddToMapTerminalPage(){return"map"===l.u.workflow&&"url"===s.a.newItemMode&&!s.a.enablePublishing}async analyze(){var e;const{file:t,url:i,existingItem:o,id:a,cloudProviderResource:l,type:c}=s.a,{portal:p,user:y,config:u,lang:g}=r.c;return(0,n.a)({analyzeArgs:(o||l||(0,d.a)(null!==(e=null==t?void 0:t.size)&&void 0!==e?e:0))&&a?{type:"item",itemid:a}:t?{type:"file",file:t}:{type:"url",sourceUrl:i},itemArgs:{itemType:c},configArgs:{portal:p,user:y,config:u,lang:g}})}async componentWillLoad(){var e,t,i,o,a,d;const{analyzeResults:u,type:g,selectedSheet:m,standardizedFieldNames:v,enablePublishing:h,cloudProviderResource:S,geocodeServiceUrl:f}=s.a,{portal:w,user:b,config:x,lang:k}=r.c,T=(0,c.a)();this.isAppendWorkflow="append"===l.u.workflow,this.subscriptionInfo=r.c.subscriptionInfo,this.isEnterprise=w.isPortal;const P=this.isAppendWorkflow&&x.self.isPortal,A=4===r.c.api?null===(e=b.sourceJSON)||void 0===e?void 0:e.assignedCredits:b.assignedCredits;this.userHasAssignedCredits=A>0,this.orgIsRestricted="restricted"===(null===(t=this.subscriptionInfo)||void 0===t?void 0:t.state),this.i18n=l.u.i18n.csvLocationFields,this.isAddToMapTerminalPage()&&(l.u.nextText="addToMap");let C=P?["coordinates","none"]:["coordinates","address","none","mgrs","usng"];const E=(0,p.m)(b)&&s.a.geocodeServers&&("map"!==l.u.workflow||h),L=(0,y.c)(r.c.subscriptionInfo);this.showTotalCredits=(0,p.o)(b,w);const{selectedLocationFieldSelectionType:G}=s.a;this.selectedLocationFieldSelectionType=null!=G?G:"Single";const F="map"===l.u.workflow&&!h;this.locationTypes=C.map((e=>({optionTitle:this.i18n.locationTypes[e].title,description:L&&"address"===e?this.i18n.locationTypes.address.descriptionDeveloper:this.i18n.locationTypes[e].description.replace("${type}","googlesheets"===(null==S?void 0:S.cloudFileType)?"Google Sheet":g),value:e,badge:"address"!==e||r.c.portal.isPortal||L?null:{label:this.i18n.consumesCredits,icon:"credits"},icon:"none"===e?"table":"layer-points"}))).filter((({value:e})=>("address"!==e||E)&&("coordinates"===e||!F)));const M=null==u?void 0:u.publishParameters;if(M){const e="Microsoft Excel"===g?null!==(o=null===(i=null==M?void 0:M.layers)||void 0===i?void 0:i[m])&&void 0!==o?o:null===(a=null==M?void 0:M.layers)||void 0===a?void 0:a[0]:null==u?void 0:u.publishParameters;if((e.latitudeFieldName||e.longitudeFieldName)&&(this.selectedLocationType="coordinates",s.a.locationType="coordinates",s.a.coordinateFieldType="LatitudeAndLongitude"),"coordinates"===M.locationType&&M.coordinateFieldType)switch(s.a.locationType="coordinates",M.coordinateFieldType){case"MGRS":this.selectedLocationType="mgrs",s.a.coordinateFieldType="MGRS";break;case"USNG":this.selectedLocationType="usng",s.a.coordinateFieldType="USNG";break;default:this.selectedLocationType="coordinates",s.a.coordinateFieldType="LatitudeAndLongitude"}else"address"===e.locationType&&E&&(this.selectedLocationType="address",s.a.locationType="address");this.isAppendWorkflow&&(null!==(d=s.a.locationType)&&void 0!==d||(s.a.locationType="none"))}if(1===this.locationTypes.length){const e=this.locationTypes[0].value;this.selectedLocationType=e,s.a.locationType="mgrs"===e||"usng"===e?"coordinates":e}E||"address"!==this.selectedLocationType||(this.selectedLocationType="coordinates",s.a.locationType="coordinates"),"address"!==this.selectedLocationType||T.addressFields||(s.a.locationType="address"),v||await(0,n.s)({geocodeServiceUrl:f,locationType:s.a.locationType,lang:k}),P&&(this.selectedLocationType="coordinates",s.a.locationType="coordinates"),this.initialLocator=s.a.geocodeServiceUrl,this.initialRegion=s.a.sourceCountry,this.setLocationTypeTelemetry(this.selectedLocationType)}validateFields(){const{standardizedFieldNames:e,selectedFields:t,backupLayerFields:i}=s.a,o=this.isAppendWorkflow?i:Object.values(t),r=!o.find((({locationType:t})=>{const i=(null==t?void 0:t.toLowerCase())===this.selectedLocationType.toLowerCase(),o=!!(null==e?void 0:e[t]);return i||o}));switch(this.selectedLocationType){case"usng":case"mgrs":if(r)return this.i18n.errors.noFieldSelected;break;case"address":if("Single"===this.selectedLocationFieldSelectionType&&r)return this.i18n.errors.noFieldSelected;if("Multiple"===this.selectedLocationFieldSelectionType&&!o.find((e=>e.locationType&&"unknown"!==e.locationType)))return this.i18n.errors.noFieldSelected;break;case"coordinates":if(o.filter((({locationType:e})=>"latitude"===e||"longitude"===e)).length<2)return this.i18n.errors.coordinate}}async updateLocationType(e,t){if(this.selectedLocationType=e,"none"===e)return s.a.locationType="none",void(this.currentLocationType="none");switch(e){case"mgrs":s.a.coordinateFieldType="MGRS",s.a.locationType="coordinates";break;case"coordinates":s.a.coordinateFieldType="LatitudeAndLongitude",s.a.locationType="coordinates";break;case"usng":s.a.coordinateFieldType="USNG",s.a.locationType="coordinates";break;case"address":s.a.locationType="address"}t&&await this.analyze(),this.setLocationTypeTelemetry(e)}setLocationTypeTelemetry(e){switch(e){case"mgrs":this.currentLocationType="mgrs coordinates";break;case"coordinates":this.currentLocationType="lat lon";break;case"usng":this.currentLocationType="usng coordinates";break;case"address":this.currentLocationType="address place names";break;case"none":this.currentLocationType="none"}}async updateGeocodeServer(e){s.a.geocodeServiceUrl=e,await this.analyze()}async updateRegion(e){s.a.sourceCountry=e,await this.analyze()}handleEnrichLayerSwitchChange(e){const t=e.target.checked;this.displayEnrichLayerSettings=t,this.updateCandidateFields(t?"Minimal":"GeometryOnly")}updateCandidateFields(e){this.selectedCandidateFieldsType=e,s.a.candidateFieldsType=e}renderLocationFields(){const{standardizedFieldNames:e}=s.a,t={address:e,coordinates:{latitude:this.i18n.latitude,longitude:this.i18n.longitude},mgrs:{mgrs:"MGRS"},usng:{usng:"USNG"}}[this.selectedLocationType];if("Single"===this.selectedLocationFieldSelectionType&&"address"===this.selectedLocationType&&t){const e=Object.keys(t)[0];return(0,o.h)("div",{class:"row",role:"row"},(0,o.h)("div",{class:"cell",role:"cell"},t[e]),(0,o.h)("div",{class:"cell",role:"cell"},this.renderFieldSelect(e,t[e])))}return t&&Object.keys(t).map((e=>(0,o.h)("div",{class:"row",role:"row"},(0,o.h)("div",{class:"cell",role:"cell"},t[e]),(0,o.h)("div",{class:"cell",role:"cell"},this.renderFieldSelect(e,t[e])))))}updateFieldLocationType(e,t){(this.isAppendWorkflow?s.a.backupLayerFields:Object.values(s.a.selectedFields)).forEach((i=>{i.name===e?i.locationType=t:i.locationType===t&&(i.locationType="unknown")}))}handleLocationFieldSelectionChange(e){this.selectedLocationFieldSelectionType=e,s.a.selectedLocationFieldSelectionType=e}renderFieldSelect(e,t){const i=this.isAppendWorkflow?s.a.backupLayerFields:s.a.selectedFields,r=Object.keys(i).map((e=>i[e])),a=!r.some((t=>t.locationType===e));return(0,o.h)("calcite-select",{label:t,role:"cell",onCalciteSelectChange:t=>this.updateFieldLocationType(t.currentTarget.selectedOption.value,e)},(0,o.h)("calcite-option",{value:"unknown",selected:a},this.i18n.unknown),r.map((t=>(0,o.h)("calcite-option",{value:t.name,selected:t.locationType===e},t.alias||t.name))))}render(){var e,t,i,n,d;const{geocodeServiceUrl:p,geocodeServers:u,geocodeCost:g,sourceCountry:m,countryCodes:v}=s.a,{config:h}=r.c,S=null!==(t=null===(e=(0,c.a)())||void 0===e?void 0:e.estimatedRecordCount)&&void 0!==t?t:0,{helpMap:f,helpBase:w}=h,b=(0,a.g)(this.el);return(0,o.h)("div",{class:"wrapper"},(0,o.h)("arcgis-select",{class:"label--top",selectedOption:this.selectedLocationType,options:this.locationTypes,label:this.i18n.locationSettings,labelDescription:this.i18n.locationSettingsDescription,onArcgisOptionChange:e=>this.updateLocationType(e.detail,!0)}),"none"!==this.selectedLocationType&&(0,o.h)("div",null,"address"===this.selectedLocationType&&(0,o.h)("div",{class:"advanced"},(0,o.h)("button",{class:"advanced__toggle","aria-expanded":this.advancedExpanded.toString(),"aria-controls":"advanced__content",onClick:()=>this.advancedExpanded=!this.advancedExpanded},(0,o.h)("calcite-icon",{icon:"chevron-up",scale:"s",class:{advanced__icon:!0,[a.C.rtl]:"rtl"===b,"advanced__icon--open":this.advancedExpanded}}),this.i18n.advancedSettings),this.advancedExpanded&&(0,o.h)("div",{class:"advanced__content",id:"advanced__content"},(0,o.h)("div",{class:"two-up"},(0,o.h)("calcite-label",{class:"column"},this.i18n.locator,(0,o.h)("calcite-select",{label:"",onCalciteSelectChange:e=>this.updateGeocodeServer(e.currentTarget.selectedOption.value)},null==u?void 0:u.map((e=>(0,o.h)("calcite-option",{value:e.url,selected:e.url===p},e.name))))),(0,o.h)("calcite-label",{class:"column"},this.i18n.region,(0,o.h)("calcite-select",{label:"",onCalciteSelectChange:e=>this.updateRegion(e.currentTarget.selectedOption.value)},null==v?void 0:v.map((e=>(0,o.h)("calcite-option",{value:e.value,selected:e.value.toLowerCase()===m.toLowerCase()},this.i18n.countryCodes[e.value.toUpperCase()]||e.label)))))),!r.c.portal.isPortal&&!this.isAppendWorkflow&&(0,o.h)("div",{class:"enrich-layer-container"},(0,o.h)("calcite-label",{layout:"inline-space-between"},(0,o.h)("span",{class:"enrich-title"},this.i18n.enrich,(0,o.h)("arcgis-information",{label:null===(i=l.u.i18n)||void 0===i?void 0:i.moreInfo,placement:"top-start",paddedContent:!0},(0,o.h)("p",{class:"enrich-description"},this.i18n.enrichLayerDescription),(0,o.h)("calcite-link",{target:"_blank",href:`${w}${f[120002541]}`},this.i18n.enrichLayerLink))),(0,o.h)("calcite-switch",{checked:this.displayEnrichLayerSettings,onCalciteSwitchChange:this.handleEnrichLayerSwitchChange.bind(this)})),this.displayEnrichLayerSettings?(0,o.h)("calcite-radio-button-group",{layout:"vertical",name:"enrich-group",onCalciteRadioButtonGroupChange:e=>this.updateCandidateFields(e.target.selectedItem.value)},["Minimal","AllFields"].map((e=>(0,o.h)("calcite-label",{layout:"inline",key:e},(0,o.h)("calcite-radio-button",{checked:this.selectedCandidateFieldsType===e,value:e}),(0,o.h)("span",{class:"enrich-radio-text"},this.i18n.candidateFieldsTypes[e].description))))):null))),(0,o.h)("h3",{class:"header"},this.i18n.locationFields," ",(0,o.h)("span",{class:"asterisk"},"*")),"address"===this.selectedLocationType?(0,o.h)("calcite-radio-button-group",{name:"location-field-selection-group",layout:"vertical",onCalciteRadioButtonGroupChange:e=>this.handleLocationFieldSelectionChange(e.target.selectedItem.value)},["Single","Multiple"].map((e=>(0,o.h)("calcite-label",{layout:"inline",key:e},(0,o.h)("calcite-radio-button",{checked:this.selectedLocationFieldSelectionType===e,value:e}),this.i18n["Single"===e?"locationFieldSingle":"locationFieldMultiple"])))):null,(0,o.h)("div",{role:"table",class:"table"},(0,o.h)("div",{class:"row row--header",role:"row"},(0,o.h)("span",{class:"cell cell--header",role:"columnheader","aria-sort":"none"},this.i18n.locationType),(0,o.h)("span",{class:"cell cell--header",role:"columnheader","aria-sort":"none"},this.i18n.field)),this.renderLocationFields())),"address"===this.selectedLocationType&&g&&!r.c.portal.isPortal&&(0,c.i)(p)&&(0,o.h)(o.F,null,(0,y.c)(r.c.subscriptionInfo)?(0,o.h)("div",null,(0,o.h)("calcite-notice",{scale:"m",width:"full",open:!0,icon:"information"},(0,o.h)("div",{slot:"message"},this.i18n.recordCount.replace("${num}",`${S}`)))):(0,o.h)("arcgis-credit-estimate",{transactionCreditCost:g.transactionCreditCost,availableCredits:g.availableCredits,showTotal:this.showTotalCredits,class:"credit-estimate",api:r.c.api,ref:e=>this.estimate=e}),this.showUnrestrictedOrgCreditsNotice()&&(0,o.h)("calcite-notice",{class:"notice",kind:"brand",icon:"information",open:!0},(0,o.h)("div",{slot:"title"},this.i18n.unrestrictedOrgCredits.title),(0,o.h)("div",{slot:"message"},this.i18n.unrestrictedOrgCredits.description))),(0,o.h)("arcgis-new-item-alert",{heading:null===(n=this.error)||void 0===n?void 0:n.title,description:null===(d=this.error)||void 0===d?void 0:d.description,active:!!this.error,onAlertDismiss:()=>this.error=null}))}get el(){return(0,o.d)(this)}};u.style=".wrapper{padding-bottom:2rem}.table{margin-bottom:1.5rem}.row{display:flex;align-items:center;padding-left:0;padding-right:0;padding-top:0.5rem;padding-bottom:0.5rem;box-shadow:0px -1px 0px #eaeaea}.row--header{box-shadow:none}.cell{box-sizing:border-box;width:50%;padding:0.5rem;font-weight:500;font-size:0.875rem;color:var(--calcite-ui-text-1)}.cell--header{font-weight:400}.advanced{background-color:var(--calcite-ui-foreground-2);margin-top:1rem;margin-bottom:2rem}.advanced__toggle{font-size:0.875rem;padding:1.25rem;margin:0;width:100%;color:var(--calcite-ui-text-2);font-weight:500;border-radius:0;box-sizing:border-box;border-style:none;cursor:pointer;display:flex;align-items:center;background-color:transparent;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.advanced__toggle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.advanced__icon{transform:rotate(90deg);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:1rem;margin-inline-end:1rem}.arcgis--rtl{transform:rotate(-90deg)}.advanced__icon--open{transform:rotate(180deg)}.advanced__content{padding-left:1.25rem;padding-right:1.25rem;padding-top:0.5rem;padding-bottom:0.5rem}.two-up{display:flex;justify-content:space-between;margin-bottom:0.75rem}.column{width:calc(50% - 6px)}.header{font-size:1rem;color:var(--calcite-ui-text-1);font-weight:500;padding:0;margin:0;margin-bottom:0.5rem}.description{font-size:1rem;color:var(--calcite-ui-text-3);padding:0;margin:0;margin-bottom:1.5rem}.enrich-layer-container{background-color:var(--calcite-ui-foreground-1);border:1px solid var(--calcite-ui-border-input);padding:15px 15px 0px 15px}.enrich-switch{display:flex;justify-content:space-between}.enrich-title{display:flex;color:var(--calcite-ui-text-1)}.enrich-radio-text{color:var(--calcite-ui-text-3)}.radio{margin-bottom:0.75rem}.asterisk{color:var(--calcite-ui-danger)}.notice{margin-top:0.5rem}.loader-overlay{overflow:hidden}.enrich-description{margin-bottom:0.75rem;margin-top:0}"},42762:(e,t,i)=>{var o;function r(e){return null!=e}function a(e,t){for(;e;){if(e.nodeName===t.toUpperCase())return!0;e=e.parentElement}return!1}i.d(t,{a:()=>r,i:()=>a,s:()=>o}),function(e){e.SMALL="s",e.MEDIUM="m",e.LARGE="l"}(o||(o={}))},72637:(e,t,i)=>{var o,r,a,n,s,l;i.d(t,{L:()=>l,a:()=>s,f:()=>r,i:()=>o,l:()=>a,s:()=>n}),function(e){e.sourceUrl="sourceUrl",e.title="title",e.caption="caption",e.linkUrl="linkUrl",e.altText="altText"}(o||(o={})),function(e){e.expression="expression/",e.relationship="relationships/",e.raster="Raster."}(r||(r={})),function(e){e.feature="feature",e.cluster="cluster",e.mapNotes="mapNotes"}(a||(a={})),function(e){e.feature="feature",e.mapImage="map-image",e.scene="scene",e.ogcFeature="ogc-feature",e.imagery="imagery",e.wfs="wfs",e.wms="wms",e.csv="csv",e.geojson="geojson",e.stream="stream",e.imageryTile="imagery-tile",e.tile="tile",e.subtype="subtype"}(n||(n={})),function(e){e.integer="integer",e.smallInteger="small-integer",e.bigInteger="big-integer",e.single="single",e.double="double",e.long="long",e.string="string",e.date="date",e.dateOnly="date-only",e.timeOnly="time-only",e.timestampOffset="timestamp-offset",e.oid="oid",e.guid="guid",e.globalId="global-id",e.number="number"}(s||(s={})),function(e){e.default="default",e.display="display",e.type="type",e.field="field"}(l||(l={}))},76134:(e,t,i)=>{i.d(t,{c:()=>r,o:()=>a});const o=(0,i(27010).c)({portal:null,user:null,api:4,scale:"m"}),r=o.state,a=o.onChange},51510:(e,t,i)=>{i.d(t,{a:()=>l,f:()=>a,i:()=>s,m:()=>n});var o=i(26426),r=i(31546);function a(e,t){let i;i=t?t.map((e=>e.type)):Object.keys(r.a);let o=[];return i.forEach((t=>{var i;(null===(i=r.a[t].fileExt)||void 0===i?void 0:i.indexOf(e))>=0&&o.push(r.a[t])})),o}function n(e){return e?(0,o.b)(e.flatMap((e=>{var t;return null===(t=r.a[e])||void 0===t?void 0:t.fileExt})).filter((e=>!!e))):null}const s=e=>e/1024/1024>50,l=e=>e/1024/1024>20},31546:(e,t,i)=>{i.d(t,{A:()=>r,a:()=>l,i:()=>n,r:()=>s});var o=i(54871);const r=["file","url","create","application","featureLayer","tileLayer","sceneLayer","locator","imageryLayer","dataStore","developerCredentials","rasterFunctionTemplate"],a=["Document Link","CSV","GeoJson","KML","OGCFeatureServer","WFS","WMS","WMTS","GeoRSS","Application","Tile Layer","Feature Service","Geocoding Service","Geodata Service","Geometry Service","Geoenrichment Service","Geoprocessing Service","Globe Service","Map Service","Network Analysis Service","Image Service","Vector Tile Service","Scene Service","Stream Service","Workflow Manager Service","Video Service"],n=e=>a.includes(e),s=["Operations Dashboard Add In","Operations Dashboard Extension","Operation View","CityEngine Web Scene"],l=Object.assign(Object.assign({"360 VR Experience":{fileExt:["3vr"],type:"360 VR Experience",typeKeywords:[],nextStep:"itemProperties"}},o.u.featureFlags.tileLayer3dTiles?{"3DTiles Package":{fileExt:["3tz"],type:"3DTiles Package",typeKeywords:["3DTiles","3DTiles Package"],nextStep:"publishSelect"},"3DTiles Service":{type:"3DTiles Service",typeKeywords:["Data","Service","3DTiles Service","ArcGIS Server","Hosted Service"]}}:{}),{"Apache Parquet":{fileExt:["parquet"],type:"Apache Parquet",typeKeywords:[],nextStep:"itemProperties"},"AppBuilder Widget Package":{fileExt:["zip"],type:"AppBuilder Widget Package",typeKeywords:[]},"Desktop Add In":{fileExt:["esriaddin"],type:"Desktop Add In",typeKeywords:["Tool","Add In","Desktop Add In","ArcGIS Desktop","ArcMap","ArcGlobe","ArcScene","esriaddin"],nextStep:"itemProperties"},"Explorer Add In":{fileExt:["eaz"],type:"Explorer Add In",typeKeywords:["Tool","Add In","Explorer Add In","ArcGIS Explorer","eaz"],nextStep:"itemProperties"},"Explorer Map":{fileExt:["nmf"],type:"Explorer Map",typeKeywords:["Map","Explorer Map","Explorer Document","2D","3D","ArcGIS Explorer","nmf"],nextStep:"itemProperties"},"ArcGIS Explorer Application Configuration":{fileExt:["ncfg"],type:"Explorer Map",typeKeywords:["Map","Explorer Map","Explorer Mapping Application","2D","3D","ArcGIS Explorer"],nextStep:"itemProperties"},"Explorer Layer":{fileExt:["nmc"],type:"Explorer Layer",typeKeywords:["Data","Layer","Explorer Layer","ArcGIS Explorer","nmc"],nextStep:"itemProperties"},"Windows Mobile Package":{fileExt:["wmpk"],type:"Windows Mobile Package",typeKeywords:[],nextStep:"itemProperties"},"ArcGIS Pro Add In":{fileExt:["esriaddinx"],type:"ArcGIS Pro Add In",typeKeywords:["Tool","Add In","Pro Add In","esriaddinx"],nextStep:"itemProperties"},"ArcGIS Pro Configuration":{fileExt:["proconfigx"],type:"ArcGIS Pro Configuration",typeKeywords:[],nextStep:"itemProperties"},"Globe Document":{fileExt:["3dd"],type:"Globe Document",typeKeywords:["Map","Globe Document","3D","ArcGlobe","ArcGIS Server","3dd"],nextStep:"itemProperties"},"Map Document":{fileExt:["msd"],type:"Map Document",typeKeywords:["Map Document","Map","2D","ArcMap","ArcGIS Server","msd"],nextStep:"itemProperties"},"ArcMap Document":{fileExt:["mxd"],type:"Map Document",typeKeywords:["Map Document","Map","2D","ArcMap","ArcGIS Server"],nextStep:"itemProperties"},"ArcPad Package":{fileExt:["zip"],type:"ArcPad Package",typeKeywords:["Map","Layer","Data"]},"Published Map":{fileExt:["pmf"],type:"Published Map",typeKeywords:["Map","Published Map","2D","ArcReader","ArcMap","ArcGIS Server","pmf"],nextStep:"itemProperties"},"Scene Document":{fileExt:["sxd"],type:"Scene Document",typeKeywords:["Map","Scene Document","3D","ArcScene","sxd"],nextStep:"itemProperties"},"CityEngine Web Scene":{fileExt:["3ws"],type:"CityEngine Web Scene",typeKeywords:["3D","Map","Scene","Web"],thumbnailURL:"/cw_webscene.png",nextStep:"itemProperties"},"Code Sample":{fileExt:["zip"],type:"Code Sample",typeKeywords:["Code","Sample"]},"CSV Collection":{fileExt:["zip"],type:"CSV Collection",typeKeywords:[]},CSV:{fileExt:["csv"],type:"CSV",typeKeywords:["CSV"],nextStep:"publishSelect",appendUploadFormat:"csv"},"CAD Drawing":{fileExt:["zip"],type:"CAD Drawing",typeKeywords:[]},"Deep Learning Package":{fileExt:["zip","dlpk"],type:"Deep Learning Package",typeKeywords:["Deep Learning","Raster"],nextStep:"itemProperties"},"Desktop Application":{type:"Desktop Application",typeKeywords:["Desktop Application"]},"Desktop Application Template":{fileExt:["zip"],type:"Desktop Application Template",typeKeywords:["application","template","ArcGIS desktop"]},"Desktop Style":{fileExt:["stylx"],type:"Desktop Style",typeKeywords:["ArcGIS Pro","Symbology","Style","Symbols"],nextStep:"itemProperties"},"Earth Configuration":{fileExt:["xml"],type:"Earth Configuration",typeKeywords:["ArcGIS Earth","Earth","Earth Configuration"],nextStep:"itemProperties",orgOnly:!0},"Esri Classifier Definition":{type:"Esri Classifier Definition",fileExt:["ecd"],typeKeywords:[],nextStep:"itemProperties"},"Feature Collection":{type:"Feature Collection",fileExt:["featurecollection"],nextStep:"itemProperties",typeKeywords:[]},"File Geodatabase":{fileExt:["zip"],type:"File Geodatabase",typeKeywords:[],appendUploadFormat:"filegdb"},GeoJson:{fileExt:["geojson","json"],type:"GeoJson",typeKeywords:["Coordinates Type","CRS","Feature","FeatureCollection","GeoJSON","Geometry","GeometryCollection"],nextStep:"publishSelect",appendUploadFormat:"geojson"},"Geoprocessing Package":{fileExt:["gpk","gpkx"],type:"Geoprocessing Package",typeKeywords:["ArcGIS Desktop","ArcGlobe","ArcMap","ArcScene","Geoprocessing Package","gpk","Model","Result","Script","Sharing","Tool","Toolbox"],nextStep:"itemProperties"},GeoPackage:{fileExt:["gpkg"],type:"GeoPackage",typeKeywords:["Data","GeoPackage","gpkg"],nextStep:"publishSelect",appendUploadFormat:"geoPackage"},"Geoprocessing Sample":{fileExt:["zip"],type:"Geoprocessing Sample",typeKeywords:["tool","geoprocessing","sample"]},GeoRSS:{type:"GeoRSS",typeKeywords:[]},GML:{fileExt:["zip"],type:"GML",typeKeywords:[],orgOnly:!0},"Image Collection":{fileExt:["zip"],type:"Image Collection",typeKeywords:[],orgOnly:!0},Image:{fileExt:["jpg","jpeg","png","tif","tiff","gif"],type:"Image",typeKeywords:["Data","Image"],nextStep:"itemProperties",orgOnly:!0,allowAddDirect:!0},"iWork Keynote":{fileExt:["key"],type:"iWork Keynote",typeKeywords:["Data","Document","Mac"],orgOnly:!0,nextStep:"itemProperties"},"iWork Numbers":{fileExt:["numbers"],type:"iWork Numbers",typeKeywords:["Data","Document","Mac"],orgOnly:!0,nextStep:"itemProperties"},"iWork Pages":{fileExt:["pages"],type:"iWork Pages",typeKeywords:["Data","Document","Mac"],orgOnly:!0,nextStep:"itemProperties"},"KML Collection":{fileExt:["zip"],type:"KML Collection",typeKeywords:[]},KML:{type:"KML",fileExt:["kml","kmz"],typeKeywords:["Data","Map","kml"],nextStep:"itemProperties"},Layer:{fileExt:["lyr"],type:"Layer",typeKeywords:["Data","Layer","ArcMap","ArcGlobe","ArcGIS Explorer","lyr"],nextStep:"itemProperties"},"Layer File":{fileExt:["lyrx"],type:"Layer",typeKeywords:["ArcGIS Pro","Layer","Layer File"],nextStep:"itemProperties"},"Layer Package":{fileExt:["lpk","lpkx"],type:"Layer Package",typeKeywords:[],nextStep:"itemProperties"},Layout:{fileExt:["pagx"],type:"Layout",typeKeywords:["ArcGIS Pro","Layout","Layout File","pagx"],nextStep:"itemProperties"},"Locator Package":{fileExt:["gcpk"],type:"Locator Package",typeKeywords:[],nextStep:"itemProperties"},"Map Package":{fileExt:["mpk","mpkx"],type:"Map Package",typeKeywords:[],nextStep:"itemProperties"},"Map Template":{fileExt:["zip"],type:"Map Template",typeKeywords:["map","ArcMap","template","ArcGIS desktop"]},"Microsoft Excel":{fileExt:["xls","xlsx"],type:"Microsoft Excel",typeKeywords:["Data","Document","Microsoft Excel"],nextStep:"publishSelect",orgOnly:!0,appendUploadFormat:"excel"},"Microsoft Powerpoint":{fileExt:["ppt","pptx"],type:"Microsoft Powerpoint",typeKeywords:["Data","Document","Microsoft Powerpoint"],nextStep:"itemProperties",orgOnly:!0},"Visio Document":{fileExt:["vsd"],type:"Visio Document",typeKeywords:["Data","Document","Visio Document"],nextStep:"itemProperties",orgOnly:!0},"Microsoft Word":{fileExt:["doc","docx"],type:"Microsoft Word",typeKeywords:["Data","Document"],nextStep:"itemProperties",orgOnly:!0},"Mobile Basemap Package":{fileExt:["bpk"],type:"Mobile Basemap Package",typeKeywords:[],nextStep:"itemProperties"},"Mobile Map Package":{fileExt:["mmpk"],type:"Mobile Map Package",typeKeywords:[],nextStep:"itemProperties"},"Mobile Scene Package":{fileExt:["mspk"],type:"Mobile Scene Package",typeKeywords:[],thumbnailURL:"/mobilescenepackage.png",nextStep:"itemProperties"},Notebook:{fileExt:["ipynb"],type:"Notebook",typeKeywords:["Notebook","Python"],nextStep:"itemProperties",orgOnly:!0},PDF:{fileExt:["pdf"],type:"PDF",typeKeywords:["Data","Document","PDF"],nextStep:"itemProperties",orgOnly:!0},"Pro Map":{fileExt:["mapx"],type:"Pro Map",typeKeywords:["ArcGIS Pro","Map","Map File","mapx"],nextStep:"itemProperties"},"Pro Report":{fileExt:["rptx"],type:"Pro Report",typeKeywords:[],nextStep:"itemProperties",orgOnly:!0},"Project Package":{fileExt:["ppkx"],type:"Project Package",typeKeywords:[],nextStep:"itemProperties"},"Project Template":{fileExt:["aptx"],type:"Project Template",typeKeywords:[],nextStep:"itemProperties"},"Raster function template":{fileExt:["rft.json","rft.xml"],type:"Raster function template",typeKeywords:["Raster","Functions","Processing","rft","srf","function template","templates","ArcGIS Pro"],nextStep:"itemProperties"},"Rule Package":{fileExt:["rpk"],type:"Rule Package",typeKeywords:[],nextStep:"itemProperties"},"Scene Package":{fileExt:["slpk","spk"],type:"Scene Package",typeKeywords:[],nextStep:"publishSelect"},"Service Definition":{fileExt:["sd"],type:"Service Definition",typeKeywords:["Data","Service","Service Definition"],nextStep:"publishSelect"},Shapefile:{fileExt:["zip"],type:"Shapefile",typeKeywords:["Data","Layer","shapefile"],appendUploadFormat:"shapefile"},"Survey123 Add In":{fileExt:["surveyaddin"],type:"Survey123 Add In",typeKeywords:["Add In","Survey123 Add In","Tool"],nextStep:"itemProperties",orgOnly:!0},"Tile Package":{fileExt:["tpk","tpkx"],type:"Tile Package",typeKeywords:[],nextStep:"publishSelect"},"Vector Tile Package":{fileExt:["vtpk"],type:"Vector Tile Package",typeKeywords:[],nextStep:"publishSelect"},"Workflow Manager Package":{fileExt:["wpk"],type:"Workflow Manager Package",typeKeywords:[],nextStep:"itemProperties"},"Document Link":{type:"Document Link",typeKeywords:["Data","Document"]},FeatureServer:{type:"Feature Service",typeKeywords:["ArcGIS Server","Data","Feature Access","Feature Service","Service","Singlelayer","Hosted Service"]},GeocodeServer:{type:"Geocoding Service",thumbnailURL:"/desktopapp.png",typeKeywords:["ArcGIS Server","Geocoding Service","Locator Service","Service","Tool","Service Proxy"]},GeoDataServer:{type:"Geodata Service",typeKeywords:["Data","Service","Geodata Service","ArcGIS Server"]},GeometryServer:{type:"Geometry Service",typeKeywords:["Tool","Service","Geometry Service","ArcGIS Server"],thumbnailURL:"/desktopapp.png"},GeoenrichmentServer:{type:"Geoenrichment Service",typeKeywords:["Geoenrichment Service","ArcGIS Server"],thumbnailURL:"/desktopapp.png"},GPServer:{type:"Geoprocessing Service",typeKeywords:["Tool","Service","Geoprocessing Service","ArcGIS Server"]},GlobeServer:{type:"Globe Service",typeKeywords:["Data","Service","Globe Service","ArcGIS Server"],thumbnailURL:"/desktopapp.png"},ImageServer:{type:"Image Service",typeKeywords:["Data","Service","Image Service","ArcGIS Server"]},MapServer:{type:"Map Service",typeKeywords:["Data","Service","Map Service","ArcGIS Server"]},NAServer:{type:"Network Analysis Service",typeKeywords:["Tool","Service","Network Analysis Service","ArcGIS Server"]},ElevationServer:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:["Elevation 3D Layer"]},VectorTileServer:{type:"Vector Tile Service",typeKeywords:[]},WFS:{type:"WFS",typeKeywords:["Data","Service","Web Feature Service","OGC"]},WMS:{type:"WMS",typeKeywords:["Data","Service","Web Map Service","OGC"]},WMTS:{type:"WMTS",typeKeywords:["Data","Service","OGC"]},ogcFeature:{type:"OGCFeatureServer",typeKeywords:["Data","Service","Feature Service","OGC","OGC Feature Service"]},SceneServer:{type:"Scene Service",typeKeywords:["Scene Service"]},StreamServer:{type:"Stream Service",typeKeywords:["Data","Service","Stream Service","ArcGIS Server"]},VideoServer:{type:"Video Service",typeKeywords:[]},WMServer:{type:"Workflow Manager Service",thumbnailURL:"/desktopapp.png",typeKeywords:["Workflow Manager","ArcGIS Server","WMServer","Workflow","JTX","Job Tracking"]},TiledImageServer:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:["Tiled Imagery"]},"Web Mapping Application":{type:"Web Mapping Application",typeKeywords:["JavaScript","Map","Mapping Site","Online Map","Ready To Use","Web AppBuilder","Web Map (+ WAB2D or WAB3D)"]},"Mobile Application":{type:"Mobile Application",typeKeywords:["ArcGIS Mobile Map","Mobile Application"]},"AppBuilder Extension":{type:"AppBuilder Extension",typeKeywords:["Widget","App Builder"]},"Google Drive":{type:"Google Drive",typeKeywords:["CSV","Shapefile","GeoJSON","Excel","FileGeodatabase"]},Dropbox:{type:"Dropbox",typeKeywords:["CSV","Shapefile","GeoJSON","Excel","FileGeodatabase"]},OneDrive:{type:"OneDrive",typeKeywords:["CSV","Shapefile","GeoJSON","Excel","FileGeodatabase"]},"Map Service":{type:"Map Service",typeKeywords:["ArcGIS Server","Data","Map Service","Service","Hosted Service"]},StoryMap:{type:"StoryMap",typeKeywords:["arcgis-storymaps","StoryMap","Web Application (smstatusdraft or smsstatuspublished)"]},Dashboard:{type:"Dashboard",typeKeywords:["Dashboard","Operations Dashboard"]},"Hub Initiative":{type:"Hub Initiative",typeKeywords:["Hub","hubInitiative","OpenData"]},"Hub Site Application":{type:"Hub Site Application",typeKeywords:["Hub","hubSite","hubSolution","JavaScript","Map","Mapping Site","Online Map","OpenData","Ready To Use","selfConfigured","Web Map","Registered App"]},"Web Experience":{type:"Web Experience",typeKeywords:["EXB Experience","JavaScript","Ready To Use Web Application","Web Experience","Web Mapping Application","Web Page","Web Site"]},"Insights Workbook Package":{type:"Insights Workbook Package",fileExt:["insightswbk"],typeKeywords:["Insights","Insights Workbook Package"],nextStep:"itemProperties"},sde:{type:"Spatial Database Engine",fileExt:["sde"],typeKeywords:["sde"]},"Pro Report Template":{type:"Pro Report Template",fileExt:["rptt"],typeKeywords:["Pro Report Template","rptt"],nextStep:"itemProperties"}})},81068:(e,t,i)=>{i.d(t,{C:()=>s,a:()=>d,f:()=>l,g:()=>n,l:()=>a});var o=i(66716),r=i(18869);const a=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function n(e){return function(e,t,i){const o=(0,r.c)(e,"[dir]");return o?o.getAttribute("dir"):"ltr"}(e)}const s={rtl:"arcgis--rtl"};async function l(e,t){const{api:i,type:r,places:a}=t||{};if(4===i){const[t]=await(0,o.l)(["esri/intl"]),i=t.convertNumberFormatToIntlOptions({places:a,style:r,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},i),{style:r}))}const[n]=await(0,o.l)(["dojo/number"]);return n.format(e,{type:r,places:a,pattern:null==t?void 0:t.pattern})}const c={};function d(e){const t=document.documentElement.lang;return c[t]||(c[t]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),c[t].format(e)}},41171:(e,t,i)=>{i.d(t,{a:()=>P,b:()=>A,c:()=>S,d:()=>b,e:()=>c,f:()=>v,g:()=>f,h:()=>s,i:()=>C,j:()=>h,k:()=>w,l:()=>T,p:()=>y,q:()=>k,r:()=>d});var o=i(66716),r=i(76134),a=i(62381),n=i(26426);function s(e){var t,i,o,a;return null!=e||(e=null===r.c||void 0===r.c?void 0:r.c.portal),(null===(t=null==e?void 0:e.credential)||void 0===t?void 0:t.token)||(null==e?void 0:e.token)||(null===(o=null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.credential)||void 0===o?void 0:o.token)||(null===(a=null==e?void 0:e.portalUser)||void 0===a?void 0:a.token)||""}function l(e){var t;const{config:i}=r.c;return"https:"===window.location.protocol||!0===(null===(t=null==i?void 0:i.self)||void 0===t?void 0:t.allSSL)?e.replace("http:","https:"):e}async function c(e,t,i={},a){const[n]=await(0,o.l)(["esri/request"]),{api:c}=r.c;e.includes("f=")||t.append("f","json");const d=s();return d&&!t.has("token")&&t.append("token",d),new Promise(((o,r)=>{if(3===c){const s={url:!1===i.addSSL?e:l(e),form:t,timeout:i.timeout||0},c="post"===a?Object.assign({usePost:!0},i):i;n(s,c).then(o,r)}else n(e,Object.assign(Object.assign({body:t},i),{timeout:i.timeout||0,method:a||"auto"})).then((e=>{o(e.data)})).catch((e=>r(e)))}))}async function d(e,t={},i={},a,n){const[s]=await(0,o.l)(["esri/request"]),{api:c,portal:d}=r.c,p=Object.assign({},t);if(e.includes("f=")||!0===(null==n?void 0:n.excludeJson)||(p.f="json"),!1!==i.addTokenManually){const e=await b(d,c);p.token=e}const y=!1===i.addSSL?e:l(e);if(3===c)return s(Object.assign({url:y,content:p,timeout:i.timeout||0,withCredentials:i.withCredentials},null==n?void 0:n.v3Request),"post"===a?Object.assign({usePost:!0},i):i);{const e=Object.assign(Object.assign(Object.assign({query:p,method:a||"auto"},i),{timeout:i.timeout||0}),(null==i?void 0:i.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await s(y,e)).data}}const p=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120],y=async(e,t,i)=>{var o,r;const a=null!==(o=null==t?void 0:t.pendingStatuses)&&void 0!==o?o:["processing","partial","Pending","InProgress","EXECUTING"],s=null!==(r=null==t?void 0:t.successStatuses)&&void 0!==r?r:["completed","Completed","COMPLETED"];let l=0;const c=async()=>{const o=await d(e,null==t?void 0:t.requestParams,{},i),r=o.status||o.jobStatus;if(a.includes(r))return await(0,n.t)((y=l++,1e3*p[y>-1&&y<p.length-1?y:p.length-1])),c();if(s.includes(r))return o;throw o;var y};try{return c()}catch(e){throw console.error(e),e}},u={},g={},m={};async function v(e,t,i,o){var r,a,n,s;const l=null===(a=null===(r=m[t])||void 0===r?void 0:r[i])||void 0===a?void 0:a.expireAt,c=!!l&&(new Date).getTime()>l;if((null===(n=u[t])||void 0===n?void 0:n[i])&&!c)return u[t][i];g[t]||(g[t]={}),g[t][i]&&!c||(g[t][i]=e());const d=await g[t][i];if(u[t]||(u[t]={}),m[t]||(m[t]={}),u[t][i]=d,o){const{expireAfter:e,getExpireAfterFromResult:r}=o,a=r||e?(new Date).getTime()+(null!==(s=null==r?void 0:r(d))&&void 0!==s?s:e):null;m[t][i]=Object.assign(Object.assign({},m[t][i]),{expireAt:a})}return d}function h(e,t){var i;return null===(i=null==u?void 0:u[e])||void 0===i?void 0:i[t]}const S=(e,t)=>{var i,o;t?(null===(i=u[e])||void 0===i||delete i[t],null===(o=g[e])||void 0===o||delete o[t]):(delete u[e],delete g[e])};function f(e){var t;const{portal:i,config:o}=r.c||{};return null!==(t=(0,a.d)(null==o?void 0:o.restBaseUrl))&&void 0!==t?t:w(e||i)}function w(e){var t;return(0,a.d)(null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl)}const b=async(e,t)=>{var i,o;if(!(null==e?void 0:e.isPortal)||!e.isWebTierAuth)return s(e);const{token:a}=await v((()=>x(e,null!=t?t:null===r.c||void 0===r.c?void 0:r.c.api)),"platformSelf",null!==(o=null===(i=e.user)||void 0===i?void 0:i.id)&&void 0!==o?o:e.id,{getExpireAfterFromResult:e=>e.expires_in});return a},x=async(e,t)=>{const i=await(async(e,t)=>{var i,r,a,n;const s=3===t,[l]=await o.e.loadModules([s?"esri/IdentityManager":"esri/identity/IdentityManager"]),c=await v((()=>l.getCredential(f(e),{oAuthPopupConfirmation:!1})),"credential",null===(i=e.user)||void 0===i?void 0:i.id);return null!==(n=s?null===(r=c._oAuthCred)||void 0===r?void 0:r.appId:null===(a=c.oAuthState)||void 0===a?void 0:a.appId)&&void 0!==n?n:"arcgisonline"})(e,t),r={"X-Esri-Auth-Client-Id":i,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return d(`${f(e)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:4===t?r:void 0,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:r}})};async function k(e={},t){return d(`${f(t)}/community/groups`,e)}const T=async(e,t)=>{var i;if(!e)return[];const o=`${(0,a.d)(null!==(i=t.restUrl)&&void 0!==i?i:t.portalUrl)}portals/self/servers`,r=await d(o);return null==r?void 0:r.servers},P=e=>A(w(e)),A=e=>{var t;const i=`${(0,a.d)(null!==(t=(0,a.l)(e))&&void 0!==t?t:e)}info`;return v((()=>d(i,{},{addTokenManually:!1})),"portalInfo",i)},C=async(e,t)=>{if(e.isBackedBySDS)return{result:!0};const i=(0,a.e)(t)||(0,a.f)(t)||(0,a.g)(t)||(0,a.h)(t)||(0,a.j)(t);if(e.isPortal&&t&&(i||(0,a.k)(t)))try{const i=await E(t,e);return{result:!!(null==i?void 0:i[0])}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}return{result:!0}},E=async(e,t)=>{const i=await L(e,t);if(!i)return null;const o=`${i.adminUrl}/admin/data/findItems`;return(await d(o,{managed:!0})).items.filter((e=>{var t;return"arcgis data store"===(null===(t=e.provider)||void 0===t?void 0:t.toLowerCase())}))},L=async(e,t)=>{var i;return(null!==(i=await T(e,t))&&void 0!==i?i:[]).filter((e=>e.isHosted))[0]}},54871:(e,t,i)=>{i.d(t,{a:()=>o,u:()=>r});const o=(0,i(27010).c)({nextText:"next",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{tileLayer3dTiles:!1}}),r=o.state}}]);