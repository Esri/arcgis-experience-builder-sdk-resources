/*! For license information please see 8866511831b82cd8edd9fe507d464254.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[93385],{93385:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_from_template:()=>p});var s=r(28384),a=r(76134),i=r(41171),o=r(83129),n=r(58892),l=r(54871),c=r(24552),d=r(71120);r(27010),r(66716),r(62381),r(65508),r(86739),r(31546),r(82463),r(48507),r(48333),r(86274),r(85142),r(72022),r(96729),r(58728),r(83397),r(18869),r(46220);const u={"de-ch":"esri_de","de-de":"esri_de","en-au":"esri_en","en-ca":"esri_en","en-gb":"esri_en","en-us":"esri_en","es-es":"esri_es","es-mx":"esri_es","fr-ch":"esri_fr","fr-fr":"esri_fr",id:"esri_ind","it-ch":"esri_it","it-it":"esri_it","pt-br":"esri_pt","pt-pt":"esri_po",uk:"esri_ukr","zh-hk":"esri_hk","zh-tw":"esri_tw","zh-cn":"esri_zh"};const p=class{constructor(e){(0,s.r)(this,e),this.newItemUpdatePage=(0,s.c)(this,"newItemUpdatePage",7),this.blacklist='"sourceId#PointsLinesPolygons" OR "sourceId#Points" OR "sourceId#Lines" OR "sourceId#Polygons"',this.selectedTemplate=void 0,this.error=void 0}async componentWillLoad(){this.i18n=l.u.i18n.featureLayerFromTemplate,this.templateGroupID=this.templateGroupID||await async function(e){var t,r;const s=function(e){var t;const r=(null==e?void 0:e.toLowerCase())||"en";return null!==(t=u[r])&&void 0!==t?t:`esri_${r}`}(e);return(null===(r=null===(t=(await(0,i.q)({q:`title: "Esri Layer Templates" AND owner: ${s}`,num:1})).results)||void 0===t?void 0:t[0])||void 0===r?void 0:r.id)||""}(a.c.lang),n.a.serviceInfo=null,n.a.selectedServiceInfoLayersNames=null}async handleNext(){const{selectedTemplate:e}=this;if(!e)return(0,d.f)("No template selected"),void(this.error=!0);const{portal:t}=a.c,r=await(0,o.z)(e,t);r.enableZDefaults="19a4cead1af64f579d664f1dfdb50574"===r.serviceItemId;const s=e.typeKeywords;n.a.serviceInfo=r,a.c.portal.isPortal&&s.push("providerSDS"),n.a.typeKeywords=e.typeKeywords,n.a.sourceTitle=e.title,(0,c.s)(e),this.newItemUpdatePage.emit("featureLayerSummary")}filterHandler(){(0,d.b)()}render(){const{templateGroupID:e,i18n:t,error:r,blacklist:a}=this;return(0,s.h)(s.H,null,(0,s.h)("arcgis-new-item-feature-layer-browser",{query:`group:${e} type:"Layer Template" typekeywords: "Service Template" -typekeywords:(${a}) -type:"Attachment"`,sortDropdownOptions:["title","relevance","modified"],hideBucketSelect:!0,filterSlot:(0,s.h)("arcgis-item-browser-filters",{slot:"filters"},(0,s.h)("arcgis-item-browser-filter-industry",{expanded:!0})),onItemSelected:({detail:e})=>{this.selectedTemplate=e,this.error=!1},showOwner:!1,showDateUpdated:!1,showItemType:!1,showSummary:!0,showThumbnail:!1}),(0,s.h)("arcgis-new-item-alert",{heading:t.errorHeading,description:t.errorDescription,active:r,onAlertDismiss:()=>{this.error=!1}}))}get el(){return(0,s.d)(this)}}},71120:(e,t,r)=>{r.d(t,{a:()=>p,b:()=>d,c:()=>u,e:()=>l,f:()=>m,i:()=>c});var s=r(76134),a=r(58892);const i="create feature layer",o="my content",n=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},l=e=>{const t=s.c.telemetry;null==t||t.stepWorkflow(i,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:i,attribute:n(a.a.addFeatureLayerType),pageName:o})},c=e=>{const t=s.c.telemetry;null==t||t.stepWorkflow(i,`expand ${e} details`,{category:i,attribute:n(a.a.addFeatureLayerType),pageName:o})},d=()=>{const e=s.c.telemetry;null==e||e.stepWorkflow(i,"filter",{category:i,attribute:n(a.a.addFeatureLayerType),pageName:o})},u=e=>{const t=n(e),r=s.c.telemetry;null==r||r.stepWorkflow(i,"from option",{category:i,attribute:t,pageName:o})},p=()=>{const{addFeatureLayerType:e,serviceInfo:t}=a.a,r=t,l=s.c.telemetry;null==l||l.endWorkflow(i,{category:i,attribute:n(e),pageName:o,count:r.layers.length,number:r.tables.length})},m=e=>{var t;null===(t=s.c.telemetry)||void 0===t||t.logError({category:i,error:e})}}}]);