/*! For license information please see 13047199e3ea32e96f9790f0403f0b42.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[88431],{88431:(t,e,n)=>{n.r(e),n.d(e,{arcgis_publish_item:()=>u});var i=n(28384),r=n(76134),s=n(41171),a=n(62727),o=n(86739),l=n(86274),c=n(79157);n(27010),n(66716),n(62381),n(18869),n(81068),n(65508),n(58892),n(54871),n(31546);const u=class{constructor(t){(0,i.r)(this,t),this.portal=void 0,this.user=void 0,this.api=4,this.scale="m",this.itemId=void 0,this.telemetry=void 0,this.primaryButtonText=void 0,this.firstPage={element:"arcgis-publish-item-pages-item-properties"}}handlePageUpdate(t){this.primaryButtonText=c.p.i18n.next,"arcgis-publish-item-pages-item-properties"===t.detail.element&&(this.primaryButtonText=c.p.i18n.publish)}async componentWillLoad(){const{portal:t,user:e,itemId:n,api:i,scale:u}=this,p=await(0,a.g)(this.el);if(c.p.i18n=Object.assign(Object.assign({},l.w.i18n),p[0]),r.c.portal=t,e){const{error:n,result:i}=await(0,s.f)((()=>(0,s.i)(t,e)),"isPortalBackedBySDS",t.id);n||(r.c.portal.isBackedBySDS=i)}r.c.user=e,r.c.api=i,r.c.scale=u;const{result:d,error:h}=await(0,o.a)(n,t);h?console.warn("No item found, workflow unavailable"):c.p.sourceItem=d}componentDidLoad(){c.p.sourceItem&&this.routeFirstPage(c.p.sourceItem.type)}routeFirstPage(t){const{i18n:e}=c.p;["CSV","Microsoft Excel","GeoJson"].includes(t)?(this.firstPage={element:"arcgis-publish-item-pages-item-properties"},this.primaryButtonText=e.next):(this.firstPage={element:"arcgis-publish-item-pages-item-properties",props:{item:c.p.sourceItem}},this.primaryButtonText=e.publish)}render(){const{i18n:t}=c.p;return(0,i.h)(i.H,null,(0,i.h)("arcgis-workflow",{headerText:t.publishItem,primaryButtonText:this.primaryButtonText,firstPage:this.firstPage,onArcgisWorkflowUpdatePage:this.handlePageUpdate}))}get el(){return(0,i.d)(this)}}},81068:(t,e,n)=>{n.d(e,{C:()=>o,a:()=>u,f:()=>l,g:()=>a,l:()=>s});var i=n(66716),r=n(18869);const s=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function a(t){return function(t,e,n){const i=(0,r.c)(t,"[dir]");return i?i.getAttribute("dir"):"ltr"}(t)}const o={rtl:"arcgis--rtl"};async function l(t,e){const{api:n,type:r,places:s}=e||{};if(4===n){const[e]=await(0,i.l)(["esri/intl"]),n=e.convertNumberFormatToIntlOptions({places:s,style:r,digitSeparator:!0});return e.formatNumber(t,Object.assign(Object.assign({},n),{style:r}))}const[a]=await(0,i.l)(["dojo/number"]);return a.format(t,{type:r,places:s,pattern:null==e?void 0:e.pattern})}const c={};function u(t){const e=document.documentElement.lang;return c[e]||(c[e]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),c[e].format(t)}},62727:(t,e,n)=>{n.d(e,{a:()=>a,g:()=>c});var i=n(18869),r=n(81068),s=n(28384);function a(t){var e,n,s;const a=null!==(e=(0,i.c)(t,"[lang]"))&&void 0!==e?e:null===(s=null===(n=t.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===s?void 0:s.documentElement,o=((null==a?void 0:a.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(o)?r.l.get(o):r.l.has(o.slice(0,2))?r.l.get(o.slice(0,2)):"en"}const o={};function l(t,e){const n=`${t}${e}`;return o[n]||(o[n]=function(t,e){return new Promise(((n,i)=>{fetch((0,s.a)(`../arcgis-app-assets/i18n/${t}.i18n.${e}.json`)).then((t=>{t.ok?n(t.json()):i()}),(()=>i()))}))}(t,e)),o[n]}async function c(t,e){const n=e||t.tagName.toLowerCase(),s=a(t),o=function(t){var e,n,s;const a=null!==(e=(0,i.c)(t,"[lang]"))&&void 0!==e?e:null===(s=null===(n=t.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===s?void 0:s.documentElement,o=((null==a?void 0:a.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(o)?r.l.get(o):r.l.has(o.slice(0,2))?o:"en"}(t);let c;try{c=await l(n,s)}catch(t){console.warn(`no locale for ${n} (${s}) loading default locale en.`),c=await l(n,"en")}return[c,s,o]}},79157:(t,e,n)=>{n.d(e,{p:()=>i});const i=(0,n(27010).c)({sourceItem:null,i18n:null}).state},86274:(t,e,n)=>{n.d(e,{w:()=>i});const i=(0,n(27010).c)({portal:null,user:null,i18n:null,scale:"m",api:4,nextText:null,uploadProgress:0}).state}}]);