/*! For license information please see fb740d32a804ebbc63838afb26e269e7.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[67258],{67258:(e,t,r)=>{r.r(t),r.d(t,{arcgis_group_browser:()=>f,arcgis_group_browser_actions:()=>O,arcgis_group_browser_content:()=>k,arcgis_group_browser_filter_date:()=>R,arcgis_group_browser_filter_groups_by_user:()=>G,arcgis_group_browser_filter_member_org:()=>x,arcgis_group_browser_filter_membership:()=>S,arcgis_group_browser_filter_owner:()=>_,arcgis_group_browser_filter_special_groups:()=>P,arcgis_group_browser_filters:()=>F,arcgis_group_browser_pagination:()=>A,arcgis_group_browser_preview:()=>C,arcgis_group_browser_preview_card:()=>E,arcgis_group_browser_search:()=>M,arcgis_group_browser_sort:()=>D,arcgis_group_browser_top_bar:()=>T});var s=r(28384),i=r(27010),a=r(76134),o=r(18869),n=r(26426),l=r(62727),c=r(21944),d=r(41171),p=r(72022),h=r(26452),u=r(80558),g=r(62381),m=r(3834),y=r(20794),w=r(95474),v=r(81068),b=r(10174);r(66716),r(96729),r(58728),r(86739),r(65508),r(58892),r(54871),r(31546),r(83397);const f=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserUpdate=(0,s.c)(this,"arcgisGroupBrowserUpdate",7),this.arcgisGroupBrowserLoading=(0,s.c)(this,"arcgisGroupBrowserLoading",7),this.arcgisGroupBrowserSelect=(0,s.c)(this,"arcgisGroupBrowserSelect",7),this.arcgisGroupBrowserPreview=(0,s.c)(this,"arcgisGroupBrowserPreview",7),this.arcgisGroupBrowserSublayerPreview=(0,s.c)(this,"arcgisGroupBrowserSublayerPreview",7),this.arcgisGroupBrowserInternalUIAction=(0,s.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.liveRegionUpdate=(0,s.c)(this,"liveRegionUpdate",7),this.allowFetch=!1,this.currentResults=[],this.updateFiltersEmpty=()=>{var e;this.store.state.filtersEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="filters"]'))},this.updateTopbarEmpty=()=>{var e;this.store.state.topbarEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="top-bar"]'))},this.updateSortEmpty=()=>{var e;this.store.state.sortEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="sort"]'))},this.filterMutationObserver=new MutationObserver(this.updateFiltersEmpty),this.topbarMutationObserver=new MutationObserver(this.updateTopbarEmpty),this.sortMutationObserver=new MutationObserver(this.updateSortEmpty),this.fetchGroups=(0,n.d)((async()=>{if(this.loading=!0,this.currentResults=[],this.arcgisGroupBrowserLoading.emit(),this.store.state.preview=null,!this.portal||!this.allowFetch)return;let e=this.getQuery();this.preflight&&(e=await this.preflight(e));const t=await(0,n.m)(this.queryGroups(e),500);this.arcgisGroupBrowserUpdate.emit(Object.assign(Object.assign(Object.assign({},t),{selectedGroups:this.selectedGroups,filters:Object.assign({},this.store.state.filters),searchTerm:this.searchTerm}),this.sort)),this.currentResponse=t,this.currentResults=t.results,this.loading=!1}),150),this.handleResizeEvent=e=>{this.resize(e)},this.renderSelectedItem=e=>(0,s.h)("arcgis-selected-item",{key:e.id,heading:e.title,onArcgisSelectedItemRemove:()=>{this.deselectGroup(e),this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}},(0,s.h)("arcgis-group-thumbnail",{slot:"content-start",group:e,portal:this.portal,scale:"s"})),this.api=void 0,this.portal=void 0,this.user=void 0,this.searchUser=void 0,this.config=void 0,this.selection="none",this.view="list",this.num=20,this.q="",this.selectedGroups=[],this.preflight=void 0,this.fetch=void 0,this.hidePreviewFooter=!1,this.hidePreviewBadges=!1,this.hasIndoorsSpaces=!1,this.height="full",this.store=(0,i.c)({filters:{}}),this.usePanelLayout=!1,this.searchTerm="",this.sort=void 0,this.page={num:this.num,start:1,nextStart:-1},this.loading=!0,this.formFactor=void 0,this.pageRangeText="",this.previewGroup=void 0,this.currentResponse=void 0}async refresh(){this.fetchGroups()}async componentWillLoad(){const{el:e,hasIndoorsSpaces:t,selectedGroups:r,view:s}=this,i=await(0,l.g)(e);this.i18n=i[0],this.store.state.i18n=i[0],this.store.state.lang=i[1],this.store.state.view=s,this.store.state.hasIndoorsSpaces=t,this.store.state.selectedGroups=r,this.initializeConfig(),(0,c.s)(this.store).observe(this.el),e.addEventListener("arcgisBrowserResize",this.handleResizeEvent),this.filterMutationObserver.observe(e,{childList:!0}),this.topbarMutationObserver.observe(e,{childList:!0}),this.sortMutationObserver.observe(e,{childList:!0}),this.updateFiltersEmpty(),this.updateTopbarEmpty(),this.updateSortEmpty(),(this.usePanelLayout||(0,o.c)(this.el,"calcite-shell-panel"))&&(this.store.state.panel=!0,this.store.state.filtersExpanded=!1)}disconnectedCallback(){var e,t;null===(e=this.store.state.resizeObserver)||void 0===e||e.unobserve(this.el),this.filterMutationObserver.disconnect(),this.topbarMutationObserver.disconnect(),this.sortMutationObserver.disconnect(),this.filterClearHandler(!1),null===(t=this.el)||void 0===t||t.removeEventListener("arcgisBrowserResize",this.handleResizeEvent)}updateUser(e){var t;null!==(t=a.c.user)&&void 0!==t||(a.c.user=e)}updatePortal(e){var t;null!==(t=a.c.portal)&&void 0!==t||(a.c.portal=e)}updateAPI(e){var t;null!==(t=a.c.api)&&void 0!==t||(a.c.api=e)}updateConfig(e){var t;null!==(t=a.c.config)&&void 0!==t||(a.c.config=e)}updateSelection(e){this.store.state.selection=e}updateSelectedGroups(e){this.store.state.selectedGroups=e}updateQ(){this.fetchGroups()}async componentDidLoad(){this.initializeConfig(),await(0,n.t)(400),this.allowFetch=!0,a.c.portal?this.fetchGroups():(0,a.o)("portal",(()=>{this.initializeConfig(),this.fetchGroups()}))}filterHandler(e){const t=Object.assign(Object.assign({},this.store.state.filters),{[e.detail.id]:e.detail});e.detail.value||delete t[e.detail.id],this.store.state.filters=t,this.resetPagination(),this.fetchGroups()}genericFilterHandler(e){this.filterHandler(e)}filterClearHandler(e=!0){this.store.state.filters={},this.resetPagination(),e&&this.fetchGroups()}genericFilterClearHandler(){this.filterClearHandler()}filterToggleHandler(){this.store.state.preview=null,this.store.state.filtersExpanded=!this.store.state.filtersExpanded}searchHandler(e){const t=e.detail;this.searchTerm=t,this.resetPagination(),t?this.fetchGroups():this.fetchGroups.invoke()}sortHandler(e){this.sort=e.detail,this.fetchGroups()}async pageHandler(e){var t;this.page=e.detail,this.allowFetch&&(await this.fetchGroups(),await(0,n.t)(400),null===(t=this.el.shadowRoot.querySelector(".content__view"))||void 0===t||t.scrollTo({top:0,behavior:"smooth"}))}selectHandler(e){const{selected:t,group:r}=e.detail;switch(this.selection){case"single":this.selectedGroups=[r];break;case"multiple":t?this.selectGroup(r):this.deselectGroup(r)}this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}async togglePreview({detail:e}){this.store.state.filtersExpanded=!1,e&&this.store.state.preview!==e.id?(this.restoreFocusElement=document.activeElement,this.store.state.preview=e.id,this.previewGroup=Object.assign({},e),this.arcgisGroupBrowserPreview.emit(Object.assign({},e))):(this.store.state.preview=null,this.previewGroup=null,this.arcgisGroupBrowserPreview.emit(),this.arcgisGroupBrowserSublayerPreview.emit()),this.arcgisGroupBrowserInternalUIAction.emit({action:this.previewGroup?"open panel":"close panel",category:"card action"})}async initializeConfig(){var e,t,r,s;null!==(e=a.c.api)&&void 0!==e||(a.c.api=this.api),null!==(t=a.c.user)&&void 0!==t||(a.c.user=this.user),null!==(r=a.c.portal)&&void 0!==r||(a.c.portal=this.portal),null!==(s=a.c.config)&&void 0!==s||(a.c.config=this.config)}resetPagination(){this.page.start=1,this.page.total=0}getQuery(){return Object.assign(Object.assign({filters:this.store.state.filters,searchUser:this.searchUser,searchTerm:this.searchTerm,baseQuery:this.q},this.sort),this.page)}queryGroups(e){return this.fetch?this.fetch(e):async function(e,t){const r=`${(0,d.g)(e)}community/groups`,{num:s,start:i,sortOrder:a,sortField:o,filters:n,baseQuery:l,searchTerm:c,searchUser:h}=t,u=Object.keys(n||{}),g=c?`(${(0,p.c)(c)}) `:"",m=Object.assign(Object.assign({},h?{searchUserAccess:"groupMember",searchUserName:h}:{}),{q:`${l||""} ${g}`}),y=u.reduce(((e,t)=>{const{param:r,value:s}=n[t];return Object.assign(Object.assign({},e),{[r]:`${e[r]||""} ${s}`})}),m),w=Object.assign({num:s,start:i,sortField:o,sortOrder:a},y||{});if(!Object.entries(y).some((([e,t])=>"string"!=typeof t||!!(null==t?void 0:t.trim()))))return{nextStart:-1,num:0,results:[],start:0,total:0};const v=await(0,d.r)(r,w);return Object.assign(Object.assign({},v),{q:y.q,queryParams:w})}(this.portal,e)}restoreFocus(){if(this.restoreFocusElement){const e=this.restoreFocusElement;e.restoreFocus?e.restoreFocus():e.setFocus?e.setFocus():e.focus&&e.focus()}}selectGroup(e){this.isSelected(e)||(this.selectedGroups=[...this.selectedGroups,e])}deselectGroup(e){this.selectedGroups=this.selectedGroups.filter((({id:t})=>t!==e.id))}isSelected(e){var t;return null===(t=this.selectedGroups)||void 0===t?void 0:t.some((({id:t})=>e.id===t))}resize({detail:{width:e,height:t}}){this.formFactor=e>c.b.sm?"large":"small";const r=this.store.state.width>c.b.sm?"large":"small";"large"===r&&"small"===this.formFactor&&(this.store.state.panel=this.usePanelLayout,this.store.state.filtersExpanded=!1),"small"===r&&"large"===this.formFactor&&(this.store.state.panel=!1,this.store.state.filtersExpanded=!0),this.store.state.width=e,this.store.state.height=t}renderSelected(){var e,t,r,i;const a=null===(e=this.currentResults)||void 0===e?void 0:e.every((e=>this.isSelected(e))),o=null===(t=this.selectedGroups)||void 0===t?void 0:t.length;return(0,s.h)("arcgis-selected",{slot:"selection",loading:this.loading,total:null===(r=this.currentResults)||void 0===r?void 0:r.length,totalSelected:o,emptyText:this.i18n.groupBrowser.noSelectedGroups,heading:this.i18n.groupBrowser.selectedGroups,checked:!this.loading&&a,indeterminate:!a&&!!o,onArcgisSelectedDeselectAll:()=>{this.selectedGroups=[],this.arcgisGroupBrowserSelect.emit(this.selectedGroups)},onArcgisSelectedSelectPage:()=>{var e;null===(e=this.currentResults)||void 0===e||e.forEach((e=>{this.selectGroup(e)})),this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}},null===(i=this.selectedGroups)||void 0===i?void 0:i.map(this.renderSelectedItem))}renderSlot(e,t){return(0,s.h)("div",{slot:e},(0,s.h)("slot",{name:e},t))}render(){const{loading:e,i18n:t,selectedGroups:r,selection:i,currentResponse:a,store:o,api:n,searchTerm:l,formFactor:c,height:d,renderSlot:p}=this;return(0,s.h)(s.H,null,(0,s.h)("arcgis-browser",{preview:!!this.previewGroup,loading:e,selected:r,alwaysShowSelection:"multiple"===i,response:a,store:o,api:n,formFactor:c,searchTerm:l,height:d},p("top-bar"),p("sort"),(0,s.h)("arcgis-group-browser-preview",{slot:"preview",group:this.previewGroup,portal:this.portal,user:this.user,key:this.store.state.preview,onArcgisGroupBrowserPreviewClose:()=>{this.store.state.preview=null,this.previewGroup=null,this.arcgisGroupBrowserPreview.emit(),this.arcgisGroupBrowserSublayerPreview.emit(),this.restoreFocus()},hidePreviewFooter:this.hidePreviewFooter,showBadges:!this.hidePreviewBadges,currentResponse:this.currentResponse},(0,s.h)("div",{slot:"footer-action"},(0,s.h)("slot",{name:"preview-footer-action"}))),this.renderSelected(),p("actions"),p("content-start"),p("content"),p("content-end"),p("pagination"),p("filters"),p("scroll-end"),p("no-results",t.content.noResults),p("no-content",t.content.noContent)))}get el(){return(0,s.d)(this)}static get watchers(){return{user:["updateUser"],portal:["updatePortal"],api:["updateAPI"],config:["updateConfig"],selection:["updateSelection"],selectedGroups:["updateSelectedGroups"],q:["updateQ"]}}};f.style=":host{position:relative;background-color:var(--calcite-ui-background);display:flex;flex-direction:column;height:100%;overflow-y:auto;overflow-x:hidden;--group-browser-max-width:100%;--group-browser-pane-width:18.75rem;--group-browser-pane-z-index:11;--group-browser-top-bar-background:var(--calcite-ui-foreground-1)}arcgis-browser{--arcgis-browser-max-width:var(--group-browser-max-width);--arcgis-browser-pane-width:var(--group-browser-pane-width);--arcgis-browser-pane-z-index:var(--group-browser-pane-z-index);--arcgis-browser-top-bar-background:var(--group-browser-top-bar-background)}@media screen and (max-width: 640px){:host{--group-browser-pane-width:100%}}";const O=class{constructor(e){(0,s.r)(this,e),this.actions=[]}async componentWillLoad(){this.store=(0,h.g)(this.el)}render(){return(0,s.h)(s.H,null,(0,s.h)("arcgis-browser-actions",{actions:this.actions,selection:this.store.state.selectedGroups}))}get el(){return(0,s.d)(this)}},k=class{constructor(e){(0,s.r)(this,e)}async componentWillLoad(){this.store=(0,h.g)(this.el)}render(){const e=this.store.state.view;return(0,s.h)(s.H,null,(0,s.h)("div",{class:{[e]:!0,"no-space":this.store.state.width<c.b.xs&&this.store.state.panel}},(0,s.h)("slot",null)))}get el(){return(0,s.d)(this)}};k.style=":host{--arcgis-group-browser-columns:repeat(1, 1fr);--arcgis-group-browser-gap:0.5rem}.list slot,.compact slot{display:grid;grid-template-columns:var(--arcgis-group-browser-columns)}.compact slot{grid-gap:0;gap:0}.list slot{gap:var(--arcgis-group-browser-gap)}";const R=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserFilter=(0,s.c)(this,"arcgisGroupBrowserFilter",7),this.property="modified",this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}componentWillLoad(){this.store=(0,h.g)(this.el)}getEventDetail(e){return Object.assign({param:"q"},e)}render(){const{property:e,range:t,start:r,end:i,store:a,expanded:o}=this;return(0,s.h)("arcgis-browser-filter-date",{serverProperty:e,property:e,store:a,start:r,end:i,range:t,expanded:o,onArcgisBrowserFilter:e=>{this.arcgisGroupBrowserFilter.emit(this.getEventDetail(e.detail))}})}get el(){return(0,s.d)(this)}},G=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserUsernamesFilter=(0,s.c)(this,"arcgisGroupBrowserUsernamesFilter",7),this.searchUsernames=void 0,this.searchUsername=void 0,this.owner=void 0,this.expanded=void 0,this.allUsernames=[],this.selectedUsername=void 0}async componentWillLoad(){var e,t,r;this.store=(0,h.g)(this.el),this.i18n=this.store.state.i18n.filterGroupsByUser,this.selectedUsername=null!==(t=null!==(e=this.searchUsername)&&void 0!==e?e:this.searchUsernames[0])&&void 0!==t?t:null===(r=a.c.user)||void 0===r?void 0:r.username}async searchUsernamesChanged(){this.allUsernames=this.searchUsernames}async searchUsernameChanged(){this.selectedUsername=this.searchUsername}render(){var e;const{allUsernames:t,selectedUsername:r,searchUsername:i,i18n:o}=this,n=null===(e=a.c.user)||void 0===e?void 0:e.username;return(0,s.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,onArcgisBrowserFilterRemove:()=>{this.selectedUsername=i}},(0,s.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const s=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.username)||"";this.selectedUsername=s,this.arcgisGroupBrowserUsernamesFilter.emit(s)}},t.map((e=>(0,s.h)("calcite-tree-item",{"data-username":e,selected:e===r},(0,s.h)("a",null,e===n?o.me.replace("${username}",e):e))))))}get el(){return(0,s.d)(this)}static get watchers(){return{searchUsernames:["searchUsernamesChanged"],searchUsername:["searchUsernameChanged"]}}},x=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserFilter=(0,s.c)(this,"arcgisGroupBrowserFilter",7),this.memberOrg=void 0,this.orgId=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,h.g)(this.el),this.i18n=this.store.state.i18n.filterMemberOrg}async componentDidLoad(){this.memberOrg&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,u.a)("memberOrg",this.store,(()=>this.memberOrg=null))}getQueryValue(){const{username:e}=a.c.user,t=a.c.portal.id;if(!e||!t)return"";switch(this.memberOrg){case"myOrg":return"memberorgids:NULL";case"anotherOrg":return this.orgId?`(memberorgids:${this.orgId} OR orgid:${this.orgId})`:"-memberorgids:NULL";default:return""}}getEventDetail(){const{memberOrg:e,orgId:t}=this;return{id:"memberOrg",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),memberOrg:e,orgId:t}}render(){var e;return(null===(e=null===a.c||void 0===a.c?void 0:a.c.portal)||void 0===e?void 0:e.isPortal)?null:(0,s.h)("arcgis-browser-filter",{heading:this.i18n.currentMembersAreFrom,expanded:this.expanded,active:!!this.memberOrg,onArcgisBrowserFilterRemove:()=>{this.memberOrg=null,this.orgId=null,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},(0,s.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const s=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.memberOrg)||"";this.memberOrg===s?this.memberOrg=null:this.memberOrg=s,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},["myOrg","anotherOrg"].map((e=>(0,s.h)("calcite-tree-item",{"data-member-org":e,selected:e===this.memberOrg},(0,s.h)("a",null,this.i18n[e]))))))}get el(){return(0,s.d)(this)}},S=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserFilter=(0,s.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.membership=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,h.g)(this.el),this.i18n=this.store.state.i18n.filterMembership,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces}async componentDidLoad(){this.membership&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,u.a)("membership",this.store,(()=>this.membership=null))}getQueryValue(){if(this.hasIndoorsSpaces)return"membershipaccess:org";switch(this.membership){case"org":return"membershipaccess:org";case"collaboration":return"membershipaccess:collaboration";case"anyOrg":return"membershipaccess:NULL";default:return""}}getEventDetail(){const{membership:e}=this;return{id:"membership",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),membership:e}}render(){var e;return this.hasIndoorsSpaces||(null===(e=null===a.c||void 0===a.c?void 0:a.c.portal)||void 0===e?void 0:e.isPortal)?null:(0,s.h)("arcgis-browser-filter",{heading:this.i18n.groupMembershipSetting,expanded:this.expanded,active:!!this.membership,onArcgisBrowserFilterRemove:()=>{this.membership=null,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},(0,s.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const s=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.membership)||"";this.membership===s?this.membership=null:this.membership=s,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},["org","collaboration","anyOrg"].map((e=>(0,s.h)("calcite-tree-item",{"data-membership":e,selected:e===this.membership},(0,s.h)("a",null,this.i18n[e]))))))}get el(){return(0,s.d)(this)}},_=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserFilter=(0,s.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.searchUsername=void 0,this.owner=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,h.g)(this.el),this.i18n=this.store.state.i18n.filterOwner,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces}async componentDidLoad(){var e,t;this.owner&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,u.a)("owner",this.store,(()=>this.owner=null)),null!==(e=this.searchUsername)&&void 0!==e||(this.searchUsername=null===(t=a.c.user)||void 0===t?void 0:t.username)}getQueryValue(){var e,t,r;const s=null!==(e=this.searchUsername)&&void 0!==e?e:null===(t=a.c.user)||void 0===t?void 0:t.username,i=null===(r=a.c.portal)||void 0===r?void 0:r.id;if(!s)return"";switch(this.owner){case"owner":return`owner:${s}`;case"inOrg":return`-owner:${s} orgid:${i}`;case"outsideOrg":return`(orgid: [0 TO {]) -orgid:${i}`;default:return""}}getEventDetail(){const{owner:e,searchUsername:t}=this;return{id:"owner",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}","owner"===e?t:this.i18n[e]),owner:e,username:t}}getOwnerText(e){return"owner"===e?this.searchUsername:"outsideOrg"===e?this.i18n[(0,g.n)(a.c.user)?"someoneElse":"outsideOrg"]:this.i18n[e]}searchUsernameChanged(){this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}render(){const e=a.c.user;if(!(null==e?void 0:e.username))return null;const t=(0,g.n)(e)?["owner","outsideOrg"]:["owner","inOrg","outsideOrg"];return(0,s.h)("arcgis-browser-filter",{heading:this.i18n.owner,expanded:this.expanded,active:!!this.owner,onArcgisBrowserFilterRemove:()=>{this.owner=null,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},(0,s.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const s=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.owner)||"";this.owner===s?this.owner=null:this.owner=s,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},t.filter((e=>!(a.c.portal.isPortal||this.hasIndoorsSpaces)||"outsideOrg"!==e)).map((e=>(0,s.h)("calcite-tree-item",{"data-owner":e,selected:e===this.owner},(0,s.h)("a",null,this.getOwnerText(e)))))))}get el(){return(0,s.d)(this)}static get watchers(){return{searchUsername:["searchUsernameChanged"]}}};function I(e){var t,r,s,i;let a=[];const o=[e.featuredItemsGroupQuery,e.basemapGalleryGroupQuery,e.templatesGroupQuery,e["2DStylesGroupQuery"],e.stylesGroupQuery,e.analysisLayersGroupQuery,e.galleryTemplatesGroupQuery];if(e.hasModernHomePageEnabled){const s=(null===(r=null===(t=e.homePageConfig)||void 0===t?void 0:t.content)||void 0===r?void 0:r.filter((e=>"gallery"===e.type&&!!e.groupId)))||[];s.length>0&&s.forEach((({groupId:e})=>{a=B(`id:${e}`,a)}))}else o.push(e.homePageFeaturedContent);return o.forEach((e=>{a=B(e,a)})),e.featuredGroups.forEach((e=>{if(e.id){const t=`id:${e.id}`;a=B(t,a)}else{const t=`(${Object.entries(e).map((e=>`${e[0]}:"${e[1]}"`)).join(" ")})`;a=B(t,a,!0)}})),null===(i=null===(s=e.userDefaults)||void 0===s?void 0:s.groups)||void 0===i||i.forEach((e=>{a=B(`id:${e}`,a)})),a.length>0?`(${a.join(" OR ")})`:""}function B(e,t,r){return 0!==(null==e?void 0:e.indexOf("id:"))&&!r||t.includes(e)?[...t]:[...t,e]}const P=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserFilter=(0,s.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.specialGroup=void 0,this.expanded=void 0,this.options=[]}async componentWillLoad(){this.store=(0,h.g)(this.el),this.i18n=this.store.state.i18n.filterSpecialGroups,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces,this.validateOptions(),(0,a.o)("portal",(()=>this.validateOptions()))}validateOptions(){if(!a.c.portal)return this.options=[];this.options=["openData","sharedUpdate","distributed","admin","settings"].filter((e=>!("openData"===e&&a.c.portal.isPortal||"distributed"===e&&this.hasIndoorsSpaces||"settings"===e&&!I(a.c.portal))))}async componentDidLoad(){this.specialGroup&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,u.a)("specialGroups",this.store,(()=>this.specialGroup=null))}getQueryValue(){switch(this.specialGroup){case"openData":return"isopendata:true";case"sharedUpdate":return"capabilities:updateitemcontrol";case"distributed":return"capabilities:distributed";case"admin":return"isleavingdisallowed:true";case"settings":return I(a.c.portal);default:return""}}getEventDetail(){const{specialGroup:e}=this;return{id:"specialGroups",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),specialGroups:e}}render(){return(null===a.c||void 0===a.c?void 0:a.c.portal)?(0,s.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.specialGroup,onArcgisBrowserFilterRemove:()=>{this.specialGroup=null,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},(0,s.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const s=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.specialGroups)||"";this.specialGroup===s?this.specialGroup=null:this.specialGroup=s,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},this.options.map((e=>(0,s.h)("calcite-tree-item",{"data-special-groups":e,selected:e===this.specialGroup},(0,s.h)("a",null,this.i18n[e],"settings"===e&&(0,s.h)("arcgis-information",{style:{verticalAlign:"-.25rem","--arcgis-information-min-width":"0"},label:this.i18n.tooltipLabel,overlayPositioning:"fixed",paddedContent:!0},(0,s.h)("div",null,this.i18n.tooltip)))))))):null}get el(){return(0,s.d)(this)}},F=class{constructor(e){(0,s.r)(this,e)}async componentWillLoad(){this.store=(0,h.g)(this.el)}render(){return(0,s.h)("arcgis-browser-filters",{store:this.store},(0,s.h)("div",{slot:"top"},(0,s.h)("slot",{name:"top"})),(0,s.h)("slot",null),(0,s.h)("div",{slot:"bottom"},(0,s.h)("slot",{name:"bottom"})))}get el(){return(0,s.d)(this)}},A=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserPage=(0,s.c)(this,"arcgisGroupBrowserPage",7),this.total=void 0,this.start=void 0,this.num=60}async componentWillLoad(){this.store=(0,h.g)(this.el)}render(){const{start:e,total:t,num:r,store:i}=this;return(0,s.h)("arcgis-browser-pagination",{start:e,total:t,num:r,store:i,onArcgisBrowserPage:e=>this.arcgisGroupBrowserPage.emit(e.detail)})}get el(){return(0,s.d)(this)}};A.style=".wrapper{padding-left:0.5rem;padding-right:0.5rem;padding-top:2rem;padding-bottom:2rem;justify-content:center;display:flex}.hide{display:none}";const C=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserPreviewClose=(0,s.c)(this,"arcgisGroupBrowserPreviewClose",7),this.arcgisGroupBrowserInternalUIAction=(0,s.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.group=void 0,this.portal=void 0,this.user=void 0,this.hidePreviewFooter=!1,this.showBadges=!0,this.currentResponse=void 0,this.fullGroup=void 0,this.userInfo=void 0,this.content=void 0,this.managers=void 0}async componentWillLoad(){this.store=(0,h.g)(this.el),this.lang=await(0,l.a)(this.el),this.i18n=this.store.state.i18n.preview,this.init()}updatePreview(){this.init()}async init(){var e,t,r;if(!this.group)return;const{group:s,portal:i,user:a}=this;this.isGroupOwner=s.owner===(null==a?void 0:a.username),this.fullGroup=null,this.fullGroup=await(0,n.m)(async function(e,t){const r=`${(0,d.g)(t)}community/groups/${e}`;return(0,d.r)(r)}(s.id,this.portal),600),this.userInfo=await(0,y.f)(s.owner,i);const o=this.getTypeQuery(this.fullGroup);this.content=await((null===(t=null===(e=this.fullGroup.properties)||void 0===e?void 0:e.featuredItemIds)||void 0===t?void 0:t.length)&&this.fullGroup.properties.isFeatured?async function(e,t,r,s=4){const i=`${(0,d.g)(e)}content/groups/${t}/search`,a={num:s,start:0,q:`id:(${r.slice(0,s).join(" OR ")})`},o=await(0,d.r)(i,a);if(o.total){const e=r.map((e=>o.results.find((t=>t.id===e)))).filter(Boolean);o.results=e}return o}(i,s.id,this.fullGroup.properties.featuredItemIds):async function(e,t,r={}){const s=`${(0,d.g)(e)}content/groups/${t}/search`;return await(0,d.r)(s,Object.assign(Object.assign({},{num:4,start:0,sortField:"modified",sortOrder:"desc"}),r))}(i,s.id,Object.assign({sortField:this.fullGroup.sortField||"modified",sortOrder:this.fullGroup.sortOrder||"desc"},o?{q:o}:{}))),this.managers=await this.fetchGroupAdmins(i,s),null===(r=this.flowItem)||void 0===r||r.setFocus()}handleAccordionItemClick(e,t){this.arcgisGroupBrowserInternalUIAction.emit({action:e.expanded?"expand":"collapse",category:"panel action",details:t})}closePreview(){this.fullGroup=null,this.arcgisGroupBrowserInternalUIAction.emit({action:"close panel",category:"panel action"}),this.arcgisGroupBrowserPreviewClose.emit()}handleDetailsClick(e){this.arcgisGroupBrowserInternalUIAction.emit({action:"click",category:"group panel action",details:e})}renderHeader(){var e;return(0,s.h)("div",{slot:"header-content",class:"preview__header"},(0,s.h)("h3",{class:"preview__title"},null===(e=this.group)||void 0===e?void 0:e.title))}isAccordionItem(e){return"CALCITE-ACCORDION-ITEM"===e.tagName}getViewByText(e){switch(e.access){case"public":return this.i18n.everyone;case"private":return this.i18n.onlyMembers;case"org":return this.i18n.onlyOrganization;case"shared":return this.i18n.onlyOrganizationAndPartners}}getJoinByText(e){return e.autoJoin?this.i18n.byAutojoin:e.isInvitationOnly?this.i18n.byInvitation:e.providerGroupName?this.i18n.byEnterprise:this.i18n.byRequest}async fetchGroupAdmins(e,t){var r,s;const i=null!==(s=null===(r=await async function(e,t,r={}){const s=`${(0,d.g)(t)}community/groups/${e}/userlist`;return(0,d.r)(s,r)}(t.id,e,{memberType:"admin"}))||void 0===r?void 0:r.users)&&void 0!==s?s:[],a=i.find((e=>e.username===t.owner));return[a,...i.filter((e=>e.username!==a.username))]}getTypeQuery(e){var t;if(null===(t=e.displaySettings)||void 0===t?void 0:t.itemTypes)switch(e.displaySettings.itemTypes.split(",")[0].toLowerCase()){case"application":return w.i.applications.q;case"web map":return w.i.maps.q;case"web scene":return w.i.scenes.q;case"locator package":return w.i.tools.q;case"csv":return w.i.files.q;case"layer":return w.i.layers.q;default:return""}}render(){const{group:e,fullGroup:t,i18n:r,managers:i,portal:a,content:n,showBadges:l,user:c}=this;return(0,s.h)(s.H,null,(0,s.h)("calcite-flow",null,(0,s.h)("calcite-flow-item",{closable:!0,loading:!t,onCalciteFlowItemClose:()=>this.closePreview(),ref:e=>this.flowItem=e},this.renderHeader(),t&&(0,s.h)("div",{class:"content"},(0,s.h)("calcite-accordion",{"icon-position":"start",appearance:"transparent",key:e.id,class:"accordion"},(0,s.h)("calcite-accordion-item",{heading:r.overview,expanded:Boolean(t.snippet),ref:e=>{this.overviewElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.overviewElement,"overview")},(0,s.h)("div",{class:"section"},t.snippet?(0,s.h)("p",{class:"details-text"},t.snippet):(0,s.h)("p",{class:"details-text details-text--empty"},r.noSummary),l&&(0,s.h)("arcgis-group-badges",{group:t,portal:a,showTooltips:!1,width:"full",scale:"s",appearance:"outline-fill",class:"badges"}))),(0,s.h)("calcite-accordion-item",{heading:r.description,key:"description",ref:e=>{this.descriptionElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.descriptionElement,"description")},(0,s.h)("div",{class:"section"},t.description?(0,s.h)("div",{class:"description",innerHTML:(0,o.s)(t.description)}):(0,s.h)("p",{class:"details-text details-text--empty"},r.noDescription))),(0,s.h)("calcite-accordion-item",{heading:r.content.replace("${count}",n?`${n.total}`:"0"),expanded:!0,ref:e=>{this.contentElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.contentElement,"content")},(0,s.h)("div",{class:{section:!0,"section--tight":(null==n?void 0:n.total)>0}},(null==n?void 0:n.total)?(0,s.h)("div",{class:"full-card-wrapper"},n.results.map((e=>(0,s.h)("arcgis-group-browser-preview-card",{class:"content-card",item:e,portal:a,user:c,key:e.id}))),(0,s.h)("div",{class:"details-link block--padded"},(0,s.h)("calcite-link",{href:`${(0,m.g)(a)}/home/group.html?id=${e.id}&view=list#content`,onClick:()=>{this.handleDetailsClick("view all content")}},r.viewContent))):(0,s.h)("div",{class:"section--centered"},(0,s.h)("calcite-icon",{scale:"l",icon:"files",class:"icon-xl details-text--empty"}),(0,s.h)("p",{class:"details-text details-text--empty"},r.noContent)))),(0,s.h)("calcite-accordion-item",{heading:r.groupManagers.replace("${count}",i?`${i.length}`:"0"),expanded:!0,ref:e=>{this.managersElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.managersElement,"managers")},(0,s.h)("div",{class:"section section--tight"},(0,s.h)("div",{class:"full-card-wrapper"},null==i?void 0:i.map((t=>(0,s.h)("calcite-card",{key:t.username,class:"content-card"},(0,s.h)("arcgis-user-avatar",{heading:t.username===e.owner?r.groupOwner.replace("${fullName}",(0,y.g)(t,this.lang)):t.fullName,showName:!0,user:t,description:t.username,portal:a})))),(0,s.h)("div",{class:"details-link block--padded"},(0,s.h)("calcite-link",{href:`${(0,m.g)(a)}/home/group.html?id=${e.id}#members`,onClick:()=>{this.handleDetailsClick("open members page")}},r.openMembers))))),(0,s.h)("calcite-accordion-item",{heading:r.settings,expanded:this.isGroupOwner,ref:e=>{this.settingsElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.settingsElement,"settings")},(0,s.h)("div",{class:"section"},(0,s.h)("h4",{class:"details-title"},r.viewableBy,":"),(0,s.h)("p",{class:"settings-text"},this.getViewByText(t)),(0,s.h)("h4",{class:"details-title"},r.contributors,":"),(0,s.h)("p",{class:"settings-text"},t.isViewOnly?r.onlyOwnerManager:r.allMembers),this.isGroupOwner&&(0,s.h)(s.F,null,(0,s.h)("h4",{class:"details-title"},r.joinMethod,":"),(0,s.h)("p",{class:"settings-text"},this.getJoinByText(t)),(0,s.h)("div",{class:"details-link"},(0,s.h)("calcite-link",{href:`${(0,m.g)(a)}/home/group.html?id=${e.id}#settings`,onClick:()=>{this.handleDetailsClick("open settings")}},r.openSettings))))))),!this.hidePreviewFooter&&(0,s.h)("div",{slot:"footer",class:"footer-actions"},a&&e&&(0,s.h)("calcite-button",{onClick:()=>{var e;const{currentResponse:t,group:r}=this,s=(null===(e=null==t?void 0:t.results)||void 0===e?void 0:e.findIndex((e=>e.id===r.id)))+t.start;this.arcgisGroupBrowserInternalUIAction.emit({action:"view group details",category:"group panel action",position:s})},href:`${(0,m.g)(a)}/home/group.html?id=${e.id}`,kind:"neutral",appearance:"solid",width:"full"},r.viewDetails),(0,s.h)("slot",{name:"footer-action"})))))}get el(){return(0,s.d)(this)}static get watchers(){return{group:["updatePreview"]}}};C.style=":host{background-color:var(--calcite-ui-background);flex:1 1 0%;display:flex;flex-direction:column;height:100%;width:100%}.preview__header{-webkit-margin-start:0.75rem;margin-inline-start:0.75rem}.preview__title{font-size:1rem;font-weight:500;color:var(--calcite-ui-text-1);padding:0;margin:0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.375}.title{font-weight:500;color:var(--calcite-ui-text-1);font-size:1.125rem;margin-top:0.75rem;margin-bottom:0.75rem;padding:0;word-wrap:break-word;word-break:break-word}.badges{margin-top:1rem}.badges[empty]{display:none}calcite-accordion-item{--calcite-accordion-item-padding:1rem 1rem;--calcite-accordion-item-background:var(--calcite-ui-foreground-1);width:100%;box-sizing:border-box;border-bottom:1px solid var(--calcite-ui-border-2)}.section{padding:1rem;background-color:var(--calcite-ui-background);margin:0rem -1rem calc(-1rem - 1px);line-height:1.35}.section--tight{padding-top:0;padding-bottom:0;padding-left:0;padding-right:0}.section--centered{width:100%;display:flex;flex-direction:column;grid-row-gap:0.75rem;row-gap:0.75rem;align-items:center}.full-card-wrapper{padding-top:0.75rem;padding-left:0.5rem;padding-right:0.5rem}.details-title{font-weight:500;font-size:0.75rem;color:var(--calcite-ui-text-3);padding-bottom:0.25rem;padding-top:0;margin-top:1rem;margin-bottom:0;--calcite-label-margin-bottom:0}.details-title:first-of-type{margin-top:0}.details-title--label{padding-bottom:0}.details-text{font-weight:400;font-size:0.875rem;color:var(--calcite-ui-text-1);padding:0;margin:0;word-wrap:break-word;overflow-wrap:break-word}.details-text a{color:var(--calcite-ui-text-link)}.details-text--empty{color:var(--calcite-ui-text-3);font-weight:400}.details-link{margin-top:0.75rem}.description{word-wrap:break-word;overflow-wrap:break-word;line-height:1.35}.description *{font-size:0.875rem !important}.icon-xl{height:3rem;width:3rem}.content-card{margin-bottom:0.25rem}.content-thumbnail{margin-top:auto;margin-bottom:auto;width:100%;-webkit-margin-end:1rem;margin-inline-end:1rem}.settings-text{font-weight:400;font-size:0.875rem;margin-top:-0.25rem;margin-bottom:-0.25rem}.footer-actions{width:100%;padding:1rem;display:flex;flex-direction:column;grid-row-gap:0.5rem;row-gap:0.5rem}.block--padded{padding-bottom:1rem;-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}";const E=class{constructor(e){var t;(0,s.r)(this,e),this.arcgisGroupBrowserInternalUIAction=(0,s.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.arcgisGroupBrowserPreviewCardSelect=(0,s.c)(this,"arcgisGroupBrowserPreviewCardSelect",7),this.handleCardClick=()=>{this.link||this.arcgisGroupBrowserPreviewCardSelect.emit(this.item)},this.item=void 0,this.portal=void 0,this.user=void 0,this.api=4,this.baseUrl=null===(t=null===a.c||void 0===a.c?void 0:a.c.config)||void 0===t?void 0:t.baseUrl,this.link=void 0,this.newTab=void 0,this.showThumbnail=!0,this.showOwner=!0,this.showItemType=!0,this.showDateUpdated=!1,this.showSummary=!1,this.showBadges=!1,this.showOwnerPopup=!1,this.interactive=!1,this.hover=void 0,this.updatedText="",this.loaded=void 0}async restoreFocus(){this.link&&this.linkEl?this.linkEl.focus():this.sectionEl&&this.sectionEl.focus()}async componentWillLoad(){var e,t,r;this.updatedText=(0,v.a)(this.item.modified),this.portal=null!==(e=this.portal)&&void 0!==e?e:a.c.portal,this.user=null!==(t=this.user)&&void 0!==t?t:a.c.user,this.api=null!==(r=this.api)&&void 0!==r?r:a.c.api}async componentDidLoad(){await(0,n.t)(100),this.loaded=!0}render(){var e,t;const{item:r,user:i,portal:o,api:n,loaded:l,showDateUpdated:c,showItemType:d,showOwner:p,showOwnerPopup:h,showBadges:u,showSummary:g,showThumbnail:m,interactive:y,link:w,newTab:v}=this,b=null!==(e=this.baseUrl)&&void 0!==e?e:null===(t=a.c.config)||void 0===t?void 0:t.baseUrl,f=this.link?"a":"div",O=Object.assign({href:w},v?{target:"_blank",rel:"noopener noreferrer"}:{});return(0,s.h)(s.H,null,(0,s.h)("section",Object.assign({class:{card:!0,"card--hoverable":y,"card--loaded":l}},y?{onMouseOver:()=>this.hover=!0}:{},y?{onMouseOut:()=>this.hover=!1}:{},w?{}:{onClick:this.handleCardClick},{ref:e=>this.sectionEl=e}),(0,s.h)("slot",{name:"content-top"}),(0,s.h)(f,Object.assign({class:{card__upper:!0,"card__upper--link":!!w}},w?O:{},{ref:e=>this.linkEl=e}),(0,s.h)("div",{class:"card-flex card__top"},(0,s.h)("div",{class:"card-flex-1"},(0,s.h)("div",{class:"card-flex"},(0,s.h)("div",{class:"card__content"},(0,s.h)("h3",{class:{card__title:!0,"card__title--padded":d||g&&!!r.snippet}},(0,s.h)("span",{class:"card__title__span"},r.title)),g&&r.snippet&&(0,s.h)("p",{class:"card__summary"},r.snippet.length>250?`${r.snippet.substring(0,250)}â€¦`:r.snippet),d&&(0,s.h)("arcgis-item-type",{scale:"s",item:r,portal:o}),(0,s.h)("div",{class:"card__details"},c&&(0,s.h)("span",{class:{card__detail:!0,card__divider:!0}},this.updatedText),u&&(0,s.h)("arcgis-item-badges",{item:r,user:i,portal:o,width:"narrow",showTooltips:!0,class:{card__badges:!0,card__divider:!0},scale:"s"}))),m&&(0,s.h)("figure",{class:"card__thumbnail"},(0,s.h)("arcgis-item-browser-card-thumbnail",{item:r,user:i,portal:o})))))),(0,s.h)("div",{class:"card__footer",onClick:e=>{e.stopPropagation()},onKeyPress:e=>{"Enter"!==e.key&&" "!=e.key||e.stopPropagation()}},(0,s.h)("div",{class:{card__footer__start:!0,"card__footer__start--owner":p}},p&&(0,s.h)("div",{class:"card__profile-wrap",onClick:e=>{e.preventDefault(),e.stopPropagation()}},h?(0,s.h)("arcgis-user-popup",{underline:!0,username:r.owner,api:n,portal:o,baseUrl:b,showAvatar:!1,class:"card__owner",scale:"s",onArcgisUserPopupInternalUIAction:e=>{e.stopPropagation(),this.arcgisGroupBrowserInternalUIAction.emit(e.detail)}}):(0,s.h)("arcgis-user-avatar",{slot:"footer-start",scale:"s",showName:!0,showAvatar:!1,username:r.owner,portal:o}))),(0,s.h)("slot",{name:"actions-end"}))))}get el(){return(0,s.d)(this)}};E.style=':host{display:block;min-width:0}.card{box-shadow:none;transition-duration:150ms;color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-foreground-1);position:relative;opacity:0;height:100%;width:100%;display:flex;flex-direction:column;outline-color:transparent;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);transition-property:background-color, outline, outline-offset, opacity;border:1px solid var(--calcite-ui-border-3)}.card:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px;z-index:10}.card--loaded{opacity:1}.card--selected{border-color:var(--calcite-ui-brand)}.card--hoverable{cursor:pointer}.card__top{padding:0.75rem}.card__upper{flex:1 1 0%;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;background-color:var(--calcite-ui-foreground-1)}.card--hoverable .card__upper:hover{background-color:var(--calcite-ui-background)}.card__upper--link{text-decoration:none;color:var(--calcite-ui-text-1);outline-color:transparent}.card__upper--link:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px;z-index:10}.card__content{display:flex;flex:1 1 0%;flex-direction:column;min-width:0}.card__details{display:flex;flex-direction:row;margin-top:0.25rem}.card__detail{font-size:0.75rem;color:var(--calcite-ui-text-2)}.card__footer{background-color:var(--calcite-ui-foreground-1);padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;display:flex;align-items:center;margin-top:auto;border-top:1px solid var(--calcite-ui-border-2)}.card__footer__start{flex:1 1 0%;display:flex;flex-direction:row;align-items:center;min-width:0;overflow:hidden;-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}.card__footer__start--owner{-webkit-margin-start:-0.25rem;margin-inline-start:-0.25rem}.card__profile-wrap{max-width:100%;padding:0.25rem;box-sizing:border-box}.card__summary{font-size:0.875rem;color:var(--calcite-ui-text-2);margin:0;padding:0}.card__divider{display:flex;align-items:center;flex:0 0 auto}.card__divider:not([empty]):before{content:"";height:1.25rem;width:1px;background-color:var(--calcite-ui-border-1);margin-inline:0.75rem}.card__divider:first-child:before{display:none}.card-flex{display:flex}.card-flex-1{flex:1 1 0%;min-width:0}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.card__title{font-size:0.875rem;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;word-wrap:break-word;overflow-wrap:break-word;font-weight:500;height:2rem;overflow:hidden;line-height:1.15;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.card__title--padded{margin-bottom:0.5rem}.card__snippet{font-size:0.875rem;margin:0;margin-bottom:0.75rem;padding:0;flex:1 1 0%}.card__badges--stacked{margin-top:0.5rem}.card__thumbnail{width:4rem;padding:0;margin:0;box-sizing:content-box;-webkit-padding-start:0.5rem;padding-inline-start:0.5rem}.card__owner{min-width:0}';const M=class{constructor(e){(0,s.r)(this,e),this.arcgisGroupBrowserSearch=(0,s.c)(this,"arcgisGroupBrowserSearch",7),this.arcgisGroupBrowserSearchInput=(0,s.c)(this,"arcgisGroupBrowserSearchInput",7),this.term=void 0,this.placeholder=void 0,this.showClear=!1}async componentWillLoad(){this.store=(0,h.g)(this.el),this.i18n=this.store.state.i18n.search}render(){const{term:e,placeholder:t}=this;return(0,s.h)(s.H,null,(0,s.h)("arcgis-browser-search",{term:e,placeholder:t||this.i18n.label,onArcgisBrowserSearch:e=>this.arcgisGroupBrowserSearch.emit(e.detail),onArcgisBrowserSearchInput:e=>this.arcgisGroupBrowserSearchInput.emit(e.detail)}))}get el(){return(0,s.d)(this)}};M.style=":host{position:relative;display:block}.search{position:absolute;z-index:10;margin-top:1rem;font-size:0.875rem;color:var(--calcite-ui-text-1);pointer-events:none;inset-inline-start:1.5rem}.x{position:absolute;z-index:10;top:0;margin-top:0.25rem;padding:0.5rem;outline:2px solid transparent;outline-offset:2px;border-style:none;cursor:pointer;color:var(--calcite-ui-text-1);inset-inline-end:0.25rem;background:transparent}.input{display:block;width:100%;box-sizing:border-box;padding-top:1rem;padding-bottom:1rem;padding-left:3rem;padding-right:3rem;height:3rem;box-shadow:none;border-style:none;position:relative;z-index:0;transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;transition-duration:150ms;color:var(--calcite-ui-text-1);font-size:0.875rem;background-color:transparent;border-bottom:2px solid transparent;font-family:inherit}.input::-webkit-search-cancel-button{display:none}.input::-ms-clear{display:none}.input:focus{box-shadow:none;outline:2px solid transparent;outline-offset:2px;border-bottom-color:var(--calcite-ui-brand)}";const D=class{constructor(e){var t;(0,s.r)(this,e),this.arcgisGroupBrowserSort=(0,s.c)(this,"arcgisGroupBrowserSort",7),this.options=["title","relevance","modified"],this.field=(null===(t=this.options)||void 0===t?void 0:t[0])||"relevance",this.order=void 0,this.activeField=void 0,this.activeOrder=void 0}async componentWillLoad(){this.store=(0,h.g)(this.el),this.activeField=this.field}componentDidLoad(){this.arcgisGroupBrowserSort.emit({sortField:this.field,sortOrder:this.order||(0,b.a)(this.field)})}updateSortField(e){this.activeField=e,this.activeOrder=(0,b.a)(e),this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder})}updateSortOrder(e){this.activeOrder=e,this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder})}render(){const{activeField:e,activeOrder:t,field:r,order:i,options:a}=this,o=e||(a.includes(r)?r:a[0]),n=t||i;return(0,s.h)(s.H,null,(0,s.h)("arcgis-browser-sort",{store:this.store,field:o,order:n,options:a,onArcgisBrowserSortFieldChange:e=>this.updateSortField(e.detail),onArcgisBrowserSortOrderChange:e=>this.updateSortOrder(e.detail)}))}get el(){return(0,s.d)(this)}},T=class{constructor(e){(0,s.r)(this,e)}async componentWillLoad(){this.store=(0,h.g)(this.el)}render(){return(0,s.h)(s.H,null,(0,s.h)("arcgis-browser-top-bar",{store:this.store},(0,s.h)("div",{slot:"content-start"},(0,s.h)("slot",{name:"content-start"})),(0,s.h)("div",{slot:"search"},(0,s.h)("slot",{name:"search"})),(0,s.h)("div",{slot:"content-end"},(0,s.h)("slot",{name:"content-end"}))))}get el(){return(0,s.d)(this)}}},95474:(e,t,r)=>{r.d(t,{a:()=>n,d:()=>a,g:()=>l,i:()=>o});const s=e=>null==e?void 0:e.isPortal,i=(e,t)=>null==t?void 0:t.some((e=>{var t;return null===(t=null==e?void 0:e.entitlements)||void 0===t?void 0:t.includes("geobim")})),a=["maps","maps-webmaps","maps-mapfiles","layers","layers-weblayers","layers-weblayers-features","layers-weblayers-features-catalog","layers-weblayers-features-oriented","layers-weblayers-features-parcel","layers-weblayers-tiles","layers-weblayers-mapimage","layers-weblayers-imagery","layers-weblayers-scenelayers","layers-weblayers-videolayers","layers-weblayers-tiledimagelayers","layers-weblayers-grouplayers","layers-weblayers-elevationlayers","layers-weblayers-feeds","layers-weblayers-tables","layers-layerfiles","scenes","applications","applications-web","applications-dashboards","applications-sites","applications-pages","applications-geobim-projects","applications-geobim-apps","applications-instant-apps","applications-storymap","applications-experience","applications-wab","applications-mobile","applications-desktop","developer-credentials","developer-credentials-oauth","styles","styles-web","styles-desktop","tools","tools-locators","tools-geodatabase","tools-geometric","tools-geoprocessing","tools-network","tools-analytics","files","files-document","files-image","files-pdf","files-csv","files-report","files-raster","notebooks","insights","insights-workbooks","insights-pages","insights-models","insights-themes","data-stores","knowledge-graphs"],o={maps:{q:'type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package")',children:{"maps-webmaps":{q:'type:("Web Map" OR "CityEngine Web Scene") -type:"Web Mapping Application"'},"maps-mapfiles":{q:'type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template")'}}},layers:{q:'(type:"Scene Service" OR type:"Feature Collection" OR type:"Route Layer" OR type:"Layer" OR type:"Explorer Layer" OR type:"Tile Package" OR type:"Compact Tile Package" OR type:"Vector Tile Package" OR type:"Scene Package" OR type:"Layer Package" OR type:"Feature Service" OR type:"Stream Service" OR type:"Feed" OR type:"Map Service" OR type:"Vector Tile Service" OR type:"Media Layer" OR type:"Image Service" OR type:"WMS" OR type:"WFS" OR type:"WMTS" OR type:"KML" OR type:"Group Layer" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR type:"Globe Service" OR type:"CSV" OR type:"Shapefile" OR type:"GeoJson" OR type:"Service Definition" OR type:"File Geodatabase" OR type:"CAD Drawing" OR type:"Relational Database Connection" OR type:"GeoPackage") -type:("Web Mapping Application" OR "Geodata Service")',children:{"layers-weblayers-features":{q:'type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table"',children:{"layers-weblayers-features-catalog":{q:'type:"Feature Service" typekeywords:"CatalogLayer"'},"layers-weblayers-features-oriented":{q:'type:"Feature Service" typekeywords:"OrientedImageryLayer"'},"layers-weblayers-features-parcel":{q:'type:"Feature Service" typekeywords:"ParcelFabric"'}}},"layers-weblayers-tiles":{q:'type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled")'},"layers-weblayers-mapimage":{q:'type:("Map Service" OR "WMS") -typekeywords:("Hosted" OR "Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")'},"layers-weblayers-imagery":{q:'type:"Image Service" -typekeywords: "Elevation 3D Layer" -typekeywords: "Tiled Imagery"'},"layers-weblayers-scenelayers":{q:'type:"Scene Service"'},"layers-weblayers-videolayers":{q:'type:"Video Service"',show:s},"layers-weblayers-tiledimagelayers":{q:'type: "Image Service" typekeywords: "Tiled Imagery"'},"layers-weblayers-grouplayers":{q:'type: "Group Layer"'},"layers-weblayers-medialayers":{q:'type: "Media Layer"'},"layers-weblayers-elevationlayers":{q:'type: "Image Service" typekeywords: "Elevation 3D Layer"'},"layers-weblayers-streams":{q:'type:"Stream Service"'},"layers-weblayers-feeds":{q:'type:"Feed"',show:s},"layers-weblayers-tables":{q:"typekeywords:Table"},"layers-layerfiles":{q:'type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Compact Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel" OR "GeoPackage") -type:("Explorer Maps" OR "Map Documents")'}}},scenes:{q:'-type:"CityEngine Web Scene" type:"Web Scene"'},applications:{q:'type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "StoryMap" OR "Web Experience" OR "Web Experience Template" OR "Form")',children:{"applications-web":{q:'type:("Web Mapping Application") NOT (typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT")'},"applications-dashboards":{q:'type:("Dashboard") typekeywords:("Dashboard" NOT "ArcGIS Operation View" NOT "Add In" NOT "Extension")'},"applications-sites":{q:'type:("Hub Site Application" OR "Site Application")'},"applications-pages":{q:'type:("Hub Page" OR "Site Page")'},"applications-geobim-projects":{q:'type:("GeoBIM Project")',show:i},"applications-geobim-apps":{q:'type:("GeoBIM Application")',show:i},"applications-instant-apps":{q:'typekeywords:"configurableApp"'},"applications-storymap":{q:'type:("StoryMap")'},"applications-experience":{q:'type:("Web Experience" OR "Web Experience Template")'},"applications-wab":{q:'typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT"'},"applications-mobile":{q:'type:"Mobile Application"'},"applications-desktop":{q:'type:"Desktop Application" -type:"Desktop Application Template"'}}},"developer-credentials":{q:'type:("Application" AND typekeywords:"Registered App") OR type:("API Key")',children:{"developer-credentials-oauth":{q:'type:("Application" AND typekeywords:"Registered App")'}}},tools:{q:'(typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR type:"Big Data Analytic" OR type:"Real Time Analytic") -type:"KML"',children:{"tools-locators":{q:'type:("Geocoding Service" OR "Locator Package")'},"tools-geodatabase":{q:'type:"Geodata Service"'},"tools-geometric":{q:'type:"Geometry Service"'},"tools-geoprocessing":{q:'type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample")'},"tools-network":{q:'type:"Network Analysis Service"'},"tools-analytics":{q:'type:("Big Data Analytic" OR "Real Time Analytic")'}}},files:{q:'(typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Pro Report" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF" OR type:"PDF" OR type:"CSV" OR type:"Administrative Report" OR type: "Raster function template") -type:("Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document")',children:{"files-document":{q:'typekeywords:"Document" -type:"PDF"'},"files-image":{q:'type:("Image" OR "360 VR Experience") -type:"Image Service"'},"files-pdf":{q:'type:"PDF"'},"files-csv":{q:'type:"CSV"'},"files-report":{q:'type:"Administrative Report"'},"files-raster":{q:'type: "Raster function template"'}}},styles:{q:'type:("Desktop Style" OR "Style")',children:{"styles-web":{q:'type:"Style"'},"styles-desktop":{q:'type:"Desktop Style"'}}},notebooks:{q:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")'},insights:{q:'type:("Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Insights Theme" OR "Insights Script")',children:{"insights-workbooks":{q:'type:"Insights Workbook"'},"insights-pages":{q:'type:"Insights Page"'},"insights-models":{q:'type:"Insights Model" (-tags: "insights-theme") AND (-tags: "insights-script") AND (-tags: "insights-one-drive") AND (-tags: "insights-sharepoint")'},"insights-themes":{q:'type:"Insights Theme" OR (type:"Insights Model" AND tags:"insights-theme")'}}},"data-stores":{q:'type:("Data Store")',show:s},"knowledge-graphs":{q:'type:"Knowledge Graph"',show:s}},n={maps:"Maps","maps-webmaps":"Web maps","maps-mapfiles":"Map files",layers:"Layers","layers-weblayers":"Web layers","layers-weblayers-features":"Feature layers","layers-weblayers-features-catalog":"Catalog layers","layers-weblayers-features-oriented":"Oriented imagery layers","layers-weblayers-features-parcel":"Parcel layers","layers-weblayers-tiles":"Tile layers","layers-weblayers-mapimage":"Map image layers","layers-weblayers-imagery":"Imagery layers","layers-weblayers-scenelayers":"Scene layers","layers-weblayers-videolayers":"Video layers","layers-weblayers-tiledimagelayers":"Tiled imagery layers","layers-weblayers-grouplayers":"Group layers","layers-weblayers-medialayers":"Media layers","layers-weblayers-elevationlayers":"Elevation layers","layers-weblayers-streams":"Stream layers","layers-weblayers-feeds":"Feeds","layers-weblayers-tables":"Tables","layers-layerfiles":"Layer files",scenes:"Scenes",applications:"Apps","applications-web":"Web apps","applications-dashboards":"Dashboards","applications-sites":"Sites","applications-pages":"Pages","applications-geobim-projects":"GeoBIM projects","applications-geobim-apps":"GeoBIM applications","applications-instant-apps":"Instant Apps","applications-storymap":"Storymaps","applications-experience":"Experience Builder","applications-wab":"Web AppBuilder","applications-mobile":"Mobile apps","applications-desktop":"Desktop apps","developer-credentials":"Developer credentials","developer-credentials-oauth":"OAuth 2.0 applications",styles:"Styles","styles-desktop":"Desktop Styles","styles-web":"Web Styles",tools:"Tools","tools-locators":"Locators","tools-geodatabase":"Geodatabase access","tools-geometric":"Geometric operations","tools-geoprocessing":"Geoprocessing tasks","tools-network":"Network analysis","tools-analytics":"Analytics",files:"Files","files-document":"Documents","files-image":"Images","files-pdf":"PDFs","files-csv":"CSVs","files-report":"Administrative reports","files-raster":"Raster function templates",notebooks:"Notebooks",insights:"Insights","insights-workbooks":"Workbooks","insights-pages":"Reports","insights-models":"Models","insights-themes":"Themes","data-stores":"Data stores","knowledge-graphs":"Knowledge graphs"};function l(e,t=o){return Object.entries(t).reduce(((t,[r,s])=>t||(r===e?s:s.children?l(e,s.children):void 0)),null)}},81068:(e,t,r)=>{r.d(t,{C:()=>n,a:()=>d,f:()=>l,g:()=>o,l:()=>a});var s=r(66716),i=r(18869);const a=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function o(e){return function(e,t,r){const s=(0,i.c)(e,"[dir]");return s?s.getAttribute("dir"):"ltr"}(e)}const n={rtl:"arcgis--rtl"};async function l(e,t){const{api:r,type:i,places:a}=t||{};if(4===r){const[t]=await(0,s.l)(["esri/intl"]),r=t.convertNumberFormatToIntlOptions({places:a,style:i,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},r),{style:i}))}const[o]=await(0,s.l)(["dojo/number"]);return o.format(e,{type:i,places:a,pattern:null==t?void 0:t.pattern})}const c={};function d(e){const t=document.documentElement.lang;return c[t]||(c[t]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),c[t].format(e)}},62727:(e,t,r)=>{r.d(t,{a:()=>o,g:()=>c});var s=r(18869),i=r(81068),a=r(28384);function o(e){var t,r,a;const o=null!==(t=(0,s.c)(e,"[lang]"))&&void 0!==t?t:null===(a=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument)||void 0===a?void 0:a.documentElement,n=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return i.l.has(n)?i.l.get(n):i.l.has(n.slice(0,2))?i.l.get(n.slice(0,2)):"en"}const n={};function l(e,t){const r=`${e}${t}`;return n[r]||(n[r]=function(e,t){return new Promise(((r,s)=>{fetch((0,a.a)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then((e=>{e.ok?r(e.json()):s()}),(()=>s()))}))}(e,t)),n[r]}async function c(e,t){const r=t||e.tagName.toLowerCase(),a=o(e),n=function(e){var t,r,a;const o=null!==(t=(0,s.c)(e,"[lang]"))&&void 0!==t?t:null===(a=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument)||void 0===a?void 0:a.documentElement,n=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return i.l.has(n)?i.l.get(n):i.l.has(n.slice(0,2))?n:"en"}(e);let c;try{c=await l(r,a)}catch(e){console.warn(`no locale for ${r} (${a}) loading default locale en.`),c=await l(r,"en")}return[c,a,n]}},3834:(e,t,r)=>{function s(e){const{customBaseUrl:t,portalHostname:r,urlKey:s}=e,{protocol:i}=window.location;return`${i}//${s?`${s}.${t}`:r}`}r.d(t,{g:()=>s})},21944:(e,t,r)=>{r.d(t,{b:()=>s,s:()=>i});const s={xxs:320,xs:480,sm:640,md:768,lg:1024,xl:1280};function i(e){var t,r;return null!==(t=(r=e.state).resizeObserver)&&void 0!==t||(r.resizeObserver=new ResizeObserver(a)),e.state.resizeObserver}function a(e){e.forEach((e=>{if(e.contentRect.width>0){const t=new CustomEvent("arcgisBrowserResize",{detail:{width:e.contentRect.width,height:e.contentRect.height}});e.target.dispatchEvent(t)}}))}},26452:(e,t,r)=>{r.d(t,{a:()=>o,g:()=>a});var s=r(27010),i=r(80558);function a(e){return(0,i.g)(e,"arcgis-group-browser")}const o=(0,s.c)({filters:{}}).state},80558:(e,t,r)=>{r.d(t,{a:()=>i,g:()=>n,o:()=>a});var s=r(18869);const i=(e,t,r)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||r()}))},a=(e,t)=>{e.onChange("preview",(e=>{t()}))},o=new Map;function n(e,t){const r=o.get(e);if(r)return r;const i=(0,s.c)(e,t);return i?(o.set(e,i.store),i.store):null}},20794:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>o,c:()=>p,d:()=>c,e:()=>d,f:()=>n,g:()=>h});var s=r(41171),i=r(18869),a=r(72022);async function o(e,t,r,a){var o,n,l;const c=null!==(l=null!==(o=e.orgId)&&void 0!==o?o:null===(n=e.portal)||void 0===n?void 0:n.id)&&void 0!==l?l:null==r?void 0:r.id;return(0,s.f)((()=>async function(e,t,r,a,o){var n,l;const c=(null===(n=e.portal)||void 0===n?void 0:n.portalHostname)||(null==a?void 0:a.portalHostname)||(null===(l=null==a?void 0:a.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),d=o?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!o)return null;const p=o?{disableIdentityLookup:!0,addTokenManually:!1}:{},h=await(0,s.r)(d,{},p),{urlKey:u,thumbnail:g,customBaseUrl:m}=h,y=`https://${u}.${m}/`,w=g?`${y}sharing/rest/portals/self/resources/${g}`:null;let v,b;try{const e=await(0,s.r)(`${d}/resources/localizedOrgProperties`,{start:1,num:100},p);if(e){const t=e[r]||e.default;v=t.name,b=t.description||e.description}}catch(e){}return{name:v||h.name,description:(0,i.a)(b||h.description),url:`${y}home/`,thumbnail:w}}(e,c,t,r,a)),"verified",c)}async function n(e,t,r){const i=r?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t),a=`${null!=i?i:(0,s.g)(t)}community/users/${e}`,o=(null==a?void 0:a.includes("www.arcgis.com"))&&t.isPortal?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,s.f)((async()=>{try{return await(0,s.r)(a,{},o)}catch(t){return{username:e}}}),"user",a)}async function l(e,t,r,s){if("public_authoritative"===(null==e?void 0:e.contentStatus)){const a=await o(e,r,t,s);if(!a)return n(e.owner,t,s);const{description:l,name:c,thumbnail:d,url:p}=a;return{description:l?(0,i.s)(l):"",fullName:c,username:e.owner,thumbnail:d,id:e.orgId,url:p}}return n(e.owner,t,s)}async function c(e,t,r){const i=r?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t),a=r?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,s.f)((async()=>(0,s.r)(`${i}community/groups`,{q:`(owner:"${e}")`,num:100},a)),"userGroups",e)}async function d(e,t,r){const{username:i}=e,o=r?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t),n=r?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,s.f)((async()=>(await(0,s.r)(`${o}search`,{q:`(owner:"${i}") ${a.H}`,num:1},n)).total),"userItemsTotal",i)}function p(e,t,r=!1){if(!e.thumbnail)return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const i=(0,s.h)(t);return`${(0,s.g)(t)}community/users/${e.username}/info/${e.thumbnail}${i&&!r?`?token=${i}`:""}`}function h(e,t){const{fullName:r,firstName:s,lastName:i,username:a}=e;return r||(s&&i?"ja"===t?`${e.lastName} ${e.firstName}`:`${e.firstName} ${e.lastName}`:a)}},10174:(e,t,r)=>{r.d(t,{a:()=>a,g:()=>i});const s={title:["asc","alphabetical"],owner:["asc","alphabetical"],numviews:["desc","num"],relevance:["desc"],modified:["desc","recent"],created:["desc","recent"]};function i(e,t){const[r,i]=s[e],a={asc:t[`${i}Asc`],desc:t[`${i}Desc`]};return{label:t[e],showSortOrder:!!i,defaultSortOrder:r,sortOrderLabels:a}}function a(e){const[t]=s[e];return t}}}]);