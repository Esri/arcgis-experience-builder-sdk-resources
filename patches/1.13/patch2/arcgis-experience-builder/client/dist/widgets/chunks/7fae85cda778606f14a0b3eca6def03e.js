/*! For license information please see 7fae85cda778606f14a0b3eca6def03e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[4822],{58892:(e,t,i)=>{i.d(t,{a:()=>a,b:()=>r,c:()=>o,d:()=>s});const s=(0,i(27010).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),a=s.state,o=s.state,r=s.state},88009:(e,t,i)=>{i.d(t,{A:()=>l,N:()=>a,a:()=>r,b:()=>o,c:()=>c,d:()=>n,u:()=>s});const s=["esriFieldTypeOID","esriFieldTypeGlobalID"],a="<None>",o={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},r={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},l={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},n=["zip","csv","xls","xlsx","geojson","gpkg","json"],c=["zip","csv","xls","xlsx"]},4822:(e,t,i)=>{i.r(t),i.d(t,{arcgis_new_item_append_key_value_pair:()=>l});var s=i(28384),a=i(58892),o=i(54871),r=i(88009);i(27010);const l=class{constructor(e){(0,s.r)(this,e),this.keyPairChange=(0,s.c)(this,"keyPairChange",7),this.keyPairs=void 0,this.i18n=void 0,this.sourceValues=void 0,this.nameValues=void 0,this.selectedKeyPair=void 0,this.selectedSource=null}async componentWillLoad(){var e;const{existingItem:t,originalFileName:i}=a.a;let s=r.N;this.i18n=o.u.i18n.appendKeyValuePair,a.a.uidPair&&(s=a.a.uidPair.name,this.selectedSource=a.a.uidPair.source),this.selectedKeyPair=this.keyPairs[s],this.sourceValues=null===(e=this.selectedKeyPair)||void 0===e?void 0:e.possibleMatches,this.nameValues=Object.keys(this.keyPairs),this.originalFieldInfo=this.i18n.originalField.moreInfo.replace("${featureLayerName}",t.title),this.uploadedFieldInfo=this.i18n.uploadedField.moreInfo.replace("${uploadedFileName}",i)}handleKeyPairChange(e){const t=e.target.selectedOption.value;this.selectedKeyPair=this.keyPairs[t];const i=this.selectedKeyPair.possibleMatches.length>0?[...this.selectedKeyPair.possibleMatches]:[r.N];this.sourceValues=i,this.selectedSource=i[0];const s=Object.assign(Object.assign({},this.selectedKeyPair),{source:this.selectedSource,initialMatch:this.selectedSource});this.keyPairChange.emit(s)}handleSourceKeyPairChange(e){const t=e.target.selectedOption.value,i=Object.assign(Object.assign({},this.selectedKeyPair),{source:t,initialMatch:t});this.keyPairChange.emit(i)}render(){const{originalFieldInfo:e,uploadedFieldInfo:t,i18n:i,selectedKeyPair:a,selectedSource:o}=this,r=this.nameValues,l=this.sourceValues;return(0,s.h)("div",{class:"key-pair-page"},(0,s.h)("div",{class:"select-and-label"},(0,s.h)("arcgis-new-item-description",{header:i.selectUniqueIdentifier,content:i.selectUniqueIdentifierDescription}),(0,s.h)("div",{class:"select-wrapper"},(0,s.h)("calcite-label",{class:"name-key-pair-select"},(0,s.h)("span",{class:"original-field",role:"columnheader"},(0,s.h)("span",{class:"original-field-header"},i.originalField.header),(0,s.h)("arcgis-information",{class:"original-field-popover",label:e,placement:"top-start",paddedContent:!0},(0,s.h)("p",{class:"popover-content"},e))),(0,s.h)("calcite-select",{width:"full",label:i.selectUniqueIdentifier,onCalciteSelectChange:this.handleKeyPairChange.bind(this)},r.map(((e,t)=>(0,s.h)("calcite-option",{key:t,selected:e===a.name},`${e}`))))),(0,s.h)("calcite-label",{class:"source-key-pair-select"},(0,s.h)("span",{class:"uploaded-field"},(0,s.h)("span",{class:"uploaded-field-header"},i.uploadedField.header),(0,s.h)("arcgis-information",{class:"uploaded-field-popover",label:t,placement:"top-start",paddedContent:!0},(0,s.h)("p",{class:"popover-content"},t))),(0,s.h)("calcite-select",{width:"full",label:i.selectUniqueIdentifier,onCalciteSelectChange:this.handleSourceKeyPairChange.bind(this)},(l||[]).map(((e,t)=>(0,s.h)("calcite-option",{key:t,selected:e===o},`${e}`))))))))}get el(){return(0,s.d)(this)}};l.style=".description{font-size:0.875rem;font-weight:300;margin-bottom:1rem}.header{font-weight:500;font-size:1rem;color:var(--calcite-ui-text-1);margin-bottom:0.5rem}.description-label{font-size:0.75rem;margin-top:0.5rem}.key-pair-select{font-size:0.875rem}.key-pair-page{margin-bottom:1rem}.select-wrapper{display:flex;flex-direction:row;margin-top:0.5rem;margin-bottom:2rem;background-color:var(--calcite-ui-background);padding-top:1rem;padding-bottom:0.75rem}.source-key-pair-select{margin-left:0.75rem;margin-right:1rem;width:100%}.name-key-pair-select{margin-right:0.75rem;margin-left:1rem;width:100%}.select-and-label{display:flex;flex-direction:column}.popover-icon{color:var(--calcite-ui-text-3);cursor:pointer;margin-top:0.125rem;-webkit-margin-start:0.75rem;margin-inline-start:0.75rem}.popover-content{font-size:0.75rem;font-weight:400;margin:0}.original-field,.uploaded-field{display:flex}.original-field-header,.uploaded-field-header{font-weight:500}.original-field-popover,.uploaded-field-popover{margin-top:-0.313rem}"},27010:(e,t,i)=>{i.d(t,{c:()=>l});var s=i(28384);const a=e=>!("isConnected"in e)||e.isConnected,o=((e,t)=>{let i;return(...e)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(a))})(...e)}),2e3)}})(),r=e=>"function"==typeof e?e():e,l=(e,t)=>{const i=((e,t=((e,t)=>e!==t))=>{const i=r(e);let s=new Map(Object.entries(null!=i?i:{}));const a={dispose:[],get:[],set:[],reset:[]},o=()=>{var t;s=new Map(Object.entries(null!==(t=r(e))&&void 0!==t?t:{})),a.reset.forEach((e=>e()))},l=e=>(a.get.forEach((t=>t(e))),s.get(e)),n=(e,i)=>{const o=s.get(e);t(i,o,e)&&(s.set(e,i),a.set.forEach((t=>t(e,i,o))))},c="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>l(t),ownKeys:e=>Array.from(s.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>s.has(t),set:(e,t,i)=>(n(t,i),!0)}),d=(e,t)=>(a[e].push(t),()=>{((e,t)=>{const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)})(a[e],t)});return{state:c,get:l,set:n,on:d,onChange:(t,i)=>{const s=d("set",((e,s)=>{e===t&&i(s)})),a=d("reset",(()=>i(r(e)[t])));return()=>{s(),a()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(d("set",t.set)),t.get&&e.push(d("get",t.get)),t.reset&&e.push(d("reset",t.reset)),t.dispose&&e.push(d("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{a.dispose.forEach((e=>e())),o()},reset:o,forceUpdate:e=>{const t=s.get(e);a.set.forEach((i=>i(e,t,t)))}}})(e,t);return i.use((()=>{if("function"!=typeof s.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const i=(0,s.g)();i&&((e,t,i)=>{const s=e.get(t);s?s.includes(i)||s.push(i):e.set(t,[i])})(e,t,i)},set:t=>{const i=e.get(t);i&&e.set(t,i.filter(s.f)),o(e)},reset:()=>{e.forEach((e=>e.forEach(s.f))),o(e)}}})()),i}},54871:(e,t,i)=>{i.d(t,{a:()=>s,u:()=>a});const s=(0,i(27010).c)({nextText:"next",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{tileLayer3dTiles:!1}}),a=s.state}}]);