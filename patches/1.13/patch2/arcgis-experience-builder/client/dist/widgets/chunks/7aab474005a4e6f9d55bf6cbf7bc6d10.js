/*! For license information please see 7aab474005a4e6f9d55bf6cbf7bc6d10.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[61099],{61099:(e,i,n)=>{n.d(i,{a:()=>d,b:()=>y,c:()=>t,d:()=>m,e:()=>s,f:()=>v,g:()=>c,i:()=>S});var a=n(26426),r=n(62381),l=n(58892),o=n(59004);const t={WORLD:"World",EU:"Europe",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo, the Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Côte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia, the former Yugoslav Republic of",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Réunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands, British",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Republic of Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function s(e,i){const{sourceCountry:n,locationType:a,analyzeResults:r,candidateFieldsType:o,coordinateFieldType:t,type:s,standardizedFieldNames:c,selectedFields:v}=l.a,p=d(),g=i?l.a.backupLayerFields:Object.values(v),S=Object.assign(Object.assign({locationType:a||"address",sourceCountry:n,candidateFieldsType:o},"coordinates"===a&&function(e,i){return e.reduce(((e,n)=>{switch(n.locationType){case"latitude":e.latitudeFieldName=n.name,i||(e.coordinateFieldType="LatitudeAndLongitude");break;case"longitude":e.longitudeFieldName=n.name,i||(e.coordinateFieldType="LatitudeAndLongitude");break;case"mgrs":"MGRS"===i&&(e.coordinateFieldName=n.name,i||(e.coordinateFieldType="MGRS"));break;case"usng":"USNG"===i&&(e.coordinateFieldName=n.name,i||(e.coordinateFieldType="USNG"))}return e}),{coordinateFieldType:i})}(g,t)),"address"===a&&{addressFields:u(g,e,c)});let m;return m=i||"Microsoft Excel"!==s?Object.assign(Object.assign({},r.publishParameters),S):Object.assign(Object.assign({},r.publishParameters),{layers:[Object.assign(Object.assign({},p),S)],hasStaticData:!0,maxRecordCount:2e3,layerInfo:{capabilities:"Query"}}),m}function u(e,i,n){if("Single"===i){const i=Object.keys(n)[0]||"Address",a=e.find((({locationType:e})=>e===i||"address"===(null==e?void 0:e.toLowerCase())));return{[i]:(null==a?void 0:a.name)||""}}return e.reduce(((e,i)=>("unknown"!==i.locationType&&(e[i.locationType]=i.name),e)),{})}function d(e,i){var n,a,r,o,t,s,u;const{type:d,analyzeResults:c=e,selectedSheet:v}=l.a,p=null==c?void 0:c.publishParameters;if(i)return"CSV"===d?null==p?void 0:p.layerInfo:null!==(a=null===(n=null==p?void 0:p.layers)||void 0===n?void 0:n[v])&&void 0!==a?a:null===(r=null==p?void 0:p.layers)||void 0===r?void 0:r[0];switch(d){case"Microsoft Excel":return null!==(t=null===(o=null==p?void 0:p.layers)||void 0===o?void 0:o[v])&&void 0!==t?t:null===(s=null==p?void 0:p.layers)||void 0===s?void 0:s[0];case"GeoJson":return null===(u=null==p?void 0:p.layers)||void 0===u?void 0:u[0];default:return null==p?void 0:p.layerInfo}}function c(e){switch(e){case"esriFieldTypeBigInteger":return["esriFieldTypeBigInteger","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeSmallInteger":return["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeInteger":return["esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeSingle":return["esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeDouble":return["esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeDate":return["esriFieldTypeDate","esriFieldTypeString"];case"esriFieldTypeDateOnly":return["esriFieldTypeDateOnly","esriFieldTypeString"];case"esriFieldTypeTimeOnly":return["esriFieldTypeTimeOnly","esriFieldTypeString"];case"esriFieldTypeTimestampOffset":return["esriFieldTypeTimestampOffset","esriFieldTypeString"];case"esriFieldTypeOID":return["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeString"];default:return["esriFieldTypeString"]}}function v(e,i){const n=null==i?void 0:i.filter((i=>i.url===e));return(null==n?void 0:n.length)?n.shift():null}function p(e=""){return!!(null==e?void 0:e.match(/(arcgis\.com.*\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi))}function g(e=""){return!!(null==e?void 0:e.match(/(arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi))}function S(e){return!!e&&(g(e)||p(e))}function m(e,i,n){let a=n||e||i||"";return a="wo"===(null==a?void 0:a.toLowerCase())?"world":a,t[a.toUpperCase()]||(a="world"),a}function y(e,i,n){var l;let t=(0,o.l)(i)&&(0,o.m)(i);const s=function(e,i,n){return e.filter((e=>{const r=Object.assign({},e),l=g(null==r?void 0:r.url),o=p(null==r?void 0:r.url);return(l||o)&&((0,a.i)(r.name)?"Esri World Geocoder"===r.name&&(r.name="ArcGIS World Geocoding Service"):r.name="ArcGIS World Geocoding Service"),(!l||!n&&!i)&&((0,a.i)(r.batch)?!!r.batch:l||o)}))}(e,!t,n),u=null===(l=s[0])||void 0===l?void 0:l.url;if(null==s?void 0:s.length){t=!0;const e=v(s[0].url,s),a=g(null==e?void 0:e.url),l=p(null==e?void 0:e.url),o=a||l;let d=o||!!e.batch;return{allowGeocode:(!(0,r.t)(i)||t)&&(!n&&d||n&&(!a||l)&&d),isAgoWorldGeocodeServer:a,isServiceProxyAgoWorldGeocodeServer:l,isWorldGeocodeServer:o,geocodeServers:s,geocodeServiceUrl:u}}return null}},59004:(e,i,n)=>{n.d(i,{a:()=>G,b:()=>d,c:()=>I,d:()=>g,e:()=>S,f:()=>y,g:()=>c,h:()=>p,i:()=>T,j:()=>f,k:()=>F,l:()=>s,m:()=>M,n:()=>u,o:()=>C,p:()=>B,q:()=>o,r:()=>h,s:()=>b,t:()=>A,u:()=>P});var a=n(62381),r=n(76134),l=n(41171);async function o(){return new Promise((async e=>{const{portal:i}=r.c;if(null==i?void 0:i.isPortal){const n=i.helperServices.geocode,a=await function(e){const{config:i,portal:n}=r.c;return new Promise((async(a,r)=>{const o=e.filter((e=>t(e.url,n))).filter((e=>e.isEsriBatchGeocoder))[0];if(o){const e=o.url.split("/servers/")[1].split("/rest/services/")[0],n=`${i.restBaseUrl}/content/items/${e}`;try{a((await(0,l.r)(n)).url)}catch(e){r(e)}}else r("No world geocoder configured")}))}(n);e(a)}else{const n=function(e){const i=null==e?void 0:e.portalHostname;return-1!==i.indexOf("dev")?"dev":-1!==i.indexOf("qa")?"qa":""}(i);e(`https://geocode${n}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function t(e="",i){var n;const a=i.isPortal,r=e.toLowerCase(),l=r.indexOf("/geocodeserver")>-1&&r.indexOf("/rest/services/")>-1,o=a&&r.indexOf(null===(n=i.portalHostname)||void 0===n?void 0:n.toLowerCase())>-1,t=!a&&r.indexOf("utility")&&r.indexOf(".arcgis.com")>-1;return l&&(o||t)}function s(e){return(0,a.n)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function u(e){return(0,a.n)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}function d(e,i){return!(0,a.n)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&(!i.isPortal||i.isBackedBySDS)}function c(e,i){return!(0,a.n)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&(!i.isPortal||i.isBackedBySDS)}function v(e){return!(0,a.n)(e)&&!0}function p(e){var i;return!(0,a.n)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const g=e=>!(0,a.n)(e);function S(e,i,n){var a,r;const l=!!(null===(r=null===(a=i.helperServices)||void 0===a?void 0:a.rasterAnalytics)||void 0===r?void 0:r.url),o=function(e,i,n){var a;return(null===(a=null==e?void 0:e.privileges)||void 0===a?void 0:a.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||m(n))}(e,i,n),t=i.isPortal?o:o||function(e,i,n){var a;return(null===(a=null==e?void 0:e.privileges)||void 0===a?void 0:a.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&m(n)}(e,i,n);return l&&t}function m(e){return null==e?void 0:e.some((e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some((e=>"image"===e.toLowerCase()))}))}async function y(e){var i;const{userLicensedItems:n}=await(0,l.r)(`${null!==(i=e.restUrl)&&void 0!==i?i:e.portalUrl}/community/self?returnUserLicensedItems=true`);return n}function T(e,i){var n,r;const l=null===(n=i.helperServices)||void 0===n?void 0:n.geocode.some((({url:e})=>t(e,i))),o=null!==(r=null==e?void 0:e.privileges)&&void 0!==r?r:[];return!(0,a.n)(e)&&l&&(!i.isPortal||!i.isWebTierAuth&&o.includes("portal:user:viewOrgItems")&&o.includes("portal:user:createItem"))}const f=e=>!(0,a.n)(e);function b(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function h(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function F(e,i){var n;return!!i.isPortal&&!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:registerDataStores"))}function M(e){return!(0,a.n)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}function I(e,i,n){return!i.isPortal&&d(e,i)&&function(e,i,n){return!(0,a.n)(e)&&!!i.supportsHostedServices&&s(e)&&(c(e,i)||d(e,i)||p(e)||v(e)||S(e,i,n))}(e,i,n)}function G(e,i,n){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return d(e,n);case"Tile Package":return c(e,n);case"Vector Tile Package":return v(e);case"Scene Package":return p(e);case"Service Definition":return function(e,i){return d(e,i)&&c(e,i)}(e,n);default:return!0}}function C(e,i){var n;return(0,a.e)(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}(e)||!!((null==e?void 0:e.assignedCredits)>-1&&(null===(n=null==i?void 0:i.portalProperties)||void 0===n?void 0:n.showCreditsOnProfile))}const B=e=>!1;function A(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function P(e){return(0,a.e)(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}}}]);