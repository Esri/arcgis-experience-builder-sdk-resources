/*! For license information please see 9cd327f467ffd826dc98c5a1e6a9d593.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[15645],{15645:(e,t,r)=>{r.r(t),r.d(t,{arcgis_drag_list:()=>i});var a=r(28384);const i=class{constructor(e){(0,a.r)(this,e),this.arcgisDragUpdate=(0,a.c)(this,"arcgisDragUpdate",7),this.arcgisDragOrderChange=(0,a.c)(this,"arcgisDragOrderChange",7),this.getNewItemListOrder=(e,t,r)=>{const a=this._getItemListOrder();if(!this.autoReorder){const i="before"===r?1:-1;a.splice(a.indexOf(e),1),a.splice(a.indexOf(t)+i,0,e)}return a},this.emitNewOrder=e=>{this.arcgisDragOrderChange.emit(null!=e?e:this._getItemListOrder())},this.changeNodeOrderOn="dragenter",this.dragImage=void 0,this.autoReorder=!0}_getItemListOrder(){return Array.from(this.ele.querySelectorAll("arcgis-drag-list-item")).map((e=>e.value))}async getItemListOrder(){return this._getItemListOrder()}handleHandlerDragEvent(e){var t;e.stopPropagation();const{event:r,eventType:a,eventTarget:i}=e.detail;"dragstart"===a?this.draggingItem=Object.assign({},i):"dragend"===a&&(this.draggingItem=null),r.dataTransfer.setDragImage(null!==(t=this.dragImage)&&void 0!==t?t:i.ele,0,0),this.arcgisDragUpdate.emit({eventType:a,event:r,eventTarget:i})}handleItemDragEvent(e){e.stopPropagation();const{draggingItem:t,changeNodeOrderOn:r,emitNewOrder:a,arcgisDragUpdate:i,autoReorder:n,getNewItemListOrder:s}=this,{event:g,eventType:d,eventTarget:l}=e.detail;if(("dragenter"===d||"dragleave"===d)&&this.draggingItem.ele===l.ele)return;const o=t,c=t.ele,h=l.ele;if(c!==h){if(d===r){const e=c.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_FOLLOWING?"after":"before";n&&h[e](c),a(s(c.value,h.value,e))}i.emit({eventType:d,event:g,eventTarget:l,interactTarget:o})}}handleHandlerNavigationEvent(e){const{closestItem:t,direction:r,handlerEle:a,event:i}=e.detail,{ele:n,emitNewOrder:s,autoReorder:g}=this,d=Array.from(n.children),l=d.findIndex((e=>e.contains(t)));if(l<=-1)return void console.warn("The handler is hidden very sneakily...");i.preventDefault();const o=(l+("up"===r?-1:1)+d.length)%d.length,c=d[o],h=o>l?"after":"before";g&&c[h](t);const m="arcgis-drag-list-item"===c.tagName.toLowerCase()?c:c.querySelector("arcgis-drag-list-item");s(this.getNewItemListOrder(t.value,m.value,h)),a.activateHandler()}render(){return(0,a.h)(a.H,null,(0,a.h)("slot",null))}get ele(){return(0,a.d)(this)}}}}]);