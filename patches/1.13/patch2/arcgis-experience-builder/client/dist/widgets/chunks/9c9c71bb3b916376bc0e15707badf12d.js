/*! For license information please see 9c9c71bb3b916376bc0e15707badf12d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[50996],{50996:(e,t,i)=>{i.r(t),i.d(t,{arcgis_attributes:()=>c,arcgis_attributes_formatting:()=>g});var s=i(28384),a=i(62727),l=i(72637),o=i(22338),r=i(34077),n=i(81068),d=i(26426),h=i(66716);i(18869);const p=({fieldType:e})=>e===l.a.oid||e===l.a.guid||e===l.a.globalId?(0,s.h)("calcite-icon",{scale:"s",icon:"key"}):e===l.a.integer||e===l.a.smallInteger||e===l.a.bigInteger?(0,s.h)("calcite-icon",{scale:"s",icon:"integer"}):e===l.a.single||e===l.a.double||e===l.a.long||e===l.a.number?(0,s.h)("calcite-icon",{scale:"s",icon:"number"}):e===l.a.string?(0,s.h)("calcite-icon",{scale:"s",icon:"string"}):e===l.a.date?(0,s.h)("calcite-icon",{scale:"s",icon:"date-time"}):e===l.a.dateOnly?(0,s.h)("calcite-icon",{scale:"s",icon:"calendar"}):e===l.a.timestampOffset?(0,s.h)("calcite-icon",{scale:"s",icon:"time-zone"}):e===l.a.timeOnly?(0,s.h)("calcite-icon",{scale:"s",icon:"clock"}):(0,s.h)("calcite-icon",{scale:"s",icon:"string"}),c=class{constructor(e){(0,s.r)(this,e),this.attributesUpdated=(0,s.c)(this,"attributesUpdated",7),this.arcgisAttributesDismissedChange=(0,s.c)(this,"arcgisAttributesDismissedChange",7),this.internalAttributesUpdated=(0,s.c)(this,"internalAttributesUpdated",7),this.closeAttributePopovers=(0,s.c)(this,"closeAttributePopovers",7),this.listItems=[],this.listItemsNodes=[],this.layerFieldsMap=new Map,this.arcadeExpMap=new Map,this.filterLength=5,this.isPopupOpenForCurrentLayer=!1,this.debouncedAttributeUpdates=(0,d.d)((()=>{this.layerDisplayType===l.l.feature?this.layer.popupTemplate=this.popupTemplate.clone():this.layerDisplayType===l.l.cluster&&(this.layer.featureReduction.popupTemplate=this.popupTemplate.clone()),this.attributesUpdated.emit()}),1e3),this.calciteListItem=e=>(0,s.h)("calcite-list-item",{id:e.fieldName,label:(0,r.b)(e,this.arcadeExpMap),description:`{${e.fieldName}}`,value:e.fieldName,metadata:{label:(0,r.b)(e,this.arcadeExpMap),fieldName:e.fieldName},onClick:()=>this.selectionClick(),onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.selectionClick())},ref:e=>this.listItemsNodes.push(e)},(0,s.h)("div",{slot:"actions-end",class:"field-icons"},(0,s.h)(p,{fieldType:(0,r.a)(e.fieldName,this.layerFieldsMap,this.arcadeExpMap)}))),this.mapView=void 0,this.layer=void 0,this.portal=void 0,this.displayPopup=!0,this.config=void 0,this.layerDisplayType=l.l.feature,this.dismissible=!1,this.hideLayerTitle=!1,this.calciteFlowProps=!1,this.reRender=void 0,this.totalSelectedFields=void 0}async componentWillLoad(){var e;const t=await(0,a.g)(this.hostElement);if(this.strings=t[0],this.currentLanguage=t[1],this.serviceType=(0,r.c)(this.layer),this.layerDisplayType===l.l.feature){const t="type"in this.layer?this.layer.type:"sublayer",i=this.mapView.popup.visible?null===(e=this.mapView.popup.selectedFeature)||void 0===e?void 0:e.sourceLayer:void 0;this.isPopupOpenForCurrentLayer="subtype-sublayer"===t?(null==i?void 0:i.subtypeCode)===this.layer.subtypeCode&&(null==i?void 0:i.parent.id)===this.layer.parent.id:"sublayer"===t?(null==i?void 0:i.id)===this.layer.id&&(null==i?void 0:i.layer.id)===this.layer.layer.id:"id"in this.layer&&(null==i?void 0:i.id)===this.layer.id,this.serviceType!==l.s.mapImage||this.layer.popupTemplate||(this.layer.popupEnabled=!1),this.popupTemplate=this.layer.popupTemplate?this.layer.popupTemplate.clone():this.layer.createPopupTemplate(),this.popupTemplate.fieldInfos=[...await(0,o.g)(this.layer,this.popupTemplate)]}else this.popupTemplate=this.layer.featureReduction.popupTemplate.clone()}componentDidLoad(){this.calciteListNode=this.hostElement.shadowRoot.getElementById("list_Id"),this.showPreviewPopup(!0),this.setupResizeObserver()}async componentWillRender(){this.layerFieldsMap=await(0,r.d)(this.layer),this.arcadeExpMap=(0,r.e)(this.popupTemplate),this.listItems=[],this.popupTemplate.fieldInfos.forEach((e=>{var t;-1===(null===(t=e.fieldName)||void 0===t?void 0:t.indexOf(l.f.relationship))&&this.listItems.push(this.calciteListItem(e))}))}componentDidUpdate(){this.internalAttributesUpdated.emit()}disconnectedCallback(){var e;null===(e=this.parentShellObserver)||void 0===e||e.disconnect()}async done(){this.closeAttributePopovers.emit(!0),this.showPreviewPopup(!1)}async setFocus(){var e,t;this.flowItemNode?null===(e=this.flowItemNode)||void 0===e||e.setFocus():null===(t=this.calciteListNode)||void 0===t||t.setFocus()}arcgisAttributesFormattingUpdatedHandler(e){e.stopPropagation(),this.popupTemplate=e.detail.clone(),this.reRender=!this.reRender}arcgisAttributesFormattingDismissedHandler(e){e.stopPropagation(),this.closeAttributePopovers.emit(!0)}async closeAttributePopoversHandler(e){if(this.attributeFormatter&&(document.body.removeChild(this.attributeFormatter),this.attributeFormatter=null,e.detail)){const e=this.calciteListNode.selectedItems;for(const t of e.values())t.selected=!1;this.totalSelectedFields=0,setTimeout((()=>this.listItemsNodes[0].setFocus()),300)}}internalAttributesUpdatedHandler(e){e.stopPropagation(),this.debouncedAttributeUpdates()}calciteChipCloseHandler(e){e.stopPropagation(),this.closeAttributePopovers.emit(!0)}async selectionClick(){this.closeAttributePopovers.emit();const e=[...this.calciteListNode.selectedItems.map((e=>e.value))];this.totalSelectedFields=e.length,!this.attributeFormatter&&e.length>0&&(this.attributeFormatter=document.createElement("arcgis-attributes-formatting"),this.attributeFormatter.popoverProps={refElement:this.hostElement,offsetSkidding:45},this.attributeFormatter.layerDisplayType=this.layerDisplayType,this.attributeFormatter.selectedFields=e,this.attributeFormatter.layer=this.layer,this.attributeFormatter.popupTemplate=this.popupTemplate.clone(),document.body.appendChild(this.attributeFormatter))}showPreviewPopup(e){var t;this.displayPopup&&this.layerDisplayType===l.l.feature&&!this.isPopupOpenForCurrentLayer&&(e&&this.layer.popupEnabled&&this.layer.popupTemplate?(this.previewPopupController=new AbortController,(0,o.p)(this.mapView,this.layer,this.previewPopupController)):(null===(t=this.previewPopupController)||void 0===t||t.abort(),this.mapView.closePopup()))}setupResizeObserver(){var e;const t=null===(e=this.hostElement)||void 0===e?void 0:e.parentElement;(0,d.i)(t.collapsed)&&(this.parentShellObserver=new ResizeObserver((()=>{t.collapsed?this.done():this.showPreviewPopup(!0)})),this.parentShellObserver.observe(t))}displayList(){return(0,s.h)("calcite-list",{id:"list_Id",filterEnabled:this.listItems.length>=this.filterLength,filterPlaceholder:this.strings.filterAttributes,selectionMode:"multiple"},this.totalSelectedFields>0?(0,s.h)("div",{class:"total-selected-div"},(0,s.h)("calcite-chip",{value:"totalSelectedValue",closable:!0},`${this.totalSelectedFields} ${this.strings.selected}`)):null,this.listItems)}render(){return(0,s.h)(s.H,{style:this.calciteFlowProps?{}:{display:"flex",flex:"1 1 auto",overflow:"hidden"}},this.calciteFlowProps?(0,s.h)("div",{dir:(0,n.g)(this.hostElement)},this.displayList()):(0,s.h)("calcite-flow",{id:"attributes_flow_Id",dir:(0,n.g)(this.hostElement)},(0,s.h)("calcite-flow-item",{heading:this.strings.attributesHeading,description:this.hideLayerTitle?void 0:this.layer.title,closable:this.dismissible,ref:e=>this.flowItemNode=e,onCalciteFlowItemClose:e=>{e.stopPropagation(),this.done(),this.arcgisAttributesDismissedChange.emit()}},this.displayList())))}get hostElement(){return(0,s.d)(this)}};c.style=".total-selected-div{padding:5px}.field-icons{padding:0 var(--arcgis-app-cap-spacing);display:flex;align-items:center}";const m=["short-date","long-month-day-year","day-short-month-year","long-date","long-month-year","short-month-year","year"],f=["short-time","long-time","short-time-24","long-time-24"],u=new Map;u.set("short-date",{dateFormat:m[0],timeFormat:""}),u.set("short-date-short-time",{dateFormat:m[0],timeFormat:f[0]}),u.set("short-date-long-time",{dateFormat:m[0],timeFormat:f[1]}),u.set("short-date-short-time-24",{dateFormat:m[0],timeFormat:f[2]}),u.set("short-date-long-time-24",{dateFormat:m[0],timeFormat:f[3]}),u.set("long-month-day-year",{dateFormat:m[1],timeFormat:""}),u.set("long-month-day-year-short-time",{dateFormat:m[1],timeFormat:f[0]}),u.set("long-month-day-year-long-time",{dateFormat:m[1],timeFormat:f[1]}),u.set("long-month-day-year-short-time-24",{dateFormat:m[1],timeFormat:f[2]}),u.set("long-month-day-year-long-time-24",{dateFormat:m[1],timeFormat:f[3]}),u.set("day-short-month-year",{dateFormat:m[2],timeFormat:""}),u.set("day-short-month-year-short-time",{dateFormat:m[2],timeFormat:f[0]}),u.set("day-short-month-year-long-time",{dateFormat:m[2],timeFormat:f[1]}),u.set("day-short-month-year-short-time-24",{dateFormat:m[2],timeFormat:f[2]}),u.set("day-short-month-year-long-time-24",{dateFormat:m[2],timeFormat:f[3]}),u.set("long-date",{dateFormat:m[3],timeFormat:""}),u.set("long-date-short-time",{dateFormat:m[3],timeFormat:f[0]}),u.set("long-date-long-time",{dateFormat:m[3],timeFormat:f[1]}),u.set("long-date-short-time-24",{dateFormat:m[3],timeFormat:f[2]}),u.set("long-date-long-time-24",{dateFormat:m[3],timeFormat:f[3]}),u.set("long-month-year",{dateFormat:m[4],timeFormat:null}),u.set("short-month-year",{dateFormat:m[5],timeFormat:null}),u.set("year",{dateFormat:m[6],timeFormat:null}),u.set("default",{dateFormat:m[0],timeFormat:f[2]});const g=class{constructor(e){(0,s.r)(this,e),this.arcgisAttributesFormattingDismissed=(0,s.c)(this,"arcgisAttributesFormattingDismissed",7),this.arcgisAttributesFormattingUpdated=(0,s.c)(this,"arcgisAttributesFormattingUpdated",7),this.displayDate=new Date("December 31, 1969 18:00:00"),this.layerFieldsMap=new Map,this.arcadeExpMap=new Map,this.selectedFieldInfoMap=new Map,this.hasCommonDataTypes=!0,this.thousandSeperator=()=>(0,s.h)("section",{class:"single-line-label-switch-section"},(0,s.h)("calcite-label",{class:"single-line-label-switch-label"},this.strings.show1000Seperator),(0,s.h)("calcite-switch",{id:"thousandSeperatorSwitch_Id",scale:"s",class:"single-line-label-switch-switch",checked:!!this.firstSelected.format.digitSeparator})),this.significantDigits=()=>(0,s.h)("section",null,(0,s.h)("calcite-label",null,this.strings.significantDigits,(0,s.h)("calcite-select",{label:this.strings.significantDigits,onCalciteSelectChange:e=>{const t=e.target;this.firstSelected.format.places=Number(t.selectedOption.value)||0,this.saveFieldInfo()}},[0,1,2,3,4,5,6,7,8].map((e=>(0,s.h)("calcite-option",{value:e.toString(),selected:this.firstSelected.format.places===e},`${e} ${this.strings.decimalPlaces}`)))))),this.dateFormat=e=>(0,s.h)("section",null,(0,s.h)("calcite-label",null,this.strings.dateFormat,(0,s.h)("calcite-select",{id:"dateFormatSelect_Id",label:this.strings.dateFormat,onCalciteSelectChange:()=>this.changeDateFormat()},m.map((t=>(0,s.h)("calcite-option",{value:t,selected:e===t},this.intl.formatDate(this.displayDate,this.intl.convertDateFormatToIntlOptions(t)))))))),this.showTime=e=>(0,s.h)("section",{class:"single-line-label-switch-section",id:"showTime_Id"},(0,s.h)("calcite-label",{class:"single-line-label-switch-label"},this.strings.showTime),(0,s.h)("calcite-switch",{id:"showTimeSwitch_Id",scale:"s",class:"single-line-label-switch-switch",checked:!!e})),this.timeFormat=e=>(0,s.h)("section",{id:"timeFormat_Id"},(0,s.h)("calcite-label",null,this.strings.timeFormat,(0,s.h)("calcite-select",{id:"timeFormatSelect_Id",label:this.strings.timeFormat,onCalciteSelectChange:()=>this.changeDateFormat()},f.map((t=>(0,s.h)("calcite-option",{value:t,selected:e===t},this.getTimeFormatString(t))))))),this.layer=void 0,this.layerDisplayType=l.l.feature,this.selectedFields=void 0,this.popoverProps=void 0,this.popupTemplate=void 0,this.isOpen=!1}async componentWillLoad(){const e=await(0,a.g)(this.hostElement);this.strings=e[0],this.currentLanguage=e[1];const[t]=await(0,h.l)(["esri/intl"]);this.intl=t,this.layerFieldsMap=await(0,r.d)(this.layer),this.arcadeExpMap=(0,r.e)(this.popupTemplate),this.selectedFields.forEach((e=>{this.popupTemplate.fieldInfos.find(((t,i)=>{t.fieldName===e&&this.selectedFieldInfoMap.set(e,{index:i,fieldType:(0,r.a)(e,this.layerFieldsMap,this.arcadeExpMap),fieldInfo:t})}))})),this.firstSelected=this.selectedFieldInfoMap.get(this.selectedFields[0]).fieldInfo,this.firstSelectedFieldType=this.selectedFieldInfoMap.get(this.selectedFields[0]).fieldType,this.hasCommonDataTypes=this.commonDataTypesCheck(this.firstSelectedFieldType),!this.firstSelected.format&&this.hasCommonDataTypes&&await this.setupDefaultFormat(this.firstSelected,this.firstSelectedFieldType)}componentDidLoad(){this.hostElement.shadowRoot.getElementById("managePopover_Id").reposition(),this.aliasInput&&this.aliasInput.focus(),this.setupDateTimeDisplay(),this.isOpen=!0,setTimeout((()=>requestAnimationFrame((()=>{this.panelElement.setFocus()}))),300)}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}async setFocus(){setTimeout((()=>this.panelElement.setFocus()),100)}calciteSwitchChangeHandler(e){e.stopPropagation(),this.firstSelected.format&&("date"===this.firstSelectedFieldType||"timestamp-offset"===this.firstSelectedFieldType?this.changeDateFormat():(this.firstSelected.format.digitSeparator=!!this.hostElement.shadowRoot.getElementById("thousandSeperatorSwitch_Id").checked,this.saveFieldInfo()))}commonDataTypesCheck(e){for(let t=1;t<this.selectedFields.length;t++){const i=this.selectedFieldInfoMap.get(this.selectedFields[t]).fieldType;if(e===l.a.integer||e===l.a.smallInteger||e===l.a.bigInteger){if(-1===[l.a.integer,l.a.smallInteger,l.a.bigInteger].indexOf(i))return!1}else if(e===l.a.single||e===l.a.double||e===l.a.long||e===l.a.number){if(-1===[l.a.single,l.a.double,l.a.long,l.a.number].indexOf(i))return!1}else if(e===l.a.date||e===l.a.timestampOffset){if(-1===[l.a.date,l.a.timestampOffset].indexOf(i))return!1}else if(e===l.a.dateOnly){if(-1===[l.a.dateOnly].indexOf(i))return!1}else if(e===l.a.timeOnly&&-1===[l.a.timeOnly].indexOf(i))return!1}return!0}async setupDefaultFormat(e,t){const[i]=await(0,h.l)(["esri/popup/support/FieldInfoFormat"]);t===l.a.integer||t===l.a.smallInteger||t===l.a.bigInteger?(e.format=new i({digitSeparator:!1}),this.saveFieldInfo()):t===l.a.single||t===l.a.double||t===l.a.long||t===l.a.number?(e.format=new i({digitSeparator:!1,places:2}),this.saveFieldInfo()):t!==l.a.date&&t!==l.a.dateOnly&&t!==l.a.timeOnly&&t!==l.a.timestampOffset||!this.dateFormattingAvailable()||(t===l.a.dateOnly?e.format=new i({dateFormat:"short-date"}):e.format=new i({dateFormat:"short-date-short-time"}),this.saveFieldInfo())}setupDateTimeDisplay(){var e;if(("date"===this.firstSelectedFieldType||"time-only"===this.firstSelectedFieldType||"timestamp-offset"===this.firstSelectedFieldType)&&(null===(e=this.firstSelected.format)||void 0===e?void 0:e.dateFormat)&&this.hasCommonDataTypes){const e=this.hostElement.shadowRoot.getElementById("showTime_Id"),t=this.hostElement.shadowRoot.getElementById("showTimeSwitch_Id"),i=this.hostElement.shadowRoot.getElementById("timeFormat_Id"),s=u.get(this.firstSelected.format.dateFormat);"date"===this.firstSelectedFieldType||"timestamp-offset"===this.firstSelectedFieldType?""===s.timeFormat?(e.style.display="flex",t.checked=!1,i.style.display="none"):null===s.timeFormat?(e.style.display="none",t.checked=!1,i.style.display="none"):(e.style.display="flex",t.checked=!0,i.style.display="block"):"time-only"===this.firstSelectedFieldType&&(i.style.display="block")}}getTimeFormatString(e){return e===f[0]?this.strings.shortTime:e===f[1]?this.strings.longTime:e===f[2]?this.strings.shortTime24:e===f[3]?this.strings.longTime24:this.strings.shortTime24}changeAlias(){(0,r.i)(this.aliasInput.value)||(this.aliasInput.value=this.firstSelected.fieldName),this.arcadeExpMap.has(this.firstSelected.fieldName)?this.arcadeExpMap.get(this.firstSelected.fieldName).title=this.aliasInput.value:this.firstSelected.label=this.aliasInput.value,this.saveFieldInfo()}changeDateFormat(){const e=this.hostElement.shadowRoot.getElementById("dateFormatSelect_Id"),t=this.hostElement.shadowRoot.getElementById("timeFormatSelect_Id"),i=this.hostElement.shadowRoot.getElementById("showTimeSwitch_Id");if("date"===this.firstSelectedFieldType||"timestamp-offset"===this.firstSelectedFieldType){const s=u.get(e.selectedOption.value);""===s.timeFormat?this.firstSelected.format.dateFormat=i.checked?`${e.selectedOption.value}-${t.selectedOption.value}`:`${e.selectedOption.value}`:null===s.timeFormat&&(this.firstSelected.format.dateFormat=`${e.selectedOption.value}`)}else"date-only"===this.firstSelectedFieldType?this.firstSelected.format.dateFormat=`${e.selectedOption.value}`:"time-only"===this.firstSelectedFieldType&&(this.firstSelected.format.dateFormat=`short-date-${t.selectedOption.value}`);this.saveFieldInfo(),this.setupDateTimeDisplay(),this.hostElement.shadowRoot.getElementById("managePopover_Id").reposition()}saveFieldInfo(){var e;this.hasCommonDataTypes&&(this.selectedFieldInfoMap.forEach((e=>{e.fieldInfo.fieldName===this.firstSelected.fieldName?e.fieldInfo=this.firstSelected.clone():e.fieldInfo.format=this.firstSelected.format.clone()})),1===this.selectedFields.length&&this.arcadeExpMap.has(this.firstSelected.fieldName)&&(null===(e=this.popupTemplate)||void 0===e?void 0:e.expressionInfos)&&this.popupTemplate.expressionInfos.find(((e,t)=>{if(`${l.f.expression}${e.name}`===this.firstSelected.fieldName)return this.popupTemplate.expressionInfos[t]=this.arcadeExpMap.get(this.firstSelected.fieldName).clone()})),this.selectedFieldInfoMap.forEach((e=>{this.popupTemplate.fieldInfos[e.index]=e.fieldInfo.clone()})),Array.isArray(this.popupTemplate.content)&&this.popupTemplate.content.forEach((e=>{"fields"===e.type&&e.fieldInfos&&e.fieldInfos.forEach(((t,i)=>{if(this.selectedFieldInfoMap.has(t.fieldName)){const s=this.selectedFieldInfoMap.get(t.fieldName).fieldInfo.clone();s.visible=!0,e.fieldInfos[i]=s}}))})),this.arcgisAttributesFormattingUpdated.emit(this.popupTemplate.clone()))}formattingOptions(){if(this.firstSelected.format){if(this.firstSelectedFieldType===l.a.integer||this.firstSelectedFieldType===l.a.smallInteger||this.firstSelectedFieldType===l.a.bigInteger)return this.thousandSeperator();if(this.firstSelectedFieldType===l.a.single||this.firstSelectedFieldType===l.a.double||this.firstSelectedFieldType===l.a.long||this.firstSelectedFieldType===l.a.number)return(0,s.h)("div",null,this.significantDigits(),this.thousandSeperator());if(this.firstSelectedFieldType!==l.a.date&&this.firstSelectedFieldType!==l.a.dateOnly&&this.firstSelectedFieldType!==l.a.timeOnly&&this.firstSelectedFieldType!==l.a.timestampOffset||!this.dateFormattingAvailable())return null;{const e=u.has(this.firstSelected.format.dateFormat)?u.get(this.firstSelected.format.dateFormat):this.firstSelectedFieldType===l.a.dateOnly?u.get("short-date"):u.get("short-date-short-time");return(0,s.h)("div",null,this.firstSelectedFieldType!==l.a.timeOnly&&this.dateFormat(e.dateFormat),this.firstSelectedFieldType!==l.a.timeOnly&&this.firstSelectedFieldType!==l.a.dateOnly&&this.showTime(e.timeFormat),this.firstSelectedFieldType!==l.a.dateOnly&&this.timeFormat(e.timeFormat))}}return null}dateFormattingAvailable(){return!((0,r.c)(this.layer)===l.s.scene)||null!=this.layer.associatedLayer}render(){const e=(0,s.h)("calcite-button",{appearance:"outline-fill",scale:"m",slot:"footer",width:"full",onClick:()=>this.arcgisAttributesFormattingDismissed.emit("done")},this.strings.done),t=(0,s.h)("calcite-label",null,this.strings.displayName,(0,s.h)("calcite-input",{type:"text",ref:e=>{this.aliasInput=e},value:this.arcadeExpMap.has(this.firstSelected.fieldName)?this.arcadeExpMap.get(this.firstSelected.fieldName).title:this.firstSelected.label,onCalciteInputInput:()=>this.changeAlias()}));return(0,s.h)(s.H,{class:"js-app-flyout"},(0,s.h)("calcite-popover",{dir:(0,n.g)(this.hostElement),id:"managePopover_Id",placement:this.popoverProps.placement||"leading-start",open:this.isOpen,pointerDisabled:!0,referenceElement:this.popoverProps.refElement,offsetDistance:this.popoverProps.offsetDistance||0,offsetSkidding:this.popoverProps.offsetSkidding||0,label:"",style:{zIndex:"100"},ref:e=>this.popoverNode=e},(0,s.h)("calcite-panel",{ref:e=>this.panelElement=e,closable:!0,style:{width:`${this.popoverProps.popoverWidth||this.popoverProps.refElement.getBoundingClientRect().width}px`},onCalcitePanelClose:()=>this.arcgisAttributesFormattingDismissed.emit()},(0,s.h)("div",{slot:"header-content"},this.strings.formatting),e,(0,s.h)("div",{class:"formatting-div"},1===this.selectedFields.length?t:(0,s.h)("h3",null,`${this.strings.multipleSelection} (${this.selectedFields.length})`),this.hasCommonDataTypes?this.formattingOptions():(0,s.h)("h3",null,this.strings.selectCommon)))))}get hostElement(){return(0,s.d)(this)}};g.style=".formatting-div{padding:var(--arcgis-app-cap-spacing) var(--arcgis-app-side-spacing);max-height:60vh}.single-line-label-switch-section{display:flex;margin:0;padding:var(--arcgis-app-cap-spacing-half) 0}.single-line-label-switch-label{display:flex;flex-flow:column nowrap;flex:1 0 0%;overflow:hidden}.single-line-label-switch-switch{flex:0 0 0%;justify-self:flex-end;margin:0}.single-line-label-switch-switch input{display:none}"}}]);