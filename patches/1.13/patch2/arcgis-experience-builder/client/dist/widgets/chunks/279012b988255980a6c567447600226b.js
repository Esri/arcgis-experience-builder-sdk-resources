/*! For license information please see 279012b988255980a6c567447600226b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[95010],{95010:(e,t,a)=>{a.r(t),a.d(t,{arcgis_new_item_pages_feature_layer_preference:()=>u});var r=a(28384),l=a(58892),s=a(54871),n=a(24552),o=a(71120);a(27010),a(76134),a(62381),a(85142),a(41171),a(66716),a(72022),a(96729),a(58728),a(86739),a(65508),a(31546),a(83397),a(18869),a(46220);const u=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.featureLayerInfos=[],this.showCaptureGPS=!0,this.layerPreference={captureGPS:!1,enableZDefaults:!1,enableMDefaults:!1}}handleNext(){const{featureLayerInfos:e,layerPreference:t}=this,a=(0,n.m)(e,t);l.a.serviceInfo=Object.assign(Object.assign({},l.a.serviceInfo),{enableZDefaults:t.enableZDefaults,enableMDefaults:t.enableMDefaults,layers:a.filter((e=>"Feature Layer"===e.type)),tables:a.filter((e=>"Table"===e.type))}),this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,t;const{i18n:a}=s.u;this.i18n=a.featureLayerFromScratch;const{serviceInfo:r}=l.a,o=r;this.featureLayerInfos=[...o.layers,...o.tables].sort(((e,t)=>e.id-t.id)),this.layerPreference={captureGPS:this.featureLayerInfos.some(n.l),enableZDefaults:null!==(e=o.enableZDefaults)&&void 0!==e?e:this.featureLayerInfos.some(n.d),enableMDefaults:null!==(t=o.enableMDefaults)&&void 0!==t?t:this.featureLayerInfos.some(n.e)},this.showCaptureGPS=this.featureLayerInfos.some((e=>"Feature Layer"===e.type&&["esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"].includes(e.geometryType)))}render(){const{i18n:e,layerPreference:t,showCaptureGPS:a}=this;return(0,r.h)(r.H,null,(0,r.h)("arcgis-new-item-layer-preference",{i18n:e,defaultPreference:t,showCaptureGPS:a,onLayerPreferenceChange:e=>{const{layerPreference:t}=this,a=e.detail;!t.captureGPS&&a.captureGPS&&(0,o.e)("captureGPS"),!t.enableZDefaults&&a.enableZDefaults&&(0,o.e)("enableZDefaults"),!t.enableMDefaults&&a.enableMDefaults&&(0,o.e)("enableMDefaults"),this.layerPreference=a}}))}}},71120:(e,t,a)=>{a.d(t,{a:()=>y,b:()=>i,c:()=>f,e:()=>u,f:()=>p,i:()=>c});var r=a(76134),l=a(58892);const s="create feature layer",n="my content",o=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},u=e=>{const t=r.c.telemetry;null==t||t.stepWorkflow(s,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:s,attribute:o(l.a.addFeatureLayerType),pageName:n})},c=e=>{const t=r.c.telemetry;null==t||t.stepWorkflow(s,`expand ${e} details`,{category:s,attribute:o(l.a.addFeatureLayerType),pageName:n})},i=()=>{const e=r.c.telemetry;null==e||e.stepWorkflow(s,"filter",{category:s,attribute:o(l.a.addFeatureLayerType),pageName:n})},f=e=>{const t=o(e),a=r.c.telemetry;null==a||a.stepWorkflow(s,"from option",{category:s,attribute:t,pageName:n})},y=()=>{const{addFeatureLayerType:e,serviceInfo:t}=l.a,a=t,u=r.c.telemetry;null==u||u.endWorkflow(s,{category:s,attribute:o(e),pageName:n,count:a.layers.length,number:a.tables.length})},p=e=>{var t;null===(t=r.c.telemetry)||void 0===t||t.logError({category:s,error:e})}}}]);