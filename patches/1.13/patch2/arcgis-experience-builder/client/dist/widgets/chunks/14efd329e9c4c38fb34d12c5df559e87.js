"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[21024],{21024:(e,r,t)=>{t.r(r),t.d(r,{default:()=>l});var s=t(47817),a=(t(58574),t(11115)),i=t(89300),n=t(94882);t(68700),t(72571);const o=(0,n.o)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});let u=class extends((0,n.b)(a.p)){constructor(e){super(e)}solve(e,r){return async function(e,r,t){const u=[],l=[],c={},p={},f=(0,a.r)(e);return r.stops&&r.stops.features&&(0,n.l)(r.stops.features,l,"stops.features",c),r.pointBarriers&&r.pointBarriers.features&&(0,n.l)(r.pointBarriers.features,l,"pointBarriers.features",c),r.polylineBarriers&&r.polylineBarriers.features&&(0,n.l)(r.polylineBarriers.features,l,"polylineBarriers.features",c),r.polygonBarriers&&r.polygonBarriers.features&&(0,n.l)(r.polygonBarriers.features,l,"polygonBarriers.features",c),(0,i.L)(l).then((e=>{for(const r in c){const t=c[r];u.push(r),p[r]=e.slice(t[0],t[1])}return(0,n.u)(p,u)?(0,n.d)(f.path):Promise.resolve({dontCheck:!0})})).then((e=>{("dontCheck"in e?e.dontCheck:e.hasZ)||(0,n.n)(p,u);for(const e in p)p[e].forEach(((t,s)=>{r.get(e)[s].geometry=t}));const a={...t,query:{...f.query,...o.toQueryParams(r),f:"json"}},{path:i}=f,l="/solve",c=i.endsWith(l)?i:i+l;return(0,s.U)(c,a)})).then((e=>(0,n.i)(e)))}(this.url,e,r)}};u=(0,s.Z)([(0,s.a0)("esri.tasks.RouteTask")],u);const l=u}}]);