/*! For license information please see e25209ac2b06c0efc7fc9dbc93ccacae.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[37197],{58892:(e,t,i)=>{i.d(t,{a:()=>o,b:()=>p,c:()=>a,d:()=>r});const r=(0,i(27010).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),o=r.state,a=r.state,p=r.state},88009:(e,t,i)=>{i.d(t,{A:()=>n,N:()=>o,a:()=>p,b:()=>a,c:()=>s,d:()=>l,u:()=>r});const r=["esriFieldTypeOID","esriFieldTypeGlobalID"],o="<None>",a={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},p={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},n={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},l=["zip","csv","xls","xlsx","geojson","gpkg","json"],s=["zip","csv","xls","xlsx"]},6907:(e,t,i)=>{i.d(t,{c:()=>l,g:()=>s});var r=i(58892),o=i(88009),a=i(61099),p=i(31546),n=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i};function l(e,t){var i;const r=(null==e?void 0:e.type)||null,o=(null==t?void 0:t.type)||null;return o&&(o===r||(null===(i={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:["esriFieldTypeString","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeDate","esriFieldTypeGUID"],esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeDateOnly:["esriFieldTypeDateOnly"],esriFieldTypeTimeOnly:["esriFieldTypeTimeOnly"],esriFieldTypeTimestampOffset:["esriFieldTypeTimestampOffset"],esriFieldTypeBigInteger:["esriFieldTypeBigInteger"]}[r])||void 0===i?void 0:i.indexOf(o))>-1)}function s(e){var t;const{timezone:i,analyzeResults:l,type:s,fieldMappings:d,dataLayer:c,id:y,uidPair:u,addAppendSelectOption:S,sourceDataLayer:m}=e;let g,v;const{publishParameters:f}=l,x=n(l,["publishParameters"]),w="upsert"===S||"update"===S,b=function(e){return e.filter((e=>e.source!==o.N)).map((({source:e,name:t})=>({source:e,name:t})))}(d),h=function(e){return e.map((e=>e.name))}(b),P={dateFieldsTimeReference:{timeZone:i||"UTC",respectsDaylightSaving:!0}},k={sourceTableName:c.name,fieldMappings:(null==b?void 0:b.length)?JSON.stringify(b):null,upsert:w,skipInserts:"update"===S,skipUpdates:!1,useGlobalIds:w&&"esriFieldTypeGlobalID"===(null==u?void 0:u.type),updateGeometry:!w||"attributeAndGeometry"===r.a.addAppendSelectUpdateTypeOption,appendFields:h.length?JSON.stringify(h):null,appendItemId:y,appendUploadFormat:p.a[r.a.type].appendUploadFormat,rollbackOnFailure:!0},D=n(f,["layers"]);if("CSV"===s)f.layerInfo.dateFieldsTimeReference=P.dateFieldsTimeReference,v=Object.assign(Object.assign(Object.assign({},P),f),x);else if("Microsoft Excel"===s){const e=function(e,t){const i=Object.assign({},e);return i.locationType=t.locationType,"address"===i.locationType?(i.addressFields=t.addressFields,i.sourceCountry=t.sourceCountry):"coordinates"===i.locationType&&(i.coordinateFieldType=t.coordinateFieldType,"LatitudeAndLongitude"===i.coordinateFieldType?(i.latitudeFieldName=t.latitudeFieldName,i.longitudeFieldName=t.longitudeFieldName):i.coordinateFieldName=t.coordinateFieldName),i}((0,a.a)({},!0),D);e.dateFieldsTimeReference=P.dateFieldsTimeReference,D.name=c.name,v=Object.assign(Object.assign(Object.assign(Object.assign({},P),{layers:[e]}),D),x)}else v=Object.assign(Object.assign(Object.assign({},P),f),x);return g=Object.assign(Object.assign({},k),{appendSourceInfo:JSON.stringify(v)}),"add"===S?g.upsertMatchingField=m.objectIdField||(null===(t=m.uniqueField)||void 0===t?void 0:t.name):w&&(null==u?void 0:u.isUniqueIndex)&&(g.upsertMatchingField=null==u?void 0:u.name),g}},37197:(e,t,i)=>{i.r(t),i.d(t,{arcgis_new_item_pages_append_key_pair_select:()=>s});var r=i(28384),o=i(58892),a=i(88009),p=i(54871),n=i(6907),l=i(76134);i(27010),i(61099),i(62381),i(59004),i(41171),i(66716),i(31546);const s=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.newItemPrevPage=(0,r.c)(this,"newItemPrevPage",7),this.workflowComplete=(0,r.c)(this,"workflowComplete",7),this.handleTimezoneChange=e=>{this.selectedTimezone=e.detail},this.handleKeyPairChange=e=>{this.selectedKeyPair=e.detail},this.i18n=void 0,this.selectedKeyPair=void 0,this.selectedTimezone=void 0,this.error=void 0}handleNext(){if("add"!==o.a.addAppendSelectOption){if(Object.values(this.selectedKeyPair).includes(a.N))return void(this.error={title:p.u.i18n.error,message:this.i18n.noKeyPair});o.a.uidPair=this.selectedKeyPair}o.a.timezone=this.selectedTimezone,this.newItemUpdatePage.emit("appendMatchFields")}async handlePrev(e){var t;(null===(t=o.a.analyzeResults.publishParameters.layers)||void 0===t?void 0:t.length)>1||(e.preventDefault(),o.a.uidPair=null,this.newItemPrevPage.emit())}componentWillLoad(){var e;const{existingItem:t,dateFieldsTimeReference:i,originalFileName:r}=o.a;this.i18n=p.u.i18n.appendKeyValuePair,this.serviceLayer=o.a.sourceDataLayer,this.selectedTimezone=null!==(e=o.a.timezone)&&void 0!==e?e:"UTC",this.timezoneDescription=this.i18n.timezoneDescription.replace("${uploadedFileName}",r).replace("${featureLayerName}",t.title).replace("${featureLayerTimezone}",i.timeZone),this.isEnterprise=l.c.portal.isPortal,this.findKeyPairs()}findKeyPairs(){var e;const t={},i=this.serviceLayer.fields||[],r=this.serviceLayer.indexes||[],p=o.a.backupLayerFields;r.filter((e=>null==e?void 0:e.isUnique)).forEach((e=>{var t;((null===(t=e.fields)||void 0===t?void 0:t.split(","))||[]).forEach((e=>{i.some((t=>t.name.toLowerCase()===e.toLowerCase()&&(t.isUniqueIndex=!0,!0)))}))})),this.serviceUIDFields=i.filter((e=>e.type&&a.u.includes(e.type)||e.isUniqueIndex)).sort(((e,t)=>e.name.localeCompare(t.name))),this.serviceUIDFields.forEach((e=>{const i=[];p.forEach((t=>{(0,n.c)(e,t)&&i.push(t.name)})),t[e.name]={name:e.name,type:e.type,idx:0,isUniqueIndex:null==e?void 0:e.isUniqueIndex,possibleMatches:[a.N,...i],disabled:!0}})),this.finalKeyPairs=Object.assign({"<None>":{name:a.N,type:"None",possibleMatches:[a.N]}},t),this.selectedKeyPair=null!==(e=o.a.uidPair)&&void 0!==e?e:this.finalKeyPairs[a.N],o.a.serviceUIDFields=this.serviceUIDFields}render(){const{error:e,i18n:t,isEnterprise:i,timezoneDescription:a}=this,{addAppendSelectOption:p,backupLayerFields:n}=o.a,l="add"===p,s=null==n?void 0:n.some((e=>"esriFieldTypeDate"===e.type));return(0,r.h)("div",null,!l&&(0,r.h)("arcgis-new-item-append-key-value-pair",{class:"key-value-pair",keyPairs:this.finalKeyPairs,onKeyPairChange:this.handleKeyPairChange}),s&&!i&&(0,r.h)("calcite-label",null,(0,r.h)("div",{class:"timezone-header"},t.timezoneHeader),(0,r.h)("div",{class:"timezone-wrapper"},(0,r.h)("arcgis-new-item-timezone-dropdown",{class:"timezone",onTimezoneChange:this.handleTimezoneChange,defaultTimezone:this.selectedTimezone,subTitle:a}))),(0,r.h)("arcgis-new-item-alert",{heading:null==e?void 0:e.title,description:null==e?void 0:e.message,active:!!e,kind:"danger",onAlertDismiss:()=>this.error=null}))}get el(){return(0,r.d)(this)}};s.style=".timezone-wrapper{background-color:var(--calcite-ui-background);padding-left:1rem}.timezone{display:block;margin-bottom:0.75rem;-webkit-margin-end:2.5rem;margin-inline-end:2.5rem}.timezone-header{color:var(--calcite-ui-text-1);font-size:1rem;font-weight:500}"},76134:(e,t,i)=>{i.d(t,{c:()=>o,o:()=>a});const r=(0,i(27010).c)({portal:null,user:null,api:4,scale:"m"}),o=r.state,a=r.onChange},31546:(e,t,i)=>{i.d(t,{A:()=>o,a:()=>l,i:()=>p,r:()=>n});var r=i(54871);const o=["file","url","create","application","featureLayer","tileLayer","sceneLayer","locator","imageryLayer","dataStore","developerCredentials","rasterFunctionTemplate"],a=["Document Link","CSV","GeoJson","KML","OGCFeatureServer","WFS","WMS","WMTS","GeoRSS","Application","Tile Layer","Feature Service","Geocoding Service","Geodata Service","Geometry Service","Geoenrichment Service","Geoprocessing Service","Globe Service","Map Service","Network Analysis Service","Image Service","Vector Tile Service","Scene Service","Stream Service","Workflow Manager Service","Video Service"],p=e=>a.includes(e),n=["Operations Dashboard Add In","Operations Dashboard Extension","Operation View","CityEngine Web Scene"],l=Object.assign(Object.assign({"360 VR Experience":{fileExt:["3vr"],type:"360 VR Experience",typeKeywords:[],nextStep:"itemProperties"}},r.u.featureFlags.tileLayer3dTiles?{"3DTiles Package":{fileExt:["3tz"],type:"3DTiles Package",typeKeywords:["3DTiles","3DTiles Package"],nextStep:"publishSelect"},"3DTiles Service":{type:"3DTiles Service",typeKeywords:["Data","Service","3DTiles Service","ArcGIS Server","Hosted Service"]}}:{}),{"Apache Parquet":{fileExt:["parquet"],type:"Apache Parquet",typeKeywords:[],nextStep:"itemProperties"},"AppBuilder Widget Package":{fileExt:["zip"],type:"AppBuilder Widget Package",typeKeywords:[]},"Desktop Add In":{fileExt:["esriaddin"],type:"Desktop Add In",typeKeywords:["Tool","Add In","Desktop Add In","ArcGIS Desktop","ArcMap","ArcGlobe","ArcScene","esriaddin"],nextStep:"itemProperties"},"Explorer Add In":{fileExt:["eaz"],type:"Explorer Add In",typeKeywords:["Tool","Add In","Explorer Add In","ArcGIS Explorer","eaz"],nextStep:"itemProperties"},"Explorer Map":{fileExt:["nmf"],type:"Explorer Map",typeKeywords:["Map","Explorer Map","Explorer Document","2D","3D","ArcGIS Explorer","nmf"],nextStep:"itemProperties"},"ArcGIS Explorer Application Configuration":{fileExt:["ncfg"],type:"Explorer Map",typeKeywords:["Map","Explorer Map","Explorer Mapping Application","2D","3D","ArcGIS Explorer"],nextStep:"itemProperties"},"Explorer Layer":{fileExt:["nmc"],type:"Explorer Layer",typeKeywords:["Data","Layer","Explorer Layer","ArcGIS Explorer","nmc"],nextStep:"itemProperties"},"Windows Mobile Package":{fileExt:["wmpk"],type:"Windows Mobile Package",typeKeywords:[],nextStep:"itemProperties"},"ArcGIS Pro Add In":{fileExt:["esriaddinx"],type:"ArcGIS Pro Add In",typeKeywords:["Tool","Add In","Pro Add In","esriaddinx"],nextStep:"itemProperties"},"ArcGIS Pro Configuration":{fileExt:["proconfigx"],type:"ArcGIS Pro Configuration",typeKeywords:[],nextStep:"itemProperties"},"Globe Document":{fileExt:["3dd"],type:"Globe Document",typeKeywords:["Map","Globe Document","3D","ArcGlobe","ArcGIS Server","3dd"],nextStep:"itemProperties"},"Map Document":{fileExt:["msd"],type:"Map Document",typeKeywords:["Map Document","Map","2D","ArcMap","ArcGIS Server","msd"],nextStep:"itemProperties"},"ArcMap Document":{fileExt:["mxd"],type:"Map Document",typeKeywords:["Map Document","Map","2D","ArcMap","ArcGIS Server"],nextStep:"itemProperties"},"ArcPad Package":{fileExt:["zip"],type:"ArcPad Package",typeKeywords:["Map","Layer","Data"]},"Published Map":{fileExt:["pmf"],type:"Published Map",typeKeywords:["Map","Published Map","2D","ArcReader","ArcMap","ArcGIS Server","pmf"],nextStep:"itemProperties"},"Scene Document":{fileExt:["sxd"],type:"Scene Document",typeKeywords:["Map","Scene Document","3D","ArcScene","sxd"],nextStep:"itemProperties"},"CityEngine Web Scene":{fileExt:["3ws"],type:"CityEngine Web Scene",typeKeywords:["3D","Map","Scene","Web"],thumbnailURL:"/cw_webscene.png",nextStep:"itemProperties"},"Code Sample":{fileExt:["zip"],type:"Code Sample",typeKeywords:["Code","Sample"]},"CSV Collection":{fileExt:["zip"],type:"CSV Collection",typeKeywords:[]},CSV:{fileExt:["csv"],type:"CSV",typeKeywords:["CSV"],nextStep:"publishSelect",appendUploadFormat:"csv"},"CAD Drawing":{fileExt:["zip"],type:"CAD Drawing",typeKeywords:[]},"Deep Learning Package":{fileExt:["zip","dlpk"],type:"Deep Learning Package",typeKeywords:["Deep Learning","Raster"],nextStep:"itemProperties"},"Desktop Application":{type:"Desktop Application",typeKeywords:["Desktop Application"]},"Desktop Application Template":{fileExt:["zip"],type:"Desktop Application Template",typeKeywords:["application","template","ArcGIS desktop"]},"Desktop Style":{fileExt:["stylx"],type:"Desktop Style",typeKeywords:["ArcGIS Pro","Symbology","Style","Symbols"],nextStep:"itemProperties"},"Earth Configuration":{fileExt:["xml"],type:"Earth Configuration",typeKeywords:["ArcGIS Earth","Earth","Earth Configuration"],nextStep:"itemProperties",orgOnly:!0},"Esri Classifier Definition":{type:"Esri Classifier Definition",fileExt:["ecd"],typeKeywords:[],nextStep:"itemProperties"},"Feature Collection":{type:"Feature Collection",fileExt:["featurecollection"],nextStep:"itemProperties",typeKeywords:[]},"File Geodatabase":{fileExt:["zip"],type:"File Geodatabase",typeKeywords:[],appendUploadFormat:"filegdb"},GeoJson:{fileExt:["geojson","json"],type:"GeoJson",typeKeywords:["Coordinates Type","CRS","Feature","FeatureCollection","GeoJSON","Geometry","GeometryCollection"],nextStep:"publishSelect",appendUploadFormat:"geojson"},"Geoprocessing Package":{fileExt:["gpk","gpkx"],type:"Geoprocessing Package",typeKeywords:["ArcGIS Desktop","ArcGlobe","ArcMap","ArcScene","Geoprocessing Package","gpk","Model","Result","Script","Sharing","Tool","Toolbox"],nextStep:"itemProperties"},GeoPackage:{fileExt:["gpkg"],type:"GeoPackage",typeKeywords:["Data","GeoPackage","gpkg"],nextStep:"publishSelect",appendUploadFormat:"geoPackage"},"Geoprocessing Sample":{fileExt:["zip"],type:"Geoprocessing Sample",typeKeywords:["tool","geoprocessing","sample"]},GeoRSS:{type:"GeoRSS",typeKeywords:[]},GML:{fileExt:["zip"],type:"GML",typeKeywords:[],orgOnly:!0},"Image Collection":{fileExt:["zip"],type:"Image Collection",typeKeywords:[],orgOnly:!0},Image:{fileExt:["jpg","jpeg","png","tif","tiff","gif"],type:"Image",typeKeywords:["Data","Image"],nextStep:"itemProperties",orgOnly:!0,allowAddDirect:!0},"iWork Keynote":{fileExt:["key"],type:"iWork Keynote",typeKeywords:["Data","Document","Mac"],orgOnly:!0,nextStep:"itemProperties"},"iWork Numbers":{fileExt:["numbers"],type:"iWork Numbers",typeKeywords:["Data","Document","Mac"],orgOnly:!0,nextStep:"itemProperties"},"iWork Pages":{fileExt:["pages"],type:"iWork Pages",typeKeywords:["Data","Document","Mac"],orgOnly:!0,nextStep:"itemProperties"},"KML Collection":{fileExt:["zip"],type:"KML Collection",typeKeywords:[]},KML:{type:"KML",fileExt:["kml","kmz"],typeKeywords:["Data","Map","kml"],nextStep:"itemProperties"},Layer:{fileExt:["lyr"],type:"Layer",typeKeywords:["Data","Layer","ArcMap","ArcGlobe","ArcGIS Explorer","lyr"],nextStep:"itemProperties"},"Layer File":{fileExt:["lyrx"],type:"Layer",typeKeywords:["ArcGIS Pro","Layer","Layer File"],nextStep:"itemProperties"},"Layer Package":{fileExt:["lpk","lpkx"],type:"Layer Package",typeKeywords:[],nextStep:"itemProperties"},Layout:{fileExt:["pagx"],type:"Layout",typeKeywords:["ArcGIS Pro","Layout","Layout File","pagx"],nextStep:"itemProperties"},"Locator Package":{fileExt:["gcpk"],type:"Locator Package",typeKeywords:[],nextStep:"itemProperties"},"Map Package":{fileExt:["mpk","mpkx"],type:"Map Package",typeKeywords:[],nextStep:"itemProperties"},"Map Template":{fileExt:["zip"],type:"Map Template",typeKeywords:["map","ArcMap","template","ArcGIS desktop"]},"Microsoft Excel":{fileExt:["xls","xlsx"],type:"Microsoft Excel",typeKeywords:["Data","Document","Microsoft Excel"],nextStep:"publishSelect",orgOnly:!0,appendUploadFormat:"excel"},"Microsoft Powerpoint":{fileExt:["ppt","pptx"],type:"Microsoft Powerpoint",typeKeywords:["Data","Document","Microsoft Powerpoint"],nextStep:"itemProperties",orgOnly:!0},"Visio Document":{fileExt:["vsd"],type:"Visio Document",typeKeywords:["Data","Document","Visio Document"],nextStep:"itemProperties",orgOnly:!0},"Microsoft Word":{fileExt:["doc","docx"],type:"Microsoft Word",typeKeywords:["Data","Document"],nextStep:"itemProperties",orgOnly:!0},"Mobile Basemap Package":{fileExt:["bpk"],type:"Mobile Basemap Package",typeKeywords:[],nextStep:"itemProperties"},"Mobile Map Package":{fileExt:["mmpk"],type:"Mobile Map Package",typeKeywords:[],nextStep:"itemProperties"},"Mobile Scene Package":{fileExt:["mspk"],type:"Mobile Scene Package",typeKeywords:[],thumbnailURL:"/mobilescenepackage.png",nextStep:"itemProperties"},Notebook:{fileExt:["ipynb"],type:"Notebook",typeKeywords:["Notebook","Python"],nextStep:"itemProperties",orgOnly:!0},PDF:{fileExt:["pdf"],type:"PDF",typeKeywords:["Data","Document","PDF"],nextStep:"itemProperties",orgOnly:!0},"Pro Map":{fileExt:["mapx"],type:"Pro Map",typeKeywords:["ArcGIS Pro","Map","Map File","mapx"],nextStep:"itemProperties"},"Pro Report":{fileExt:["rptx"],type:"Pro Report",typeKeywords:[],nextStep:"itemProperties",orgOnly:!0},"Project Package":{fileExt:["ppkx"],type:"Project Package",typeKeywords:[],nextStep:"itemProperties"},"Project Template":{fileExt:["aptx"],type:"Project Template",typeKeywords:[],nextStep:"itemProperties"},"Raster function template":{fileExt:["rft.json","rft.xml"],type:"Raster function template",typeKeywords:["Raster","Functions","Processing","rft","srf","function template","templates","ArcGIS Pro"],nextStep:"itemProperties"},"Rule Package":{fileExt:["rpk"],type:"Rule Package",typeKeywords:[],nextStep:"itemProperties"},"Scene Package":{fileExt:["slpk","spk"],type:"Scene Package",typeKeywords:[],nextStep:"publishSelect"},"Service Definition":{fileExt:["sd"],type:"Service Definition",typeKeywords:["Data","Service","Service Definition"],nextStep:"publishSelect"},Shapefile:{fileExt:["zip"],type:"Shapefile",typeKeywords:["Data","Layer","shapefile"],appendUploadFormat:"shapefile"},"Survey123 Add In":{fileExt:["surveyaddin"],type:"Survey123 Add In",typeKeywords:["Add In","Survey123 Add In","Tool"],nextStep:"itemProperties",orgOnly:!0},"Tile Package":{fileExt:["tpk","tpkx"],type:"Tile Package",typeKeywords:[],nextStep:"publishSelect"},"Vector Tile Package":{fileExt:["vtpk"],type:"Vector Tile Package",typeKeywords:[],nextStep:"publishSelect"},"Workflow Manager Package":{fileExt:["wpk"],type:"Workflow Manager Package",typeKeywords:[],nextStep:"itemProperties"},"Document Link":{type:"Document Link",typeKeywords:["Data","Document"]},FeatureServer:{type:"Feature Service",typeKeywords:["ArcGIS Server","Data","Feature Access","Feature Service","Service","Singlelayer","Hosted Service"]},GeocodeServer:{type:"Geocoding Service",thumbnailURL:"/desktopapp.png",typeKeywords:["ArcGIS Server","Geocoding Service","Locator Service","Service","Tool","Service Proxy"]},GeoDataServer:{type:"Geodata Service",typeKeywords:["Data","Service","Geodata Service","ArcGIS Server"]},GeometryServer:{type:"Geometry Service",typeKeywords:["Tool","Service","Geometry Service","ArcGIS Server"],thumbnailURL:"/desktopapp.png"},GeoenrichmentServer:{type:"Geoenrichment Service",typeKeywords:["Geoenrichment Service","ArcGIS Server"],thumbnailURL:"/desktopapp.png"},GPServer:{type:"Geoprocessing Service",typeKeywords:["Tool","Service","Geoprocessing Service","ArcGIS Server"]},GlobeServer:{type:"Globe Service",typeKeywords:["Data","Service","Globe Service","ArcGIS Server"],thumbnailURL:"/desktopapp.png"},ImageServer:{type:"Image Service",typeKeywords:["Data","Service","Image Service","ArcGIS Server"]},MapServer:{type:"Map Service",typeKeywords:["Data","Service","Map Service","ArcGIS Server"]},NAServer:{type:"Network Analysis Service",typeKeywords:["Tool","Service","Network Analysis Service","ArcGIS Server"]},ElevationServer:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:["Elevation 3D Layer"]},VectorTileServer:{type:"Vector Tile Service",typeKeywords:[]},WFS:{type:"WFS",typeKeywords:["Data","Service","Web Feature Service","OGC"]},WMS:{type:"WMS",typeKeywords:["Data","Service","Web Map Service","OGC"]},WMTS:{type:"WMTS",typeKeywords:["Data","Service","OGC"]},ogcFeature:{type:"OGCFeatureServer",typeKeywords:["Data","Service","Feature Service","OGC","OGC Feature Service"]},SceneServer:{type:"Scene Service",typeKeywords:["Scene Service"]},StreamServer:{type:"Stream Service",typeKeywords:["Data","Service","Stream Service","ArcGIS Server"]},VideoServer:{type:"Video Service",typeKeywords:[]},WMServer:{type:"Workflow Manager Service",thumbnailURL:"/desktopapp.png",typeKeywords:["Workflow Manager","ArcGIS Server","WMServer","Workflow","JTX","Job Tracking"]},TiledImageServer:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:["Tiled Imagery"]},"Web Mapping Application":{type:"Web Mapping Application",typeKeywords:["JavaScript","Map","Mapping Site","Online Map","Ready To Use","Web AppBuilder","Web Map (+ WAB2D or WAB3D)"]},"Mobile Application":{type:"Mobile Application",typeKeywords:["ArcGIS Mobile Map","Mobile Application"]},"AppBuilder Extension":{type:"AppBuilder Extension",typeKeywords:["Widget","App Builder"]},"Google Drive":{type:"Google Drive",typeKeywords:["CSV","Shapefile","GeoJSON","Excel","FileGeodatabase"]},Dropbox:{type:"Dropbox",typeKeywords:["CSV","Shapefile","GeoJSON","Excel","FileGeodatabase"]},OneDrive:{type:"OneDrive",typeKeywords:["CSV","Shapefile","GeoJSON","Excel","FileGeodatabase"]},"Map Service":{type:"Map Service",typeKeywords:["ArcGIS Server","Data","Map Service","Service","Hosted Service"]},StoryMap:{type:"StoryMap",typeKeywords:["arcgis-storymaps","StoryMap","Web Application (smstatusdraft or smsstatuspublished)"]},Dashboard:{type:"Dashboard",typeKeywords:["Dashboard","Operations Dashboard"]},"Hub Initiative":{type:"Hub Initiative",typeKeywords:["Hub","hubInitiative","OpenData"]},"Hub Site Application":{type:"Hub Site Application",typeKeywords:["Hub","hubSite","hubSolution","JavaScript","Map","Mapping Site","Online Map","OpenData","Ready To Use","selfConfigured","Web Map","Registered App"]},"Web Experience":{type:"Web Experience",typeKeywords:["EXB Experience","JavaScript","Ready To Use Web Application","Web Experience","Web Mapping Application","Web Page","Web Site"]},"Insights Workbook Package":{type:"Insights Workbook Package",fileExt:["insightswbk"],typeKeywords:["Insights","Insights Workbook Package"],nextStep:"itemProperties"},sde:{type:"Spatial Database Engine",fileExt:["sde"],typeKeywords:["sde"]},"Pro Report Template":{type:"Pro Report Template",fileExt:["rptt"],typeKeywords:["Pro Report Template","rptt"],nextStep:"itemProperties"}})},41171:(e,t,i)=>{i.d(t,{a:()=>D,b:()=>E,c:()=>f,d:()=>b,e:()=>s,f:()=>g,g:()=>x,h:()=>n,i:()=>T,j:()=>v,k:()=>w,l:()=>k,p:()=>y,q:()=>P,r:()=>d});var r=i(66716),o=i(76134),a=i(62381),p=i(26426);function n(e){var t,i,r,a;return null!=e||(e=null===o.c||void 0===o.c?void 0:o.c.portal),(null===(t=null==e?void 0:e.credential)||void 0===t?void 0:t.token)||(null==e?void 0:e.token)||(null===(r=null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.credential)||void 0===r?void 0:r.token)||(null===(a=null==e?void 0:e.portalUser)||void 0===a?void 0:a.token)||""}function l(e){var t;const{config:i}=o.c;return"https:"===window.location.protocol||!0===(null===(t=null==i?void 0:i.self)||void 0===t?void 0:t.allSSL)?e.replace("http:","https:"):e}async function s(e,t,i={},a){const[p]=await(0,r.l)(["esri/request"]),{api:s}=o.c;e.includes("f=")||t.append("f","json");const d=n();return d&&!t.has("token")&&t.append("token",d),new Promise(((r,o)=>{if(3===s){const n={url:!1===i.addSSL?e:l(e),form:t,timeout:i.timeout||0},s="post"===a?Object.assign({usePost:!0},i):i;p(n,s).then(r,o)}else p(e,Object.assign(Object.assign({body:t},i),{timeout:i.timeout||0,method:a||"auto"})).then((e=>{r(e.data)})).catch((e=>o(e)))}))}async function d(e,t={},i={},a,p){const[n]=await(0,r.l)(["esri/request"]),{api:s,portal:d}=o.c,c=Object.assign({},t);if(e.includes("f=")||!0===(null==p?void 0:p.excludeJson)||(c.f="json"),!1!==i.addTokenManually){const e=await b(d,s);c.token=e}const y=!1===i.addSSL?e:l(e);if(3===s)return n(Object.assign({url:y,content:c,timeout:i.timeout||0,withCredentials:i.withCredentials},null==p?void 0:p.v3Request),"post"===a?Object.assign({usePost:!0},i):i);{const e=Object.assign(Object.assign(Object.assign({query:c,method:a||"auto"},i),{timeout:i.timeout||0}),(null==i?void 0:i.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await n(y,e)).data}}const c=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120],y=async(e,t,i)=>{var r,o;const a=null!==(r=null==t?void 0:t.pendingStatuses)&&void 0!==r?r:["processing","partial","Pending","InProgress","EXECUTING"],n=null!==(o=null==t?void 0:t.successStatuses)&&void 0!==o?o:["completed","Completed","COMPLETED"];let l=0;const s=async()=>{const r=await d(e,null==t?void 0:t.requestParams,{},i),o=r.status||r.jobStatus;if(a.includes(o))return await(0,p.t)((y=l++,1e3*c[y>-1&&y<c.length-1?y:c.length-1])),s();if(n.includes(o))return r;throw r;var y};try{return s()}catch(e){throw console.error(e),e}},u={},S={},m={};async function g(e,t,i,r){var o,a,p,n;const l=null===(a=null===(o=m[t])||void 0===o?void 0:o[i])||void 0===a?void 0:a.expireAt,s=!!l&&(new Date).getTime()>l;if((null===(p=u[t])||void 0===p?void 0:p[i])&&!s)return u[t][i];S[t]||(S[t]={}),S[t][i]&&!s||(S[t][i]=e());const d=await S[t][i];if(u[t]||(u[t]={}),m[t]||(m[t]={}),u[t][i]=d,r){const{expireAfter:e,getExpireAfterFromResult:o}=r,a=o||e?(new Date).getTime()+(null!==(n=null==o?void 0:o(d))&&void 0!==n?n:e):null;m[t][i]=Object.assign(Object.assign({},m[t][i]),{expireAt:a})}return d}function v(e,t){var i;return null===(i=null==u?void 0:u[e])||void 0===i?void 0:i[t]}const f=(e,t)=>{var i,r;t?(null===(i=u[e])||void 0===i||delete i[t],null===(r=S[e])||void 0===r||delete r[t]):(delete u[e],delete S[e])};function x(e){var t;const{portal:i,config:r}=o.c||{};return null!==(t=(0,a.d)(null==r?void 0:r.restBaseUrl))&&void 0!==t?t:w(e||i)}function w(e){var t;return(0,a.d)(null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl)}const b=async(e,t)=>{var i,r;if(!(null==e?void 0:e.isPortal)||!e.isWebTierAuth)return n(e);const{token:a}=await g((()=>h(e,null!=t?t:null===o.c||void 0===o.c?void 0:o.c.api)),"platformSelf",null!==(r=null===(i=e.user)||void 0===i?void 0:i.id)&&void 0!==r?r:e.id,{getExpireAfterFromResult:e=>e.expires_in});return a},h=async(e,t)=>{const i=await(async(e,t)=>{var i,o,a,p;const n=3===t,[l]=await r.e.loadModules([n?"esri/IdentityManager":"esri/identity/IdentityManager"]),s=await g((()=>l.getCredential(x(e),{oAuthPopupConfirmation:!1})),"credential",null===(i=e.user)||void 0===i?void 0:i.id);return null!==(p=n?null===(o=s._oAuthCred)||void 0===o?void 0:o.appId:null===(a=s.oAuthState)||void 0===a?void 0:a.appId)&&void 0!==p?p:"arcgisonline"})(e,t),o={"X-Esri-Auth-Client-Id":i,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return d(`${x(e)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:4===t?o:void 0,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:o}})};async function P(e={},t){return d(`${x(t)}/community/groups`,e)}const k=async(e,t)=>{var i;if(!e)return[];const r=`${(0,a.d)(null!==(i=t.restUrl)&&void 0!==i?i:t.portalUrl)}portals/self/servers`,o=await d(r);return null==o?void 0:o.servers},D=e=>E(w(e)),E=e=>{var t;const i=`${(0,a.d)(null!==(t=(0,a.l)(e))&&void 0!==t?t:e)}info`;return g((()=>d(i,{},{addTokenManually:!1})),"portalInfo",i)},T=async(e,t)=>{if(e.isBackedBySDS)return{result:!0};const i=(0,a.e)(t)||(0,a.f)(t)||(0,a.g)(t)||(0,a.h)(t)||(0,a.j)(t);if(e.isPortal&&t&&(i||(0,a.k)(t)))try{const i=await I(t,e);return{result:!!(null==i?void 0:i[0])}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}return{result:!0}},I=async(e,t)=>{const i=await K(e,t);if(!i)return null;const r=`${i.adminUrl}/admin/data/findItems`;return(await d(r,{managed:!0})).items.filter((e=>{var t;return"arcgis data store"===(null===(t=e.provider)||void 0===t?void 0:t.toLowerCase())}))},K=async(e,t)=>{var i;return(null!==(i=await k(e,t))&&void 0!==i?i:[]).filter((e=>e.isHosted))[0]}},54871:(e,t,i)=>{i.d(t,{a:()=>r,u:()=>o});const r=(0,i(27010).c)({nextText:"next",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{tileLayer3dTiles:!1}}),o=r.state}}]);