/*! For license information please see 990f0e7d35aec78948eb9d0e46100f47.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[73124],{73124:(e,t,i)=>{i.r(t),i.d(t,{arcgis_file_browser:()=>l});var n=i(28384),o=i(62727),r=i(59004);i(18869),i(81068),i(66716),i(62381),i(76134),i(27010),i(41171);const l=class{constructor(e){(0,n.r)(this,e),this.cloudDriveConnected=(0,n.c)(this,"cloudDriveConnected",7),this.fileSelect=(0,n.c)(this,"fileSelect",7),this.portal=void 0,this.config=void 0,this.user=void 0,this.userLicensedItems=void 0,this.cloud=!0,this.showHelpLinkOnError=!0,this.allowedExtensions=null,this.validTypes=null,this.maxFileSize=void 0,this.insideModal=void 0,this.fullHeight=void 0,this.helpText=void 0,this.helpLink=void 0,this.helpIdType="default",this.errorMessage=void 0,this.files=void 0,this.fromDevice=!1}async componentWillLoad(){const{el:e,user:t,portal:i,userLicensedItems:n}=this,l=await(0,o.g)(e);this.i18n=l[0],this.canPublishFromCloud=this.cloud&&(0,r.c)(t,i,n)}connectCloudDrive(e){this.cloudDriveConnected.emit(e)}async focusMainInput(){this.mainInputRef.focus()}render(){const{i18n:e,canPublishFromCloud:t,allowedExtensions:i,maxFileSize:o,insideModal:r,helpText:l,helpLink:s,helpIdType:a,fullHeight:u,user:c,config:d,showHelpLinkOnError:v,validTypes:h}=this;return(0,n.h)("arcgis-drag-and-drop",{files:this.files,showHelpLinkOnError:v,allowedExtensions:i,helpIdType:a,validTypes:h,maxFileSize:o,insideModal:r,fullHeight:u,class:{"full-height":u},user:c,config:d,onArcgisDropSuccess:e=>{this.fileSelect.emit({file:e.detail,source:this.fromDevice?"local-device":"drag-n-drop"})}},(0,n.h)("div",{class:{"file-browser":!0,"full-height":u}},(0,n.h)("svg",{width:"42",height:"54",viewBox:"0 0 42 54",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,n.h)("path",{d:"M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z",fill:"#6A6A6A"}),")",(0,n.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z",fill:"#6A6A6A"})),(0,n.h)("input",{onChange:e=>{this.fromDevice=!0,this.files=Object.assign({},e.target.files),this.inputElement.value=null},ref:e=>this.inputElement=e,accept:null==i?void 0:i.map((e=>`.${e}`)).join(","),tabIndex:-1,class:"input",type:"file"}),(0,n.h)("div",{class:"text-container"},(0,n.h)("h3",{class:"text"},e.drag),s?(0,n.h)("calcite-link",{href:s,target:"_blank"},l):(0,n.h)("p",{class:"help-text"},l)),(0,n.h)("div",{class:"cta-container"},(0,n.h)("button",{class:"file-browser-button",onClick:()=>{var e;return null===(e=this.inputElement)||void 0===e?void 0:e.click()},ref:e=>this.mainInputRef=e},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("calcite-icon",{icon:"desktop"})),(0,n.h)("span",{class:"file-browser-button__text"},e.device)),t&&[(0,n.h)("button",{class:"file-browser-button",onClick:()=>this.connectCloudDrive("google drive")},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{d:"m9.84 48.35 2.3 4a5.25 5.25 0 0 0 2 2l8.2-14.2H5.9a5.4 5.4 0 0 0 .72 2.69z",fill:"#0066da"}),(0,n.h)("path",{d:"m32 23.37-8.26-14.2a5.29 5.29 0 0 0-2 2L6.62 37.39a5.42 5.42 0 0 0-.72 2.69h16.41z",fill:"#00ac47"}),(0,n.h)("path",{d:"M49.79 54.28a5.25 5.25 0 0 0 2-2l1-1.64 4.56-7.9a5.4 5.4 0 0 0 .65-2.66H41.59l3.49 6.86z",fill:"#ea4335"}),(0,n.h)("path",{d:"m32 23.37 8.21-14.2a5.24 5.24 0 0 0-2.69-.72h-11a5.58 5.58 0 0 0-2.69.72z",fill:"#00832d"}),(0,n.h)("path",{d:"M41.59 40.08H22.31l-8.2 14.2a5.2 5.2 0 0 0 2.68.72h30.32a5.51 5.51 0 0 0 2.68-.72z",fill:"#2684fc"}),(0,n.h)("path",{d:"m49.7 24.27-7.57-13.13a5.39 5.39 0 0 0-2-2L32 23.37l9.64 16.71H58a5.43 5.43 0 0 0-.72-2.69z",fill:"#ffba00"}))),(0,n.h)("span",{class:"file-browser-button__text"},e.googleDrive)),(0,n.h)("button",{class:"file-browser-button",onClick:()=>this.connectCloudDrive("dropbox")},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{d:"M20 11.61 8 19.26l12 7.64 12-7.64-12-7.65zM44 11.61l-12 7.65 12 7.64 12-7.64-12-7.65z",fill:"#0061ff"}),(0,n.h)("path",{d:"m8 34.55 12 7.64 12-7.64-12-7.65-12 7.65zM44 26.9l-12 7.65 12 7.64 12-7.64-12-7.65zM20 44.74l12 7.65 12-7.65-12-7.64-12 7.64z",fill:"#0061ff"}))),(0,n.h)("span",{class:"file-browser-button__text"},e.dropbox)),(0,n.h)("button",{class:"file-browser-button",onClick:()=>this.connectCloudDrive("onedrive")},(0,n.h)("span",{class:"file-browser-button__icon"},(0,n.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("g",null,(0,n.h)("path",{d:"M37.14 37.93 47.5 28a15.68 15.68 0 0 0-28.29-4.7c.16 0 17.93 14.63 17.93 14.63z",fill:"#0364b8"}),(0,n.h)("path",{d:"M26 25.16a12.38 12.38 0 0 0-6.59-1.87h-.16A12.53 12.53 0 0 0 9.09 43l15.51-1.94 11.89-9.59z",fill:"#0078d4"}),(0,n.h)("path",{d:"M47.5 28h-.69a10.18 10.18 0 0 0-4 .83l-6.28 2.64L43.41 40l12.37 3a10.2 10.2 0 0 0-8.28-15z",fill:"#1490df"}),(0,n.h)("path",{d:"M9.09 43a12.53 12.53 0 0 0 10.28 5.37h27.44a10.19 10.19 0 0 0 9-5.36L36.49 31.47z",fill:"#28a8ea"})))),(0,n.h)("span",{class:"file-browser-button__text"},e.oneDrive))])))}get el(){return(0,n.d)(this)}};l.style=".file-browser{padding-top:2rem;padding-bottom:2rem;text-align:center;margin-bottom:2rem;width:100%;background-color:var(--calcite-ui-background);border-style:dashed;border-width:2px;border-color:var(--calcite-ui-border-1);box-sizing:border-box}.file-browser.full-height{align-items:center;justify-content:center}.file-browser.append-height{align-items:center;justify-content:center}.alert{text-align:initial}.input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.text-container{margin-top:2rem;margin-bottom:2rem}.text{font-weight:500;font-size:1rem;color:var(--calcite-ui-text-1);margin-top:0;margin-bottom:0}.help-text{font-weight:400;font-size:0.875rem;margin-left:auto;margin-right:auto;margin-top:0.5rem;margin-bottom:0;max-width:38rem}.file-browser-button{font-size:0.875rem;line-height:1rem;padding:0;margin-top:0;margin-bottom:0;margin-left:0.75rem;margin-right:0.75rem;width:auto;color:var(--calcite-ui-text-1);border-radius:0;box-sizing:border-box;cursor:pointer;display:inline-flex;align-items:center;border:1px solid var(--calcite-ui-border-1);background-color:white;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.file-browser-button:hover{border-color:var(--calcite-ui-brand)}.file-browser-button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.file-browser-button__icon{background-color:#f8f8f8;color:var(--calcite-ui-text-link);width:32px;height:32px;box-sizing:border-box;padding:4px;display:flex;align-items:center;justify-content:center}.file-browser-button__icon svg{width:100%}.file-browser-button__text{padding:8px}:host(.full-height),.full-height{display:flex;flex-direction:column;height:100%;width:100%}"},76134:(e,t,i)=>{i.d(t,{c:()=>o,o:()=>r});const n=(0,i(27010).c)({portal:null,user:null,api:4,scale:"m"}),o=n.state,r=n.onChange},81068:(e,t,i)=>{i.d(t,{C:()=>s,a:()=>c,f:()=>a,g:()=>l,l:()=>r});var n=i(66716),o=i(18869);const r=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function l(e){return function(e,t,i){const n=(0,o.c)(e,"[dir]");return n?n.getAttribute("dir"):"ltr"}(e)}const s={rtl:"arcgis--rtl"};async function a(e,t){const{api:i,type:o,places:r}=t||{};if(4===i){const[t]=await(0,n.l)(["esri/intl"]),i=t.convertNumberFormatToIntlOptions({places:r,style:o,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},i),{style:o}))}const[l]=await(0,n.l)(["dojo/number"]);return l.format(e,{type:o,places:r,pattern:null==t?void 0:t.pattern})}const u={};function c(e){const t=document.documentElement.lang;return u[t]||(u[t]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),u[t].format(e)}},62727:(e,t,i)=>{i.d(t,{a:()=>l,g:()=>u});var n=i(18869),o=i(81068),r=i(28384);function l(e){var t,i,r;const l=null!==(t=(0,n.c)(e,"[lang]"))&&void 0!==t?t:null===(r=null===(i=e.shadowRoot)||void 0===i?void 0:i.ownerDocument)||void 0===r?void 0:r.documentElement,s=((null==l?void 0:l.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return o.l.has(s)?o.l.get(s):o.l.has(s.slice(0,2))?o.l.get(s.slice(0,2)):"en"}const s={};function a(e,t){const i=`${e}${t}`;return s[i]||(s[i]=function(e,t){return new Promise(((i,n)=>{fetch((0,r.a)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then((e=>{e.ok?i(e.json()):n()}),(()=>n()))}))}(e,t)),s[i]}async function u(e,t){const i=t||e.tagName.toLowerCase(),r=l(e),s=function(e){var t,i,r;const l=null!==(t=(0,n.c)(e,"[lang]"))&&void 0!==t?t:null===(r=null===(i=e.shadowRoot)||void 0===i?void 0:i.ownerDocument)||void 0===r?void 0:r.documentElement,s=((null==l?void 0:l.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return o.l.has(s)?o.l.get(s):o.l.has(s.slice(0,2))?s:"en"}(e);let u;try{u=await a(i,r)}catch(e){console.warn(`no locale for ${i} (${r}) loading default locale en.`),u=await a(i,"en")}return[u,r,s]}},41171:(e,t,i)=>{i.d(t,{a:()=>L,b:()=>I,c:()=>b,d:()=>y,e:()=>u,f:()=>g,g:()=>w,h:()=>s,i:()=>P,j:()=>m,k:()=>x,l:()=>S,p:()=>v,q:()=>C,r:()=>c});var n=i(66716),o=i(76134),r=i(62381),l=i(26426);function s(e){var t,i,n,r;return null!=e||(e=null===o.c||void 0===o.c?void 0:o.c.portal),(null===(t=null==e?void 0:e.credential)||void 0===t?void 0:t.token)||(null==e?void 0:e.token)||(null===(n=null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.credential)||void 0===n?void 0:n.token)||(null===(r=null==e?void 0:e.portalUser)||void 0===r?void 0:r.token)||""}function a(e){var t;const{config:i}=o.c;return"https:"===window.location.protocol||!0===(null===(t=null==i?void 0:i.self)||void 0===t?void 0:t.allSSL)?e.replace("http:","https:"):e}async function u(e,t,i={},r){const[l]=await(0,n.l)(["esri/request"]),{api:u}=o.c;e.includes("f=")||t.append("f","json");const c=s();return c&&!t.has("token")&&t.append("token",c),new Promise(((n,o)=>{if(3===u){const s={url:!1===i.addSSL?e:a(e),form:t,timeout:i.timeout||0},u="post"===r?Object.assign({usePost:!0},i):i;l(s,u).then(n,o)}else l(e,Object.assign(Object.assign({body:t},i),{timeout:i.timeout||0,method:r||"auto"})).then((e=>{n(e.data)})).catch((e=>o(e)))}))}async function c(e,t={},i={},r,l){const[s]=await(0,n.l)(["esri/request"]),{api:u,portal:c}=o.c,d=Object.assign({},t);if(e.includes("f=")||!0===(null==l?void 0:l.excludeJson)||(d.f="json"),!1!==i.addTokenManually){const e=await y(c,u);d.token=e}const v=!1===i.addSSL?e:a(e);if(3===u)return s(Object.assign({url:v,content:d,timeout:i.timeout||0,withCredentials:i.withCredentials},null==l?void 0:l.v3Request),"post"===r?Object.assign({usePost:!0},i):i);{const e=Object.assign(Object.assign(Object.assign({query:d,method:r||"auto"},i),{timeout:i.timeout||0}),(null==i?void 0:i.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await s(v,e)).data}}const d=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120],v=async(e,t,i)=>{var n,o;const r=null!==(n=null==t?void 0:t.pendingStatuses)&&void 0!==n?n:["processing","partial","Pending","InProgress","EXECUTING"],s=null!==(o=null==t?void 0:t.successStatuses)&&void 0!==o?o:["completed","Completed","COMPLETED"];let a=0;const u=async()=>{const n=await c(e,null==t?void 0:t.requestParams,{},i),o=n.status||n.jobStatus;if(r.includes(o))return await(0,l.t)((v=a++,1e3*d[v>-1&&v<d.length-1?v:d.length-1])),u();if(s.includes(o))return n;throw n;var v};try{return u()}catch(e){throw console.error(e),e}},h={},p={},f={};async function g(e,t,i,n){var o,r,l,s;const a=null===(r=null===(o=f[t])||void 0===o?void 0:o[i])||void 0===r?void 0:r.expireAt,u=!!a&&(new Date).getTime()>a;if((null===(l=h[t])||void 0===l?void 0:l[i])&&!u)return h[t][i];p[t]||(p[t]={}),p[t][i]&&!u||(p[t][i]=e());const c=await p[t][i];if(h[t]||(h[t]={}),f[t]||(f[t]={}),h[t][i]=c,n){const{expireAfter:e,getExpireAfterFromResult:o}=n,r=o||e?(new Date).getTime()+(null!==(s=null==o?void 0:o(c))&&void 0!==s?s:e):null;f[t][i]=Object.assign(Object.assign({},f[t][i]),{expireAt:r})}return c}function m(e,t){var i;return null===(i=null==h?void 0:h[e])||void 0===i?void 0:i[t]}const b=(e,t)=>{var i,n;t?(null===(i=h[e])||void 0===i||delete i[t],null===(n=p[e])||void 0===n||delete n[t]):(delete h[e],delete p[e])};function w(e){var t;const{portal:i,config:n}=o.c||{};return null!==(t=(0,r.d)(null==n?void 0:n.restBaseUrl))&&void 0!==t?t:x(e||i)}function x(e){var t;return(0,r.d)(null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl)}const y=async(e,t)=>{var i,n;if(!(null==e?void 0:e.isPortal)||!e.isWebTierAuth)return s(e);const{token:r}=await g((()=>k(e,null!=t?t:null===o.c||void 0===o.c?void 0:o.c.api)),"platformSelf",null!==(n=null===(i=e.user)||void 0===i?void 0:i.id)&&void 0!==n?n:e.id,{getExpireAfterFromResult:e=>e.expires_in});return r},k=async(e,t)=>{const i=await(async(e,t)=>{var i,o,r,l;const s=3===t,[a]=await n.e.loadModules([s?"esri/IdentityManager":"esri/identity/IdentityManager"]),u=await g((()=>a.getCredential(w(e),{oAuthPopupConfirmation:!1})),"credential",null===(i=e.user)||void 0===i?void 0:i.id);return null!==(l=s?null===(o=u._oAuthCred)||void 0===o?void 0:o.appId:null===(r=u.oAuthState)||void 0===r?void 0:r.appId)&&void 0!==l?l:"arcgisonline"})(e,t),o={"X-Esri-Auth-Client-Id":i,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return c(`${w(e)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:4===t?o:void 0,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:o}})};async function C(e={},t){return c(`${w(t)}/community/groups`,e)}const S=async(e,t)=>{var i;if(!e)return[];const n=`${(0,r.d)(null!==(i=t.restUrl)&&void 0!==i?i:t.portalUrl)}portals/self/servers`,o=await c(n);return null==o?void 0:o.servers},L=e=>I(x(e)),I=e=>{var t;const i=`${(0,r.d)(null!==(t=(0,r.l)(e))&&void 0!==t?t:e)}info`;return g((()=>c(i,{},{addTokenManually:!1})),"portalInfo",i)},P=async(e,t)=>{if(e.isBackedBySDS)return{result:!0};const i=(0,r.e)(t)||(0,r.f)(t)||(0,r.g)(t)||(0,r.h)(t)||(0,r.j)(t);if(e.isPortal&&t&&(i||(0,r.k)(t)))try{const i=await z(t,e);return{result:!!(null==i?void 0:i[0])}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}return{result:!0}},z=async(e,t)=>{const i=await M(e,t);if(!i)return null;const n=`${i.adminUrl}/admin/data/findItems`;return(await c(n,{managed:!0})).items.filter((e=>{var t;return"arcgis data store"===(null===(t=e.provider)||void 0===t?void 0:t.toLowerCase())}))},M=async(e,t)=>{var i;return(null!==(i=await S(e,t))&&void 0!==i?i:[]).filter((e=>e.isHosted))[0]}},59004:(e,t,i)=>{i.d(t,{a:()=>L,b:()=>c,c:()=>S,d:()=>p,e:()=>f,f:()=>m,g:()=>d,h:()=>h,i:()=>b,j:()=>w,k:()=>k,l:()=>a,m:()=>C,n:()=>u,o:()=>I,p:()=>P,q:()=>l,r:()=>y,s:()=>x,t:()=>z,u:()=>M});var n=i(62381),o=i(76134),r=i(41171);async function l(){return new Promise((async e=>{const{portal:t}=o.c;if(null==t?void 0:t.isPortal){const i=t.helperServices.geocode,n=await function(e){const{config:t,portal:i}=o.c;return new Promise((async(n,o)=>{const l=e.filter((e=>s(e.url,i))).filter((e=>e.isEsriBatchGeocoder))[0];if(l){const e=l.url.split("/servers/")[1].split("/rest/services/")[0],i=`${t.restBaseUrl}/content/items/${e}`;try{n((await(0,r.r)(i)).url)}catch(e){o(e)}}else o("No world geocoder configured")}))}(i);e(n)}else{const i=function(e){const t=null==e?void 0:e.portalHostname;return-1!==t.indexOf("dev")?"dev":-1!==t.indexOf("qa")?"qa":""}(t);e(`https://geocode${i}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function s(e="",t){var i;const n=t.isPortal,o=e.toLowerCase(),r=o.indexOf("/geocodeserver")>-1&&o.indexOf("/rest/services/")>-1,l=n&&o.indexOf(null===(i=t.portalHostname)||void 0===i?void 0:i.toLowerCase())>-1,s=!n&&o.indexOf("utility")&&o.indexOf(".arcgis.com")>-1;return r&&(l||s)}function a(e){return(0,n.n)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function u(e){return(0,n.n)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}function c(e,t){return!(0,n.n)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&(!t.isPortal||t.isBackedBySDS)}function d(e,t){return!(0,n.n)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&(!t.isPortal||t.isBackedBySDS)}function v(e){return!(0,n.n)(e)&&!0}function h(e){var t;return!(0,n.n)(e)&&(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:publisher:publishScenes"))}const p=e=>!(0,n.n)(e);function f(e,t,i){var n,o;const r=!!(null===(o=null===(n=t.helperServices)||void 0===n?void 0:n.rasterAnalytics)||void 0===o?void 0:o.url),l=function(e,t,i){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishDynamicImagery"))&&(t.isPortal||g(i))}(e,t,i),s=t.isPortal?l:l||function(e,t,i){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishTiledImagery"))&&!t.isPortal&&g(i)}(e,t,i);return r&&s}function g(e){return null==e?void 0:e.some((e=>{var t;return null===(t=e.entitlements)||void 0===t?void 0:t.some((e=>"image"===e.toLowerCase()))}))}async function m(e){var t;const{userLicensedItems:i}=await(0,r.r)(`${null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl}/community/self?returnUserLicensedItems=true`);return i}function b(e,t){var i,o;const r=null===(i=t.helperServices)||void 0===i?void 0:i.geocode.some((({url:e})=>s(e,t))),l=null!==(o=null==e?void 0:e.privileges)&&void 0!==o?o:[];return!(0,n.n)(e)&&r&&(!t.isPortal||!t.isWebTierAuth&&l.includes("portal:user:viewOrgItems")&&l.includes("portal:user:createItem"))}const w=e=>!(0,n.n)(e);function x(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function y(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function k(e,t){var i;return!!t.isPortal&&!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:registerDataStores"))}function C(e){return!(0,n.n)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}function S(e,t,i){return!t.isPortal&&c(e,t)&&function(e,t,i){return!(0,n.n)(e)&&!!t.supportsHostedServices&&a(e)&&(d(e,t)||c(e,t)||h(e)||v(e)||f(e,t,i))}(e,t,i)}function L(e,t,i){switch(t){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return c(e,i);case"Tile Package":return d(e,i);case"Vector Tile Package":return v(e);case"Scene Package":return h(e);case"Service Definition":return function(e,t){return c(e,t)&&d(e,t)}(e,i);default:return!0}}function I(e,t){var i;return(0,n.e)(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageCredits"))}(e)||!!((null==e?void 0:e.assignedCredits)>-1&&(null===(i=null==t?void 0:t.portalProperties)||void 0===i?void 0:i.showCreditsOnProfile))}const P=e=>!1;function z(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))}function M(e){return(0,n.e)(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))}(e)&&function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewItems"))}(e)&&(function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:reassignItems"))}(e))}}}]);