/*! For license information please see e9914219f2d642cbd87ad8094068cf46.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[74340],{74340:(t,e,i)=>{i.r(e),i.d(e,{arcgis_image_upload:()=>r,arcgis_image_upload_edit_step:()=>n,arcgis_image_upload_file_step:()=>l});var a=i(28384),s=i(62727),o=i(81068);i(18869),i(66716);const r=class{constructor(t){(0,a.r)(this,t),this.arcgisImageUploadCancel=(0,a.c)(this,"arcgisImageUploadCancel",7),this.arcgisImageUploadError=(0,a.c)(this,"arcgisImageUploadError",7),this.arcgisImageUploadSave=(0,a.c)(this,"arcgisImageUploadSave",7),this.imageFormat="png",this.fileName="",this.handleCancel=()=>{this.showError=!1,this.arcgisImageUploadCancel.emit()},this.handleChooseDiffClick=()=>{this.activeStep="file",this.previewSrc="",this.editExisting=!1},this.handleSaveClick=async()=>{if("file"===this.activeStep)return void(this.showError=!0);if(this.showError=!1,this.saving=!0,"map"===this.activeStep)return void this.takeMapScreenshot();const t=await this.getCanvasImage();this.arcgisImageUploadSave.emit(t)},this.takeMapScreenshot=async()=>{this.mapView._stage&&(this.mapView._stage._supersampleScreenshots=!1);const t=await this.mapView.takeScreenshot({format:"png"}),e={blob:this.dataURIToBlob(t.dataUrl),base64:t.dataUrl,format:"png",fileName:""};this.arcgisImageUploadSave.emit(e)},this.handleFromMapClick=()=>{this.activeStep="map"},this.handleMapViewLoaded=t=>{this.mapView=t.detail},this.modalTitle=void 0,this.sizeDescription=void 0,this.zoomToFit=!0,this.maxWidth=void 0,this.maxHeight=void 0,this.fillBackground=!1,this.active=void 0,this.height=window.innerWidth<412?200:300,this.aspectRatio=1,this.portal=void 0,this.itemId=void 0,this.jsapiUrl=void 0,this.previewSrc=void 0,this.saving=!1,this.editExisting=!1,this.isModified=!1,this.activeStep="file",this.showError=!1}handleFileChange(t){const{fileName:e,dataURL:i}=t.detail;this.fileName=e,this.previewSrc=i,this.activeStep="edit",this.showError=!1}handleInvalidFile(){this.showError=!0,this.arcgisImageUploadError.emit("invalid file type.")}handleImageChange(){this.isModified=!0}handleActiveChange(){var t;this.active||(this.activeStep="file",this.saving=!1,this.isModified=!1,this.previewSrc="",this.editExisting=!1,null===(t=this.fileStep)||void 0===t||t.resetFileInput())}async componentWillLoad(){const t=await(0,s.g)(this.el);this.strings=t[0]}dataURIToBlob(t){const e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(e.length),s=new Uint8Array(a);for(let t=0;t<e.length;t++)s[t]=e.charCodeAt(t);return new Blob([a],{type:i})}drawImage({selectionX:t,selectionY:e,selectionWidth:i,selectionHeight:a,canvasWidth:s,canvasHeight:o,minWidth:r,minHeight:n,drawDimensions:l},h,c,d){this.canvasEl.width=s<r?r:s*h,this.canvasEl.height=o<n?n:o*h,this.maxWidth&&this.canvasEl.width>this.maxWidth&&(this.canvasEl.width=this.maxWidth),this.maxHeight&&this.canvasEl.height>this.maxHeight&&(this.canvasEl.height=this.maxHeight);const g=l.left*this.canvasEl.width,p=l.top*this.canvasEl.height,m=l.width*this.canvasEl.width,u=l.height*this.canvasEl.height;this.fillBackground&&(d.fillStyle="#efefef",d.fillRect(0,0,this.canvasEl.width,this.canvasEl.height)),d.drawImage(c,t,e,i,a,g,p,m,u);const f=this.canvasEl.toDataURL("image/png");return{base64:f,blob:this.dataURIToBlob(f)}}async getScaledImageData(t){const e=this.canvasEl.getContext("2d"),i=await this.editStepEl.getDrawParameters();let a;function s(){return e.clearRect(0,0,this.canvasEl.width,this.canvasEl.height),this.drawImage(i,1600/t.width,t,e)}try{a=this.drawImage(i,1,t,e),(a.blob.size>1e7||0===a.blob.size)&&(a=s())}catch(t){"NS_ERROR_FAILURE"!==t.name?this.arcgisImageUploadError.emit("unable to save the image provided."):a=s()}return{blob:null==a?void 0:a.blob,base64:null==a?void 0:a.base64,format:this.imageFormat,fileName:this.fileName}}getCanvasImage(){return new Promise((t=>{const e=new Image;this.previewSrc.indexOf("arcgis.com")>-1&&(e.crossOrigin="Anonymous"),e.onload=()=>{Math.abs(this.aspectRatio-e.width/e.height)<.01&&!this.isModified?t({blob:this.dataURIToBlob(this.previewSrc),base64:this.previewSrc,format:this.imageFormat,fileName:this.fileName}):t(this.getScaledImageData(e))},e.src=this.previewSrc}))}render(){const t=!!this.portal&&!!this.itemId&&!!this.jsapiUrl;return(0,a.h)("calcite-modal",{class:"image-upload__modal",open:this.active,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",outsideCloseDisabled:!0,onCalciteModalClose:this.handleCancel},(0,a.h)("h3",{slot:"header",id:"image-upload-modal-title",class:"image-upload__title","aria-label":this.modalTitle},this.modalTitle),(0,a.h)("div",{slot:"content",class:{"image-upload__content":!0,"image-upload__content--with-map":t,"image-upload__content--no-padding":"map"===this.activeStep}},"file"===this.activeStep&&(0,a.h)("div",null,(0,a.h)("arcgis-image-upload-file-step",{ref:t=>{this.fileStep=t},strings:this.strings,sizeDescription:this.sizeDescription}),t&&(0,a.h)(a.F,null,(0,a.h)("div",{class:"or-container"},(0,a.h)("span",{class:"or-wrapper"},this.strings.or)),(0,a.h)("div",{class:"image-upload__from-map-button",tabIndex:0,onClick:this.handleFromMapClick,onKeyDown:t=>{"Space"!==t.code&&"Enter"!==t.code||this.handleFromMapClick()}},(0,a.h)("div",{class:"image-upload__from-map-title"},(0,a.h)("div",{class:"from-map-title-wrapper"},(0,a.h)("calcite-icon",{icon:"map",scale:"m",class:"from-map-icon"}),this.strings.fromMap)),(0,a.h)("p",{class:"image-upload__from-map-desc"},this.strings.fromMapDesc)))),"map"===this.activeStep&&(0,a.h)("arcgis-image-upload-from-map",{portal:this.portal,itemId:this.itemId,jsapiUrl:this.jsapiUrl,changeBasemapText:this.strings.changeBasemap,loadingText:this.strings.loading,onArcgisImageUploadFromMapReady:this.handleMapViewLoaded}),"edit"===this.activeStep&&(0,a.h)("arcgis-image-upload-edit-step",{ref:t=>{this.editStepEl=t},strings:this.strings,height:this.height,aspectRatio:this.aspectRatio,previewSrc:this.previewSrc,zoomToFit:this.zoomToFit}),"edit"===this.activeStep&&(0,a.h)("canvas",{ref:t=>{this.canvasEl=t},class:"image-upload__canvas"}),(0,a.h)("calcite-alert",{label:this.strings.imageRequired,open:this.showError,ref:t=>{this.alertEl=t},icon:"exclamation-mark-circle",placement:"bottom",kind:"danger"},(0,a.h)("div",{slot:"message"},this.strings.imageRequired))),("edit"===this.activeStep||"map"===this.activeStep)&&(0,a.h)("calcite-button",{slot:"back",appearance:"transparent","icon-start":"chevron-left",width:"full",disabled:this.saving,onClick:this.handleChooseDiffClick,iconFlipRtl:"start"},this.strings.chooseDiff),(0,a.h)("calcite-button",{slot:"secondary",appearance:"outline-fill",width:"full",disabled:this.saving,onClick:this.handleCancel},this.strings.cancel),(0,a.h)("calcite-button",{slot:"primary",appearance:"solid",width:"full",loading:this.saving,onClick:this.handleSaveClick},this.strings.save))}get el(){return(0,a.d)(this)}static get watchers(){return{active:["handleActiveChange"]}}};r.style='.image-upload__modal{--calcite-modal-width:650px}.image-upload__title{font-size:1.25rem;margin-bottom:0}.image-upload__content{padding-top:1rem;padding-bottom:1.5rem;padding-left:2rem;padding-right:2rem;box-sizing:border-box;background-color:var(--calcite-ui-background);border:1px solid var(--calcite-ui-border-3)}.image-upload__content--with-map{min-height:400px}.image-upload__content--no-padding{padding:0}.image-upload__canvas{visibility:hidden;position:fixed;left:-10000px}.or-container{margin-top:1rem;margin-bottom:1rem;text-align:center;font-weight:500}.or-container:before,.or-container:after{display:inline-block;vertical-align:middle;content:"";border-top:solid 1px var(--calcite-ui-border-input);width:15%;height:1px;z-index:1}.or-wrapper{padding-left:0.5rem;padding-right:0.5rem}.image-upload__from-map-button{background-color:var(--calcite-ui-foreground-1);text-align:center;padding:1rem;border:1px solid var(--calcite-ui-foreground-3)}.image-upload__from-map-button:hover{border:1px solid var(--calcite-ui-brand)}.image-upload__from-map-title{display:inline-block}.from-map-title-wrapper{display:flex;align-items:center}.from-map-icon{margin-right:0.5rem}.image-upload__from-map-desc{font-size:0.875rem;margin:0}';const n=class{constructor(t){(0,a.r)(this,t),this.arcgisImageUploadEditStepImageChanged=(0,a.c)(this,"arcgisImageUploadEditStepImageChanged",7),this.handleWheel=t=>{t.preventDefault();const e=t.deltaY>0?1*this.imageProperties.scale/1.1:1.1*this.imageProperties.scale;this.zoomValue=""+(50+Math.log(e)/Math.log(1.1)),this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{scale:e})},this.handleDragStart=()=>{this.dragging=!0},this.handleDrag=t=>{if(!this.dragging)return;const{touches:e}=t;let{clientX:i,clientY:a}=t;if(void 0===i||void 0===a){if(!e.length)return;i=e[0].clientX,a=e[0].clientY}if(!this.previousPosition)return void(this.previousPosition={top:a,left:i});const{top:s,left:o}=this.previousPosition,r=a-s,n=i-o;this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{top:this.imageProperties.top+r,left:this.imageProperties.left+n}),this.previousPosition={top:s+r,left:o+n}},this.handleDragEnd=()=>{this.dragging=!1,this.previousPosition=void 0},this.handleImageLoaded=()=>{if(this.editingExisting)return this.loadingImage=!1,this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{scale:this.height/this.imageEl.width,top:0,left:0,origin:{x:"0%",y:"0%"}}),void(this.isLoading=!1);const t=this.height*this.aspectRatio,{clientWidth:e,clientHeight:i}=this.imageEl,a=(this.height+2)/i,s=(t+2)/e,o=a>s?a:s;let r=Object.assign({},this.imageProperties);r=Object.assign(Object.assign({},r),{top:Math.floor(this.height/2-i/2),left:Math.floor(this.height*this.aspectRatio/2-e/2),origin:{x:"50%",y:"50%"}}),this.zoomToFit&&(r=Object.assign(Object.assign({},r),{top:r.top-1,left:r.left-1,scale:o}),this.initiallySettingZoom=!0,this.zoomValue=""+(50+Math.log(o)/Math.log(1.1))),this.imageProperties=Object.assign({},r),this.isLoading=!1},this.handleZoomInput=t=>{this.initiallySettingZoom&&(this.initiallySettingZoom=!1),this.zoomValue=t.target.value,this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{scale:Math.pow(1.1,t.target.value-50)})},this.handleImageKeydown=t=>{let e=!1;switch(t.key){case"ArrowUp":this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{top:this.imageProperties.top-1}),e=!0;break;case"ArrowDown":this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{top:this.imageProperties.top+1}),e=!0;break;case"ArrowLeft":this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{left:this.imageProperties.left-1}),e=!0;break;case"ArrowRight":this.imageProperties=Object.assign(Object.assign({},this.imageProperties),{left:this.imageProperties.left+1}),e=!0}e&&t.preventDefault()},this.strings=void 0,this.aspectRatio=void 0,this.previewSrc=void 0,this.loadingImage=!1,this.editingExisting=!1,this.zoomToFit=!1,this.height=void 0,this.imageProperties={scale:1,top:0,left:0,origin:{x:"50%",y:"50%"}},this.dragging=!1,this.previousPosition=void 0,this.previewStyle=void 0,this.zoomValue="50",this.initiallySettingZoom=!1,this.firstImagePropertiesChange=!0,this.isLoading=!0}componentWillLoad(){const t=this.height*this.aspectRatio,e=`${this.height+60}px`;this.thumbContainerStyle={height:e},this.translucentContainerStyle={width:`${t+60}px`,height:e},this.transparentContainerStyle={width:`${t}px`,height:`${this.height}px`},this.previewStyle={transform:`scale(${this.imageProperties.scale})`,top:`${this.imageProperties.top}px`,left:`${this.imageProperties.left}px`,transformOrigin:`${this.imageProperties.origin.x} ${this.imageProperties.origin.y}`}}componentDidLoad(){this.imageContainerEl.focus()}getImageExtent(){const t=this.imageEl.getBoundingClientRect(),e=this.imageContainerEl.getBoundingClientRect();return{left:(e.left-t.left)/t.width,right:(e.right-t.left)/t.width,top:(e.top-t.top)/t.height,bottom:(e.bottom-t.top)/t.height}}getDrawDimensions(){const t=this.imageEl.getBoundingClientRect(),e=this.imageContainerEl.getBoundingClientRect(),i=t.top-e.top>0?t.top-e.top:0,a=t.left-e.left>0?t.left-e.left:0,s=t.left<e.left?e.left:t.left,o=t.top<e.top?e.top:t.top,r=t.right>e.right?e.right:t.right,n=t.bottom>e.bottom?e.bottom:t.bottom;return{left:a/e.width,top:i/e.height,width:(r-s)/e.width,height:(n-o)/e.height}}async getDrawParameters(){const t=this.height*this.aspectRatio,e=this.height,{left:i,right:a,top:s,bottom:o}=this.getImageExtent(),r=i<0?0:i,n=s<0?0:s,l=a>1?1:a,h=o>1?1:o,c=this.getDrawDimensions(),d=this.imageEl.clientWidth,g=this.imageEl.clientHeight;return{selectionX:r*d,selectionY:n*g,selectionWidth:l*d-r*d,selectionHeight:h*g-n*g,canvasWidth:a*d-i*d,canvasHeight:o*g-s*g,minWidth:t,minHeight:e,drawDimensions:c}}handleImagePropertiesChange(){this.previewStyle={transform:`scale(${this.imageProperties.scale})`,top:`${this.imageProperties.top}px`,left:`${this.imageProperties.left}px`,transformOrigin:`${this.imageProperties.origin.x} ${this.imageProperties.origin.y}`},this.firstImagePropertiesChange?(this.firstImagePropertiesChange=!1,this.zoomToFit&&this.arcgisImageUploadEditStepImageChanged.emit()):this.arcgisImageUploadEditStepImageChanged.emit()}render(){return(0,a.h)(a.H,{onWheel:this.handleWheel},(0,a.h)("calcite-loader",{class:"edit-step__loader",label:"",hidden:!this.isLoading}),(0,a.h)("div",{class:"edit-step__crop-thumb-container "+(this.isLoading?"edit-step__crop-thumb-container--hidden":""),style:this.thumbContainerStyle},(0,a.h)("div",{class:"edit-step__translucent-container",style:this.translucentContainerStyle,onMouseDown:this.handleDragStart,onTouchStart:this.handleDragStart,onMouseMove:this.handleDrag,onTouchMove:this.handleDrag,onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd,onMouseOut:this.handleDragEnd},(0,a.h)("div",{ref:t=>{this.imageContainerEl=t},class:"edit-step__transparent-container",tabIndex:0,style:this.transparentContainerStyle,onKeyDown:this.handleImageKeydown},(0,a.h)("img",{ref:t=>{this.imageEl=t},src:this.previewSrc,alt:"",class:"edit-step__preview-image "+(this.loadingImage?"edit-step__preview-image--loading":""),style:this.previewStyle,onLoad:this.handleImageLoaded})))),(0,a.h)("calcite-label",{class:{"edit-step__zoom-control":!0,"edit-step__zoom-control--hidden":this.isLoading}},this.strings.zoom,(0,a.h)("calcite-slider",{"aria-label":this.strings.zoom,scale:"l",min:0,max:100,value:+this.zoomValue,onCalciteSliderInput:this.handleZoomInput,mirrored:"rtl"===(0,o.g)(this.el)}),(0,a.h)("div",{class:"edit-step__zoom-control-label"},(0,a.h)("div",{class:"edit-step__zoom-control-icon-s"},(0,a.h)("calcite-icon",{icon:"image",scale:"s"})),(0,a.h)("div",{class:"edit-step__zoom-control-label-spacer"}),(0,a.h)("div",{class:"edit-step__zoom-control-icon-l"},(0,a.h)("calcite-icon",{icon:"image",scale:"l"})))))}get el(){return(0,a.d)(this)}static get watchers(){return{imageProperties:["handleImagePropertiesChange"]}}};n.style=':host{overflow:hidden;display:block;position:relative;min-height:20.625rem}.edit-step__loader{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.edit-step__crop-thumb-container{position:relative;width:100%;overflow:hidden}.edit-step__crop-thumb-container--hidden{visibility:hidden}.edit-step__translucent-container{overflow:hidden;position:absolute;top:0;left:50%;cursor:all-scroll;transform:translate(-50%)}.edit-step__translucent-container:after{box-sizing:border-box;position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;content:"";opacity:0.9;border:1.875rem solid white}.edit-step__transparent-container{position:absolute;overflow-x:visible;box-sizing:border-box;outline:2px solid transparent;outline-offset:2px;background-color:var(--calcite-ui-foreground-3);border:1px solid var(--calcite-ui-border-1);margin-right:-50%;top:50%;left:50%;transform:translate(-50%, -50%)}.edit-step__preview-image{margin:0;position:absolute;left:0;top:0;transform-origin:50% 50%}.edit-step__preview-image--loading{visibility:hidden}.edit-step__transparent-container:focus .edit-step__preview-image{box-shadow:0px 0px 6px 4px var(--calcite-ui-brand)}.edit-step__zoom-control{--calcite-label-margin-bottom:0}.edit-step__zoom-control--hidden{visibility:hidden}.edit-step__zoom-control-label{display:flex;height:2rem}.edit-step__zoom-control-label-spacer{flex:1 1 0%}';const l=class{constructor(t){(0,a.r)(this,t),this.arcgisImageUploadFileStepFileChange=(0,a.c)(this,"arcgisImageUploadFileStepFileChange",7),this.arcgisImageUploadFileStepInvalidFile=(0,a.c)(this,"arcgisImageUploadFileStepInvalidFile",7),this.handleDragOver=t=>{t.preventDefault()},this.handleDrop=t=>{t.preventDefault(),this.processFile(t.dataTransfer.files[0])},this.handleFileInputChange=t=>{this.processFile(t.target.files[0])},this.strings=void 0,this.sizeDescription=void 0}async resetFileInput(){this.fileInput.value=""}processFile(t){if(t&&t){if(!this.isValidFile(t))return void this.arcgisImageUploadFileStepInvalidFile.emit();const e=new FileReader;e.onload=async e=>{this.arcgisImageUploadFileStepFileChange.emit({dataURL:e.target.result,fileName:t.name||""})},e.readAsDataURL(t)}}isValidFile(t){return(null==t?void 0:t.name)&&/\.(gif|jpg|jpeg|png)$/i.test(t.name)}render(){return(0,a.h)("div",{class:"file-step","aria-label":this.strings.dragDrop,onDragOver:this.handleDragOver,onDragEnter:this.handleDragOver,onDrop:this.handleDrop},(0,a.h)("div",{class:"file-step__upload-icon"},(0,a.h)("calcite-icon",{icon:"upload"})),(0,a.h)("div",null,(0,a.h)("div",{class:"file-step__drag-text","aria-label":this.strings.dragDrop},this.strings.dragDrop),this.sizeDescription&&(0,a.h)("div",{"aria-label":this.sizeDescription},this.sizeDescription),(0,a.h)("calcite-button",{class:"file-step__browse-button",appearance:"transparent",iconStart:"image",scale:"l",onClick:()=>{this.fileInput.click()}},this.strings.browse),(0,a.h)("input",{ref:t=>{this.fileInput=t},onChange:this.handleFileInputChange,class:"file-step__file-input",type:"file",accept:".jpg,.gif,.png,.jpeg"})))}get el(){return(0,a.d)(this)}};l.style=".file-step{text-align:center}.file-step__upload-icon{margin-bottom:0.5rem;margin-top:0.25rem;color:var(--calcite-ui-text-3)}.file-step__upload-icon calcite-icon{width:4rem;height:4rem}.file-step__drag-text{font-size:1.25rem;margin-bottom:0.25rem}.file-step__browse-button{margin-top:1rem}.file-step__file-input{display:none}"},81068:(t,e,i)=>{i.d(e,{C:()=>n,a:()=>c,f:()=>l,g:()=>r,l:()=>o});var a=i(66716),s=i(18869);const o=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function r(t){return function(t,e,i){const a=(0,s.c)(t,"[dir]");return a?a.getAttribute("dir"):"ltr"}(t)}const n={rtl:"arcgis--rtl"};async function l(t,e){const{api:i,type:s,places:o}=e||{};if(4===i){const[e]=await(0,a.l)(["esri/intl"]),i=e.convertNumberFormatToIntlOptions({places:o,style:s,digitSeparator:!0});return e.formatNumber(t,Object.assign(Object.assign({},i),{style:s}))}const[r]=await(0,a.l)(["dojo/number"]);return r.format(t,{type:s,places:o,pattern:null==e?void 0:e.pattern})}const h={};function c(t){const e=document.documentElement.lang;return h[e]||(h[e]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),h[e].format(t)}},66716:(t,e,i)=>{i.d(e,{a:()=>a,c:()=>o,e:()=>r,g:()=>s,l:()=>n});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}var r=o((function(t,e){!function(t){var e={Promise:"undefined"!=typeof window?window.Promise:void 0},i="4.24",a="next";function s(t){if(t.toLowerCase()===a)return a;var e=t&&t.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function o(t){return void 0===t&&(t=i),"https://js.arcgis.com/".concat(t,"/")}function r(t){return!t||s(t)?function(t){void 0===t&&(t=i);var e=o(t),r=s(t);if(r!==a&&3===r.major){var n=r.minor<=10?"js/":"";return"".concat(e).concat(n,"esri/css/esri.css")}return"".concat(e,"esri/themes/light/main.css")}(t):t}function n(t,e){var i=r(t),a=function(t){return document.querySelector('link[href*="'.concat(t,'"]'))}(i);return a||function(t,e){if(e){var i=document.querySelector(e);i.parentNode.insertBefore(t,i)}else document.head.appendChild(t)}(a=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e}(i),e),a}var l={};function h(t,e,i){var a;i&&(a=function(t,e){var i=function(a){e(a.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",i,!1)};return t.addEventListener("error",i,!1),i}(t,i));var s=function(){e(t),t.removeEventListener("load",s,!1),a&&t.removeEventListener("error",a,!1)};t.addEventListener("load",s,!1)}function c(){return document.querySelector("script[data-esri-loader]")}function d(){var t=window.require;return t&&t.on}function g(t){void 0===t&&(t={});var i={};[l,t].forEach((function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}));var a=i.version,s=i.url||o(a);return new e.Promise((function(t,e){var o=c();if(o){var r=o.getAttribute("src");r!==s?e(new Error("The ArcGIS API for JavaScript is already loaded (".concat(r,")."))):d()?t(o):h(o,t,e)}else if(d())e(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=i.css;l&&n(!0===l?a:l,i.insertCssBefore),h(o=function(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e.setAttribute("data-esri-loader","loading"),e}(s),(function(){o.setAttribute("data-esri-loader","loaded"),t(o)}),e),document.body.appendChild(o)}}))}function p(t){return new e.Promise((function(e,i){var a=window.require.on("error",i);window.require(t,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];a.remove(),e(t)}))}))}t.utils=e,t.loadModules=function(t,e){if(void 0===e&&(e={}),d())return p(t);var i=c(),a=i&&i.getAttribute("src");return!e.url&&a&&(e.url=a),g(e).then((function(){return p(t)}))},t.getScript=c,t.isLoaded=d,t.loadScript=g,t.setDefaultOptions=function(t){void 0===t&&(t={}),l=t},t.loadCss=n,Object.defineProperty(t,"__esModule",{value:!0})}(e)}));const n=async(t,e)=>(await r.loadModules(t,e)).map((t=>t.__esModule&&t.default?t.default:t))},62727:(t,e,i)=>{i.d(e,{a:()=>r,g:()=>h});var a=i(18869),s=i(81068),o=i(28384);function r(t){var e,i,o;const r=null!==(e=(0,a.c)(t,"[lang]"))&&void 0!==e?e:null===(o=null===(i=t.shadowRoot)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.documentElement,n=((null==r?void 0:r.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return s.l.has(n)?s.l.get(n):s.l.has(n.slice(0,2))?s.l.get(n.slice(0,2)):"en"}const n={};function l(t,e){const i=`${t}${e}`;return n[i]||(n[i]=function(t,e){return new Promise(((i,a)=>{fetch((0,o.a)(`../arcgis-app-assets/i18n/${t}.i18n.${e}.json`)).then((t=>{t.ok?i(t.json()):a()}),(()=>a()))}))}(t,e)),n[i]}async function h(t,e){const i=e||t.tagName.toLowerCase(),o=r(t),n=function(t){var e,i,o;const r=null!==(e=(0,a.c)(t,"[lang]"))&&void 0!==e?e:null===(o=null===(i=t.shadowRoot)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.documentElement,n=((null==r?void 0:r.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return s.l.has(n)?s.l.get(n):s.l.has(n.slice(0,2))?n:"en"}(t);let h;try{h=await l(i,o)}catch(t){console.warn(`no locale for ${i} (${o}) loading default locale en.`),h=await l(i,"en")}return[h,o,n]}}}]);