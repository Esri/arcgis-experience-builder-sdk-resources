"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[51505,91504],{75315:(e,t,r)=>{r.d(t,{l:()=>n,m:()=>h,s:()=>s,u:()=>p});var o=r(47817);r(58574);let s=class extends o.ao{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,o.Z)([(0,o._)({type:Number})],s.prototype,"nodesPerPage",void 0),(0,o.Z)([(0,o._)({type:Number})],s.prototype,"rootIndex",void 0),(0,o.Z)([(0,o._)({type:String})],s.prototype,"lodSelectionMetricType",void 0),s=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SNodePageDefinition")],s);let a=class extends o.ao{constructor(){super(...arguments),this.factor=1}};(0,o.Z)([(0,o._)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],a.prototype,"id",void 0),(0,o.Z)([(0,o._)({type:Number})],a.prototype,"factor",void 0),a=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SMaterialTexture")],a);let i=class extends o.ao{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,o.Z)([(0,o._)({type:[Number]})],i.prototype,"baseColorFactor",void 0),(0,o.Z)([(0,o._)({type:a})],i.prototype,"baseColorTexture",void 0),(0,o.Z)([(0,o._)({type:a})],i.prototype,"metallicRoughnessTexture",void 0),(0,o.Z)([(0,o._)({type:Number})],i.prototype,"metallicFactor",void 0),(0,o.Z)([(0,o._)({type:Number})],i.prototype,"roughnessFactor",void 0),i=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],i);let n=class extends o.ao{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,o.Z)([(0,o.bv)({opaque:"opaque",mask:"mask",blend:"blend"})],n.prototype,"alphaMode",void 0),(0,o.Z)([(0,o._)({type:Number})],n.prototype,"alphaCutoff",void 0),(0,o.Z)([(0,o._)({type:Boolean})],n.prototype,"doubleSided",void 0),(0,o.Z)([(0,o.bv)({none:"none",back:"back",front:"front"})],n.prototype,"cullFace",void 0),(0,o.Z)([(0,o._)({type:a})],n.prototype,"normalTexture",void 0),(0,o.Z)([(0,o._)({type:a})],n.prototype,"occlusionTexture",void 0),(0,o.Z)([(0,o._)({type:a})],n.prototype,"emissiveTexture",void 0),(0,o.Z)([(0,o._)({type:[Number]})],n.prototype,"emissiveFactor",void 0),(0,o.Z)([(0,o._)({type:i})],n.prototype,"pbrMetallicRoughness",void 0),n=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SMaterialDefinition")],n);let l=class extends o.ao{};(0,o.Z)([(0,o._)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],l.prototype,"name",void 0),(0,o.Z)([(0,o.bv)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",basis:"basis"})],l.prototype,"format",void 0),l=(0,o.Z)([(0,o.a0)("esri.layer.support.I3STextureFormat")],l);let p=class extends o.ao{constructor(){super(...arguments),this.atlas=!1}};(0,o.Z)([(0,o._)({type:[l]})],p.prototype,"formats",void 0),(0,o.Z)([(0,o._)({type:Boolean})],p.prototype,"atlas",void 0),p=(0,o.Z)([(0,o.a0)("esri.layer.support.I3STextureSetDefinition")],p);let u=class extends o.ao{};(0,o.Z)([(0,o.bv)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],u.prototype,"type",void 0),(0,o.Z)([(0,o._)({type:Number})],u.prototype,"component",void 0),u=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SGeometryAttribute")],u);let c=class extends o.ao{};(0,o.Z)([(0,o.bv)({draco:"draco"})],c.prototype,"encoding",void 0),(0,o.Z)([(0,o._)({type:[String]})],c.prototype,"attributes",void 0),c=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SGeometryCompressedAttributes")],c);let d=class extends o.ao{constructor(){super(...arguments),this.offset=0}};(0,o.Z)([(0,o._)({type:Number})],d.prototype,"offset",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"position",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"normal",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"uv0",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"color",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"uvRegion",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"featureId",void 0),(0,o.Z)([(0,o._)({type:u})],d.prototype,"faceRange",void 0),(0,o.Z)([(0,o._)({type:c})],d.prototype,"compressedAttributes",void 0),d=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SGeometryBuffer")],d);let h=class extends o.ao{};(0,o.Z)([(0,o.bv)({triangle:"triangle"})],h.prototype,"topology",void 0),(0,o.Z)([(0,o._)()],h.prototype,"geometryBuffers",void 0),h=(0,o.Z)([(0,o.a0)("esri.layer.support.I3SGeometryDefinition")],h)},74410:(e,t,r)=>{r.d(t,{R:()=>v,i:()=>u,n:()=>c});var o=r(47817),s=(r(58574),r(72304)),a=r(64646),i=r(21693),n=r(30286),l=r(91504),p=r(3467);function u(e){return e&&"getAtOrigin"in e&&"originOf"in e}async function c(e,t,r,s,a){let i=null;if((0,o.H)(r)){const t=`${e}/nodepages/`,n=t+Math.floor(r.rootIndex/r.nodesPerPage);try{return{type:"page",rootPage:(await(0,o.U)(n,{query:{f:"json"},responseType:"json",signal:a})).data,rootIndex:r.rootIndex,pageSize:r.nodesPerPage,lodMetric:r.lodSelectionMetricType,urlPrefix:t}}catch(e){(0,o.H)(s)&&s.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",n,e),i=e}}if(!t)return null;const n=`${e}/nodes/`,l=n+(t&&t.split("/").pop());try{return{type:"node",rootNode:(await(0,o.U)(l,{query:{f:"json"},responseType:"json",signal:a})).data,urlPrefix:n}}catch(e){throw new o.s("sceneservice:root-node-missing","Root node missing.",{pageError:i,nodeError:e,url:l})}}function d(e){e&&e.writtenProperties&&e.writtenProperties.forEach((e=>{const t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&u(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}async function h(e,t,r){if(!t||!t.resources)return;const s=t.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=t.portalItem;const a=new Set(t.resources.toKeep.map((e=>e.resource.path))),i=new Set,n=[];a.forEach((t=>{s.delete(t),e.paths.push(t)}));for(const p of t.resources.toUpdate)if(s.delete(p.resource.path),a.has(p.resource.path)||i.has(p.resource.path)){const{resource:t,content:s,finish:a,error:i}=p,u=(0,l.getSiblingOfSameTypeI)(t,(0,o.dc)());e.paths.push(u.path),n.push(y({resource:u,content:s,finish:a,error:i},r))}else e.paths.push(p.resource.path),n.push(m(p,r)),i.add(p.resource.path);for(const o of t.resources.toAdd)n.push(y(o,r)),e.paths.push(o.resource.path);if(s.forEach((e=>{const r=t.portalItem.resourceFromPath(e);n.push(r.portalItem.removeResource(r).catch((()=>{})))})),0===n.length)return;const p=await(0,o.ai)(n);(0,o.ah)(r);const u=p.filter((e=>"error"in e)).map((e=>e.error));if(u.length>0)throw new o.s("save:resources","Failed to save one or more resources",{errors:u})}async function y(e,t){const r=await(0,n.o)(e.resource.portalItem.addResource(e.resource,e.content,t));if(!0!==r.ok)throw e.error&&e.error(r.error),r.error;e.finish&&e.finish(e.resource)}async function m(e,t){const r=await(0,n.o)(e.resource.update(e.content,t));if(!0!==r.ok)throw e.error(r.error),r.error;e.finish(e.resource)}const f=o.S.getLogger("esri.layers.mixins.SceneService"),v=e=>{let t=class extends e{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:""},this.copyright=null,this.sublayerTitleMode="item-title",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=(0,o.dd)((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return o.O.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,s=r&&parseInt(r.substring(r.lastIndexOf("/")+1,r.length),10);return null!=s?new o.O(s):null}}readFullExtent(e,t,r){if(null!=e&&"object"==typeof e)return o.M.fromJSON(e,r);const s=t.store,a=this._readSpatialReference(t);return null==a||null==s||null==s.extent||!Array.isArray(s.extent)||s.extent.some((e=>e<g))?null:new o.M({xmin:s.extent[0],ymin:s.extent[1],xmax:s.extent[2],ymax:s.extent[3],spatialReference:a})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():"",s={major:Number.NaN,minor:Number.NaN,versionString:o},a=o.split(".");return a.length>=2&&(s.major=parseInt(a[0],10),s.minor=parseInt(a[1],10)),s}readTitlePortalItem(e){return"item-title"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return(0,a.h)(this.url,t.name);let s=t.name;if(!s&&this.url){const e=(0,a.d)(this.url);(0,o.H)(e)&&(s=e.title)}return"item-title-and-service-name"===this.sublayerTitleMode&&r&&(s=r+" - "+s),(0,a.v)(s)}set url(e){const t=(0,a.g)({layer:this,url:e,nonStandardUrlAllowed:!1,logger:f});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,r,o){(0,a.O)(this,e,"layers",t,o)}get parsedUrl(){const e=this._get("url");if(!e)return null;const t=(0,o.j)(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=c(this.parsedUrl.path,this.rootNode,e,f,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if("page"===(null==e?void 0:e.type)){var t,r;const s=e.rootIndex%e.pageSize,a=null==(t=e.rootPage)||null==(r=t.nodes)?void 0:r[s];if(null==a||null==a.obb||null==a.obb.center||null==a.obb.halfSize)throw new o.s("sceneservice:invalid-node-page","Invalid node page.");if(a.obb.center[0]<g||null==this.fullExtent||this.fullExtent.hasZ)return;const i=a.obb.halfSize,n=a.obb.center[2],l=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=n-l,this.fullExtent.zmax=n+l}else if("node"===(null==e?void 0:e.type)){var s;const t=null==(s=e.rootNode)?void 0:s.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<g)return;const r=t[2],o=t[3];this.fullExtent.zmin=r-o,this.fullExtent.zmax=r+o}}async _fetchService(e){if(null==this.url)throw new o.s("sceneservice:url-not-set","Scene service can not be loaded without valid portal item or url");if(null==this.layerId&&/SceneServer\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await(0,o.U)(this.url,{query:{f:"json"},responseType:"json",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await(0,o.U)(this.parsedUrl.path,{query:{f:"json"},responseType:"json",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const r=t.data;this.read(r,{origin:"service",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),"beforeSave"in this&&"function"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const t of o)e.typeKeywords.push(t);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>"Hosted Service"!==e))))}async _saveAs(e,t){const r={...S,...t};let a=s.default.from(e);a||(f.error("_saveAs(): requires a portal item parameter"),await Promise.reject(new o.s("sceneservice:portal-item-required","_saveAs() requires a portal item to save to"))),a.id&&(a=a.clone(),a.id=null);const i=a.portal||o.w.getDefault();await this._ensureLoadBeforeSave(),a.type=I,a.portal=i;const n={origin:"portal-item",url:null,messages:[],portal:i,portalItem:a,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},l={layers:[this.write(null,n)]};return await Promise.all(n.resources.pendingOperations),await this._validateAgainstJSONSchema(l,n,r),a.url=this.url,a.title||(a.title=this.title),this._updateTypeKeywords(a,r,1),await i._signIn(),await i.user.addItem({item:a,folder:r&&r.folder,data:l}),await h(this.resourceReferences,n,null),this.portalItem=a,d(n),n.portalItem=a,a}async _save(e){const t={...S,...e};this.portalItem||(f.error("_save(): requires the .portalItem property to be set"),await Promise.reject(new o.s("sceneservice:portal-item-not-set","Portal item to save to has not been set on this SceneService"))),this.portalItem.type!==I&&(f.error("_save(): Non-matching portal item type. Got "+this.portalItem.type+", expected "+I),await Promise.reject(new o.s("sceneservice:portal-item-wrong-type",`Portal item needs to have type "${I}"`))),await this._ensureLoadBeforeSave();const r={origin:"portal-item",url:this.portalItem.itemUrl&&(0,o.j)(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||o.w.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},s={layers:[this.write(null,r)]};return await Promise.all(r.resources.pendingOperations),await this._validateAgainstJSONSchema(s,r,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:s}),await h(this.resourceReferences,r,null),d(r),this.portalItem}async _validateAgainstJSONSchema(e,t,s){let a=t.messages.filter((e=>"error"===e.type)).map((e=>new o.s(e.name,e.message,e.details)));if(s&&s.validationOptions.ignoreUnsupported&&(a=a.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name&&"scenemodification:unsupported"!==e.name))),s.validationOptions.enabled||w){const t=(await r.e(98824).then(r.bind(r,98824))).validate(e,s.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\n${t.join("\n")}`;if(f.error(`_validateAgainstJSONSchema(): ${e}`),"throw"===s.validationOptions.failPolicy){const e=t.map((e=>new o.s("sceneservice:schema-validation",e))).concat(a);throw new o.s("sceneservice-validate:error","Failed to save layer item due to schema validation, see `details.errors`.",{combined:e})}}}if(a.length>0)throw new o.s("sceneservice:save","Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a})}};return(0,o.Z)([(0,o._)(p.b)],t.prototype,"id",void 0),(0,o.Z)([(0,o._)({type:o.O})],t.prototype,"spatialReference",void 0),(0,o.Z)([(0,o.ab)("spatialReference",["spatialReference","store.indexCRS","store.geographicCRS"])],t.prototype,"readSpatialReference",null),(0,o.Z)([(0,o._)({type:o.M})],t.prototype,"fullExtent",void 0),(0,o.Z)([(0,o.ab)("fullExtent",["fullExtent","store.extent","spatialReference","store.indexCRS","store.geographicCRS"])],t.prototype,"readFullExtent",null),(0,o.Z)([(0,o._)({readOnly:!0,type:i.v})],t.prototype,"heightModelInfo",void 0),(0,o.Z)([(0,o._)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:{source:"minScale"},write:!1}}}})],t.prototype,"minScale",void 0),(0,o.Z)([(0,o._)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:{source:"maxScale"},write:!1}}}})],t.prototype,"maxScale",void 0),(0,o.Z)([(0,o._)({readOnly:!0})],t.prototype,"version",void 0),(0,o.Z)([(0,o.ab)("version",["store.version"])],t.prototype,"readVersion",null),(0,o.Z)([(0,o._)({type:String,json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,o.Z)([(0,o._)({type:String,json:{read:!1}})],t.prototype,"sublayerTitleMode",void 0),(0,o.Z)([(0,o._)({type:String})],t.prototype,"title",void 0),(0,o.Z)([(0,o.ab)("portal-item","title")],t.prototype,"readTitlePortalItem",null),(0,o.Z)([(0,o.ab)("service","title",["name"])],t.prototype,"readTitleService",null),(0,o.Z)([(0,o._)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{write:{target:"id",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],t.prototype,"layerId",void 0),(0,o.Z)([(0,o._)(p.f)],t.prototype,"url",null),(0,o.Z)([(0,o.aj)("url")],t.prototype,"writeUrl",null),(0,o.Z)([(0,o._)()],t.prototype,"parsedUrl",null),(0,o.Z)([(0,o._)({readOnly:!0})],t.prototype,"store",void 0),(0,o.Z)([(0,o._)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],t.prototype,"rootNode",void 0),t=(0,o.Z)([(0,o.a0)("esri.layers.mixins.SceneService")],t),t},g=-1e38,w=!1,I="Scene Service",S={getTypeKeywords:()=>[],portalItemLayerType:"unknown",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:"throw"}}},64646:(e,t,r)=>{r.d(t,{O:()=>f,S:()=>v,d:()=>p,g:()=>m,h:()=>d,m:()=>u,p:()=>l,v:()=>c,w:()=>h,y:()=>y});var o=r(47817);const s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),i=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),n=/(.*)\/(\d+)\/?$/i;function l(e){return!!a.test(e)}function p(e){const t=(0,o.j)(e),r=t.path.match(a)||t.path.match(i);if(!r)return null;const[,s,n,l,p]=r,u=n.indexOf("/");return{title:c(-1!==u?n.slice(u+1):n),serverType:l,sublayer:null!=p&&""!==p?parseInt(p,10):null,url:{path:s}}}function u(e){const t=(0,o.j)(e).path.match(n);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function c(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){const r=[];if(e){const t=p(e);(0,o.H)(t)&&t.title&&r.push(t.title)}if(t){const e=c(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function h(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function y(e,t){return e?(0,o.b1)((0,o.b2)(e,t)):e}function m(e){let{url:t}=e;if(!t)return{url:t};t=(0,o.b2)(t,e.logger);const r=(0,o.j)(t),s=p(r.path);let a;if((0,o.H)(s))null!=s.sublayer&&null==e.layer.layerId&&(a=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){const e=u(r.path);(0,o.H)(e)&&(t=e.serviceUrl,a=e.sublayerId)}return{url:(0,o.b1)(t),layerId:a}}function f(e,t,r,s,a){(0,o.aP)(t,s,"url",a),s.url&&null!=e.layerId&&(s.url=(0,o.b3)(s.url,r,e.layerId.toString()))}function v(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),o=-1!==t.indexOf("/mapserver/wmsserver"),s=-1!==t.indexOf("/imageserver/wmsserver"),a=-1!==t.indexOf("/wmsserver");return r&&(o||s||a)}},29156:(e,t,r)=>{r.d(t,{m:()=>a});var o=r(47817),s=r(69764);const a={inches:(0,s.I)(1,"meters","inches"),feet:(0,s.I)(1,"meters","feet"),"us-feet":(0,s.I)(1,"meters","us-feet"),yards:(0,s.I)(1,"meters","yards"),miles:(0,s.I)(1,"meters","miles"),"nautical-miles":(0,s.I)(1,"meters","nautical-miles"),millimeters:(0,s.I)(1,"meters","millimeters"),centimeters:(0,s.I)(1,"meters","centimeters"),decimeters:(0,s.I)(1,"meters","decimeters"),meters:(0,s.I)(1,"meters","meters"),kilometers:(0,s.I)(1,"meters","kilometers"),"decimal-degrees":1/(0,s.R)(1,"meters",o.aW.radius)}},91504:(e,t,r)=>{r.r(t),r.d(t,{addOrUpdateResource:()=>a,contentToBlob:()=>u,fetchResources:()=>s,getSiblingOfSameType:()=>c,getSiblingOfSameTypeI:()=>d,removeAllResources:()=>n,removeResource:()=>i,splitPrefixFileNameAndExtension:()=>p});var o=r(47817);async function s(e,t={},r){await e.load(r);const s=(0,o.b3)(e.itemUrl,"resources"),{start:a=1,num:i=10,sortOrder:n="asc",sortField:l="created"}=t,p={query:{start:a,num:i,sortOrder:n,sortField:l},signal:(0,o.a3)(r,"signal")},u=await e.portal._request(s,p);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:o})=>({created:new Date(t),size:r,resource:e.resourceFromPath(o)})))}}async function a(e,t,r,s){if(!e.hasPath())throw new o.s(`portal-item-resource-${t}:invalid-path`,"Resource does not have a valid path");await e.portalItem.load(s);const a=(0,o.b3)(e.portalItem.userItemUrl,"add"===t?"addResources":"updateResources"),[i,n]=l(e.path),p=await u(r),c=new FormData;return i&&"."!==i&&c.append("resourcesPrefix",i),c.append("fileName",n),c.append("file",p,n),c.append("f","json"),(0,o.H)(s)&&s.access&&c.append("access",s.access),await e.portalItem.portal._request(a,{method:"post",body:c,signal:(0,o.a3)(s,"signal")}),e}async function i(e,t,r){if(!t.hasPath())throw new o.s("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await e.load(r);const s=(0,o.b3)(e.userItemUrl,"removeResources");await e.portal._request(s,{method:"post",query:{resource:t.path},signal:(0,o.a3)(r,"signal")}),t.portalItem=null}async function n(e,t){await e.load(t);const r=(0,o.b3)(e.userItemUrl,"removeResources");return e.portal._request(r,{method:"post",query:{deleteAll:!0},signal:(0,o.a3)(t,"signal")})}function l(e){const t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function p(e){const[t,r]=function(e){const t=(0,o.ch)(e);return(0,o.t)(t)?[e,""]:[e.slice(0,e.length-t.length-1),`.${t}`]}(e),[s,a]=l(t);return[s,a,r]}async function u(e){return e instanceof Blob?e:(await(0,o.U)(e.url,{responseType:"blob"})).data}function c(e,t){if(!e.hasPath())return null;const[r,,s]=p(e.path);return e.portalItem.resourceFromPath((0,o.b3)(r,t+s))}function d(e,t){if(!e.hasPath())return null;const[r,,s]=p(e.path);return e.portalItem.resourceFromPath((0,o.b3)(r,t+s))}r(58574),r(68700)}}]);