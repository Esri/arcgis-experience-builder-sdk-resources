/*! For license information please see 9e13ccd82c3e612bb99989fd18e0fcae.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[46785],{46785:(e,t,i)=>{i.r(t),i.d(t,{arcgis_item_palette:()=>o});var s=i(28384);const n="item",c="item--selected",r=(e,t,i)=>e+i*t,o=class{constructor(e){(0,s.r)(this,e),this.arcgisItemSelect=(0,s.c)(this,"arcgisItemSelect",7),this.handleFocus=()=>{const{items:e,selected:t}=this,i=e.findIndex((e=>"function"==typeof t?t(e):e===t));this.selectedItemIndex=i,this.activeItemIndex=i<0?0:i},this.handleKeyDown=e=>{const{key:t}=e,{el:i,itemsPerRow:s,items:c}=this;if(-1===[" ","Enter","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].indexOf(t))return;"ArrowLeft"===t?this.activeItemIndex=this.moveItemIndex("left",s):"ArrowRight"===t?this.activeItemIndex=this.moveItemIndex("right",s):"ArrowUp"===t?this.activeItemIndex=this.moveItemIndex("up",s):"ArrowDown"===t?this.activeItemIndex=this.moveItemIndex("down",s):"Enter"!==t&&" "!==t||this.selectItem(c[this.activeItemIndex]);const r=i.querySelectorAll(`.${n}`)[this.activeItemIndex];!function(e,t){if(!e)return;const i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),n=s.top+s.height,c=i.top+i.height;if(n>c){const t=Math.abs(c-n);e.scrollTop+=t}else if(s.top<i.top){const t=Math.abs(s.top-i.top);e.scrollTop-=t}}(i.parentElement,r),e.preventDefault(),e.stopPropagation()},this.moveItemIndex=(e,t)=>{const i=this.activeItemIndex,s=this.items.length;let{x:n,y:c}={x:(o=i)%(a=t),y:Math.floor(o/a)};var o,a;const l=n,d=c;"left"===e?n-=1:"right"===e&&(n+=1),n<0?n=0:n>t-1?n=t-1:"up"===e?c-=1:"down"===e&&(c+=1);const h=Math.ceil(s/t);return c<0?c=0:c>h-1&&(c=h-1),n+t*c>s-1?r(l,d,t):r(n,c,t)},this.handleClick=e=>{const t=e.currentTarget,i=Number(t.getAttribute("data-index"));this.selectItem(this.items[i])},this.selectItem=e=>{const{items:t,arcgisItemSelect:i}=this,s=t.indexOf(e);this.selectedItemIndex=s,this.activeItemIndex=s,i.emit(e)},this.extraItemProps=void 0,this.ItemRenderer=void 0,this.items=void 0,this.itemsPerRow=5,this.itemProperty=void 0,this.selected=void 0,this.activeItemIndex=0,this.selectedItemIndex=0}async setFocus(){var e;this.handleFocus(),null===(e=this.el.querySelector(`.${c}`))||void 0===e||e.focus()}render(){var e;const{items:t,ItemRenderer:i,extraItemProps:o,itemProperty:a,selected:l,itemsPerRow:d}=this,h=[],m=Math.ceil(t.length/d),p=Array(d).fill("auto").join(" ");for(let p=0;p<m;p++)for(let m=0,I=r(m,p,d);m<d;m++,I=r(m,p,d)){const r=t[I];if(I>=t.length)break;h.push((0,s.h)("div",{class:{[n]:!0,"item--active":I===this.activeItemIndex,[c]:"function"==typeof l?l(r):r===l},"data-index":I,key:I,onClick:this.handleClick,tabIndex:-1,"aria-label":(null===(e=r.item)||void 0===e?void 0:e.data)?r.item.data.title||r.item.data.name:r.name},(0,s.h)(i,Object.assign({},Object.assign(Object.assign({},a?{[a]:r}:r),o)))))}return(0,s.h)("div",{class:"palette","data-row-size":d,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,tabIndex:0,style:{gridTemplateColumns:p}},h)}get el(){return(0,s.d)(this)}};o.style=".sc-arcgis-item-palette-h{display:flex;flex-wrap:wrap;width:100%}.palette.sc-arcgis-item-palette{display:grid;justify-content:space-between;-moz-column-gap:4px;column-gap:4px;row-gap:4px;width:100%}.palette.sc-arcgis-item-palette:focus-within .item--active.sc-arcgis-item-palette:not(.item--selected){border-color:#ccc}.item.sc-arcgis-item-palette{display:flex;align-items:center;justify-content:center;cursor:pointer;border:2px solid transparent;outline:none}.item--selected.sc-arcgis-item-palette{border-color:#0079c1;font-weight:bolder}.marker-item.sc-arcgis-item-palette>div.sc-arcgis-item-palette>img.sc-arcgis-item-palette{width:100%}"}}]);