/*! For license information please see e09b20ee8469c2f0f25fac4cc46d3080.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[41883],{41883:(e,r,s)=>{s.r(r),s.d(r,{arcgis_new_item_pages_server_list:()=>l});var t=s(28384),i=s(72074),a=s(58892),c=s(54871);s(41171),s(66716),s(76134),s(27010),s(62381),s(83397),s(16665),s(83129),s(65508),s(24552),s(85142),s(72022),s(96729),s(58728),s(86739),s(31546),s(18869),s(46220),s(82463),s(48507),s(48333),s(86274);const l=class{constructor(e){(0,t.r)(this,e),this.newItemUpdatePage=(0,t.c)(this,"newItemUpdatePage",7),this.serverStatusIcons={success:"check-circle-f",failure:"exclamation-mark-circle-f",error:"exclamation-mark-triangle-f",validating:"information"},this.serverList=void 0,this.serverId=void 0,this.error=void 0}async componentWillLoad(){this.i18n=c.u.i18n.serverSelection,this.serverList=a.a.serverList,this.serverList=this.serverList.map((e=>Object.assign(Object.assign({},e),{serverStatus:"validating"}))),Promise.all(this.serverList.map((e=>(0,i.e)(e,a.a.dataStoreId)))).then((e=>{this.serverList=this.serverList.map(((r,s)=>Object.assign(Object.assign({},r),{serverStatus:e[s].result}))),1===this.serverList.length&&"success"===this.serverList[0].serverStatus&&(this.serverId=this.serverList[0].id)}))}handleNext(){this.serverId?(a.a.serverId=this.serverId,this.newItemUpdatePage.emit("itemProperties")):this.error=!0}convertStatusDisplayText(e){const r=this.i18n;return{success:r.status.success,failure:r.status.failure,error:r.status.error,validating:r.status.validating}[e]}render(){const{i18n:e,error:r,serverList:s}=this;return(0,t.h)(t.H,null,(0,t.h)("p",{class:"heading"},e.layer.heading),(0,t.h)("p",{class:"sub-heading"}," ",e.layer.subHeading),(0,t.h)("div",{class:"row-wrapper"},(0,t.h)("div",{class:"half-row"},e.list.title),(0,t.h)("div",{class:"half-row"},e.list.status)),s.map((e=>(0,t.h)("div",{class:"row-wrapper row-divider"},(0,t.h)("div",{class:"half-row"},(0,t.h)("calcite-label",{layout:"inline",class:"server-wrapper"},(0,t.h)("calcite-radio-button",{disabled:"success"!==e.serverStatus,value:e.id,onCalciteRadioButtonChange:e=>this.serverId=e.target.value,checked:this.serverId===e.id}),e.url)),(0,t.h)("div",{class:"half-row"},(0,t.h)("div",{class:"status-wrapper"},(0,t.h)("calcite-icon",{class:{success:"success"===e.serverStatus,failure:"failure"===e.serverStatus,error:"error"===e.serverStatus,validating:"validating"===e.serverStatus},scale:"s",icon:this.serverStatusIcons[e.serverStatus]}),this.convertStatusDisplayText(e.serverStatus)))))),(0,t.h)("arcgis-new-item-alert",{heading:e.error.noServerSelectedHeading,description:e.error.noServerSelectedDescription,active:r,onAlertDismiss:()=>{this.error=!1}}))}};l.style=":host{font-size:0.875rem;font-weight:500}.heading{color:var(--calcite-ui-text-1)}.sub-heading{color:var(--calcite-ui-text-3);font-weight:400}.row-wrapper{width:100%;padding-top:0.75rem;padding-bottom:0.75rem;margin-top:0.5rem;margin-bottom:0.5rem;display:flex}.row-divider{box-shadow:0 -1px 0 #eaeaea}.status-wrapper{display:flex;grid-gap:0.5rem;gap:0.5rem;line-height:1rem}.success{--calcite-ui-icon-color:var(--calcite-ui-success)}.failure{--calcite-ui-icon-color:var(--calcite-ui-danger)}.error{--calcite-ui-icon-color:var(--calcite-ui-warning)}.validating{--calcite-ui-icon-color:var(--calcite-ui-info)}.half-row{width:50%}.server-wrapper:hover{cursor:pointer}"}}]);