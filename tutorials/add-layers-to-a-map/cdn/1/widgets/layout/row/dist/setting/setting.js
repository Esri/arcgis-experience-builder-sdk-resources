System.register(["jimu-core","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime","jimu-layouts/layout-builder","jimu-ui","jimu-ui/advanced/style-setting-components"],(function(t,e){var n={},i={},s={},o={},a={},r={},u={};return{setters:[function(t){n.APP_FRAME_NAME_IN_BUILDER=t.APP_FRAME_NAME_IN_BUILDER,n.Immutable=t.Immutable,n.React=t.React,n.ReactRedux=t.ReactRedux,n.jsx=t.jsx},function(t){i.getAppConfigAction=t.getAppConfigAction},function(t){s.SettingRow=t.SettingRow,s.SettingSection=t.SettingSection},function(t){o.utils=t.utils},function(t){a.DEFAULT_ROW_LAYOUT_SETTING=t.DEFAULT_ROW_LAYOUT_SETTING},function(t){r.DistanceUnits=t.DistanceUnits,r.styleUtils=t.styleUtils,r.utils=t.utils},function(t){u.InputUnit=t.InputUnit,u.Padding=t.Padding}],execute:function(){t((()=>{var t={48891:t=>{"use strict";t.exports=n},23137:t=>{"use strict";t.exports=i},77282:t=>{"use strict";t.exports=a},74758:t=>{"use strict";t.exports=o},30726:t=>{"use strict";t.exports=r},77756:t=>{"use strict";t.exports=s},55505:t=>{"use strict";t.exports=u}},e={};function l(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,l),s.exports}l.d=(t,e)=>{for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.p="";var c={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(c),l.d(c,{__set_webpack_public_path__:()=>p,default:()=>u});var t=l(48891),e=l(23137),n=l(77756),i=l(74758),s=l(77282),o=l(30726),a=l(55505);class r extends t.React.PureComponent{constructor(){super(...arguments),this.handleSpaceChange=t=>{const{layoutSetting:n}=this.props,i=(0,e.getAppConfigAction)();this.getLayoutIds().forEach((e=>{null==i.appConfig.layouts[e].setting&&i.editLayoutProperty(e,"setting",n),i.editLayoutProperty(e,"setting.space",t.distance)})),i.exec()},this.handlePaddingChange=t=>{var n;const{layoutSetting:i}=this.props,a=(null!==(n=i.style)&&void 0!==n?n:s.DEFAULT_ROW_LAYOUT_SETTING.style).padding.unit;let r=o.styleUtils.expandStyleArray(t.number);const u=r[0]===r[1]&&r[0]===r[2]&&r[0]===r[3];if(a!==t.unit){const e=this.getSizeOfItem();null!=e&&(r=r.map(((n,i)=>{const s=i%2!=0||u?e.width:e.height;return t.unit===o.DistanceUnits.PIXEL?Math.round(n*s/100):Math.round(n/s*1e3)/10})))}const l=(0,e.getAppConfigAction)();this.getLayoutIds().forEach((e=>{null==l.appConfig.layouts[e].setting&&l.editLayoutProperty(e,"setting",i),l.editLayoutProperty(e,"setting.style.padding",{number:r,unit:t.unit})})),l.exec()},this.formatMessage=t=>this.props.intl.formatMessage({id:t})}getLayoutIds(){const t=[],{layouts:e}=this.props;if(null!=e){const n=e[Object.keys(e)[0]];Object.keys(n).forEach((e=>{t.push(n[e])}))}return t}getSizeOfItem(){const{id:t}=this.props,e=this.querySelector(`div[data-widgetid="${t}"]`);return null!=e?e.getBoundingClientRect():null}querySelector(e){const n=document.querySelector(`iframe[name="${t.APP_FRAME_NAME_IN_BUILDER}"]`);return null!=n?(n.contentDocument||n.contentWindow.document).querySelector(e):null}render(){var e,i;const{layoutSetting:r}=this.props,u=r.space>=0?r.space:s.DEFAULT_ROW_LAYOUT_SETTING.space,l=null!==(e=r.style)&&void 0!==e?e:s.DEFAULT_ROW_LAYOUT_SETTING.style,c=(null===(i=l.padding)||void 0===i?void 0:i.unit)===o.DistanceUnits.PERCENTAGE?100:Number.POSITIVE_INFINITY;return(0,t.jsx)("div",{className:"row-layout-setting"},(0,t.jsx)(n.SettingSection,{role:"group",title:this.formatMessage("layout"),"aria-label":this.formatMessage("layout")},(0,t.jsx)(n.SettingRow,{label:this.formatMessage("gap")},(0,t.jsx)(a.InputUnit,{"aria-label":this.formatMessage("gap"),precision:0,value:o.utils.stringOfLinearUnit(u),min:0,onChange:this.handleSpaceChange,style:{width:110}})),(0,t.jsx)(n.SettingRow,{role:"group","aria-label":this.formatMessage("padding"),label:this.formatMessage("padding"),flow:"wrap"},(0,t.jsx)(a.Padding,{value:l.padding,max:c,onChange:this.handlePaddingChange}))))}}const u=t.ReactRedux.connect(((e,n)=>{var o,a;const{layouts:r}=n;let u=s.DEFAULT_ROW_LAYOUT_SETTING;if(null!=r&&e.appStateInBuilder){const t=r[Object.keys(r)[0]][i.utils.getCurrentSizeMode()];u=null!==(a=null===(o=e.appStateInBuilder.appConfig.layouts[t])||void 0===o?void 0:o.setting)&&void 0!==a?a:s.DEFAULT_ROW_LAYOUT_SETTING}return{layoutSetting:(0,t.Immutable)(u)}}))(r);function p(t){l.p=t}})(),c})())}}}));