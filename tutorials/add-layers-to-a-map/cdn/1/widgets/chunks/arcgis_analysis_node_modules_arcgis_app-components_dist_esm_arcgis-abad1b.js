/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-abad1b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-abad1b"],{12476:(e,t,i)=>{i.r(t),i.d(t,{arcgis_floor_configuration:()=>f,arcgis_floor_configuration_add_layers:()=>v,arcgis_floor_configuration_add_layers_flow:()=>y,arcgis_floor_configuration_additional_layers:()=>m,arcgis_floor_configuration_field_list:()=>b,arcgis_floor_configuration_field_picker:()=>L,arcgis_floor_configuration_field_select:()=>w,arcgis_floor_configuration_layer_list:()=>C,arcgis_floor_configuration_layer_picker:()=>F,arcgis_floor_configuration_replace_field:()=>_,arcgis_floor_configuration_select_fields:()=>I});var l=i(35110),s=i(1984),n=i(21104);i(63280),i(86587),i(73838);const r={facilityLayer:{facilityIdField:"FACILITY_ID",siteIdField:"SITE_ID",nameField:"NAME"},levelLayer:{levelIdField:"LEVEL_ID",facilityIdField:"FACILITY_ID",longNameField:"NAME",shortNameField:"NAME_SHORT",levelNumberField:"LEVEL_NUMBER",verticalOrderField:"VERTICAL_ORDER"},siteLayer:{siteIdField:"SITE_ID",nameField:"NAME"}};let o;const a=e=>{var t;const i=null==e?void 0:e.map;return o=o||(null==i?void 0:i.floorInfo)||Object.assign({},r),o.siteLayer=(null===(t=null==o?void 0:o.siteLayer)||void 0===t?void 0:t.layerId)?o.siteLayer:null,o},d=e=>{const t=null==e?void 0:e.map,i=a(e);t&&h(i)?t.set("floorInfo",i):c(e)},c=e=>{const t=null==e?void 0:e.map;t&&(t.floorInfo=null)},h=e=>{var t,i;return!(!(null===(t=null==e?void 0:e.facilityLayer)||void 0===t?void 0:t.layerId)||!(null===(i=null==e?void 0:e.levelLayer)||void 0===i?void 0:i.layerId)||(null==e?void 0:e.siteLayer)&&!(null==e?void 0:e.siteLayer.layerId))},u=e=>{const t=r[e];return Object.values(t)},g=e=>{const{map:t}=e,{allLayers:i}=t;let l=[];return i.forEach((e=>{const{type:t,floorInfo:i}=e;if("map-image"===t){const{allSublayers:t}=e;l=l.concat(t.filter((e=>e.fieldsIndex&&!(null==e?void 0:e.floorInfo))).toArray())}else!i&&["feature","oriented-imagery"].includes(t)&&l.push(e)})),l},p=e=>{let{layer:t,field:i}=e;"arcgis-field-list"===(null==e?void 0:e.localName)&&(i=e.selection.values().next().value);const l=t.floorInfo||{};l.floorField=i.name,t.set("floorInfo",l)},f=class{constructor(e){(0,l.r)(this,e),this.floorInfoChange=(0,l.c)(this,"floorInfoChange",7),this.view=void 0,this.layer=void 0,this.open=!0,this.disabled=!1}async componentWillLoad(){const[e]=await(0,s.g)(this.hostElement);this.strings=e;const{view:t}=this;this.props={view:t,strings:e},this.disabled=this.disabled||await this.getDisabled()}async componentDidLoad(){const[e]=await(0,n.l)(["esri/intl"]);this.intl=e,this.intl.setLocale(document.documentElement.lang)}addMapFloorInfo(){d(this.view),this.floorInfoChange.emit()}removeFloorInfo(){c(this.view),this.floorInfoChange.emit()}updateFloorInfo(e){((e,t)=>{const i=a(t),{name:l}=e,s=e.layer,n=!!(null==s?void 0:s.layer);s?(i[l]=Object.assign({},r[l]),i[l].layerId=n?s.layer.id:s.id,i[l].sublayerId=n?s.id:void 0):i[l]=void 0,d(t)})(e,this.view),this.floorInfoChange.emit()}disableContainer(e){const{detail:t}=e,i=this.hostElement.closest("calcite-flow-item");i&&(i.disabled=t)}closeAllLayerPickers(){document.querySelectorAll("arcgis-floor-configuration-layer-picker").forEach((e=>e.open=!1))}async getDisabled(){const e=this.view,t=await(async e=>{const{map:t}=e,{allLayers:i}=t,l=i.map((async e=>await(e=>{try{e.loadAll?e.loadAll():e.load()}catch(e){}return e})(e))).filter((e=>"failed"!==(null==e?void 0:e.loadStatus))),s=await Promise.all(l);let n=[];return s.forEach((e=>{const{type:t,geometryType:i}=e;if("map-image"===t){const{allSublayers:t}=e;n=n.concat(t.filter((e=>{var t;return e.fieldsIndex&&"esriGeometryPolygon"===(null===(t=e.sourceJSON)||void 0===t?void 0:t.geometryType)})).toArray())}else"feature"===t&&"polygon"===i&&n.push(e)})),n})(e),i=["facilityLayer","levelLayer"].filter((e=>{var i;return null===(i=t.filter((t=>this.hasRequiredFields(t,u(e)))))||void 0===i?void 0:i.length}));return!(null==i?void 0:i.length)}hasRequiredFields(e,t){if(e){const{fieldsIndex:i}=e;return i&&t.every((e=>!!i.get(e)))||!1}return!1}render(){const{strings:e,open:t,disabled:i}=this;return(0,l.h)(l.H,null,(0,l.h)("calcite-block",{class:"container",heading:e.heading,collapsible:!0,disabled:i,open:t&&!i},this.renderFloorConfiguration()))}renderFloorConfiguration(){const{strings:e,view:t}=this,i=t.map,s=!!(null==i?void 0:i.floorInfo);return(0,l.h)("calcite-block-section",{text:e.enable,open:s,"toggle-display":"switch",onCalciteBlockSectionToggle:e=>e.currentTarget.open?this.addMapFloorInfo():this.removeFloorInfo()},(0,l.h)("p",null,e.summary),this.renderLayerPicker("siteLayer"),this.renderLayerPicker("facilityLayer"),this.renderLayerPicker("levelLayer"),this.renderAdditionalLayers())}renderLayerPicker(e){const{strings:t,view:i}=this,s=((e,t)=>{var i,l;const s=t.map.allLayers,n=a(t),r=null===(i=null==n?void 0:n[e])||void 0===i?void 0:i.layerId,o=null===(l=null==n?void 0:n[e])||void 0===l?void 0:l.sublayerId;let d=r?null==s?void 0:s.find((e=>e.id===r)):null;return"map-image"===(null==d?void 0:d.type)&&(d=d.allSublayers.find((e=>e.id===o))),d})(e,i),n=u(e);return(0,l.h)("arcgis-floor-configuration-layer-picker",{view:this.view,label:t[e],strings:t,selectedLayer:s,requiredFields:n,onListChange:t=>this.updateFloorInfo({layer:(null==t?void 0:t.detail)?null==t?void 0:t.detail[0]:null,name:e})})}renderAdditionalLayers(){const{strings:e}=this;return(0,l.h)("calcite-block-section",{text:e.additionalLayers,open:!0},(0,l.h)("arcgis-floor-configuration-additional-layers",{view:this.view,strings:this.strings,onDisable:e=>this.disableContainer(e)}))}get hostElement(){return(0,l.d)(this)}},v=class{constructor(e){(0,l.r)(this,e),this.listChange=(0,l.c)(this,"listChange",7),this.view=void 0,this.layers=void 0,this.selection=new Map,this.strings=void 0}selectionChange(){this.listChange.emit(this.selection)}render(){return(0,l.h)(l.H,null,this.renderPanel())}renderPanel(){return(0,l.h)("section",null,(0,l.h)("arcgis-floor-configuration-layer-list",{layers:g(this.view),"filter-enabled":!0,multiple:!0,strings:this.strings,onListChange:e=>this.selection=e.detail}))}get el(){return(0,l.d)(this)}static get watchers(){return{selection:["selectionChange"]}}},y=class{constructor(e){(0,l.r)(this,e),this.done=(0,l.c)(this,"done",7),this.dismiss=(0,l.c)(this,"dismiss",7),this.view=void 0,this.strings=void 0,this.layers=void 0,this.selectedLayers=void 0,this.mode="create"}render(){return(0,l.h)(l.H,null,this.renderFlow())}renderFlow(){return(0,l.h)("calcite-flow",{ref:e=>this.createPanels(e)})}onCreate(e){e.stopPropagation(),this.done.emit()}onEdit(e){e.stopPropagation(),this.done.emit()}onDismiss(e){e.stopPropagation(),this.dismiss.emit()}createPanels(e){const{mode:t}=this;return"create"===t?this.createAddLayersPanel(e):"edit"===t?this.createReplaceFieldsPanel(e):void 0}createAddLayersPanel(e){const t=document.createElement("arcgis-floor-configuration-add-layers");t.strings=this.strings,t.view=this.view,t.classList.add("content"),t.addEventListener("listChange",(e=>{var t;return s.disabled=!(null===(t=e.detail)||void 0===t?void 0:t.length)}));const i=this.createPanel({heading:this.strings.addLayers});i.appendChild(t);const l=this.createButton({label:this.strings.cancel,appearance:"outline-fill",eventListener:this.onDismiss.bind(this)});i.appendChild(l);const s=this.createButton({label:this.strings.next,appearance:"solid",disabled:!0,eventListener:()=>{this.createSelectFloorFieldsPanel(t.selection,e)}});i.appendChild(s),e.appendChild(i)}createSelectFloorFieldsPanel(e,t){const i=document.createElement("arcgis-floor-configuration-select-fields");i.classList.add("content"),i.strings=this.strings,i.layers=e,i.view=this.view;const l=this.createPanel({heading:this.strings.selectFloorField});l.appendChild(i);const s=this.createButton({label:this.strings.cancel,appearance:"outline-fill",eventListener:this.onDismiss.bind(this)});l.appendChild(s);const n=this.createButton({label:this.strings.add,appearance:"solid",eventListener:async e=>{await i.commit(),this.onCreate(e)}});l.appendChild(n),t.appendChild(l)}createReplaceFieldsPanel(e){const t=this.layers[0],i=document.createElement("arcgis-floor-configuration-replace-field");i.classList.add("content"),i.strings=this.strings,i.view=this.view,i.layer=t;const l=this.createPanel({heading:t.title,summary:this.strings.replaceFloorField});l.appendChild(i);const s=this.createButton({label:this.strings.replace,width:"full",eventListener:async e=>{await i.commit(),this.onEdit(e)}});l.appendChild(s),e.appendChild(l)}createPanel(e){const t=document.createElement("calcite-flow-item");return t.heading=e.heading,t.description=e.summary,t.closable=!0,t.closed=!1,t.addEventListener("calcitePanelClose",this.onDismiss.bind(this)),t}createButton(e){const{appearance:t="solid",label:i,eventListener:l,width:s="half",disabled:n=!1}=e,r=document.createElement("calcite-button");r.slot="footer",r.appearance=t,r.disabled=n,r.width=s;const o=document.createTextNode(i);return r.appendChild(o),r.addEventListener("click",l),r}get el(){return(0,l.d)(this)}};y.style=".content{width:20vw;max-width:420px;min-width:240px;max-height:40vh}";const m=class{constructor(e){(0,l.r)(this,e),this.dismiss=(0,l.c)(this,"dismiss",7),this.disable=(0,l.c)(this,"disable",7),this.floorInfoChange=(0,l.c)(this,"floorInfoChange",7),this.reRender=void 0,this.view=void 0,this.strings=void 0,this.placement="bottom-start"}disconnectedCallback(){var e;const{popoverNode:t}=this;t&&(t.open=!1,null===(e=t.parentElement)||void 0===e||e.removeChild(t))}async setFocus(){var e;return null===(e=this.layerPanel)||void 0===e?void 0:e.setFocus()}open(){setTimeout((()=>this.popoverNode.open=!0),25)}close(e){this.disableContainer(!1);const{popoverNode:t}=this;t.open=!1,t.remove(),this.popoverNode=null,this.reRender=!this.reRender,e&&this.floorInfoChange.emit()}create(){const e=this.createPopover(),t=this.createAddLayersFlow("create");e.appendChild(t),this.open()}edit(e){const t=this.getSelectedLayer(e),i=this.createPopover(),l=this.createAddLayersFlow("edit");l.layers=[t],i.appendChild(l),this.open()}removeLayer(e){e.floorInfo=null,this.reRender=!this.reRender,this.floorInfoChange.emit()}render(){return(0,l.h)(l.H,null,this.renderNotice(),this.renderPanel())}renderNotice(){const{strings:e}=this,t=this.getLayers();return(null==t?void 0:t.length)?null:(0,l.h)("calcite-notice",{scale:"s",width:"auto",open:!0},(0,l.h)("div",{slot:"message"},e.additionalLayersTip))}renderPanel(){const{strings:e}=this,t=g(this.view);return(0,l.h)("calcite-panel",{ref:e=>this.layerPanel=e},this.renderLayers(),(0,l.h)("calcite-fab",{slot:"fab",icon:"plus",appearance:"outline-fill",kind:"neutral","text-enabled":!0,label:e.addLayers,text:e.addLayers,disabled:0===t.length,scale:"s",ref:e=>this.triggerButton=e,onClick:()=>this.create()}))}renderLayers(){const e=this.getLayers();return(0,l.h)("calcite-value-list",{dir:"ltr",class:"calcite-mode-light",onClick:e=>this.edit(e)},e.map((e=>this.renderLayer(e))))}renderLayer(e){const{title:t,floorInfo:i,id:s}=e,{floorField:n}=i,r=`{${n}}`;return(0,l.h)("calcite-value-list-item",{label:t,description:r,value:s},(0,l.h)("calcite-action",{slot:"actions-end",text:this.strings.remove,icon:"x",onClick:t=>{t.stopPropagation(),this.removeLayer(e)}}))}disableContainer(e){const t=this.el.closest("calcite-block");t&&(t.disabled=e),this.disable.emit(e)}createAddLayersFlow(e){this.disableContainer(!0);const t=this.addLayersFlow=document.createElement("arcgis-floor-configuration-add-layers-flow");return t.strings=this.strings,t.view=this.view,t.mode=e,t.addEventListener("done",this.close.bind(this,!0)),t.addEventListener("dismiss",this.close.bind(this,!1)),t}createPopover(){const e=this.el,t=this.popoverNode=document.createElement("calcite-popover");return t.classList.add("js-app-primary-flyout"),t.referenceElement=e,t.offsetDistance=-550,t.offsetSkidding=0,t.label=this.strings.addLayers,t.placement="bottom-start",t.pointerDisabled=!0,document.body.appendChild(t),t}getSelectedLayer(e){var t,i,l,s,n;if("calcite-value-list-item"===(null===(t=e.target)||void 0===t?void 0:t.localName)||"calcite-value-list-item"===(null===(l=null===(i=e.target)||void 0===i?void 0:i.parentElement)||void 0===l?void 0:l.localName)){const t=null!==(s=e.target.value)&&void 0!==s?s:null===(n=e.target.parentElement)||void 0===n?void 0:n.value;return this.findLayer(t)}}getLayers(){const e=this.view,{map:t}=e,{allLayers:i}=t;let l=[];return i.forEach((e=>{const{type:t,floorInfo:i}=e;if("map-image"===t){const{allSublayers:t}=e;l=l.concat(t.filter((e=>e.fieldsIndex&&(null==e?void 0:e.floorInfo))).toArray())}else i&&l.push(e)})),l}findLayer(e){const t=this.getLayers();return null==t?void 0:t.find((t=>t.id===e))}get el(){return(0,l.d)(this)}};m.style=":host{height:100%}calcite-notice{margin-bottom:1em}";const b=class{constructor(e){(0,l.r)(this,e),this.listChange=(0,l.c)(this,"listChange",7),this.layer=void 0,this.selection=new Map,this.filterEnabled=!0,this.multiple=!1,this.strings=void 0,this.fieldType="string"}render(){return(0,l.h)(l.H,null,(0,l.h)("calcite-pick-list",{"filter-enabled":this.filterEnabled,"filter-placeholder":this.strings.filter,multiple:this.multiple,onClick:e=>this.onListChange(e)},this.renderFields()))}renderFields(){return(this.getFields()||[]).map((e=>this.renderField(e)))}renderField(e){const t=`{${e.name}}`;return(0,l.h)("calcite-pick-list-item",{label:e.alias,description:t,selected:this.selection.has(e.name),value:e.name})}onListChange(e){const{selection:t}=this;this.updateSelection(e),this.listChange.emit(Array.from(t.values()))}updateSelection(e){var t,i,l,s,n;if("calcite-pick-list-item"===(null===(t=e.target)||void 0===t?void 0:t.localName)||"calcite-pick-list-item"===(null===(l=null===(i=e.target)||void 0===i?void 0:i.parentElement)||void 0===l?void 0:l.localName)){const{selection:t}=this,i=null!==(s=e.target.value)&&void 0!==s?s:null===(n=e.target.parentElement)||void 0===n?void 0:n.value,l=t.has(i),r=this.findField(i);this.multiple||t.clear(),l?this.selection.delete(r.name):this.selection.set(i,r)}}getFields(){const{layer:e,fieldType:t}=this,{fields:i}=e;return(null==i?void 0:i.length)?i.filter((e=>!t||(null==e?void 0:e.type)===t)):[]}findField(e){const{layer:t}=this;return t.fieldsIndex.get(e)}get el(){return(0,l.d)(this)}},L=class{constructor(e){(0,l.r)(this,e),this.iconEnd="pencil",this.label=void 0,this.layer=void 0,this.placement="auto",this.open=void 0}render(){var e;const t=(null===(e=this.layer)||void 0===e?void 0:e.title)||this.strings.none;return(0,l.h)(l.H,null,(0,l.h)("calcite-label",null,this.label,(0,l.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",scale:"m","icon-end":this.iconEnd,ref:e=>this.triggerButton=e,onClick:()=>this.open=!this.open},t)),(0,l.h)("calcite-popover",{label:this.label,pointerDisabled:!0,referenceElement:this.triggerButton,open:this.open,closable:!0,placement:this.placement},(0,l.h)("div",{class:"content"},(0,l.h)("slot",null))))}get el(){return(0,l.d)(this)}},w=class{constructor(e){(0,l.r)(this,e),this.layer=void 0,this.strings=void 0,this.field=void 0,this.fieldType="string"}async componentWillLoad(){this.onSelectChange()}findField(e){return this.layer.fieldsIndex.get(e)}onSelectChange(){const{select:e}=this,t=null==e?void 0:e.selectedOption;this.field=t?this.findField(t.value):this.field||this.getFields()[0]}render(){const{title:e}=this.layer,t=this.getFields();return(0,l.h)(l.H,null,(0,l.h)("calcite-label",null,e,(0,l.h)("calcite-select",{label:"select",ref:e=>this.select=e,onCalciteSelectChange:()=>this.onSelectChange()},t.map((e=>this.renderField(e))))))}renderField(e){return(0,l.h)("calcite-option",{label:e.alias,value:e.name})}getFields(){const{layer:e,fieldType:t}=this,{fields:i}=e;return(null==i?void 0:i.length)?i.filter((e=>!t||(null==e?void 0:e.type)===t)):[]}get el(){return(0,l.d)(this)}},C=class{constructor(e){(0,l.r)(this,e),this.listChange=(0,l.c)(this,"listChange",7),this.layers=void 0,this.selection=new Map,this.filterEnabled=!0,this.multiple=!1,this.strings=void 0}render(){return(0,l.h)(l.H,null,(0,l.h)("calcite-pick-list",{"filter-enabled":this.filterEnabled,"filter-placeholder":this.strings.filter,multiple:this.multiple,onClick:e=>this.onListChange(e)},this.renderLayers()))}renderLayers(){const{layers:e,selection:t}=this;return(e||[]).map((e=>(0,l.h)("calcite-pick-list-item",{label:e.title,description:this.getLayerType(e),selected:t.has(e.id),value:e.id})))}onListChange(e){const{selection:t}=this;this.updateSelection(e),this.listChange.emit(Array.from(t.values()))}updateSelection(e){var t,i,l,s,n;if("calcite-pick-list-item"===(null===(t=e.target)||void 0===t?void 0:t.localName)||"calcite-pick-list-item"===(null===(l=null===(i=e.target)||void 0===i?void 0:i.parentElement)||void 0===l?void 0:l.localName)){const{selection:t}=this,i=null!==(s=e.target.value)&&void 0!==s?s:null===(n=e.target.parentElement)||void 0===n?void 0:n.value,l=t.has(i),r=this.findLayer(i);this.multiple||t.clear(),l?this.selection.delete(r.id):this.selection.set(r.id,r)}}findLayer(e){const{layers:t}=this;return null==t?void 0:t.find((t=>t.id===e))}getLayerType(e){const{layerTypes:t}=this.strings,{geometryType:i="unknown",sourceJSON:l}=e;return"unknown"!==i?t[i]:t[this.jsonTypeToLayerType(null==l?void 0:l.geometryType)]}jsonTypeToLayerType(e){return"esriGeometryPolygon"===e?"polygon":"esriGeometryPoint"===e?"point":"esriGeometryPolyline"===e?"line":"unknown"}get el(){return(0,l.d)(this)}},F=class{constructor(e){(0,l.r)(this,e),this.listChange=(0,l.c)(this,"listChange",7),this.selectedLayer=void 0,this.view=void 0,this.iconEnd="pencil",this.label=void 0,this.placement="bottom-start",this.open=!1,this.strings=void 0,this.requiredFields=void 0,this.geometryType="polygon"}calcitePopoverCloseHandler(){this.open=!1}async setFocus(){return this.panel?this.panel.setFocus():Promise.resolve()}render(){const{selectedLayer:e}=this,t=(null==e?void 0:e.title)||this.strings.none,i=this.getLayers(),s=this.open||!(null==i?void 0:i.length),n=new Map;return e&&n.set(e.id,e),(0,l.h)(l.H,null,(0,l.h)("calcite-label",null,this.label,(0,l.h)("span",null,(0,l.h)("calcite-button",{appearance:"outline-fill",alignment:"icon-end-space-between",kind:"neutral",scale:"m","icon-end":"pencil",width:"full",disabled:s,ref:e=>this.triggerButton=e,onClick:()=>{this.open=!this.open,setTimeout((()=>this.setFocus()),25)}},t),(0,l.h)("calcite-action",{icon:"x",scale:"s",text:this.strings.clear,disabled:!this.selectedLayer,onClick:()=>{this.selectedLayer=null,this.listChange.emit()}}))),(0,l.h)("calcite-popover",{label:this.label,pointerDisabled:!0,referenceElement:this.triggerButton,open:this.open,placement:this.placement,ref:e=>this.popoverNode=e},(0,l.h)("calcite-panel",{heading:this.label,closed:!1,"width-scale":"m","height-scale":"m",ref:e=>this.panel=e},(0,l.h)("arcgis-floor-configuration-layer-list",{strings:this.strings,layers:i,selection:n,onListChange:e=>this.selectedLayer=null==e?void 0:e.detail[0]}),(0,l.h)("calcite-button",{width:"full",slot:"footer",onClick:()=>this.open=!1},this.strings.done))))}getLayers(){const e=this.getCompatibleLayers();return(null==e?void 0:e.length)?e.filter((e=>this.checkRequiredFields(e))):[]}getCompatibleLayers(){const{geometryType:e}=this,{map:t}=this.view,{allLayers:i}=t;let l=[];return i.forEach((t=>{const{type:i}=t;if("map-image"===i){const{allSublayers:e}=t;l=l.concat(e.filter((e=>e.fieldsIndex)).toArray())}else("feature"===i&&!e||(null==t?void 0:t.geometryType)===e)&&l.push(t)})),l}checkRequiredFields(e){const{requiredFields:t}=this,{fieldsIndex:i}=e;return!t||!i||t.every((e=>i.get(e)))}get el(){return(0,l.d)(this)}};F.style="calcite-label span{width:100%;display:flex;justify-content:space-between}calcite-label span calcite-action{margin-left:0.3em}.arcgis--rtl calcite-label span calcite-action{margin-left:auto;margin-right:0.3em}";const _=class{constructor(e){(0,l.r)(this,e),this.view=void 0,this.layer=void 0,this.strings=void 0}async commit(){return new Promise((async e=>{Array.from(this.el.shadowRoot.querySelectorAll("arcgis-field-list")).map((e=>p(e))),e()}))}render(){return(0,l.h)(l.H,null,this.renderPanel())}renderPanel(){const e=this.layer,t=this.findField(e.floorInfo.floorField),i=new Map;return i.set(t.name,t),(0,l.h)("section",null,(0,l.h)("arcgis-floor-configuration-field-list",{strings:this.strings,layer:e,selection:i}))}findField(e){return this.layer.fieldsIndex.get(e)}get el(){return(0,l.d)(this)}};_.style="section{padding:0.5rem 0.75rem;background-color:white}";const I=class{constructor(e){(0,l.r)(this,e),this.view=void 0,this.layers=void 0,this.strings=void 0}async commit(){return new Promise((async e=>{Array.from(this.el.shadowRoot.querySelectorAll("arcgis-floor-configuration-field-select")).forEach((e=>p(e))),e()}))}render(){return(0,l.h)(l.H,null,this.renderPanel())}renderPanel(){const{layers:e}=this;return(0,l.h)("section",null,(0,l.h)("p",null,this.strings.selectMessage),e.map((e=>this.renderSelect(e))))}renderSelect(e){return(0,l.h)("arcgis-floor-configuration-field-select",{strings:this.strings,layer:e})}get el(){return(0,l.d)(this)}};I.style="section{padding:0.5rem 0.75rem;background-color:white}"}}]);