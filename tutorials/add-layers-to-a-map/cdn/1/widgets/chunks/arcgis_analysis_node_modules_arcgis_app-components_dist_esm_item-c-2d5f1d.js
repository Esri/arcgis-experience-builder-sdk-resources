/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-c-2d5f1d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-c-2d5f1d"],{73838:(t,i,e)=>{e.d(i,{a:()=>a,c:()=>s,g:()=>n});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,i,e){return t(e={path:i,exports:{},require:function(t,i){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}},59306:(t,i,e)=>{e.d(i,{a:()=>o,e:()=>u,i:()=>c,r:()=>r,s:()=>l});var a=e(46710),n=e(21104),s=e(66913);function o(t){return(0,s.r)(t)}function r(t){return(0,s.r)(t)}function l(t,i){const e={classification:JSON.stringify(i)};return(0,s.r)(t,e,{},"post")}async function c(t,i,e){var a;const n=null===(a=null==i?void 0:i.attributes)||void 0===a?void 0:a[t],s=null==n?void 0:n.isAttributeEnabled;if(!n)return!1;if(!s)return!0;const o={schemaJsonString:JSON.stringify(i),valueJsonString:e,attributeId:t};return(await d(s)).execute(o)}async function u(t,i,e){var a,n;const s=null===(a=null==i?void 0:i.attributes)||void 0===a?void 0:a[t],o=null==s?void 0:s.valueExpression,r=null==s?void 0:s.validValues,l=null==s?void 0:s.validValuesMap;if(!s)return null;if(null==r?void 0:r.length)return r;if(l&&(null===(n=Object.keys(l))||void 0===n?void 0:n.length))return l;if(!o)return null;const c={schemaJsonString:JSON.stringify(i),valueJsonString:e,attributeId:t};return(await d(o)).execute(c)}async function d(t){const[i]=await(0,n.l)([3===(null===a.c||void 0===a.c?void 0:a.c.api)?"webpack-bundles/arcade":"esri/arcade"]);return i.createArcadeExecutor(t,{variables:[{name:"schemaJsonString",type:"text"},{name:"valueJsonString",type:"text"},{name:"attributeId",type:"text"}]})}},42452:(t,i,e)=>{e.r(i),e.d(i,{item_classification_category:()=>s,item_classification_content:()=>o,item_classification_info:()=>r,item_classification_notification:()=>l});var a=e(35110),n=e(59306);e(46710),e(23505),e(21104),e(73838),e(66913),e(70392);const s=class{constructor(t){(0,a.r)(this,t),this.i18n=void 0,this.classificationCategoryArr=void 0,this.classificationType=void 0,this.setClassificationType=void 0,this.setItemClassificationValue=void 0}getClassificationType(t){return this.classificationCategoryArr.find((i=>i.value===t))}changeClassificationCategory(t){const i=t.target;if(i.value){const t=i.value,e=this.getClassificationType(t);this.setClassificationType(e),this.setItemClassificationValue({classification:null==e?void 0:e.label})}}configureClassificationCategoryMenu(){return this.classificationCategoryArr.map((t=>{var i;return(0,a.h)("calcite-combobox-item",{id:t.value,selected:t.value===(null===(i=this.classificationType)||void 0===i?void 0:i.value),key:t.value,value:t.value,textLabel:t.label})}))}render(){var t;return(0,a.h)("div",{class:"itemClassificationCategory"},(0,a.h)("label",{htmlFor:"classificationCategory",id:"classificationCategoryLabel"},this.i18n.itemClassificationLabel),(0,a.h)("calcite-combobox",{id:"classificationCategory",label:this.i18n.itemClassificationCategoryLabel,selectionMode:"single",scale:"m",onCalciteComboboxChange:this.changeClassificationCategory.bind(this),value:null===(t=this.classificationType)||void 0===t?void 0:t.value,placeholder:this.i18n.searchForCategory},this.configureClassificationCategoryMenu()))}};s.style=".itemClassificationCategory{margin:1.25rem}";const o=class{constructor(t){(0,a.r)(this,t),this.arcgisItemClassificationContentDisplayNotification=(0,a.c)(this,"arcgisItemClassificationContentDisplayNotification",7),this.attributeElementsCopy={},this.createUIElements=async(t,i,e)=>{var a;let s;if(e){const e=(null===(a=this.classificationSchema.layouts.default.layoutElements)||void 0===a?void 0:a[t].uiElement)||"text",o=structuredClone(this.itemClassificationValue);if(e.includes("-select"))try{const a=await(0,n.e)(t,this.classificationSchema,JSON.stringify(o));"multi-select"===e?s=this.renderMultiSelectElement({attributeValue:i,itemClassificationValue:o,attributeId:t,valueExpressionResult:a}):"multi-grouped-select"===e?s=this.renderGroupedMultiSelectElement({attributeValue:i,itemClassificationValue:o,attributeId:t,valueExpressionResult:a}):"single-select"===e&&(s=this.renderSingleSelectElement({attributeValue:i,itemClassificationValue:o,attributeId:t,valueExpressionResult:a}))}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message})}else"checkbox"===e?s=this.renderCheckbox({attributeValue:i,itemClassificationValue:o,attributeId:t}):"text"===e?s=this.renderInputTextBox({attributeValue:i,itemClassificationValue:o,attributeId:t}):"date"===e&&(s=this.renderDatePickerElement({attributeValue:i,itemClassificationValue:o,attributeId:t}));this.attributeElementsCopy=Object.assign(Object.assign({},this.attributeElementsCopy),{[t]:s}),this.attributeElements=structuredClone(this.attributeElementsCopy)}},this.renderGroupedMultiSelectElement=t=>(0,a.h)("arcgis-item-classification-input-grouped-multiple-selection",{isSaving:this.isSaving,inputData:t}),this.renderSingleSelectElement=t=>(0,a.h)("arcgis-item-classification-input-single-selection",{isSaving:this.isSaving,inputData:t}),this.renderCheckbox=t=>(0,a.h)("arcgis-item-classification-input-checkbox",{isSaving:this.isSaving,inputData:t}),this.renderInputTextBox=t=>(0,a.h)("arcgis-item-classification-input-textbox",{isSaving:this.isSaving,inputData:t}),this.renderDatePickerElement=t=>(0,a.h)("arcgis-item-classification-input-date",{isSaving:this.isSaving,inputData:t}),this.switchCategoryTab=t=>{this.setAttributeCategory(t.target.selectedTitle.id)},this.renderCategoryTabTitles=()=>{var t;return null===(t=this.classificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab-title",{selected:this.attributeCategory===t,key:t,id:t},t)))},this.renderCategoryTabContent=()=>{var t;return null===(t=this.classificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab",{class:"classification-tab",selected:this.attributeCategory===t,key:`tab_${t}`,id:`tab_${t}`},this.renderClassificationContent(t))))},this.renderClassificationContent=t=>{var i,e;return null===(e=null===(i=this.classificationContentArr)||void 0===i?void 0:i[t])||void 0===e?void 0:e.map(((i,e)=>(0,a.h)("div",{id:`${t}_${e}`,key:`${t}_${e}`},i)))},this.itemClassificationValue=void 0,this.classificationSchema=void 0,this.attributeCategory=void 0,this.setAttributeCategory=void 0,this.setItemClassificationValue=void 0,this.isSaving=void 0,this.attributeElements=null,this.classificationContentArr=null}componentWillLoad(){this.createClassificationContent()}async createClassificationContent(){var t,i;if(this.attributeElementsCopy={},null===(t=this.classificationSchema)||void 0===t?void 0:t.attributes){const t=Object.entries(null===(i=this.classificationSchema)||void 0===i?void 0:i.attributes).sort((([,t],[,i])=>t.position-i.position));for(let i in t){const e=t[i][0],a=t[i][1];try{const t=await(0,n.i)(e,this.classificationSchema,JSON.stringify(this.itemClassificationValue));this.createUIElements(e,a,t)}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message});break}}}}handleAttributeElementsChange(){this.attributeElements&&(t=>{const i={};null==t||t.attributeCategories.forEach((t=>i[t]=[]));const e=Object.entries(null==t?void 0:t.attributes).sort((([,t],[,i])=>t.position-i.position));null==e||e.forEach((([t,e])=>{var a;const n=this.attributeElements[t];if(n){const t=(null==e?void 0:e.attributeCategory)||"Default";null===(a=i[t])||void 0===a||a.push(n)}})),this.classificationContentArr=structuredClone(i)})(this.classificationSchema)}renderMultiSelectElement(t){return(0,a.h)("arcgis-item-classification-input-multiple-selection",{isSaving:this.isSaving,inputData:t})}changeClassificationVal(t){this.setItemClassificationValue(t.detail)}render(){return(0,a.h)("div",{class:"itemClassificationContent"},(0,a.h)("calcite-tabs",null,(0,a.h)("calcite-tab-nav",{slot:"title-group",onCalciteTabChange:this.switchCategoryTab.bind(this)},this.renderCategoryTabTitles()),this.renderCategoryTabContent()))}static get watchers(){return{itemClassificationValue:["createClassificationContent"],attributeElements:["handleAttributeElementsChange"]}}};o.style=".itemClassificationContent{margin:1rem}";const r=class{constructor(t){(0,a.r)(this,t),this.i18n=void 0,this.itemClassificationValue=void 0,this.classificationSchema=void 0}getClassificationBgmColor(t){var i;const e=null===(i=this.classificationSchema)||void 0===i?void 0:i.classificationMetadata.classificationValueProperties.find((t=>{var i;return t.value==(null===(i=this.itemClassificationValue)||void 0===i?void 0:i.classification)}));return null==e?void 0:e[t]}encodeToDelimitedString(){var t,i;let e="";return(null===(t=this.classificationSchema)||void 0===t?void 0:t.attributes)&&(null===(i=Object.entries(this.classificationSchema.attributes))||void 0===i?void 0:i.sort((([,t],[,i])=>t.position-i.position))).forEach((([t])=>{var i,a;if(null===(i=this.itemClassificationValue)||void 0===i?void 0:i[t]){const i=this.classificationSchema.layouts.default.layoutElements[t].uiElement.includes("multi")?null===(a=this.itemClassificationValue[t])||void 0===a?void 0:a.join(";"):this.itemClassificationValue[t];e=`${e}${t}::${i}//`}})),e}render(){return(0,a.h)("div",{class:"itemClassificationInfo"},(0,a.h)("label",{htmlFor:"classificationInfo",id:"classificationInfoLabel"},this.i18n.currentSelections),(0,a.h)("div",{id:"classificationInfo",style:{backgroundColor:this.getClassificationBgmColor("backgroundColor"),color:this.getClassificationBgmColor("textColor")}},(0,a.h)("p",{class:"classification-info-desc"},this.encodeToDelimitedString())))}};r.style=".itemClassificationInfo{margin:1.25rem}.classification-info-desc{word-wrap:break-word;margin-top:0}";const l=class{constructor(t){(0,a.r)(this,t),this.arcgisItemClassificationNotificationClose=(0,a.c)(this,"arcgisItemClassificationNotificationClose",7),this.closeModal=()=>{this.arcgisItemClassificationNotificationClose.emit(!1)},this.i18n=void 0,this.alertIndicator=void 0}render(){return(0,a.h)("calcite-alert",{class:"classification-notification-handler",icon:this.alertIndicator.alertIndicatorIcon,label:this.i18n.classificationNotificationHandler,scale:"m",autoClose:!0,autoCloseDuration:"medium",open:this.alertIndicator.alertIndicatorActive,kind:this.alertIndicator.alertIndicatorType,"aria-hidden":!this.alertIndicator.alertIndicatorActive,onCalciteAlertClose:this.closeModal.bind(this)},(0,a.h)("div",{slot:"message"},this.alertIndicator.alertIndicatorInfo))}};l.style=".classification-notification-handler{z-index:9000}"},21104:(t,i,e)=>{e.d(i,{l:()=>s});var a=e(73838),n=(0,a.c)((function(t,i){a.a,function(t){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},e="4.24",a="next";function n(t){if(t.toLowerCase()===a)return a;var i=t&&t.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function s(t){return void 0===t&&(t=e),"https://js.arcgis.com/".concat(t,"/")}function o(t){return!t||n(t)?function(t){void 0===t&&(t=e);var i=s(t),o=n(t);if(o!==a&&3===o.major){var r=o.minor<=10?"js/":"";return"".concat(i).concat(r,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}(t):t}function r(t,i){var e=o(t),a=function(t){return document.querySelector('link[href*="'.concat(t,'"]'))}(e);return a||function(t,i){if(i){var e=document.querySelector(i);e.parentNode.insertBefore(t,e)}else document.head.appendChild(t)}(a=function(t){var i=document.createElement("link");return i.rel="stylesheet",i.href=t,i}(e),i),a}var l={};function c(t,i,e){var a;e&&(a=function(t,i){var e=function(a){i(a.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",e,!1)};return t.addEventListener("error",e,!1),e}(t,e));var n=function(){i(t),t.removeEventListener("load",n,!1),a&&t.removeEventListener("error",a,!1)};t.addEventListener("load",n,!1)}function u(){return document.querySelector("script[data-esri-loader]")}function d(){var t=window.require;return t&&t.on}function f(t){void 0===t&&(t={});var e={};[l,t].forEach((function(t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}));var a=e.version,n=e.url||s(a);return new i.Promise((function(t,i){var s=u();if(s){var o=s.getAttribute("src");o!==n?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):d()?t(s):c(s,t,i)}else if(d())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=e.css;l&&r(!0===l?a:l,e.insertCssBefore),c(s=function(t){var i=document.createElement("script");return i.type="text/javascript",i.src=t,i.setAttribute("data-esri-loader","loading"),i}(n),(function(){s.setAttribute("data-esri-loader","loaded"),t(s)}),i),document.body.appendChild(s)}}))}function h(t){return new i.Promise((function(i,e){var a=window.require.on("error",e);window.require(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.remove(),i(t)}))}))}t.utils=i,t.loadModules=function(t,i){if(void 0===i&&(i={}),d())return h(t);var e=u(),a=e&&e.getAttribute("src");return!i.url&&a&&(i.url=a),f(i).then((function(){return h(t)}))},t.getScript=u,t.isLoaded=d,t.loadScript=f,t.setDefaultOptions=function(t){void 0===t&&(t={}),l=t},t.loadCss=r,Object.defineProperty(t,"__esModule",{value:!0})}(i)}));const s=async(t,i)=>(await n.loadModules(t,i)).map((t=>t.__esModule&&t.default?t.default:t))}}]);