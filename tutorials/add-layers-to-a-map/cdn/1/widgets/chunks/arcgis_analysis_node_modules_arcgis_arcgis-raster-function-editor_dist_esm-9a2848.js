"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-9a2848"],{8010:(e,t,i)=>{i.r(t),i.d(t,{rfx_cte_kernel_selector:()=>d});var l=i(14947),n=i(86578),s=i(90949),a=i(22760),r=i(92123),o=i(95166),u=(i(46574),i(34319),i(46717),i(55139),i(57098),i(74656),i(91123),i(78979),i(46869),i(27703)),h=(i(99248),i(16888),i(95323),i(43278),i(60));i(86944),i(83345);const g="typeHelpClickHandler",c="kernelHelpClickHandler",d=class{constructor(e){(0,l.r)(this,e),this.rfxArgumentChange=(0,l.c)(this,"rfxArgumentChange",7),this.uiElements={kernelArgLabel:void 0,kernelArgContainer:void 0,rowArgLabel:void 0,columnArgLabel:void 0},this.kernelTypesInfo=a.k,this.helpActionClickEventHandlers=new Map,this.userDefinedOptionKey=-1,this.noneOptionKey=255,this.defaults={rowArgDefaultValue:void 0,columnArgDefaultValue:void 0,kernelArgDefaultValue:[]},this.onConvolutionTypeChange=e=>{e.stopPropagation();const t=e.target,i=(0,h.p)(t.value);this.inputArg.value=i,this.value=i;const l=this.kernelTypesInfo[i?.toString()];this.widgetState={columns:l?.columns??this.defaults.columnArgDefaultValue,rows:l?.rows??this.defaults.rowArgDefaultValue,value:l?.value??this.defaults.kernelArgDefaultValue},this.rfxArgumentChange.emit({value:i})},this.value=void 0,this.widgetArgs=void 0,this.store=[],this.widgetState=void 0}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}componentWillLoad(){this.setupInitialState(this.widgetArgs)}componentWillRender(){this.setWidgetValue()}componentDidLoad(){this.attachHelpClickEventHandlers()}processWidgetArgs({inputArgs:e}){const t=e.ConvolutionType;this.inputArg=t,t.input=this.hostElement,this.uiElements.rowArgLabel=e.Rows.displayName,this.uiElements.columnArgLabel=e.Columns.displayName,this.uiElements.kernelArgLabel=e.Kernel.displayName}setupInitialState({inputArgs:e,rfxArgs:t,rasterFunctions:i}){const l=i[(0,n.d)(t)],s=l?.rasterFunctionArguments,a=this.inputArg.name;this.value=this.inputArg.value;const h=s?.[a]?.domain;if("list"===h?.type){const e=h.enum;this.store=(0,o.c)(e)}else console.error("Invalid inputArg! Check Schema");this.store?.forEach((e=>{e.key=e.key.toString()})),(0,r.m)(this.store)&&console.error("Domain list Enum not set! Check Schema");const g=s?.[a]?.defaultValue;this.value=this.inputArg.value||g;const c=s?.Rows?.defaultValue,d=s?.Columns?.defaultValue,m=this.kernelTypesInfo[this.value?.toString()]?.value;this.defaults.columnArgDefaultValue=d,this.defaults.rowArgDefaultValue=c;const p=e.Kernel.value??m,f=e.Columns.value??d,A=e.Rows.value??c;this.widgetState=(0,u.c)({columns:f,rows:A,value:p})}setWidgetValue(){this.widgetArgs.inputArgs.ConvolutionType.value=this.value,this.widgetArgs.inputArgs.Columns.value=this.widgetState?.columns,this.widgetArgs.inputArgs.Rows.value=this.widgetState?.rows,this.widgetArgs.inputArgs.Kernel.value=this.widgetState?.value}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_type});this.helpActionClickEventHandlers.set(g,e)}onColumnValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,columns:e})}onRowValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,rows:e})}render(){const e=this.value===this.userDefinedOptionKey,t=this.value===this.noneOptionKey;return(0,l.h)("div",null,(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,l.h)("rfx-label",{label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(g)()}),(0,l.h)("rfx-dtex-common-select",{mode:this.widgetArgs.mode,options:this.store,value:String(this.value),onRfxArgumentChange:this.onConvolutionTypeChange})),e?(0,l.h)("div",null,(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default"},(0,l.h)("rfx-label",{label:this.uiElements.rowArgLabel,hideHelp:!0}),(0,l.h)("rfx-dte-number-input",{value:this.widgetState.rows,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onRowValueChange(t)},min:1,max:100,numberType:"integer"})),(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default"},(0,l.h)("rfx-label",{label:this.uiElements.columnArgLabel,hideHelp:!0}),(0,l.h)("rfx-dte-number-input",{value:this.widgetState.columns,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onColumnValueChange(t)},min:1,max:100,numberType:"integer"}))):null,t?null:(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default",ref:e=>{this.uiElements.kernelArgContainer=e;const t=this.widgetArgs.onHelpActionClick({heading:this.uiElements.kernelArgLabel,referenceElement:this.uiElements.kernelArgContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_kernel});this.helpActionClickEventHandlers.set(c,t)}},(0,l.h)("rfx-label",{label:this.uiElements.kernelArgLabel,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(c)()}),(0,l.h)("rfx-simple-matrix",{columns:this.widgetState.columns,rows:this.widgetState.rows,value:this.widgetState.value,onRfxArgumentChange:e=>{e.stopPropagation();const{detail:{value:t}}=e;(0,u.i)(this.widgetState.value,t)||(this.widgetState={...this.widgetState,value:t})}})))}get hostElement(){return(0,l.a)(this)}};i(59498),i(25829),i(826)},60:(e,t,i)=>{i.d(t,{a:()=>u,f:()=>o,i:()=>s,p:()=>r,s:()=>a});var l=i(59498),n=i(92123);function s(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function a(e,t){let i;if(null!==e){const l="string"==typeof e?Number.parseFloat(e):e;s(l)?i=l:s(t)&&(i=t)}return void 0===i?"":`${i}`}function r(e){if(""!==e)return Number.parseFloat(e)}function o(e,t=3){if(!(0,n.m)(e))return Number.parseFloat(e.toFixed(t))}function u(e,t){let i="";if(!(0,n.m)(e)&&!Number.isNaN(e)){const n=(0,l.g)().locale;i=Intl.NumberFormat(n,t).format(Number(e))}return i}}}]);