/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-c8102a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-c8102a"],{73838:(e,r,t)=>{t.d(r,{a:()=>i,c:()=>a,g:()=>n});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e,r,t){return e(t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},t.exports),t.exports}},66216:(e,r,t)=>{t.r(r),t.d(r,{arcgis_image_item_info_table:()=>a,arcgis_image_item_preview:()=>o});var i=t(35110),n=t(21104);t(73838);const a=class{constructor(e){(0,i.r)(this,e),this.columns=void 0,this.data=void 0}render(){return(0,i.h)(i.H,null,(0,i.h)("table",{class:"image-item-info-table"},(0,i.h)("thead",null,this.renderTableColumns()),this.renderTableBody()))}renderTableColumns(){const{columns:e}=this;return(0,i.h)("tr",null,e.map((e=>{const{accessor:r,header:t}=e;return(0,i.h)("th",{key:r},t)})))}renderTableBody(){const{columns:e,data:r}=this,t=r.map((r=>(0,i.h)("tr",null,e.map((e=>(0,i.h)("td",{key:e.accessor},r[e.accessor]))))));return(0,i.h)("tbody",null,t)}get el(){return(0,i.d)(this)}};a.style=".image-item-info-table{width:100%;height:100%;margin:0;padding:0;border-collapse:collapse}.image-item-info-table td{padding:0.5em;text-align:start;border:1px solid var(--calcite-color-foreground-3);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.image-item-info-table th{background:var(--calcite-color-foreground-2);padding:0.5em;border:1px solid var(--calcite-color-foreground-3);text-align:start;font-weight:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.image-item-info-table tr:nth-child(odd){background:var(--calcite-color-foreground-1)}.image-item-info-table tr:nth-child(even){background:var(--calcite-color-foreground-2)}";const o=class{constructor(e){(0,i.r)(this,e),this.jsapiUrl=void 0,this.previewLayerUrl=void 0,this.previewImageItemGraphic=void 0,this.loading=!0}async componentWillLoad(){const[e,r,t,i]=await(0,n.l)(["esri/Map","esri/views/MapView","esri/layers/support/MosaicRule","esri/layers/ImageryLayer"]);this.modules={Map:e,MapView:r,MosaicRule:t,ImageryLayer:i}}async componentDidLoad(){this.el.shadowRoot.firstElementChild.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${this.jsapiUrl}/themes/light/main.css" />`),this.initMapView()}async disconnectedCallback(){var e;null===(e=this.mapView)||void 0===e||e.destroy()}handleRefreshImageItemPreviewLayer(){this.refreshImageItemPreviewLayer()}async initMapView(){try{const{previewLayerUrl:e,modules:r}=this,{Map:t,MapView:i,ImageryLayer:n}=r;this.previewLayer=new n({url:e,visible:!1});const a=new t({layers:[this.previewLayer]});this.mapView=new i({map:a,container:this.container}),this.mapView.ui.remove(["attribution"]),this.mapView.when((()=>{this.loading=!1,this.refreshImageItemPreviewLayer()}))}catch(e){}}async refreshImageItemPreviewLayer(){const{modules:e,previewImageItemGraphic:r,mapView:t}=this,{MosaicRule:i}=e;if(this.previewLayer&&r&&t){const{objectIdField:e}=this.previewLayer,n=new i({method:"lock-raster",lockRasterIds:[r.attributes[e]]});this.previewLayer.mosaicRule=n,await t.goTo(r,{animate:!1}),this.previewLayer.visible=!0}}render(){return(0,i.h)(i.H,null,(0,i.h)("div",{class:"map-container",ref:e=>this.container=e}))}get el(){return(0,i.d)(this)}static get watchers(){return{previewImageItemGraphic:["handleRefreshImageItemPreviewLayer"]}}};o.style=".map-container{width:100%;height:100%}"},21104:(e,r,t)=>{t.d(r,{l:()=>a});var i=t(73838),n=(0,i.c)((function(e,r){i.a,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",i="next";function n(e){if(e.toLowerCase()===i)return i;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function a(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function o(e){return!e||n(e)?function(e){void 0===e&&(e=t);var r=a(e),o=n(e);if(o!==i&&3===o.major){var s=o.minor<=10?"js/":"";return"".concat(r).concat(s,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}(e):e}function s(e,r){var t=o(e),i=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(t);return i||function(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(i=function(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}(t),r),i}var c={};function l(e,r,t){var i;t&&(i=function(e,r){var t=function(i){r(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}(e,t));var n=function(){r(e),e.removeEventListener("load",n,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",n,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function h(e){void 0===e&&(e={});var t={};[c,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var i=t.version,n=t.url||a(i);return new r.Promise((function(e,r){var a=d();if(a){var o=a.getAttribute("src");o!==n?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):u()?e(a):l(a,e,r)}else if(u())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=t.css;c&&s(!0===c?i:c,t.insertCssBefore),l(a=function(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}(n),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),r),document.body.appendChild(a)}}))}function m(e){return new r.Promise((function(r,t){var i=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.remove(),r(e)}))}))}e.utils=r,e.loadModules=function(e,r){if(void 0===r&&(r={}),u())return m(e);var t=d(),i=t&&t.getAttribute("src");return!r.url&&i&&(r.url=i),h(r).then((function(){return m(e)}))},e.getScript=d,e.isLoaded=u,e.loadScript=h,e.setDefaultOptions=function(e){void 0===e&&(e={}),c=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(r)}));const a=async(e,r)=>(await n.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))}}]);