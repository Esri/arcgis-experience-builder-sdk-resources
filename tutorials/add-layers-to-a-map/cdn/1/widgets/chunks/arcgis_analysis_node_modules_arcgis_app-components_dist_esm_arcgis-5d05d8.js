/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-5d05d8.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-5d05d8"],{73838:(e,t,r)=>{r.d(t,{a:()=>i,c:()=>o,g:()=>n});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}},56345:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_developer_credentials_select:()=>h});var i=r(35110),n=r(84400),o=r(66913),a=r(46710),s=r(70392),l=r(52299),c=r(82669),d=r(84873),p=r(62198),u=r(91659);r(21104),r(73838),r(23505),r(91306),r(73208),r(35105),r(16082),r(67148),r(56086),r(79233),r(64307),r(76743),r(63280),r(9657),r(12856),r(17752),r(53040),r(51287),r(20982),r(37526),r(7803);const h=class{constructor(e){(0,i.r)(this,e),this.newItemUpdatePage=(0,i.c)(this,"newItemUpdatePage",7),this.workflowComplete=(0,i.c)(this,"workflowComplete",7),this.canCreateAPIKey=!1,this.canShowLearnMore=!0,this.isRegisterTerminalPage=()=>"register"===d.u.workflow&&"oauth"===this.selectedCredentialType,this.setAlertMessage=e=>{this.alertInfo=this.i18n.error[e]},this.setUnsupportedUrlAlertMessage=()=>{const e=this.i18nBase.featureLayerFromUrl.error;this.alertInfo={title:e.invalidFeatureLayerUrl.title,description:this.i18n.error.registerError.description}},this.alertInfo=void 0,this.selectedCredentialType="oauth",this.selectedApplicationEnvironment="multiple",this.redirectUrls=[],this.referrerUrls=[],this.url="",this.isLoading=!1}componentWillLoad(){var e,t;this.isRegisterTerminalPage()&&(d.u.nextText="register"),this.i18n=d.u.i18n.developerCredentialsSelect,this.i18nBase=d.u.i18n,this.selectedCredentialType=c.a.developerCredentialsType||"apiKey",this.canCreateAPIKey||(this.selectedCredentialType="oauth");const r=c.a.existingItem;r&&("API Key"===r.type?this.selectedCredentialType="apiKey":"Application"===r.type&&(this.selectedCredentialType="oauth")),this.selectedApplicationEnvironment=c.a.applicationEnvironment||"multiple",this.url=null!==(e=c.a.url)&&void 0!==e?e:null===(t=c.a.existingItem)||void 0===t?void 0:t.url;const i=c.a.developerCredentialsRedirectUrls;this.redirectUrls=(null==i?void 0:i.length)>0?i:[""];const n=c.a.apiKeyReferrerUrls;this.referrerUrls=(null==n?void 0:n.length)>0?n:[""];const{portal:o,config:{helpBase:s}}=a.c;this.canShowLearnMore=!o.isPortal||s.includes("https://enterprise.arcgis.com/")}async componentDidLoad(){if(!a.c.subscriptionInfo){this.isLoading=!0;const{result:e}=await(0,o.f)((()=>(0,n.g)(a.c.portal)),"subscriptionType",(0,o.d)(a.c.user));a.c.subscriptionInfo=e,this.isLoading=!1}this.canCreateAPIKey=(0,u.C)()}async handleNext(){const{selectedCredentialType:e,selectedApplicationEnvironment:t,isRegisterTerminalPage:r,redirectUrls:i,redirectManagmentRef:n,referrerUrls:o,referrerManagmentRef:d,urlRef:p,setAlertMessage:u,url:h}=this;if(await p.validateInput())return void p.focusMainInput();const m=i.filter((e=>e));if(m.length<=0)return u("redirectEmpty"),void n.focusInputByIndex(0);const g=o.filter((e=>e));if("apiKey"===e&&g.length<=0)return u("referrerEmpty"),void d.focusInputByIndex(0);if(!await this.redirectManagmentRef.validateAllInputs({focusWhenInvalid:!0}))return void this.setUnsupportedUrlAlertMessage();const f="apiKey"===e;if(r()){this.isLoading=!0;const{result:e}=await(0,l.y)(c.a.id,(0,s.g)(a.c.portal),{appType:t,redirect_uris:m,url:h});return this.isLoading=!1,void(e?this.workflowComplete.emit({id:c.a.id,redirectUrls:m,httpReferrers:g,clientId:e.client_id,clientSecret:e.client_secret,appType:e.appType}):this.setUnsupportedUrlAlertMessage())}c.a.developerCredentialsType=e,c.a.applicationEnvironment=f?void 0:t,c.a.apiKeyReferrerUrls=f?g:void 0,c.a.developerCredentialsRedirectUrls=m,c.a.type=f?"API Key":"Application",c.a.url=f?void 0:h,this.newItemUpdatePage.emit(f?"serviceScope":"itemProperties")}render(){const{i18n:e,selectedCredentialType:t,selectedApplicationEnvironment:r,redirectUrls:n,alertInfo:o,isLoading:a,referrerUrls:s,url:l,canCreateAPIKey:u,canShowLearnMore:h}=this;return(0,i.h)(i.H,{class:{"overflow-hidden":a}},(0,i.h)("arcgis-new-item-loader",{active:a,text:e.registering}),(0,i.h)("div",null,u?(0,i.h)(i.F,null,(0,i.h)("div",{class:"title-container"},(0,i.h)("arcgis-new-item-description",{header:e.title}),(0,i.h)("arcgis-information",{label:e.onboard.title,placement:"bottom-start",heading:e.onboard.title,headingLevel:3,class:"onboarding",overlayPositioning:"fixed",paddedContent:!1},(0,i.h)("div",{class:"onboarding__scroll"},(0,i.h)("img",{class:"illustration",src:(0,i.a)("./assets/cred-type.png")}),p.d.map((t=>{const{description:r,title:n}=e.onboard[t];return(0,i.h)("div",{class:"onboarding__section"},(0,i.h)("h4",{class:"onboarding__title"},n),(0,i.h)("p",{class:"onboarding__description"},r))}))))),(0,i.h)("calcite-tile-select-group",{layout:"vertical",class:"tile-select"},p.d.map((r=>(0,i.h)("calcite-tile-select",{disabled:!!c.a.existingItem,checked:t===r,heading:e.options[r].title,description:e.options[r].description,name:"dev-cred-create-mode","input-enabled":!0,width:"full",type:"radio",value:r,onCalciteTileSelectChange:e=>this.selectedCredentialType=e.target.value}))))):(0,i.h)("p",{innerHTML:h?e.oauth2Hint.replace("${apiLinkStart}",'<a href="https://developers.arcgis.com/documentation/mapping-apis-and-services/security/types-of-authentication/" target="_blank">').replace("${endLink}","</a>"):e.oauth2HintNoLink})),(0,i.h)("div",{class:"section"},(0,i.h)("arcgis-data-array-management",{header:e.redirectUrlsTitle,description:e.redirectUrlsDescription,addNewText:d.u.i18n.common.add,placeholder:"https://<server>[:port]",initialData:n,required:!0,validateData:e=>{const t=new RegExp(/[^ -~]/).test(e.content);return e.content.length>0&&!t},onDataChanged:({detail:{allData:e}})=>{this.redirectUrls=e.map((e=>e.content))},ref:e=>this.redirectManagmentRef=e})),"apiKey"===t&&(0,i.h)("div",{class:"section"},(0,i.h)("arcgis-data-array-management",{header:e.refererrUrlsTitle,description:e.refererrUrlsDescription,addNewText:d.u.i18n.common.add,placeholder:"http://*.your-app.com",initialData:s,required:!0,validateData:e=>e.content.length>0,onDataChanged:({detail:{allData:e}})=>{this.referrerUrls=e.map((e=>e.content))},ref:e=>this.referrerManagmentRef=e})),"oauth"===t&&(0,i.h)(i.F,null,(0,i.h)("div",{class:"section"},(0,i.h)("arcgis-application-environment",{defaultEnvironment:r,onArcgisApplicationEnvironmentChange:e=>{this.selectedApplicationEnvironment=e.detail}})),(0,i.h)("div",{class:"section"},(0,i.h)("arcgis-new-item-url",{onNewItemUrlChange:e=>this.url=e.detail.url,url:l,ref:e=>this.urlRef=e,required:!1,headerScale:"m"}))),(0,i.h)("arcgis-new-item-alert",{heading:null==o?void 0:o.title,description:null==o?void 0:o.description,active:!!o,onAlertDismiss:()=>this.alertInfo=null}))}static get assetsDirs(){return["assets"]}};h.style=".title-container{display:flex;align-items:center}.onboarding{--arcgis-information-min-width:0}.onboarding__scroll{overflow:auto;max-height:min(700px, 60vh)}.onboarding__section{padding-left:0.75rem;padding-right:0.75rem;padding-bottom:1rem;padding-top:0.5rem;width:286px}.onboarding__title{margin:0px;padding-top:0px;font-size:0.875rem;color:var(--calcite-color-text-1);font-weight:600}.onboarding__description{margin-top:0.5rem;margin-bottom:0.75rem;font-size:0.75rem;color:var(--calcite-color-text-1)}.section{margin-top:2rem}.url-container{margin-top:1rem;margin-bottom:1.5rem;padding:1.5rem;background-color:var(--calcite-color-background)}.info-card{display:flex;align-items:center;list-style-type:none}.url-input{margin-top:0.5rem;margin-inline-end:1rem;width:100%}.add-url{margin-top:1rem;width:-moz-fit-content;width:fit-content}.header{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);margin-top:0px;margin-bottom:0px;padding:0px}"},62198:(e,t,r)=>{r.d(t,{a:()=>n,b:()=>s,d:()=>i,o:()=>a,r:()=>o,s:()=>l});const i=["apiKey","oauth"],n=["basemap","geocodingNotStored","routing","serviceArea","geocodingStored","optimizedRouting","closestFacility","locationAllocation","multiVehicleRouting","costMatrix","geoEnrichment"],o=["basemap"],a=["geocodingNotStored"],s=["geocodingNotStored","routing","serviceArea"],l={basemap:"portal:apikey:basemaps",geocodingNotStored:"premium:user:geocode:temporary",routing:"premium:user:networkanalysis:routing",serviceArea:"premium:user:networkanalysis:servicearea",geocodingStored:"premium:user:geocode:stored",optimizedRouting:"premium:user:networkanalysis:optimizedrouting",closestFacility:"premium:user:networkanalysis:closestfacility",locationAllocation:"premium:user:networkanalysis:locationallocation",multiVehicleRouting:"premium:user:networkanalysis:vehiclerouting",costMatrix:"premium:user:networkanalysis:origindestinationcostmatrix",geoEnrichment:"premium:user:geoenrichment"}},21104:(e,t,r)=>{r.d(t,{l:()=>o});var i=r(73838),n=(0,i.c)((function(e,t){i.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",i="next";function n(e){if(e.toLowerCase()===i)return i;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function a(e){return!e||n(e)?function(e){void 0===e&&(e=r);var t=o(e),a=n(e);if(a!==i&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function s(e,t){var r=a(e),i=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return i||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(i=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),i}var l={};function c(e,t,r){var i;r&&(i=function(e,t){var r=function(i){t(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",n,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function p(){var e=window.require;return e&&e.on}function u(e){void 0===e&&(e={});var r={};[l,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var i=r.version,n=r.url||o(i);return new t.Promise((function(e,t){var o=d();if(o){var a=o.getAttribute("src");a!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):p()?e(o):c(o,e,t)}else if(p())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&s(!0===l?i:l,r.insertCssBefore),c(o=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(n),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function h(e){return new t.Promise((function(t,r){var i=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];i.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),p())return h(e);var r=d(),i=r&&r.getAttribute("src");return!t.url&&i&&(t.url=i),u(t).then((function(){return h(e)}))},e.getScript=d,e.isLoaded=p,e.loadScript=u,e.setDefaultOptions=function(e){void 0===e&&(e={}),l=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const o=async(e,t)=>(await n.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},84400:(e,t,r)=>{r.d(t,{g:()=>o});var i=r(66913),n=r(70392);const o=async e=>{try{return{result:await(0,i.r)(`${(0,n.g)(e)}portals/self/subscriptionInfo`)}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}}}}]);