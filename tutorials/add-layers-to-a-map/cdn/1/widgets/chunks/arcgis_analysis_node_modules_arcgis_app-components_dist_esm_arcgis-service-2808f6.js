/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-service-2808f6.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-service-2808f6"],{58943:(e,i,t)=>{t.r(i),t.d(i,{arcgis_service_scope:()=>o});var c=t(35110),s=t(88703),r=t(1984),n=t(62198);t(63280),t(86587),t(21104),t(73838);const o=class{constructor(e){(0,c.r)(this,e),this.arcgisServiceScopeChange=(0,c.c)(this,"arcgisServiceScopeChange",7),this.availableServiceScopes=[],this.unavailableServiceScopes=[],this.user=void 0,this.developerPrivileges=[],this.selectedServiceScope=[]}assignSelectedServiceScope(){var e,i;this.selectedServiceScope=null!==(i=null===(e=this.developerPrivileges)||void 0===e?void 0:e.map((e=>this.privilegeToServiceScope[e])))&&void 0!==i?i:[]}async componentWillLoad(){const e=await(0,r.g)(this.el);this.i18n=e[0],this.privilegeToServiceScope=Object.entries(n.s).reduce(((e,[i,t])=>(e[t]=i,e)),{}),this.availableServiceScopes=this.getEnabledPrivileges().map((e=>this.privilegeToServiceScope[e])).filter((e=>!n.r.includes(e))),this.unavailableServiceScopes=n.a.filter((e=>!(this.availableServiceScopes.includes(e)||n.r.includes(e)))),this.assignSelectedServiceScope()}getEnabledPrivileges(){return n.a.map((e=>n.s[e])).filter((e=>this.user.privileges.includes(e)))}render(){const{i18n:e,selectedServiceScope:i}=this;return(0,c.h)(c.H,null,(0,c.h)("arcgis-new-item-description",{header:e.title,content:e.description}),(0,c.h)("div",{class:"section"},(0,c.h)("arcgis-new-item-description",{header:e.requiredService}),(0,c.h)("div",{class:"content"},n.r.map((i=>(0,c.h)("calcite-tile",{key:i,heading:e.services[i].heading,description:"basemap"===i?void 0:e.services[i].description}))))),(0,c.h)("div",{class:"section"},(0,c.h)("arcgis-new-item-description",{header:e.availableServices}),(0,c.h)("div",{class:"content"},(0,c.h)("calcite-tile-select-group",{layout:"vertical"},this.availableServiceScopes.map((t=>(0,c.h)("calcite-tile-select",{key:t,width:"full",checked:i.includes(t),description:"basemap"===t?void 0:e.services[t].description,heading:e.services[t].heading,inputEnabled:!0,inputAlignment:"start",type:"checkbox",value:t,onCalciteTileSelectChange:e=>{const{checked:c}=e.target;this.selectedServiceScope=c?[...this.selectedServiceScope,t]:i.filter((e=>e!==t)),this.arcgisServiceScopeChange.emit((0,s.b)([...this.selectedServiceScope,...n.r]).map((e=>n.s[e])))}})))))),this.unavailableServiceScopes.length>0&&(0,c.h)("div",{class:"section"},(0,c.h)("arcgis-new-item-description",{header:e.unavailableServices,content:e.unavailableServicesDescription}),(0,c.h)("div",{class:"content"},(0,c.h)("calcite-tile-select-group",{layout:"vertical"},this.unavailableServiceScopes.map((i=>(0,c.h)("calcite-tile-select",{key:i,width:"full",checked:!1,disabled:!0,description:"basemap"===i?void 0:e.services[i].description,heading:e.services[i].heading,inputEnabled:!0,inputAlignment:"start",type:"checkbox",value:i})))))))}get el(){return(0,c.d)(this)}static get watchers(){return{developerPrivileges:["assignSelectedServiceScope"]}}};o.style=".section{margin-top:2rem}calcite-tile{pointer-events:none;width:100%}.content{margin-top:0.5rem}"},62198:(e,i,t)=>{t.d(i,{a:()=>s,b:()=>o,d:()=>c,o:()=>n,r:()=>r,s:()=>a});const c=["apiKey","oauth"],s=["basemap","geocodingNotStored","routing","serviceArea","geocodingStored","optimizedRouting","closestFacility","locationAllocation","multiVehicleRouting","costMatrix","geoEnrichment"],r=["basemap"],n=["geocodingNotStored"],o=["geocodingNotStored","routing","serviceArea"],a={basemap:"portal:apikey:basemaps",geocodingNotStored:"premium:user:geocode:temporary",routing:"premium:user:networkanalysis:routing",serviceArea:"premium:user:networkanalysis:servicearea",geocodingStored:"premium:user:geocode:stored",optimizedRouting:"premium:user:networkanalysis:optimizedrouting",closestFacility:"premium:user:networkanalysis:closestfacility",locationAllocation:"premium:user:networkanalysis:locationallocation",multiVehicleRouting:"premium:user:networkanalysis:vehiclerouting",costMatrix:"premium:user:networkanalysis:origindestinationcostmatrix",geoEnrichment:"premium:user:geoenrichment"}},88703:(e,i,t)=>{t.d(i,{a:()=>l,b:()=>p,c:()=>s,d:()=>c,e:()=>r,f:()=>u,g:()=>h,i:()=>n,m:()=>o,t:()=>a,u:()=>d});const c=(e,i)=>{let t,c="idle";const s=(...s)=>new Promise((r=>{switch(c){case"flushed":c="idle",t?(clearTimeout(t),r(e(...s))):r(null);break;case"invoked":clearTimeout(t),c="idle",r(e(...s));break;case"cancelled":clearTimeout(t),c="idle",r(null);break;default:t&&clearTimeout(t),c="pending",t=setTimeout((()=>(c="idle",r(e(...s)))),i)}}));return s.flush=function(...e){return c="flushed",s(...e)},s.invoke=function(...e){return c="invoked",s(...e)},s.cancel=function(...e){return c="cancelled",s(...e)},s.getStatus=function(){return c},s},s=(e,i)=>{let t;return(...c)=>new Promise((s=>{t||(t=setTimeout((()=>{clearTimeout(t),t=void 0,s(e(...c))}),i))}))};function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(e){return null!=e}async function o(e,i){return await Promise.all([e,a(i)]),e}function a(e){return new Promise((i=>setTimeout(i,e)))}const l=(e,i)=>Object.fromEntries((e||[]).map((e=>{const{key:t,data:c}=i(e);return[t,c]}))),u=(e,i)=>e.length===i.length&&e.reduce(((e,t)=>e&&i.indexOf(t)>-1),!0);function d(e,i){const t=[],c={};return e.forEach((e=>{const s=i(e);null==c[s]&&(c[s]=e,t.push(e))})),t}function p(e){const i={boolean:{},number:{},string:{}},t=[];return e.filter((e=>{let c=typeof e;return c in i?!i[c].hasOwnProperty(e)&&(i[c][e]=!0):!(t.indexOf(e)>=0)&&t.push(e)}))}const h=(e,i)=>[...Array(Math.ceil(e.length/i))].map(((t,c)=>e.slice(i*c,i+i*c)))}}]);