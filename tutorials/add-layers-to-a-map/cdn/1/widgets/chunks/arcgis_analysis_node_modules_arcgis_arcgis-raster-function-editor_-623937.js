"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-623937"],{826:(e,t,n)=>{n.d(t,{A:()=>u,G:()=>c,J:()=>s,M:()=>a,P:()=>l,U:()=>r,a:()=>o,d:()=>i});const r={IDLE:"idle",VALID:"valid",INVALID:"invalid"},s={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},a={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},i={name:"Raster",isDataset:!0,isPublic:!1,type:s.RASTER_FUNCTION_VARIABLE},u={RFX_DTEX_COMMON_SELECT:"RFX-DTEX-COMMON-SELECT",RFX_DTE_COMMON_CHECKBOX:"CALCITE-CHECKBOX",RFX_DTE_COMMON_TEXTINPUT:"CALCITE-INPUT-TEXT",RFX_DTE_COMMON_NUMBERINPUT:"CALCITE-INPUT-NUMBER",RFX_DTE_RASTER_INPUT:"RFX-DTE-RASTER-INPUT",RFX_DTE_FEATURE_SELECT:"RFX-DTE-FEATURE-SELECT",RFX_DTEX_RASTER_VARIABLES_LIST:"RFX-DTEX-RASTER-VARIABLES-LIST",RFX_CTE_RANGED_VALUE_EDITOR:"RFX-CTE-RANGED-VALUE-EDITOR",RFX_CTE_GAMMA_EDITOR:"RFX-CTE-GAMMA-EDITOR",RFX_DTE_COLOR_RAMP_SELECTOR:"RFX-DTE-COLOR-RAMP-SELECTOR",RFX_DTE_EXTENT:"RFX-DTE-EXTENT",RFX_DTE_JSON_FILE_UPLOADER:"RFX-DTE-JSON-FILE-UPLOADER",RFX_CTE_FACTOR_FUNCTION_EDITOR:"RFX-CTE-FACTOR-FUNCTION-EDITOR",RFX_CTE_NEIGHBORHOOD_VALUES:"RFX-CTE-NEIGHBORHOOD-VALUES",RFX_CTE_SYNCHRONIZE_OUTPUT_UNIT_PICKER:"RFX-CTE-SYNCHRONIZE-OUTPUT-UNIT-PICKER"},o={ANALYSIS:"analysis",EDITOR:"editor"},c={textInput:"text-input",text:"text",raster:"raster-input",number:"number-input",boolean:"check-box",switch:"switch",field:"field-select",color:"color-input",select:"select",icon:"icon"},l={loading:"loading",success:"success",error:"error"}},95166:(e,t,n)=>{n.d(t,{S:()=>o,a:()=>T,b:()=>f,c:()=>l,d:()=>R,e:()=>A,f:()=>m,g:()=>E,h:()=>_,i:()=>c,j:()=>N,k:()=>I,l:()=>p,n:()=>F,p:()=>y,q:()=>d,r:()=>L,s:()=>O,t:()=>D,u:()=>C});var r=n(34319),s=n(22760),a=n(92123),i=n(86578),u=n(826);const o={List:"list",Unit:"linearUnit",Number:"number",Field:"field"};function c(e){const t=!(0,a.m)(e?.isDataset),n=e?.type===a.a;return t&&n}function l(e,t){if((0,a.m)(t))return r.clone(e);const n={};if("object"==typeof e&&null!==e&&!Array.isArray(e)){for(const r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&(n[r]=l(e[r],t));return n}return Array.isArray(e)?e.map((e=>l(e,t))):r.clone(e)}function E(e,t){if((0,a.m)(e)||(0,a.m)(t))return;const n=Object.keys(t).find((t=>t.toLowerCase()===e.toLowerCase()));return n?t[n]:void 0}function T(e,t){if(!e)return"";const n=Object.keys(e);return void 0===t&&1===n.length?n[0]:n.find((e=>e.toLowerCase()===t?.toLowerCase()))??""}async function f(e){const t=e?.function?.type?.toLowerCase()?.replace("function",""),n=e?.arguments,r=s.h.rfxNameSpecialCases,i=s.h.localFunctionOperations,u=await(0,s.g)();switch(t){case"local":const e=n?.Operation?.value,s=i.find((t=>t.key===e));if(!(0,a.m)(s))return s.label;if(u.cellStatisticsTypes.some((t=>t.key===e)))return"CellStatistics";break;case"pythonadapter":{const e=n?.ClassName?.value;return e||null}case"gpadapter":{const e=n?.ToolName?.value?.toLowerCase()?.replace("_sa",""),t=r.find((t=>t.key===e));return t?.value||e||null}default:{const e=r.find((e=>e.key===t));return e?.value||t||null}}return null}function R(e){if(e)return e.type===a.R?e:e.value&&e.value.type===a.R?e.value:void 0}function A({schema:e,rfxTemplate:t}){if((0,a.m)(t?.function?.type))return;const n=t.function.type,r=t?.arguments;let s=(0,i.d)(r);return(!s||!e.hasOwnProperty(s)&&e.hasOwnProperty(n))&&(s=n),e[s]}function _(e){if(!e||!e.value)return!1;const t=(e.value.elements?e.value.elements:e.value)[0];return t&&(t.isDataset||t.type===a.R)}function O(e){if(!e||!e[a.A])return!1;if(e.aliases)return!0;const t=e=>{if(!e)return!1;if(e.isPublic)return!0;if(_(e)){const n=e.value&&e.value.elements?e.value.elements:e.value;if(n&&Array.isArray(n))return n.some((e=>t(e)))}const n=R(e);return!!n&&O(n)},n=e[a.A];return(0,a.f)(n)?t(n):Object.keys(n).some((e=>{const r=n[e];if((0,a.f)(r))return t(r)}))}function C(e){if(!e)return!1;const t=e.dataType===s.d.rasterArray,n=Boolean(e.elementInfos),r=e.dataType===s.d.table;return t&&n||r}function m(e,t){return Array.isArray(e)&&e.some((e=>e.toLowerCase()===t.toLowerCase()))}function N(e){if(!e||!e.value)return!1;const t=e.value.elements?e.value.elements:e.value;return!!Array.isArray(t)&&t.some((function(e){return e&&e.type===a.R}))}function I(e){return e?.forEach((e=>{e.key=e.key.toString()})),e}function y(e,t){return e.forEach((e=>{if("field"===e.type){const n=E(e.argumentName,t);e.argumentName=n.name,e.layerArgument=n}else e.type!==s.a.list&&e.type!==s.a.linearUnit||(e.enumStore=I[e.enum])})),e}function p(e,t){let n;const r=E(e.nElementsArgument,t),s=r?.value,a=e.elementInfos;return void 0!==r&&void 0!==s||1!==a.length?(Array.isArray(a)&&a.some((e=>{const t=e.values;if(Array.isArray(t)&&t.indexOf(s)>-1)return n=e.inputArgs,!0})),n):a[0].inputArgs}function F(e){let t=!1;const n=e[a.A];if((0,a.f)(n))return!0;for(const e in n)if(e!==a.T&&(r=n[e])&&(R(r)||N(r)))return t=!0,t;var r;return t}function d(e,t,n=!1){const r=e?.name;let s;if(!(0,a.m)(e))if(r===e.function?.name||n){const n=function(e){let t=e?.function?.type;if("LocalFunction"===t){const n=e.arguments?.Operation?.value?.toString();void 0!==n&&(t+=`__${n}`)}return t}(e);void 0!==n&&(s=t.get(n))}else s=r;return s??r??""}function L({functionSchema:e,rfxTemplate:t}){if(!t)return;const n=[],s=t.arguments,i=s&&s.type;if(function({functionSchema:e,rfxTemplate:t}){const n=e;let r;if(n&&(r=n.rasterFunctionArguments,1===Object.keys(r).length&&!n.hasArgumentsObject))return!0;const s=t.arguments,a=s&&s.type;return!(!a||a!==u.J.RASTER_FUNCTION_TEMPLATE&&a!==u.J.RASTER_FUNCTION_VARIABLE)||void 0}({functionSchema:e,rfxTemplate:t})){const e=r.clone(s);let t;return t=i===u.J.RASTER_FUNCTION_TEMPLATE||e.isDataset?"Raster":"Rasters",n.push({...e,key:t}),n}return Object.keys(s).forEach((e=>{if(e===u.M.MATCH_VARIABLE||e===u.M.UNION_DIMENSION)return;const t=r.clone(s[e]);(0,a.f)(t)&&n.push({...t,key:e})})),n}function D(e,t){const n=t&&t.value;if(null==n)return;let r;return e.some((e=>{if(e.values&&e.values.indexOf(n)>-1)return r=e.inputArgs,!0})),r}},90949:(e,t,n)=>{n.d(t,{C:()=>s,U:()=>r,a:()=>a});const r={Scale:"s",PopoverTimer:60},s={s:"s",m:"m",l:"l"},a={absolute:"absolute",fixed:"fixed"}}}]);