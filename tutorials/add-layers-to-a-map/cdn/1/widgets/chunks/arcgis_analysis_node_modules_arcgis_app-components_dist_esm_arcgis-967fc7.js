/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-967fc7.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-967fc7"],{35537:(e,t,i)=>{i.r(t),i.d(t,{arcgis_smart_mapping_background_symbol:()=>u,arcgis_smart_mapping_default_symbol:()=>p,arcgis_smart_mapping_method_button:()=>m,arcgis_smart_mapping_rotation:()=>g,arcgis_smart_mapping_theme_button:()=>f,arcgis_smart_mapping_transparency:()=>y});var s=i(35110),a=i(59503),n=(i(21104),i(2137)),o=i(86587),l=i(78246),r=i(77419),d=i(89393),c=i(38277);function h(e){var t,i;const{layer:s,useFeatureReduction:n,mapView:o,modules:l}=a.s,r=s;if(!(e=e||{}).fieldInfos&&!(null===(t=e.fieldInfos)||void 0===t?void 0:t.length))return Promise.reject();const d=e.fieldInfos[0];return l.OpacityVariableCreator.createVisualVariable({layer:r,field:d.field,view:o,valueExpression:d.expression,valueExpressionTitle:d.expressionTitle,normalizationField:e.normalizationField,forBinning:"binning"===(null===(i=r.featureReduction)||void 0===i?void 0:i.type)&&n})}i(1984),i(63280),i(23505),i(73838);const u=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingBackgroundSymbolChange=(0,s.c)(this,"arcgisSmartMappingBackgroundSymbolChange",7),this.lastSettings={}}componentWillLoad(){this.popoverReferenceElement=(0,a.f)(this.hostElement,"calcite-flow-item")||(0,a.f)(this.hostElement,"calcite-panel")}render(){const{layer:e,strings:t}=a.s;if(!(0,a.u)(e))return null;const i=(0,a.j)(e),n="dot-density"===(0,a.g)()?i.backgroundColor||i.outline:i.backgroundFillSymbol;return(0,s.h)("calcite-block-section",{text:t.backgroundSymbol.showBackgroundSymbol,open:!!n,"toggle-display":"switch",onCalciteBlockSectionToggle:e=>{this.handleBackgroundSymbolToggle(e)}},this.renderBackgroundSymbolContent())}renderBackgroundSymbolContent(){const{layer:e,mapView:t,strings:i}=a.s,n=(0,a.j)(e),o="dot-density"===(0,a.g)();let l;return o?(n.outline||n.backgroundColor)&&(l=(0,a.T)(e,t),l.outline=n.outline,(0,a.v)(l,n.backgroundColor)):l=n.backgroundFillSymbol,l?(this.popoverReferenceElement=this.popoverReferenceElement||(0,a.f)(this.hostElement,"calcite-flow-item")||(0,a.f)(this.hostElement,"calcite-panel"),(0,s.h)("div",{class:"background-symbol-content"},(0,s.h)("arcgis-smart-mapping-symbol-button",{type:o?"dot-density-background":"background",label:i.backgroundSymbol.backgroundStyle,symbol:l,onArcgisSmartMappingSymbolButtonSymbolChange:()=>{(0,s.f)(this.hostElement),this.arcgisSmartMappingBackgroundSymbolChange.emit()},popoverReferenceElement:this.popoverReferenceElement}))):null}handleBackgroundSymbolToggle(e){const{layer:t,mapImageSublayer:i,mapView:s,modules:n}=a.s,o=e.currentTarget,l=(0,a.j)(t);if("dot-density"===(0,a.g)())o.open?(this.lastSettings.backgroundColor||this.lastSettings.outline?(l.backgroundColor=this.lastSettings.backgroundColor,l.outline=this.lastSettings.outline):(l.backgroundColor=new n.esriColor({r:64,g:64,b:64,a:1}),l.outline=new n.SimpleLineSymbol),this.lastSettings.outlineVisVar&&(l.visualVariables=l.visualVariables||[],l.visualVariables.push(this.lastSettings.outlineVisVar)),this.lastSettings.backgroundColor=void 0,this.lastSettings.outline=void 0,this.lastSettings.outlineVisVar=void 0):(this.lastSettings.backgroundColor=l.backgroundColor,this.lastSettings.outline=l.outline,this.lastSettings.outlineVisVar=(0,a.a)(l,"size","outline"),l.backgroundColor=new n.esriColor({r:0,g:0,b:0,a:0}),l.outline=void 0,l.visualVariables=(0,a.q)(l,"size","outline"),(0,a.l)());else if(o.open){if(this.lastSettings.backgroundFillSymbol)l.backgroundFillSymbol=this.lastSettings.backgroundFillSymbol;else{const e=(0,a.T)(t,s);e.color=null,l.backgroundFillSymbol=e}this.lastSettings.backgroundFillSymbol=void 0}else this.lastSettings.backgroundFillSymbol=l.backgroundFillSymbol,l.backgroundFillSymbol=void 0,(0,a.l)();i&&(i.renderer=l.clone())}get hostElement(){return(0,s.d)(this)}};u.style=".background-symbol-content{padding-top:6px;border-bottom:1px solid #e0e0e0}";const p=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingDefaultSymbolChange=(0,s.c)(this,"arcgisSmartMappingDefaultSymbolChange",7),this.arcgisSmartMappingDefaultSymbolBeforeToggle=(0,s.c)(this,"arcgisSmartMappingDefaultSymbolBeforeToggle",7),this.lastSettings={}}componentWillLoad(){this.flowItemNode=(0,a.f)(this.hostElement,"calcite-flow-item")}disconnectedCallback(){clearTimeout(this.labelChangeHandle)}render(){const{layer:e,strings:t}=a.s,i=(0,a.j)(e),n=(0,a.g)();let o=t.defaultSymbol.showDefaultSymbol;"color"===n?(0,a.a)(i,"color")||(o=t.defaultSymbol.showDefaultSymbolClassed):"size"===n&&((0,a.a)(i,"size")||(o=t.defaultSymbol.showDefaultSymbolClassed));const l=i.defaultSymbol;return(0,s.h)("calcite-block-section",{text:o,open:!!l,"toggle-display":"switch",onCalciteBlockSectionToggle:e=>{this.arcgisSmartMappingDefaultSymbolBeforeToggle.emit(),this.handleDefaultSymbolToggle(e)},ref:e=>this.blockSectionNode=e},this.renderDefaultSymbolContent())}renderDefaultSymbolContent(){const{layer:e,mapView:t}=a.s,i=(0,a.j)(e);let n;return n=i.defaultSymbol?i.defaultSymbol:this.lastSettings.defaultSymbol?this.lastSettings.defaultSymbol:(0,a.T)(e,t),n?(0,s.h)("div",{class:"symbol-button-content block-section-padding"},(0,s.h)("arcgis-smart-mapping-symbol-button",{symbol:n,type:"default",popoverReferenceElement:this.flowItemNode,onArcgisSmartMappingSymbolButtonSymbolChange:()=>{this.lastSettings.defaultSymbol=i.defaultSymbol,(0,s.f)(this.hostElement)}}),this.renderLabel()):null}renderLabel(){const{layer:e,strings:t}=a.s,i=(0,a.j)(e).defaultLabel||t.defaultSymbol.other;return(0,s.h)("calcite-label",null,t.defaultSymbol.label,(0,s.h)("calcite-input",{type:"text",value:i,onCalciteInputChange:()=>{clearTimeout(this.labelChangeHandle),this.defaultLabelNode.value?this.handleLabelChange():this.labelChangeHandle=setTimeout((()=>this.handleLabelChange()),3e3)},onFocusout:e=>{e.preventDefault(),e.stopPropagation(),this.handleLabelChange()},onKeyUp:()=>{clearTimeout(this.labelChangeHandle),this.defaultLabelNode.value?this.handleLabelChange():this.labelChangeHandle=setTimeout((()=>this.handleLabelChange()),3e3)},ref:e=>this.defaultLabelNode=e}))}handleDefaultSymbolToggle(e){const{layer:t,mapView:i,strings:s}=a.s,n=(0,a.j)(t);if(e.currentTarget.open)if(this.blockSectionNode.classList.add("open"),this.lastSettings.defaultSymbol)n.defaultSymbol=this.lastSettings.defaultSymbol,n.defaultLabel=this.lastSettings.defaultLabel||s.defaultSymbol.other;else{const e=(0,a.T)(t,i);n.defaultSymbol=e,n.defaultLabel=n.defaultLabel||s.defaultSymbol.other,this.lastSettings.defaultSymbol=n.defaultSymbol,this.lastSettings.defaultLabel=n.defaultLabel}else this.blockSectionNode.classList.remove("open"),this.lastSettings.defaultSymbol=n.defaultSymbol,this.lastSettings.defaultLabel=n.defaultLabel,n.defaultSymbol=void 0,n.defaultLabel=void 0;(0,a.ab)(),this.arcgisSmartMappingDefaultSymbolChange.emit()}handleLabelChange(){const{layer:e,strings:t}=a.s,i=(0,a.j)(e);this.defaultLabelNode.value?i.defaultLabel=this.defaultLabelNode.value:(i.defaultLabel=t.defaultSymbol.other,this.defaultLabelNode.value=t.defaultSymbol.other),(0,a.ab)()}get hostElement(){return(0,s.d)(this)}};p.style=".open{border-bottom:1px solid #e0e0e0}.block-section-padding{padding-top:6px}";const m=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingMethodButtonChange=(0,s.c)(this,"arcgisSmartMappingMethodButtonChange",7),this.arcgisSmartMappingMethodButtonBeforeOpen=(0,s.c)(this,"arcgisSmartMappingMethodButtonBeforeOpen",7),this.methodInfos=[],this.open=!1,this.showStdDev=!1,this.showDefinedInterval=!1}async setFocus(){this.buttonNode.focus()}componentWillLoad(){this.populateMethodInfo(),this.setSelection()}componentWillUpdate(){const{layer:e}=a.s,t=(0,a.j)(e).authoringInfo.classificationMethod;this.selectedMethodInfo.value!==t&&this.setSelection()}render(){const{strings:e}=a.s;return(0,s.h)(s.H,null,(0,s.h)("calcite-label",null,e.methodButton.method,(0,s.h)("div",{class:"method-button",role:"button",tabindex:"0","aria-haspopup":"true","aria-label":e.methodButton.selectMethod,ref:e=>{e&&(this.buttonNode=e)},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openMethodDropdown())},onClick:()=>this.openMethodDropdown()},(0,s.h)("div",{class:"method-content"},(0,s.h)("div",{class:"method-button-text"},(0,s.h)("div",{class:"method-button-title"},this.selectedMethodInfo.title),(0,s.h)("div",{class:"method-button-msg"},this.selectedMethodInfo.msg)),(0,s.h)("div",null,(0,s.h)("calcite-icon",{scale:"s",icon:"chevron-down"}))))))}setSelection(){const{layer:e}=a.s,t=(0,a.j)(e).authoringInfo.classificationMethod;this.selectedMethodInfo=this.methodInfos.find((e=>e.value===t)),this.methodInfos.forEach((e=>{e.selected=e.value===this.selectedMethodInfo.value}))}populateMethodInfo(){const{strings:e}=a.s;this.methodInfos.push({value:"natural-breaks",title:e.methodButton.naturalBreaks,msg:e.methodButton.naturalBreaksMsg,iconPath:null,selected:!1},{value:"equal-interval",title:e.methodButton.equalInterval,msg:e.methodButton.equalIntervalMsg,iconPath:null,selected:!1}),this.showStdDev&&this.methodInfos.push({value:"standard-deviation",title:e.methodButton.standardDeviation,msg:e.methodButton.standardDeviationMsg,iconPath:null,selected:!1}),this.methodInfos.push({value:"quantile",title:e.methodButton.quantile,msg:e.methodButton.quantileMsg,iconPath:null,selected:!1}),this.showDefinedInterval&&this.methodInfos.push({value:"defined-interval",title:e.methodButton.definedInterval,msg:e.methodButton.definedIntervalMsg,iconPath:null,selected:!1}),this.methodInfos.push({value:"manual",title:e.methodButton.manualBreaks,msg:e.methodButton.manualBreaksMsg,iconPath:null,selected:!1})}closePopover(){var e;this.open=!1,this.dropdownNode&&(null===(e=this.dropdownNode.parentNode)||void 0===e||e.removeChild(this.dropdownNode),this.dropdownNode=null,this.buttonNode.classList.remove("active"))}openMethodDropdown(){if(this.open)this.open=!1;else{this.arcgisSmartMappingMethodButtonBeforeOpen.emit();const e=document.createElement("arcgis-smart-mapping-dropdown");e.buttonNode=this.buttonNode,e.infos=this.methodInfos,this.dropdownNode=e,e.addEventListener("arcgisSmartMappingDropdownClose",(e=>{this.closePopover(),"Escape"===e.detail&&this.setFocus()})),e.addEventListener("arcgisSmartMappingDropdownChange",(e=>this.setMethod(e.detail))),e.addEventListener("arcgisSmartMappingDropdownDisconnected",(()=>this.closePopover())),this.buttonNode.classList.add("active"),document.body.appendChild(e),this.open=!0}}setMethod(e){const{layer:t}=a.s,i=(0,a.j)(t).authoringInfo.classificationMethod,s=e.value;if(s===i)return this.closePopover(),void setTimeout((()=>this.setFocus()),300);for(let e=0;e<this.methodInfos.length;e++)this.methodInfos[e].selected=this.methodInfos[e].value===s;this.selectedMethodInfo=e,this.arcgisSmartMappingMethodButtonChange.emit(this.selectedMethodInfo.value),this.closePopover(),setTimeout((()=>this.setFocus()),300)}get hostElement(){return(0,s.d)(this)}};m.style=".method-button{display:flex;padding:6px;justify-content:space-between;align-items:center;border-radius:0;cursor:pointer;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-foreground-3);border-width:2px;border-style:solid;box-shadow:transparent 0px 0px 0px 1px inset}.method-button:active{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.method-button:focus{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.method-button.active{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.method-content{justify-content:space-between;display:flex;align-items:center;width:100%}.method-button-text{display:inline-block;padding:0 10px}.method-button-title{font-weight:bold}.method-button-msg{font-size:80%;line-height:16px}";const g=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingRotationError=(0,s.c)(this,"arcgisSmartMappingRotationError",7),this.open=!1,this.isLoading=!1,this.rotationType="geographic"}componentWillLoad(){const{layer:e}=a.s,t=(0,a.a)((0,a.j)(e),"rotation");this.isBlockOpen=this.open||!!t,this.flowItemNode=(0,a.f)(this.hostElement,"calcite-flow-item")}render(){const{isRTL:e,layer:t,mapImageSublayer:i,strings:n,supportsArcade:l}=a.s,r=(0,a.a)((0,a.j)(t),"size"),d="geo-rss"===t.type;return i&&!l||(0,a.E)(t)||(0,a.u)(t)&&!r||!(0,a.ag)()||d?null:(0,s.h)(s.H,null,(0,s.h)("calcite-block",{class:{[o.C.rtl]:e,"rotation-block":!0},heading:n.rotation.rotationByAttribute,collapsible:!0,open:this.isBlockOpen,loading:this.isLoading,ref:e=>this.blockNode=e,onCalciteBlockOpen:()=>{this.isBlockOpen=!0,(0,a.aJ)(this.blockNode)},onCalciteBlockClose:()=>this.isBlockOpen=!1},(0,s.h)("div",null,this.renderRotationToggle())))}renderLoading(){const{strings:e}=a.s;return(0,s.h)("div",{class:"block-content-loading"},(0,s.h)("calcite-loader",{label:e.loading}))}renderRotationToggle(){const{layer:e,strings:t}=a.s,i=(0,a.a)((0,a.j)(e),"rotation");return(0,s.h)("calcite-block-section",{text:t.rotation.rotationLabel,class:"toggle-button",toggleDisplay:"switch",open:!!i,onCalciteBlockSectionToggle:()=>this.handleToggle()},(0,s.h)("div",{class:"block-section-padding"},this.isLoading?this.renderLoading():i?this.renderRotationContent():this.renderLoading()))}renderRotationContent(){return(0,s.h)("div",null,this.renderRotationAttribute(),this.renderRotationType())}renderRotationAttribute(){const{layer:e,fields:t,strings:i}=a.s,n=(0,a.a)((0,a.j)(e),"rotation"),o={field:n.field,expression:n.valueExpression,expressionTitle:n.valueExpressionTitle,simpleFieldType:a.z.NUMBER},l="oriented-imagery"!==e.type;return(0,s.h)("arcgis-smart-mapping-attribute-input",{fieldList:t.filter((e=>e.simpleFieldType===a.z.NUMBER)),selectedField:o,label:i.rotation.field,mode:l?"expression":"simple",popoverReferenceElement:this.flowItemNode,onArcgisSmartMappingAttributeInputChange:e=>{if(e.detail){const t=e.detail;this.setRotationVisualVariable(t)}},onArcgisSmartMappingAttributeInputError:e=>{this.arcgisSmartMappingRotationError.emit(e.detail)}})}renderRotationType(){const{strings:e}=a.s;let t=!1;return 0===e.rotation.rotateZeroDegrees.indexOf("°")&&(t=!0),(0,s.h)("div",{class:"rotation-type block-content-padding"},(0,s.h)("calcite-radio-button-group",{class:"rotation-type-selection",name:"rotationType",onCalciteRadioButtonGroupChange:e=>{this.handleTypeChange(e.target.selectedItem.value)}},(0,s.h)("calcite-label",{layout:"inline"},(0,s.h)("calcite-radio-button",{checked:"geographic"===this.rotationType,value:"geographic"}),e.rotation.geographic),(0,s.h)("calcite-label",{layout:"inline"},(0,s.h)("calcite-radio-button",{checked:"arithmetic"===this.rotationType,value:"arithmetic"}),e.rotation.arithmetic)),(0,s.h)("div",{class:"rotation-type-display","aria-hidden":"true"},"arithmetic"===this.rotationType?t?this.renderRotationSVG_Ari_leading():this.renderRotationSVG_Ari():t?this.renderRotationSVG_Geo_leading():this.renderRotationSVG_Geo(),(0,s.h)("div",{class:"rotation-type-symbol",ref:e=>this.createSymbol(e)})))}renderRotationSVG_Geo(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M35.8,16.46A30.51,30.51,0,0,1,60.39,40.4"}),(0,s.h)("polygon",{class:"cls-5",points:"57.06 38.77 57.46 38.2 60.31 40.15 62.05 37.16 62.65 37.51 60.53 41.15 57.06 38.77"}),(0,s.h)("path",{class:"cls-6",d:"M29.12,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,7.77,7.77,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19A2.34,2.34,0,0,1,28,4.56,1.85,1.85,0,0,1,29.12,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,27.52,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.15,1.15,0,0,0,.78.28,1.12,1.12,0,0,0,.77-.28,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,30.72,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.08,1.08,0,0,0,29.12,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M35.52,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0A1.38,1.38,0,0,1,33,6.86a1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18A1.21,1.21,0,0,1,33,4.72a1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,35.52,5.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22A1,1,0,0,0,34,6.8a1,1,0,0,0,.4-.08.87.87,0,0,0,.32-.22A1,1,0,0,0,35,6.19,1.09,1.09,0,0,0,35,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M66.94,46.41l0,0a1.33,1.33,0,0,1-.46.19,2.2,2.2,0,0,1-.56.07,2.18,2.18,0,0,1-.85-.16,2.12,2.12,0,0,1-.68-.45,1.9,1.9,0,0,1-.46-.68,2.38,2.38,0,0,1-.16-.89,2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.45,2.45,0,0,1,.73-.46,2.7,2.7,0,0,1,1.83,0,2.33,2.33,0,0,1,.73.46,1.9,1.9,0,0,1,.48.7,2.27,2.27,0,0,1,.18.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L65.77,49.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.92,1.92,0,0,0-.5-.34,1.79,1.79,0,0,0-1.29,0,1.77,1.77,0,0,0-.5.34,1.82,1.82,0,0,0-.32.52,1.77,1.77,0,0,0,0,1.28,1.49,1.49,0,0,0,.31.51,1.45,1.45,0,0,0,.5.33,1.75,1.75,0,0,0,.65.12A1.73,1.73,0,0,0,66.7,46a1.45,1.45,0,0,0,.5-.33,1.69,1.69,0,0,0,.32-.51A1.91,1.91,0,0,0,67.63,44.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M71.82,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86A4.16,4.16,0,0,1,74,44.61a8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,8.46,8.46,0,0,1,0-2.72A4.16,4.16,0,0,1,70,43.42a2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,71.82,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,4.31,4.31,0,0,0-.26,1A10.3,10.3,0,0,0,70.22,46a10.11,10.11,0,0,0,.07,1.08,4,4,0,0,0,.26,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,73.42,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,71.82,42.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M78.21,43.79a1.44,1.44,0,0,1-.11.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.64,1.64,0,0,1,0-1.18,1.47,1.47,0,0,1,.31-.48,1.52,1.52,0,0,1,.48-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.44,1.44,0,0,1,78.21,43.79Zm-.48,0a.92.92,0,0,0-.08-.4,1,1,0,0,0-.21-.31.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1,1,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,77.73,43.79Z"}))}renderRotationSVG_Ari(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M36.54,16.6a30.55,30.55,0,0,1,24,24.55"}),(0,s.h)("polygon",{class:"cls-5",points:"38.19 19.92 38.76 19.52 36.8 16.69 39.77 14.94 39.42 14.33 35.8 16.46 38.19 19.92"}),(0,s.h)("path",{class:"cls-6",d:"M27.14,8.41l0,0a1.35,1.35,0,0,1-.45.19,2.28,2.28,0,0,1-.57.07,2.18,2.18,0,0,1-.85-.16A2.12,2.12,0,0,1,24.57,8a1.94,1.94,0,0,1-.46-.69A2.3,2.3,0,0,1,24,6.47a2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.32,2.32,0,0,1,1.65-.62,2.51,2.51,0,0,1,.92.16,2.59,2.59,0,0,1,.73.46,2.18,2.18,0,0,1,.48.7,2.46,2.46,0,0,1,.17.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L26,11.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.56,1.56,0,0,0-.5-.33A1.67,1.67,0,0,0,25.6,5a1.67,1.67,0,0,0-.5.33,1.82,1.82,0,0,0-.32.52,1.69,1.69,0,0,0-.11.64,1.61,1.61,0,0,0,.11.63,1.35,1.35,0,0,0,.81.85,1.76,1.76,0,0,0,.66.12A1.71,1.71,0,0,0,26.9,8a1.45,1.45,0,0,0,.5-.33,1.62,1.62,0,0,0,.32-.52A1.81,1.81,0,0,0,27.83,6.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M32,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19A7.72,7.72,0,0,1,34.33,8a7.72,7.72,0,0,1-.11,1.36,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,32,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,30.42,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,1.92,1.92,0,0,0,.49.73,1.18,1.18,0,0,0,1.55,0,1.92,1.92,0,0,0,.49-.73,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,33.62,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,32,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M38.42,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.63,1.63,0,0,1-.11-.59,1.73,1.73,0,0,1,.11-.6,1.38,1.38,0,0,1,.79-.78,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,38.42,5.79Zm-.49,0a.85.85,0,0,0-.08-.39.89.89,0,0,0-.21-.32.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22A1.07,1.07,0,0,0,36,5.4a1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,37.93,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M67,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,67,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,65.42,46a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,68.62,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,67,42.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M73.42,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.63,1.63,0,0,1-.11-.59,1.73,1.73,0,0,1,.11-.6,1.38,1.38,0,0,1,.79-.78,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,73.42,43.79Zm-.49,0a.85.85,0,0,0-.08-.39.89.89,0,0,0-.21-.32.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.07,1.07,0,0,0-.22.32,1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,72.93,43.79Z"}))}renderRotationSVG_Geo_leading(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M35.8,16.46A30.51,30.51,0,0,1,60.39,40.4"}),(0,s.h)("polygon",{class:"cls-5",points:"57.06 38.77 57.46 38.2 60.31 40.15 62.05 37.16 62.65 37.51 60.53 41.15 57.06 38.77"}),(0,s.h)("path",{class:"cls-6",d:"M28.72,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18,1.21,1.21,0,0,1,.31-.48,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,28.72,5.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,28.23,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M32.12,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,7.77,7.77,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19A2.34,2.34,0,0,1,31,4.56,1.85,1.85,0,0,1,32.12,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,30.52,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.15,1.15,0,0,0,.78.28,1.12,1.12,0,0,0,.77-.28,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,33.72,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.08,1.08,0,0,0,32.12,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M66.62,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18,1.21,1.21,0,0,1,.31-.48,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,66.62,43.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,66.13,43.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M70.94,46.41l0,0a1.33,1.33,0,0,1-.46.19,2.2,2.2,0,0,1-.56.07,2.18,2.18,0,0,1-.85-.16,2.12,2.12,0,0,1-.68-.45,1.9,1.9,0,0,1-.46-.68,2.38,2.38,0,0,1-.16-.89,2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.45,2.45,0,0,1,.73-.46,2.7,2.7,0,0,1,1.83,0,2.33,2.33,0,0,1,.73.46,1.9,1.9,0,0,1,.48.7,2.27,2.27,0,0,1,.18.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L69.77,49.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.92,1.92,0,0,0-.5-.34,1.79,1.79,0,0,0-1.29,0,1.77,1.77,0,0,0-.5.34,1.82,1.82,0,0,0-.32.52,1.77,1.77,0,0,0,0,1.28,1.49,1.49,0,0,0,.31.51,1.45,1.45,0,0,0,.5.33,1.75,1.75,0,0,0,.65.12A1.73,1.73,0,0,0,70.7,46a1.45,1.45,0,0,0,.5-.33,1.69,1.69,0,0,0,.32-.51A1.91,1.91,0,0,0,71.63,44.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M75.82,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86A4.16,4.16,0,0,1,78,44.61a8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,8.46,8.46,0,0,1,0-2.72A4.16,4.16,0,0,1,74,43.42a2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,75.82,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,4.31,4.31,0,0,0-.26,1A10.3,10.3,0,0,0,74.22,46a10.11,10.11,0,0,0,.07,1.08,4,4,0,0,0,.26,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,77.42,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,75.82,42.85Z"}))}renderRotationSVG_Ari_leading(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M36.54,16.6a30.55,30.55,0,0,1,24,24.55"}),(0,s.h)("polygon",{class:"cls-5",points:"38.19 19.92 38.76 19.52 36.8 16.69 39.77 14.94 39.42 14.33 35.8 16.46 38.19 19.92"}),(0,s.h)("path",{class:"cls-6",d:"M24.82,5.79a1.63,1.63,0,0,1-.11.59,1.47,1.47,0,0,1-.31.48,1.52,1.52,0,0,1-.48.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31A1.21,1.21,0,0,1,22,6.38a1.45,1.45,0,0,1-.12-.59,1.53,1.53,0,0,1,.12-.6,1.25,1.25,0,0,1,.31-.47,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.79.78A1.73,1.73,0,0,1,24.82,5.79Zm-.49,0a1,1,0,0,0-.07-.39A1.07,1.07,0,0,0,24,5.08a.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1.06,1.06,0,0,0-.4.08.87.87,0,0,0-.32.22.89.89,0,0,0-.21.32.85.85,0,0,0-.08.39.92.92,0,0,0,.08.4.85.85,0,0,0,.21.31.87.87,0,0,0,.32.22,1.06,1.06,0,0,0,.4.08,1,1,0,0,0,.39-.08A.87.87,0,0,0,24,6.5a1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,24.33,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M29.14,8.41l0,0a1.35,1.35,0,0,1-.45.19,2.28,2.28,0,0,1-.57.07,2.18,2.18,0,0,1-.85-.16A2.12,2.12,0,0,1,26.57,8a1.94,1.94,0,0,1-.46-.69A2.3,2.3,0,0,1,26,6.47a2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.32,2.32,0,0,1,1.65-.62,2.51,2.51,0,0,1,.92.16,2.59,2.59,0,0,1,.73.46,2.18,2.18,0,0,1,.48.7,2.46,2.46,0,0,1,.17.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L28,11.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.56,1.56,0,0,0-.5-.33A1.67,1.67,0,0,0,27.6,5a1.67,1.67,0,0,0-.5.33,1.82,1.82,0,0,0-.32.52,1.69,1.69,0,0,0-.11.64,1.61,1.61,0,0,0,.11.63,1.35,1.35,0,0,0,.81.85,1.76,1.76,0,0,0,.66.12A1.71,1.71,0,0,0,28.9,8a1.45,1.45,0,0,0,.5-.33,1.62,1.62,0,0,0,.32-.52A1.81,1.81,0,0,0,29.83,6.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M34,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19A7.72,7.72,0,0,1,36.33,8a7.72,7.72,0,0,1-.11,1.36,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,34,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,32.42,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,1.92,1.92,0,0,0,.49.73,1.18,1.18,0,0,0,1.55,0,1.92,1.92,0,0,0,.49-.73,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,35.62,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,34,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M67.62,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.45,1.45,0,0,1-.12-.59,1.53,1.53,0,0,1,.12-.6,1.25,1.25,0,0,1,.31-.47,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,67.62,43.79Zm-.49,0a1,1,0,0,0-.07-.39,1.07,1.07,0,0,0-.22-.32.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.07,1.07,0,0,0-.22.32,1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,67.13,43.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M71,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,71,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,69.42,46a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,72.62,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,71,42.85Z"}))}createSymbol(e){var t,i,s;if(!e)return;const{layer:n,mapView:o,modules:l}=a.s,r=(0,a.j)(n);let d=r.symbol||(null===(t=r.classBreakInfos)||void 0===t?void 0:t.length)&&r.classBreakInfos[0].symbol||(null===(i=r.uniqueValueInfos)||void 0===i?void 0:i.length)&&r.uniqueValueInfos[0].symbol||(0,a.T)(n,o);for(d=d.clone(),(0,a.v)(d,new l.esriColor({r:170,g:170,b:170,a:1}));null===(s=e.childNodes)||void 0===s?void 0:s.length;)e.removeChild(e.childNodes[0]);d&&l.symbolUtils.renderPreviewHTML(d,{size:20}).then((t=>e.appendChild(t)))}handleToggle(){var e;const{layer:t,modules:i}=a.s,n=(0,a.j)(t);(0,a.l)();const o=(0,a.a)(n,"rotation");if(o)this.lastSettings={rotationVisVar:o},n.visualVariables=(0,a.q)(n,"rotation")||[],(0,a.ab)();else if(null===(e=this.lastSettings)||void 0===e?void 0:e.rotationVisVar)n.visualVariables=(0,a.q)(n,"rotation")||[],n.visualVariables.push(this.lastSettings.rotationVisVar),(0,a.ab)(),(0,a.aJ)(this.blockNode);else{const e=(0,a.aK)(),t=e?e.layerField.name:"",s=new i.RotationVariable({field:t,rotationType:"geographic"});n.visualVariables=(0,a.q)(n,"rotation")||[],n.visualVariables.push(s),(0,a.ab)(),(0,a.aJ)(this.blockNode)}(0,s.f)(this.hostElement)}handleTypeChange(e){if(e===this.rotationType)return;const{layer:t}=a.s,i=(0,a.j)(t),s=(0,a.a)(i,"rotation");s.rotationType=e,this.rotationType=s.rotationType,(0,a.ab)()}setRotationVisualVariable(e){this.isLoading=!0;const{layer:t,modules:i}=a.s,s=(0,a.j)(t);try{let t;e.expression?t=new i.RotationVariable({valueExpression:e.expression,valueExpressionTitle:e.expressionTitle,rotationType:this.rotationType}):e.field&&(t=new i.RotationVariable({field:e.field,rotationType:this.rotationType})),this.rotationType=this.rotationType,s.visualVariables=(0,a.q)(s,"rotation")||[],s.visualVariables.push(t),(0,a.ab)(),(0,a.aJ)(this.blockNode),this.isLoading=!1}catch(e){console.log(e)}}get hostElement(){return(0,s.d)(this)}};var b;g.style=".toggle-button{margin-top:2px}.block-section-padding{padding-top:6px}.block-content-padding{margin:6px 0}.block-content-loading{height:150px}.rotation-block{overflow:hidden}.rotation-type{margin-top:5px}.rotation-type-selection{margin-top:15px}.rotation-type-display{margin:10px 20px 0 20px;position:relative}.rotation-type-display svg{height:120px}.rotation-type-symbol{position:absolute;top:56px;left:33px}.arcgis--rtl .rotation-type-symbol{left:auto;right:61px}",function(e){e.highToLow="HighToLow.svg",e.aboveAndBelow="AboveAndBelow.svg",e.above="Above.svg",e.below="Below.svg",e.centeredOn="CenteredOn.svg",e.extremes="Extremes.svg"}(b||(b={}));const f=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingThemeButtonChange=(0,s.c)(this,"arcgisSmartMappingThemeButtonChange",7),this.arcgisSmartMappingThemeButtonBeforeOpen=(0,s.c)(this,"arcgisSmartMappingThemeButtonBeforeOpen",7),this.open=!1,this.themeInfos=[],this.rendererSubtype=void 0,this.buttonVersion="default"}async setFocus(){"minimal"===this.buttonVersion?this.buttonNode.setFocus():this.buttonNode.focus()}componentWillLoad(){this.populateThemeInfo(),this.setSelection()}componentWillUpdate(){const e=(0,a.L)(this.rendererSubtype);this.selectedThemeInfo.value!==e&&this.setSelection()}render(){return(0,s.h)(s.H,null,"minimal"===this.buttonVersion?this.renderMinimalButton():this.renderDefaultButton())}renderDefaultButton(){const{strings:e}=a.s;return(0,s.h)("calcite-label",null,e.themeButton.theme,(0,s.h)("div",{class:"theme-button",role:"button",tabindex:"0","aria-haspopup":"true","aria-label":e.themeButton.selectTheme,ref:e=>this.buttonNode=e,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openThemeDropdown())},onClick:()=>this.openThemeDropdown()},(0,s.h)("div",{class:"theme-content"},(0,s.h)("div",{class:"theme-button-icon",style:{backgroundImage:`url(${(0,s.a)("./assets/arcgis-smart-mapping-dropdown-images/")}${this.selectedThemeInfo.iconPath})`}}),(0,s.h)("div",{class:"theme-sub-content"},(0,s.h)("div",{class:"theme-button-text"},(0,s.h)("div",{class:"theme-button-title"},this.selectedThemeInfo.title),(0,s.h)("div",{class:"theme-button-msg"},this.selectedThemeInfo.msg)),(0,s.h)("div",null,(0,s.h)("calcite-icon",{scale:"s",icon:"chevron-down"}))))))}renderMinimalButton(){const{strings:e}=a.s;return(0,s.h)("calcite-label",{onClick:e=>e.stopImmediatePropagation()},e.themeButton.theme,(0,s.h)("calcite-button",{scale:"m",class:"calcite-theme-button",alignment:"icon-end-space-between",iconEnd:"chevron-down",appearance:"outline-fill",width:"full",tabindex:"0",role:"button",kind:"neutral","aria-haspopup":"true",label:e.themeButton.selectTheme,ref:e=>this.buttonNode=e,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openThemeDropdown())},onClick:()=>this.openThemeDropdown()},this.selectedThemeInfo.title))}setSelection(){const{layer:e}=a.s,t=(0,a.j)(e),i=(0,a.g)(),s=t.authoringInfo,n=(0,a.t)((0,a.j)(e),"color"),o=(0,a.t)((0,a.j)(e),"size");let l=(null==s?void 0:s.univariateTheme)||("size"===this.rendererSubtype?null==o?void 0:o.theme:null==n?void 0:n.theme);"color-size"===i&&"univariate-color-size"!==(null==s?void 0:s.type)&&"size"===this.rendererSubtype&&(l=o.theme),this.selectedThemeInfo=l?this.themeInfos.find((e=>e.value===l)):this.themeInfos.find((e=>"high-to-low"===e.value)),this.themeInfos.forEach((e=>{e.selected=e.value===this.selectedThemeInfo.value}))}closePopover(){var e;this.open=!1,this.dropdownNode&&(null===(e=this.dropdownNode.parentNode)||void 0===e||e.removeChild(this.dropdownNode),this.dropdownNode=null,this.buttonNode.classList.remove("active"))}openThemeDropdown(){if(this.open)this.open=!1;else{this.arcgisSmartMappingThemeButtonBeforeOpen.emit();const e=document.createElement("arcgis-smart-mapping-dropdown");e.buttonNode=this.buttonNode,e.infos=this.themeInfos,this.dropdownNode=e,e.addEventListener("arcgisSmartMappingDropdownClose",(e=>{this.closePopover(),"Escape"===e.detail&&this.setFocus()})),e.addEventListener("arcgisSmartMappingDropdownChange",(e=>this.setTheme(e.detail))),e.addEventListener("arcgisSmartMappingDropdownDisconnected",(()=>this.closePopover())),this.buttonNode.classList.add("active"),document.body.appendChild(e),this.open=!0}}setTheme(e){const t=(0,a.L)(this.rendererSubtype),i=e.value;if(i===t)return this.closePopover(),void setTimeout((()=>this.setFocus()),300);for(let e=0;e<this.themeInfos.length;e++)this.themeInfos[e].selected=this.themeInfos[e].value===i;this.selectedThemeInfo=e,this.arcgisSmartMappingThemeButtonChange.emit(i),this.closePopover(),setTimeout((()=>this.setFocus()),300)}populateThemeInfo(){const{layer:e,mapImageSublayer:t,strings:i}=a.s,s=t&&e.version>=11,n=(0,a.g)(),o=["color-age","size-age"].indexOf(n)>-1||"size"!==this.rendererSubtype&&["color-age-size"].indexOf(n)>-1||"size"===this.rendererSubtype&&["color-size-age","type-size-age"].indexOf(n)>-1,l=(0,a.j)(e).authoringInfo,r="univariate-color-size"===(null==l?void 0:l.type),d="color-size"===n&&r?(0,a.a)((0,a.j)(e),"size"):(0,a.a)((0,a.j)(e),this.rendererSubtype),c=(0,a.x)(d.field);this.isDate=(null==c?void 0:c.simpleFieldType)===a.z.DATE&&!o;const h="color-size"===n&&r?"ColorAndSize_":"color"===this.rendererSubtype?"Color_":"Size_";this.themeInfos.push({value:"high-to-low",title:this.isDate?i.themeButton.newToOld:i.themeButton.highToLow,msg:this.isDate?i.themeButton[this.rendererSubtype].newToOldMsg:i.themeButton[this.rendererSubtype].highToLowMsg,iconPath:`${h}${b.highToLow}`,selected:!1}),"color"!==n&&("color-size"!==n||"size"===this.rendererSubtype||t&&!s)||this.themeInfos.push({value:"above-and-below",title:this.isDate?i.themeButton.beforeAndAfter:i.themeButton.aboveAndBelow,msg:this.isDate?i.themeButton[this.rendererSubtype].beforeAndAfterMsg:i.themeButton[this.rendererSubtype].aboveAndBelowMsg,iconPath:`${h}${b.aboveAndBelow}`,selected:!1}),this.themeInfos.push({value:"above",title:this.isDate?i.themeButton.after:i.themeButton.above,msg:this.isDate?i.themeButton[this.rendererSubtype].afterMsg:i.themeButton[this.rendererSubtype].aboveMsg,iconPath:`${h}${b.above}`,selected:!1}),this.themeInfos.push({value:"below",title:this.isDate?i.themeButton.before:i.themeButton.below,msg:this.isDate?i.themeButton[this.rendererSubtype].beforeMsg:i.themeButton[this.rendererSubtype].belowMsg,iconPath:`${h}${b.below}`,selected:!1}),"color"===n&&(this.themeInfos.push({value:"centered-on",title:i.themeButton.centered,msg:i.themeButton[this.rendererSubtype].centeredMsg,iconPath:`${h}${b.centeredOn}`,selected:!1}),this.themeInfos.push({value:"extremes",title:i.themeButton.extremes,msg:i.themeButton[this.rendererSubtype].extremesMsg,iconPath:`${h}${b.extremes}`,selected:!1}))}get hostElement(){return(0,s.d)(this)}};f.style=".theme-button{display:flex;padding:6px;justify-content:space-between;align-items:center;border-radius:0;cursor:pointer;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-foreground-3);border-width:1px;border-style:solid;box-shadow:transparent 0px 0px 0px 1px inset}.theme-button:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.theme-button:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}.theme-button:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.theme-button.active,.calcite-theme-button.active{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.theme-content{display:flex;align-items:center;width:100%}.theme-sub-content{display:flex;justify-content:space-between;align-items:center;width:100%}.theme-button-icon{min-width:16px;background-repeat:no-repeat;height:48px;padding:0;display:inline-block}.theme-button-text{display:inline-block;padding:0 10px}.theme-button-title{font-weight:bold}.theme-button-msg{font-size:80%;line-height:16px}";const y=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingSymbolTransparencyError=(0,s.c)(this,"arcgisSmartMappingSymbolTransparencyError",7),this.lastSettings={},this.currentStopValues=[],this.zigzagClick=!1,this.lastFieldSortBy=n.L.default,this.styleSheetStatus="not-loaded",this.open=!1,this.histogramStatus=a.b.MISSING,this.statisticsStatus=a.b.MISSING,this.sliderZoomed=!1,this.isLoading=!1}async setFocus(){var e;null===(e=this.blockNode)||void 0===e||e.setFocus()}async updateStatistics(){var e;this.statisticsStatus=a.b.MISSING,this.statistics=null,this.histogramStatus=a.b.MISSING,this.histogram=null,null===(e=this.transparencySlider)||void 0===e||e.destroy(),this.transparencySlider=void 0,this.sliderZoomed=!1,this.getStatistics()}componentWillLoad(){const{layer:e}=a.s,t=(0,a.j)(e),i=(0,a.a)(t,"opacity");this.isBlockOpen=this.open||!!i,this.getStatistics(),this.percentLabelFlip=(0,a.at)(this.hostElement)}componentDidLoad(){this.flowItemNode=(0,a.f)(this.hostElement,"calcite-flow-item")}render(){const{config:e,strings:t,mapImageSublayer:i,supportsArcade:n,layer:o}=a.s,{isBlockOpen:l,isLoading:r}=this,d=(0,a.g)();if(i&&!n||"geo-rss"===o.type||!(0,a.ag)())return null;const c=["predominance","predominance-size"].indexOf(d)>-1;return(0,s.h)(s.H,null,(0,s.h)("link",{rel:"stylesheet",href:`${e.jsapiUrl}/themes/light/main.css`,onLoad:()=>{this.styleSheetStatus="loaded",(0,s.f)(this.hostElement)},onError:()=>{this.styleSheetStatus="failed",(0,s.f)(this.hostElement)}}),(0,s.h)("calcite-block",{heading:c?t.transparency.transparencyByPredominance:t.transparency.transparencyByAttribute,collapsible:!0,open:l,loading:r,class:"transparency-block",ref:e=>this.blockNode=e,onCalciteBlockOpen:()=>{this.isBlockOpen=!0,(0,a.aJ)(this.blockNode)},onCalciteBlockClose:()=>this.isBlockOpen=!1},this.renderTransparencyToggle()))}renderTransparencyToggle(){const{styleSheetStatus:e}=this,{layer:t,strings:i}=a.s,n=(0,a.j)(t),o=(0,a.g)(),l=(0,a.a)(n,"opacity"),r=["predominance","predominance-size"].indexOf(o)>-1;return(0,s.h)("calcite-block-section",{text:r?i.transparency.transparencyLabelPredominance:i.transparency.transparencyLabel,"toggle-display":"switch",open:!!l,onCalciteBlockSectionToggle:e=>this.handleToggle(e),ref:e=>this.blockSectionNode=e},(0,s.h)("div",{class:"block-section-padding"},l&&"loaded"===e?this.renderContent():l&&"not-loaded"===e?this.renderLoading():null))}renderLoading(){const{strings:e}=a.s;return(0,s.h)("div",{class:"block-content-loading"},(0,s.h)("calcite-loader",{label:e.loading}))}renderContent(){return(0,s.h)(s.F,null,this.renderAttributes(),this.renderSlider(),this.renderRange(),this.renderLegend())}renderAttributes(){const{layer:e}=a.s,t=(0,a.j)(e),i=(0,a.g)();if(["predominance","predominance-size"].indexOf(i)>-1)return null;const n=(0,a.a)(t,"opacity"),o=(0,a.x)(n.field),l=n.normalizationField&&(0,a.x)(n.normalizationField),r={field:n.field,expression:n.valueExpression,expressionTitle:n.valueExpressionTitle,simpleFieldType:o?o.simpleFieldType:a.z.NUMBER};return(0,s.h)(s.F,null,this.renderAttributeMain(r),this.renderAttributeDividedBy(l))}renderAttributeMain(e){var t;const{fields:i,layer:n,useFeatureReduction:o,strings:l}=a.s,r=!("featureReduction"in n&&"binning"===(null===(t=n.featureReduction)||void 0===t?void 0:t.type)&&o)&&"oriented-imagery"!==n.type;return(0,s.h)("arcgis-smart-mapping-attribute-input",{fieldList:i.filter((e=>[a.z.DATE,a.z.NUMBER].includes(e.simpleFieldType))),popoverReferenceElement:this.flowItemNode,selectedField:e,label:l.transparency.field,mode:r?"expression":"simple",ref:e=>this.attributeInputNode=e,onArcgisSmartMappingAttributeInputChange:async e=>{var t;if(e.detail){const i=e.detail;await this.getOpacityVisualVariable(i),null===(t=this.dividedByAttributeInputNode)||void 0===t||t.clear()}this.updateStatistics()},onArcgisSmartMappingAttributeInputError:e=>this.arcgisSmartMappingSymbolTransparencyError.emit(e.detail)})}renderAttributeDividedBy(e){const{layer:t,fields:i,strings:n}=a.s,o=(0,a.j)(t),l=(0,a.a)(o,"opacity"),r=(0,a.x)(l.field),d=(l.field,l.valueExpression),c=(l.valueExpressionTitle,r?r.simpleFieldType:a.z.NUMBER);return d||c!==a.z.NUMBER||(0,a.K)(i).number<2?null:(0,s.h)("arcgis-smart-mapping-attribute-input",{fieldList:i.filter((e=>e.layerField.name!==l.field&&e.simpleFieldType===a.z.NUMBER)),popoverReferenceElement:this.flowItemNode,label:n.transparency.dividedBy,selectedField:e?{field:e.layerField.name,simpleFieldType:e.simpleFieldType}:null,mode:"remove",ref:e=>{e&&(this.dividedByAttributeInputNode=e)},onArcgisSmartMappingAttributeInputChange:async e=>{if(e.detail){const t=e.detail;await this.getOpacityVisualVariable({field:l.field,simpleFieldType:a.z.NUMBER},t.field)}else{const e=(0,a.j)(t),i=(0,a.a)(e,"opacity");await this.getOpacityVisualVariable({field:i.field,simpleFieldType:a.z.NUMBER},null)}this.updateStatistics()}})}renderSlider(){var e;const{layer:t}=a.s,{statisticsStatus:i,histogramStatus:n,sliderZoomed:o}=this;if(i!==a.b.FAILED&&i!==a.b.MISSING){if(i===a.b.IN_PROGRESS||n===a.b.IN_PROGRESS&&!this.transparencySlider)return this.renderTransparencySliderLoading();{const e=this.prepareTransparencySlider();let i=!1;const n=(0,a.j)(t),l=(0,a.a)(n,"opacity");if(!o){const e=(0,a.t)((0,a.j)(t),"opacity"),s=(0,a.aD)(l.stops,null==e?void 0:e.minSliderValue,null==e?void 0:e.maxSliderValue);((null==s?void 0:s.minMaxSame)||!(0,d.i)(null==s?void 0:s.min)&&!(0,d.i)(null==s?void 0:s.max))&&(i=!0,this.zoomButtonNode&&(this.zoomButtonNode.disabled=!0))}return this.currentStopValues=l.stops.map((e=>e.value)),(e||this.transparencySlider)&&this.transparencySlider.min!==this.transparencySlider.max?(0,s.h)("div",{class:"slider-box"},(0,s.h)("div",{class:"slider-box-buttons-front"},this.renderZoomButton(i),(0,s.h)("div",null," "),this.renderResetButton()),(0,s.h)("div",{ref:e=>{e&&this.afterTransparencySliderCreate(e)}})):this.transparencySlider&&this.transparencySlider.min===this.transparencySlider.max?null:this.renderTransparencySliderLoading()}}null===(e=this.transparencySlider)||void 0===e||e.destroy(),this.transparencySlider=void 0}renderTransparencySliderLoading(){const{strings:e}=a.s;return(0,s.h)("div",{class:"slider-box"},(0,s.h)("calcite-loader",{label:e.loading}))}renderZoomButton(e){const{strings:t}=a.s,{sliderZoomed:i}=this;return(0,s.h)("arcgis-smart-mapping-action",{text:t.transparency.zoomSlider,icon:i?"magnifyingGlassMinus":"magnifyingGlassPlus",disabled:e,onClick:()=>this.handleZoomSlider(),ref:e=>this.zoomButtonNode=e})}renderResetButton(){const{strings:e}=a.s;return(0,s.h)("arcgis-smart-mapping-action",{text:e.transparency.resetSlider,icon:"undo",onClick:()=>this.handleResetSlider()})}renderRange(){const{percentLabelFlip:e}=this,{layer:t,strings:i}=a.s,n=(0,a.j)(t),o=(0,a.a)(n,"opacity").stops,l=Math.round(100-100*o[1].opacity),r=Math.round(100-100*o[0].opacity);return this.highInputNode&&(this.highInputNode.value=""+l),this.lowInputNode&&(this.lowInputNode.value=""+r),(0,s.h)(s.F,null,(0,s.h)("calcite-label",null,i.transparency.transparencyRange),(0,s.h)("div",{class:"transparency-range"},(0,s.h)("div",{class:"transparency-range-item"},(0,s.h)("calcite-label",{scale:"s"},i.transparency.transparencyHighValues,(0,s.h)("calcite-input-number",{prefixText:e?"%":void 0,suffixText:e?void 0:"%",value:""+(100-Math.round(100*o[1].opacity)),min:0,max:100,step:1,scale:"s",numberButtonType:"vertical",ref:e=>this.highInputNode=e,onCalciteInputNumberInput:e=>this.handleRangeChange(e,"high"),label:i.transparency.transparencyHighValues}))),(0,s.h)("div",{class:"transparency-range-item"},(0,s.h)("calcite-label",{scale:"s"},i.transparency.transparencyLowValues,(0,s.h)("calcite-input-number",{prefixText:e?"%":void 0,suffixText:e?void 0:"%",value:""+(100-Math.round(100*o[0].opacity)),min:0,max:100,step:1,scale:"s",numberButtonType:"vertical",ref:e=>this.lowInputNode=e,onCalciteInputNumberInput:e=>this.handleRangeChange(e,"low"),label:i.transparency.transparencyLowValues})))))}renderLegend(){const{layer:e,strings:t}=a.s,i=(0,a.j)(e);let n=!0;const o=(0,a.a)(i,"opacity").legendOptions;return o&&!1===o.showLegend&&(n=!1),(0,s.h)("calcite-label",{class:"include-legend",layout:"inline-space-between"},t.transparency.includeInLegend,(0,s.h)("calcite-switch",{scale:"s",checked:n,onCalciteSwitchChange:()=>this.handleIncludeInLegendToggle(),ref:e=>this.includeInLegendNode=e}))}prepareTransparencySlider(){var e;const{statistics:t,histogram:i,histogramStatus:s,sliderZoomed:n}=this,{layer:o,mapView:d,modules:c}=a.s,h=(0,a.j)(o),u=(0,a.a)(h,"opacity"),p=(0,a.t)(h,"opacity"),m=(0,a.x)(u.field),g={field:u.field,expression:u.valueExpression,expressionTitle:u.valueExpressionTitle,simpleFieldType:(null==m?void 0:m.simpleFieldType)||a.z.NUMBER},b=(0,a.aI)(g);if(s===a.b.IN_PROGRESS)return!1;let f=null==p?void 0:p.minSliderValue,y=null==p?void 0:p.maxSliderValue;if(({min:f,max:y}=(0,a.ad)({min:f,max:y})),this.transparencySlider){if("dragging"===(null===(e=this.transparencySlider.slider)||void 0===e?void 0:e.state))return!0;const s={histogramConfig:{bins:null==i?void 0:i.bins,average:Math.round(10*t.avg)/10,standardDeviation:t.stddev,standardDeviationCount:1},min:null!=f?f:t.min,max:null!=y?y:t.max,stops:c.esriLang.clone(u.stops),hasTimeData:b};b&&(0,l.a)(s,d.timeZone),n?this.zigzagClick||(s.zoomOptions=(0,a.aD)(u.stops,null==p?void 0:p.minSliderValue,null==p?void 0:p.maxSliderValue)):s.zoomOptions=null,this.sliderZoomed&&this.adjustedZoomOptions&&!this.zigzagClick&&(s.zoomOptions=this.adjustedZoomOptions,"min"===this.zoomAdjustment?(this.transparencySlider.slider.min=s.zoomOptions.min,s.zoomOptions.min=null):(this.transparencySlider.slider.max=s.zoomOptions.max,s.zoomOptions.max=null)),this.adjustedZoomOptions=null,this.zoomAdjustment=null,this.transparencySlider.set(s),this.zigzagClick=!1}else{const e={histogramConfig:{bins:null==i?void 0:i.bins,average:Math.round(10*t.avg)/10,standardDeviation:t.stddev,standardDeviationCount:1},style:{trackFillColor:new c.esriColor([84,84,84])},min:null!=f?f:t.min,max:null!=y?y:t.max,stops:c.esriLang.clone(u.stops),precision:(0,r.g)(u.stops)};b&&(e.hasTimeData=!0,(0,l.a)(e,d.timeZone)),this.transparencySlider=new c.OpacitySlider(e),this.transparencySlider.min===this.transparencySlider.max&&this.transparencySlider.set(e),this.createTransparencySliderChangeEvents()}return!0}createTransparencySliderChangeEvents(){const{layer:e}=a.s,t=(0,a.j)(e),i=(0,a.a)(t,"opacity"),n=(0,a.x)(i.field),o={field:i.field,expression:i.valueExpression,expressionTitle:i.valueExpressionTitle,simpleFieldType:n?n.simpleFieldType:a.z.NUMBER},l=(0,a.aI)(o);this.transparencySlider&&(this.transparencySlider.watch("zoomOptions",((e,t)=>{this.sliderZoomed&&((null==t?void 0:t.min)&&!(null==e?void 0:e.min)||(null==t?void 0:t.max)&&!(null==e?void 0:e.max))&&(this.zigzagClick=!0,this.handleZigzagClick(e))})),this.transparencySlider.on("min-change",(e=>{e.value>this.currentStopValues[0]?(this.transparencySlider.stops.forEach(((e,t)=>{e.value=this.currentStopValues[t]})),this.onMinMaxChange(this.currentStopValues[0],this.transparencySlider.slider.max,"min")):this.onMinMaxChange(e.value,this.transparencySlider.slider.max,"min")})),this.transparencySlider.on("max-change",(e=>{e.value<this.currentStopValues[this.currentStopValues.length-1]?(this.transparencySlider.stops.forEach(((e,t)=>{e.value=this.currentStopValues[t]})),this.onMinMaxChange(this.transparencySlider.slider.min,this.currentStopValues[this.currentStopValues.length-1],"max")):this.onMinMaxChange(this.transparencySlider.slider.min,e.value,"max")})),this.transparencySlider.on("thumb-change",(e=>{if(l&&0===e.value)return void(0,s.f)(this.hostElement);const t=this.transparencySlider.stops;this.updateRendererStops(t)})),this.transparencySlider.on("thumb-drag",(()=>{const e=this.transparencySlider.stops;this.updateRendererStops(e)})))}afterTransparencySliderCreate(e){if(this.transparencySlider.container)e.append(this.transparencySlider.container);else{const t=document.createElement("div");t.classList.add("slider-container"),e.append(t),this.transparencySlider.container=t}}handleToggle(e){const{layer:t,modules:i}=a.s,n=(0,a.j)(t);(0,a.l)();const o=(0,a.a)(n,"opacity"),l=e.target;if(!(l.open&&o||!l.open&&!o))if(o){const e=(0,a.t)(n,"opacity");this.lastSettings.opacityVisVar=o,this.lastSettings.authOpacityVisVar=e,n.visualVariables=(0,a.q)(n,"opacity")||[],n.authoringInfo.visualVariables=(0,a.r)(n,"opacity")||[],this.sliderZoomed=!1,(0,a.ab)()}else if(this.lastSettings.opacityVisVar)n.visualVariables=(0,a.q)(n,"opacity")||[],n.visualVariables.push(this.lastSettings.opacityVisVar),n.authoringInfo=n.authoringInfo||new i.AuthoringInfo({}),this.lastSettings.authOpacityVisVar&&(n.authoringInfo.visualVariables=(0,a.r)(n,"opacity")||[],n.authoringInfo.visualVariables.push(this.lastSettings.authOpacityVisVar)),(0,s.f)(this.hostElement),(0,a.ab)(),(0,a.aJ)(this.blockNode);else{const e=(0,a.aK)(),t=e?e.layerField.name:"";this.getOpacityVisualVariable({field:t,simpleFieldType:a.z.NUMBER})}}async handleResetSlider(){const{layer:e,modules:t}=a.s,i=(0,a.j)(e),s=(0,a.g)(),n=(0,a.a)(i,"opacity"),o={field:n.field,expression:n.valueExpression,expressionTitle:n.valueExpressionTitle,simpleFieldType:a.z.NUMBER},l=n.normalizationField;if(["predominance","predominance-size"].indexOf(s)>-1)try{this.statisticsStatus=a.b.IN_PROGRESS,this.histogramStatus=a.b.MISSING,await(0,c.a)({includeOpacityVariable:!0}).then((e=>{const t=(0,a.a)(e.renderer,"opacity"),s=(0,a.t)(e.renderer,"opacity");i.visualVariables=(0,a.q)(i,"opacity")||[],i.visualVariables.push(t),i.authoringInfo.visualVariables=(0,a.r)(i,"opacity")||[],i.authoringInfo.visualVariables.push(s),this.includeInLegendNode.checked=!t.legendOptions||!1!==t.legendOptions.showLegend,(0,a.ab)(),this.updateStatistics(),(0,a.aJ)(this.blockNode)}))}catch(e){this.statisticsStatus=a.b.FAILED,console.log(e)}else await h({fieldInfos:[o],normalizationField:l}).then((i=>{var s;const n=(0,a.j)(e);if(i.statistics&&(0,d.i)(i.statistics.min)&&(0,d.i)(i.statistics.max)&&i.statistics.min<=i.statistics.max)i.statistics=(0,a.ad)(i.statistics),this.statistics=i.statistics,this.statisticsStatus=a.b.SUCCESS,this.getHistogram(o,l,i.statistics,i.statistics.min,i.statistics.max);else if(0===(null===(s=i.statistics)||void 0===s?void 0:s.count)){const[e,t]=(0,a.aL)(o);this.statistics={min:e,max:t,avg:(t-e)/2,count:0,median:void 0,stddev:void 0,sum:void 0,variance:void 0},this.statisticsStatus=a.b.SUCCESS}else this.statisticsStatus=a.b.FAILED;n.visualVariables=(0,a.q)(n,"opacity")||[],n.visualVariables.push(i.visualVariable),n.authoringInfo=n.authoringInfo||new t.AuthoringInfo({}),n.authoringInfo.visualVariables=(0,a.r)(n,"opacity")||[],n.authoringInfo.visualVariables.push(i.authoringInfo.visualVariables[0]),(0,a.ab)(),this.updateStatistics(),(0,a.aJ)(this.blockNode)})).catch((e=>{console.log(e)}))}handleZoomSlider(e){var t,i,s,n;if(this.histogramStatus===a.b.IN_PROGRESS)return;const{layer:o}=a.s,l=(0,a.j)(o);this.sliderZoomed=(0,d.i)(e)?e:!this.sliderZoomed;const{sliderZoomed:r,statistics:c}=this,h=(0,a.a)(l,"opacity"),u=(0,a.t)(l,"opacity"),p=r?(0,a.aD)(h.stops,null!==(t=null==u?void 0:u.minSliderValue)&&void 0!==t?t:c.min,null!==(i=null==u?void 0:u.maxSliderValue)&&void 0!==i?i:c.max):null,m=(0,a.x)(h.field),g=(null==u?void 0:u.minSliderValue)===(null==u?void 0:u.maxSliderValue);this.getHistogram({field:h.field,expression:h.valueExpression,expressionTitle:h.valueExpressionTitle,simpleFieldType:m?m.simpleFieldType:a.z.NUMBER},h.normalizationField,c,p&&p.min||(g?c.min:null!==(s=null==u?void 0:u.minSliderValue)&&void 0!==s?s:c.min),p&&p.max||(g?c.max:null!==(n=u.maxSliderValue)&&void 0!==n?n:c.max))}handleRangeChange(e,t){const i=e.target;let n=i.value?parseInt(i.value):0;const{layer:o}=a.s,l=(0,a.j)(o);n<0?n=0:n>100&&(n=100);const r=(0,a.a)(l,"opacity").stops;let d=Math.round(100*(1-n/100))/100;"high"===t?r[1].opacity=d:r[0].opacity=d,(0,a.ab)(),(0,s.f)(this.hostElement)}handleIncludeInLegendToggle(){const{layer:e}=a.s,t=(0,a.j)(e),i=(0,a.a)(t,"opacity"),s=i.legendOptions;s&&!1===s.showLegend?s&&s.title?s.showLegend=!0:i.legendOptions=void 0:(i.legendOptions=s||{},i.legendOptions.showLegend=!1),(0,a.ab)()}updateRendererStops(e){const{layer:t}=a.s,i=(0,a.j)(t),s=(0,a.a)(i,"opacity"),n=(0,a.t)(i,"opacity");s.stops=e,this.transparencySlider.stops=e,this.currentStopValues=s.stops.map((e=>e.value));const o=(0,a.aD)(null==s?void 0:s.stops,null==n?void 0:n.minSliderValue,null==n?void 0:n.maxSliderValue);this.sliderZoomed?this.zoomButtonNode.disabled=!1:!o||o.minMaxSame||!(0,d.i)(o.min)&&!(0,d.i)(o.max)?this.zoomButtonNode.disabled=!0:this.zoomButtonNode.disabled=!1,(0,a.ab)()}async getOpacityVisualVariable(e,t){var i;const{layer:s,modules:n}=a.s,o=(0,a.j)(s),l=(0,a.g)();if(this.statistics=void 0,this.histogram=void 0,this.histogramStatus=a.b.MISSING,this.sliderZoomed=!1,this.statisticsStatus=a.b.IN_PROGRESS,["predominance","predominance-size"].indexOf(l)>-1)try{const e=await(0,c.a)({includeOpacityVariable:!0});(0,a.e)(e.renderer,s),this.getStatistics(),(0,a.ab)(),(0,a.aJ)(this.blockNode)}catch(e){console.log(e)}else try{const s=await h({fieldInfos:[e],normalizationField:t});if(s.statistics&&(0,d.i)(s.statistics.min)&&(0,d.i)(s.statistics.max)&&s.statistics.min<=s.statistics.max)s.statistics=(0,a.ad)(s.statistics),this.statistics=s.statistics,this.statisticsStatus=a.b.SUCCESS,this.getHistogram(e,t,s.statistics,s.statistics.min,s.statistics.max);else if(0===(null===(i=s.statistics)||void 0===i?void 0:i.count)){const[t,i]=(0,a.aL)(e);this.statistics={min:t,max:i,avg:(i-t)/2,count:0,median:void 0,stddev:void 0,sum:void 0,variance:void 0},this.statisticsStatus=a.b.SUCCESS}else this.statisticsStatus=a.b.FAILED;o.visualVariables=(0,a.q)(o,"opacity")||[],o.visualVariables.push(s.visualVariable),o.authoringInfo=o.authoringInfo||new n.AuthoringInfo({}),o.authoringInfo.visualVariables=(0,a.r)(o,"opacity")||[],o.authoringInfo.visualVariables.push(s.authoringInfo.visualVariables[0]),(0,a.ab)(),(0,a.aJ)(this.blockNode)}catch(e){this.statisticsStatus=a.b.FAILED,this.blockSectionNode.open=!1,console.log(e)}}getStatistics(){var e;const{layer:t,useFeatureReduction:i,mapView:s,modules:n}=a.s,o=t,l=(0,a.j)(o);let r,c,h,u;if(c=(0,a.a)(l,"opacity"),!c)return;const p=(0,a.x)(c.field),m={field:c.field,expression:c.valueExpression,expressionTitle:c.valueExpressionTitle,simpleFieldType:p?p.simpleFieldType:a.z.NUMBER};r=c.normalizationField;const g=(0,a.t)(l,"opacity");h=null==g?void 0:g.minSliderValue,u=null==g?void 0:g.maxSliderValue,this.statisticsStatus=a.b.IN_PROGRESS,!this.statistics&&o&&n.summaryStatistics({layer:o,view:s,field:m.field,valueExpression:m.expression,normalizationField:r,forBinning:"featureReduction"in o&&"binning"===(null===(e=o.featureReduction)||void 0===e?void 0:e.type)&&i}).then((e=>{if(0===e.count){const[t,i]=(0,a.aL)(m),s=g.minSliderValue||t,n=g.maxSliderValue||i;e={min:s,max:n,avg:(n+s)/2,count:0,median:void 0,stddev:void 0,sum:void 0,variance:void 0}}else if(!(0,d.i)(e.avg)||!(0,d.i)(e.min)||!(0,d.i)(e.max))return void(this.statisticsStatus=a.b.FAILED);e=(0,a.ad)(e),g&&(g.minSliderValue=e.min,g.maxSliderValue=e.max),h=null!=h?h:e.min,u=null!=u?u:e.max,h===u&&(h=e.min,u=e.max),this.statistics=e,this.statisticsStatus=a.b.SUCCESS,this.getHistogram(m,r,e,h,u)}),(e=>{console.log("error-summaryStatistics",e),this.statisticsStatus=a.b.FAILED}))}getHistogram(e,t,i,s,n){var o;const{layer:l,useFeatureReduction:r,mapView:c,modules:h}=a.s,u=l;(i=i||this.statistics)&&0!==i.count&&(this.histogramStatus=a.b.IN_PROGRESS,h.histogram({layer:u,view:c,field:e.field,valueExpression:e.expression,numBins:50,minValue:(0,d.i)(s)?s:i.min,maxValue:(0,d.i)(n)?n:i.max,normalizationField:t,forBinning:"featureReduction"in u&&"binning"===(null===(o=u.featureReduction)||void 0===o?void 0:o.type)&&r}).then((e=>{this.histogram=e,this.histogramStatus=a.b.SUCCESS}),(e=>{console.log("error-histogram",e),this.histogramStatus=a.b.FAILED})))}onMinMaxChange(e,t,i){const{statistics:s}=this,{layer:n}=a.s,o=(0,a.j)(n),l=(0,a.a)(o,"opacity"),r=(0,a.t)(o,"opacity")||{};"min"===i?r.minSliderValue=e:r.maxSliderValue=t;const c=(0,a.aD)(null==l?void 0:l.stops,r.minSliderValue,r.maxSliderValue);this.sliderZoomed?this.zoomButtonNode.disabled=!1:!c||c.minMaxSame||!(0,d.i)(c.min)&&!(0,d.i)(c.max)?this.zoomButtonNode.disabled=!0:this.zoomButtonNode.disabled=!1,this.sliderZoomed&&(this.adjustedZoomOptions=this.transparencySlider.zoomOptions,"min"===i?(this.adjustedZoomOptions.min=e,this.zoomAdjustment="min"):(this.adjustedZoomOptions.max=t,this.zoomAdjustment="max"));const h=(0,a.x)(l.field),u={field:l.field,expression:l.valueExpression,expressionTitle:l.valueExpressionTitle,simpleFieldType:h?h.simpleFieldType:a.z.NUMBER},p=l.normalizationField;this.getHistogram(u,p,s,e,t),e===r.minSliderValue&&t===r.maxSliderValue&&(this.sliderZoomed=!1)}handleZigzagClick(e){var t,i,s,n;const{statistics:o}=this,{layer:l}=a.s,r=(0,a.j)(l),d=(0,a.a)(r,"opacity"),c=(0,a.t)(r,"opacity"),h=(0,a.x)(d.field),u=null==d?void 0:d.normalizationField,p={field:d.field,expression:d.valueExpression,expressionTitle:d.valueExpressionTitle,simpleFieldType:h?h.simpleFieldType:a.z.NUMBER},m=c.minSliderValue===c.maxSliderValue;this.getHistogram(p,u,o,null!==(t=null==e?void 0:e.min)&&void 0!==t?t:m?o.min:null!==(i=c.minSliderValue)&&void 0!==i?i:o.min,null!==(s=null==e?void 0:e.max)&&void 0!==s?s:m?o.max:null!==(n=c.maxSliderValue)&&void 0!==n?n:o.max),e||(this.sliderZoomed=!1)}get hostElement(){return(0,s.d)(this)}};y.style=".block-content-loading{height:150px}.transparency-block{overflow-x:hidden}.block-section-padding{padding-top:6px}.transparency-range{display:flex;justify-content:space-between}.transparency-range-item{width:49%;display:flex;flex-flow:column;justify-content:space-between}.include-legend{margin:10px 0 0 0}.slider-box{height:300px}.slider-box .esri-opacity-slider__histogram-container{width:85px}.slider-box .esri-opacity-slider .esri-slider .esri-slider__content{height:175px}.slider-box .esri-opacity-slider{min-width:200px}.slider-box .esri-opacity-slider .esri-slider .esri-slider__label,.slider-box .esri-opacity-slider .esri-slider .esri-slider__min,.slider-box .esri-opacity-slider .esri-slider .esri-slider__max{text-decoration:underline}.slider-box .esri-opacity-slider .esri-slider .esri-slider__label:hover,.slider-box .esri-opacity-slider .esri-slider .esri-slider__min:hover,.slider-box .esri-opacity-slider .esri-slider .esri-slider__max:hover{border:1px solid #bbb;background-color:#f3f3f3;text-decoration:none;z-index:1}.slider-box-buttons-front{display:flex}.slider-container{overflow:hidden}"},78246:(e,t,i)=>{i.d(t,{a:()=>a,b:()=>o,d:()=>l,u:()=>n});var s=i(59503);function a(e,t){e.labelFormatFunction=e=>r(e,t,"short-date"),e.inputFormatFunction=e=>r(e,t,"short-date"),e.inputParseFunction=e=>function(e,t){if(!e)return e;let i;if(t&&"system"!==t)if("unknown"===t)i=e;else{const s=new Date;i=e+(new Date(s.toLocaleString("en-US",{timeZone:"utc"})).getTime()-new Date(s.toLocaleString("en-US",{timeZone:t})).getTime())}else i=e+6e4*(new Date).getTimezoneOffset();return console.log("mapTZToUTC",e," - ",new Date(e).toISOString()," - ",new Date(i).toISOString()),i}(Date.parse(e),t)}function n(e,t){let i;if(t&&"system"!==t)if("unknown"===t)i=new Date(e).toISOString();else{const s=(new Date).getTimezoneOffset(),a=new Date(e).toLocaleString("en-US",{timeZone:t});i=new Date(new Date(a).getTime()-6e4*s).toISOString()}else{const t=(new Date).getTimezoneOffset();i=new Date(e-6e4*t).toISOString()}return i}function o(e,t,i){let s;if(t&&"system"!==t)if("unknown"===t)s=new Date(e).toISOString();else{const i=(new Date).getTimezoneOffset(),a=new Date(e).toLocaleString("en-US",{timeZone:t});s=new Date(new Date(a).getTime()-6e4*i).toISOString()}else{const t=(new Date).getTimezoneOffset();s=new Date(e-6e4*t).toISOString()}return s=i?s.substring(11,19):s.substring(11,16),s}function l(e,t){let i,s=new Date(e);if(s=new Date(s.getTime()-6e4*s.getTimezoneOffset()),t&&"system"!==t)if("unknown"===t)i=s.getTime();else{const e=new Date(s.toLocaleString("en-US",{timeZone:"utc"})).getTime()-new Date(s.toLocaleString("en-US",{timeZone:t})).getTime();i=s.getTime()+e}else{const e=(new Date).getTimezoneOffset();i=s.getTime()+6e4*e}return i}function r(e,t,i){const{modules:a}=s.s;let n;return n="unknown"===t?a.intl.formatDate(e,Object.assign(Object.assign({},a.intl.convertDateFormatToIntlOptions(i||"short-date-short-time")),{timeZone:"utc",timeZoneName:"shortOffset"})):a.intl.formatDate(e,Object.assign(Object.assign({},a.intl.convertDateFormatToIntlOptions(i||"short-date-short-time")),{timeZone:t})),n}i(21104),i(2137)},77419:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>o,g:()=>h,u:()=>n});var s=i(59503),a=(i(21104),i(89393));function n(e){const{layer:t,modules:i}=s.s,n=(0,s.j)(t),o=i.esriLang.clone(n.classBreakInfos);n.classBreakInfos=[],o.forEach(((t,i)=>{t=function(e,t,i,n){if((0,a.i)(t))if(0===t);else if(t<1){const a=Math.round(1/t);e.minValue="first"===n?Math.floor(e.minValue/t)/a:Math.round(e.minValue/t)/a,e.maxValue="last"===n?Math.ceil(e.maxValue/t)/a:Math.round(e.maxValue/t)/a,e.label=`${i>0?"> ":""}${e.minValue.toLocaleString(s.s.fullLocale,{maximumSignificantDigits:15})} - ${e.maxValue.toLocaleString(s.s.fullLocale,{maximumSignificantDigits:15})}`}else e.minValue="first"===n?Math.floor(e.minValue/t)*t:Math.round(e.minValue/t)*t,e.maxValue="last"===n?Math.ceil(e.maxValue/t)*t:Math.round(e.maxValue/t)*t,e.label=(i>0?"> ":"")+e.minValue.toLocaleString()+" - "+e.maxValue.toLocaleString();return e}(t,e,i,0===i?"first":i===o.length-1?"last":void 0),n.addClassBreakInfo({minValue:t.minValue,maxValue:t.maxValue,symbol:t.symbol,label:t.label})}))}function o(e){const{layer:t}=s.s,i=(0,s.j)(t).classBreakInfos;let a=e,n=1/0;i.forEach((e=>{a||(a=Math.max(r(e.minValue),r(e.maxValue))),n=Math.min(n,e.maxValue-e.minValue)}));const o=[];return n>1e7?(o.push(1e7),o.push(1e6),o.push(1e5),o.push(1e4),o.push(1e3),o.push(100),o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01)):n>1e6?(o.push(1e6),o.push(1e5),o.push(1e4),o.push(1e3),o.push(100),o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01)):n>1e5?(o.push(1e5),o.push(1e4),o.push(1e3),o.push(100),o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01)):n>1e4?(o.push(1e4),o.push(1e3),o.push(100),o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01)):n>1e3?(o.push(1e3),o.push(100),o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01),a>3&&o.push(.001)):n>100?(o.push(100),o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01),a>3&&o.push(.001),a>4&&o.push(1e-4),a>5&&o.push(1e-5)):n>10?(o.push(10),a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01),a>3&&o.push(.001),a>4&&o.push(1e-4),a>5&&o.push(1e-5),a>6&&o.push(1e-6)):n>1?(a>0&&o.push(1),a>1&&o.push(.1),a>2&&o.push(.01),a>3&&o.push(.001),a>4&&o.push(1e-4),a>5&&o.push(1e-5),a>6&&o.push(1e-6)):n>.1?(a>1&&o.push(.1),a>2&&o.push(.01),a>3&&o.push(.001),a>4&&o.push(1e-4),a>5&&o.push(1e-5),a>6&&o.push(1e-6)):n>.01?(a>2&&o.push(.01),a>3&&o.push(.001),a>4&&o.push(1e-4),a>5&&o.push(1e-5),a>6&&o.push(1e-6)):n>.001?(a>3&&o.push(.001),a>4&&o.push(1e-4),a>5&&o.push(1e-5),a>6&&o.push(1e-6),a>7&&o.push(1e-7)):n>1e-4?(a>4&&o.push(1e-4),a>5&&o.push(1e-5),a>6&&o.push(1e-6),a>7&&o.push(1e-7),a>8&&o.push(1e-8)):n>1e-5&&(a>5&&o.push(1e-5),a>6&&o.push(1e-6),a>7&&o.push(1e-7),a>8&&o.push(1e-8),a>9&&o.push(1e-9)),o}function l(){const{layer:e}=s.s,t=(0,s.j)(e);let i=1e10;return t.classBreakInfos.forEach((e=>{i=Math.min(i,d(e.minValue)),i=Math.min(i,d(e.maxValue))})),i}function r(e){let t=1;for(;Math.round(e*t)/t!==e;)t*=10;return Math.log(t)/Math.LN10}function d(e){let t=1e-8;for(;c(Math.round(e/t)*t)===e;)t*=10;return t/10}function c(e){return parseFloat(e.toPrecision(12))}function h(e){var t,i,s,n,o,l,d,h;let u=0;e.forEach((e=>{(0,a.i)(e.value)?u=Math.max(r(c(e.value)),u):((0,a.i)(e.minValue)&&(u=Math.max(r(c(e.minValue)),u)),(0,a.i)(e.maxValue)&&(u=Math.max(r(c(e.maxValue)),u)),(0,a.i)(e.min)&&(u=Math.max(r(c(e.min)),u)),(0,a.i)(e.max)&&(u=Math.max(r(c(e.max)),u)))})),u=Math.min(u,3);const p=e[0],m=e[e.length-1],g=Math.min(null!==(i=null!==(t=p.minValue)&&void 0!==t?t:p.min)&&void 0!==i?i:p.value,null!==(n=null!==(s=m.minValue)&&void 0!==s?s:m.min)&&void 0!==n?n:m.value),b=Math.max(null!==(l=null!==(o=p.maxValue)&&void 0!==o?o:p.max)&&void 0!==l?l:p.value,null!==(h=null!==(d=m.maxValue)&&void 0!==d?d:m.max)&&void 0!==h?h:m.value)-g;return b/e.length<2e-7?u=8:b/e.length<2e-6?u=7:b/e.length<2e-5?u=6:b/e.length<2e-4?u=5:b/e.length<.002?u=4:b/e.length<.02?u=3:b/e.length<.2?u=Math.max(u,2):b/e.length<2&&(u=Math.max(u,1)),Math.round(u)}},38277:(e,t,i)=>{i.d(t,{a:()=>o,c:()=>n,g:()=>l});var s=i(59503),a=(i(21104),i(89393));function n(e){var t;const{layer:i,useFeatureReduction:n,mapView:o,selectedFields:l,modules:d}=s.s,c=i;e=e||{};const h=(0,s.p)((0,s.j)(c));return d.PredominanceCreator.createRenderer({layer:c,view:o,fields:r(e.fieldInfos),predominanceScheme:e.predominanceScheme||(0,s.X)(),includeOpacityVariable:!(0,a.i)(e.includeOpacityVariable)||(0,a.i)(e.includeOpacityVariable),includeSizeVariable:!!(0,a.i)(e.includeSizeVariable)&&e.includeSizeVariable,outlineOptimizationEnabled:(0,a.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!(0,s.u)(c),sizeOptimizationEnabled:!(0,a.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled,legendOptions:e.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===(null===(t=c.featureReduction)||void 0===t?void 0:t.type)&&n}).then((t=>{(0,s.o)(h,t.renderer,{notOpacity:!0});const i=(0,s.g)();if(!(0,a.i)(e.includeOpacityVariable)&&["predominance","predominance-size"].indexOf(i)>-1){const i=(0,s.h)(c),a=l.map((e=>e.field)).sort(),n=i.map((e=>e.field)).sort();if(a.toString()===n.toString()){const i=(0,s.a)((0,s.j)(c),"opacity"),a=(0,s.t)((0,s.j)(c),"opacity");t.renderer.visualVariables=(0,s.q)(t.renderer,"opacity")||[],i&&t.renderer.visualVariables.push(i),t.renderer.authoringInfo.visualVariables=(0,s.r)(t.renderer,"opacity")||[],a&&t.renderer.authoringInfo.visualVariables.push(a);const n=t.renderer.uniqueValueInfos[0].symbol.clone();t.renderer.uniqueValueInfos=(0,s.j)(c).uniqueValueInfos,(0,s.u)(c)&&("predominance-size"===(0,s.g)()&&!0!==e.includeSizeVariable?(0,s.Y)(t.renderer,n):"predominance"===(0,s.g)()&&!0===e.includeSizeVariable&&(0,s.Z)(t.renderer,n))}}return Promise.resolve(t)}),(e=>Promise.reject(e)))}function o(e){var t;const{layer:i,useFeatureReduction:n,mapView:o,modules:l}=s.s,d=i;e=e||{};const c=(0,s.j)(d),h=(0,s.a)(c,"size"),u=(0,s.t)(c,"size"),p=(0,s.p)(c);let m,g,b=e.fieldInfos?e.fieldInfos:c.uniqueValueGroups[0].classes.map((e=>({field:e.values[0].value,simpleFieldType:s.z.NUMBER}))),f=!0;if(e.fieldInfos&&(c.uniqueValueGroups[0].classes.forEach(((t,i)=>{t.values[0].value!==e.fieldInfos[i].field&&(f=!1)})),f&&(delete e.fieldInfos,(0,s.S)(e)))){const e=c.clone();return Promise.resolve({renderer:e})}f&&(m=c.uniqueValueInfos.map((e=>e.value)));const y=(0,s.j)(d);g=y.uniqueValueInfos&&y.uniqueValueInfos.length?y.uniqueValueInfos[0].symbol:null;const v=c.defaultSymbol,S=c.defaultLabel,x=c.backgroundFillSymbol;let V=!1;h&&(V=h.minSize.stops?h.minSize.stops[0].size>h.maxSize.stops[0].size:h.minSize>h.maxSize);const w=b[0];return b[0]=b[1],b[1]=w,l.PredominanceCreator.createRenderer({layer:d,view:o,fields:r(b),predominanceScheme:e.predominanceScheme||(0,s.X)(),includeOpacityVariable:(0,a.i)(e.includeOpacityVariable)?e.includeOpacityVariable:!!p.opacityVisVar,includeSizeVariable:(0,a.i)(e.includeSizeVariable)?e.includeSizeVariable:!!h,outlineOptimizationEnabled:(0,a.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!p.sizeOutlineVisVar,sizeOptimizationEnabled:(0,a.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!p.sizeAutoVisVar,legendOptions:void 0,defaultSymbolEnabled:(0,a.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!v,forBinning:"binning"===(null===(t=d.featureReduction)||void 0===t?void 0:t.type)&&n}).then((t=>{if(!e.fieldInfos&&h){const e=(0,s.a)(t.renderer,"size");if(e.minDataValue=h.minDataValue,e.maxDataValue=h.maxDataValue,u){const e=(0,s.t)(t.renderer,"size");e.minSliderValue=u.minSliderValue,e.maxSliderValue=u.maxSliderValue}}if(!(0,a.i)(e.includeOpacityVariable)&&f&&p.opacityVisVar&&p.authOpacityVisVar&&(t.renderer.visualVariables=(0,s.q)(t.renderer,"opacity"),t.renderer.authoringInfo.visualVariables=(0,s.r)(t.renderer,"opacity"),t.renderer.visualVariables.push(p.opacityVisVar),t.renderer.authoringInfo.visualVariables=t.renderer.authoringInfo.visualVariables||[],t.renderer.authoringInfo.visualVariables.push(p.authOpacityVisVar)),(0,s.o)(p,t.renderer,{notOpacity:!0}),m&&t.renderer.uniqueValueInfos.sort(((e,t)=>{const i=m.indexOf(e.value),s=m.indexOf(t.value);return i>-1&&s>-1&&i<s?-1:i>-1&&s>-1&&i>s?1:i>-1?-1:s>-1?1:0})),f&&t.renderer.uniqueValueInfos.forEach(((e,t)=>{e.label=c.uniqueValueInfos[t].label})),g&&t.renderer.uniqueValueInfos&&t.renderer.uniqueValueInfos.length){const e=t.renderer.uniqueValueInfos.slice();e.map(((e,t)=>{let i;f?i=c.uniqueValueInfos[t].symbol:(i=g.clone(),(0,s.v)(i,(0,s.w)(e.symbol))),e.symbol=i})),t.renderer.uniqueValueInfos=e}if(v&&(t.renderer.defaultSymbol=v,t.renderer.defaultLabel=S),x&&(t.renderer.backgroundFillSymbol=x),V){const e=(0,s.a)(t.renderer,"size"),i=e.minSize;e.minSize=e.maxSize,e.maxSize=i}return Promise.resolve(t)}),(e=>Promise.reject(e)))}function l(e){var t;const{layer:i,useFeatureReduction:a,mapView:n,modules:o}=s.s,l=i;return e=e||{},o.predominantCategories({layer:l,view:n,fields:e.fieldInfos.map((e=>e.field)),forBinning:"binning"===(null===(t=l.featureReduction)||void 0===t?void 0:t.type)&&a})}function r(e){return e.map((e=>({name:e.field,label:d(e.field)})))}function d(e){const t=s.s.fields.filter((t=>t.layerField.name===e));return t.length?t[0].label:""}}}]);