"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-124dc2"],{10724:(e,t,n)=>{function r(e){void 0!==e&&(e.open=!1,e.remove())}function o(e,t){!1===e.body.contains(t)&&(e.body.appendChild(t),t.open=!0)}function s(e,t){const{helpUrl:n,helpId:s,heading:a,referenceElement:i,portal:l,helpSrcdoc:c,helpFileName:u,learnMoreUrl:d,offsetDistance:f,offsetSkidding:p}=t;return void 0!==e&&(r(e),e=void 0),e=function(e){const{helpUrl:t,helpId:n,heading:r,referenceElement:o,portal:s,helpSrcdoc:a,learnMoreUrl:i,placement:l,offsetDistance:c,offsetSkidding:u}=e,d=document.createElement("rfx-help-popover");return d.helpUrl=t,d.helpId=n,d.heading=r,d.referenceElement=o,d.placement=l??"leading-start",d.portal=s,d.helpSrcdoc=a,d.learnMoreUrl=i,void 0!==c&&(d.offsetDistance=c),void 0!==u&&(d.offsetSkidding=u),d}({helpUrl:n,helpId:s,heading:a,referenceElement:i,portal:l,helpSrcdoc:c,helpFileName:u,learnMoreUrl:d,offsetDistance:f,offsetSkidding:p}),o(document,e),e}function a(e,t){const{referenceElement:n,label:s,direction:a,offsetDistance:i,offsetSkidding:l,showPropertiesAction:c,showRenameAction:u,handleNodeDuplicate:d,handleNodeRename:f,handleNodeDelete:p,handleNodeEditProperties:m}=t;void 0!==e&&(r(e),e=void 0),e=document.createElement("calcite-popover");const h={overlayPositioning:"absolute",autoClose:!0,dir:a,focusTrapDisabled:!0,triggerDisabled:!0,pointerDisabled:!0,placement:"bottom",closable:!1,open:!0,referenceElement:n,label:s,offsetDistance:i,offsetSkidding:l,style:"z-index: 650;"};Object.assign(e,h);const E=document.createElement("rfx-node-interaction-toolbar"),g={showPropertiesAction:c,showRenameAction:u,handleNodeDuplicate:d,handleNodeRename:f,handleNodeDelete:p,handleNodeEditProperties:m};return Object.assign(E,g),e.append(E),o(document,e),e}n.d(t,{c:()=>a,r:()=>r,s:()=>s})},43327:(e,t,n)=>{n.d(t,{D:()=>m,J:()=>g,a:()=>b,b:()=>R,c:()=>T,d:()=>U,e:()=>S,f:()=>I,g:()=>O,h:()=>E,i:()=>h,j:()=>N,k:()=>v,l:()=>p,m:()=>D,n:()=>F,o:()=>w,p:()=>k,q:()=>y,s:()=>f});var r=n(14947),o=n(34319),s=n(22760),a=n(92123),i=n(95166);n(46574),n(46717),n(55139),n(57098),n(74656),n(91123),n(78979),n(46869),n(83345),n(99248),n(16888),n(95323),n(43278),n(86944);const l=e=>!("isConnected"in e)||e.isConnected,c=((e,t)=>{let n;return(...e)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(l))})(...e)}),2e3)}})(),u=e=>"function"==typeof e?e():e,d=((e,t)=>{const n=((e,t=((e,t)=>e!==t))=>{const n=u(e);let r=new Map(Object.entries(null!=n?n:{}));const o={dispose:[],get:[],set:[],reset:[]},s=()=>{var t;r=new Map(Object.entries(null!==(t=u(e))&&void 0!==t?t:{})),o.reset.forEach((e=>e()))},a=e=>(o.get.forEach((t=>t(e))),r.get(e)),i=(e,n)=>{const s=r.get(e);t(n,s,e)&&(r.set(e,n),o.set.forEach((t=>t(e,n,s))))},l="undefined"==typeof Proxy?{}:new Proxy(n,{get:(e,t)=>a(t),ownKeys:e=>Array.from(r.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>r.has(t),set:(e,t,n)=>(i(t,n),!0)}),c=(e,t)=>(o[e].push(t),()=>{((e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)})(o[e],t)});return{state:l,get:a,set:i,on:c,onChange:(t,n)=>{const r=c("set",((e,r)=>{e===t&&n(r)})),o=c("reset",(()=>n(u(e)[t])));return()=>{r(),o()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(c("set",t.set)),t.get&&e.push(c("get",t.get)),t.reset&&e.push(c("reset",t.reset)),t.dispose&&e.push(c("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=r.get(e);o.set.forEach((n=>n(e,t,t)))}}})({portal:void 0,portalItem:void 0,rftJSON:void 0,rftProperties:void 0,hasUnsavedChanges:!1,canUpdateItem:!1},void 0);return n.use((()=>{if("function"!=typeof r.d)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const n=(0,r.d)();n&&((e,t,n)=>{const r=e.get(t);r?r.includes(n)||r.push(n):e.set(t,[n])})(e,t,n)},set:t=>{const n=e.get(t);n&&e.set(t,n.filter(r.f)),c(e)},reset:()=>{e.forEach((e=>e.forEach(r.f))),c(e)}}})()),n})(),f=d.state;d.onChange("portalItem",(async e=>{void 0!==e&&(await e.load(),"admin"!==e.itemControl&&"update"!==e.itemControl?f.canUpdateItem=!1:f.canUpdateItem=!0)}));const p=[38,39,40,41,42,43,47,54,55,58,66,67,68,69,70,71,72,73,74,75,93,94],m="distanceLegacy",h=({category:e})=>!![m].includes(e),E={local:"LocalFunction",gpAdapter:"GPAdapterFunction",pythonAdapter:"PythonAdapterFunction"},g={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},A={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},v={name:"Raster",isDataset:!0,isPublic:!1,type:g.RASTER_FUNCTION_VARIABLE};function y(e){return null==e?"":e.name||e.datasetName&&e.datasetName.name}function R(e){return e.hasOwnProperty("EsriClassifierDefinitionFile")}function T(e){return e.type&&e.type.toLowerCase().indexOf(g.RECORD_SET.toLowerCase())>=0}function N(e,t){const n=t&&t.value;if(null==n)return;let r;return e.some((e=>{if(e.values&&e.values.indexOf(n)>-1)return r=e.inputArgs,!0})),r}function _(e,t){let n;if(!(0,a.m)(e)&&(n=e.rasterFunctionArguments,1===Object.keys(n).length&&!e.hasArgumentsObject))return!0;const r=t.arguments,o=r&&r.type;return!(!o||o!==g.RASTER_FUNCTION_TEMPLATE&&o!==g.RASTER_FUNCTION_VARIABLE)||void 0}function C(e,t,n){if((0,a.m)(t)||(0,a.m)(n))return;const r=e?.rasterFunctionArguments;return(0,a.m)(r)?void 0:(0,i.g)(t,r)}function I(e,t,n,r){if((0,a.m)(t)&&(0,a.m)(r))return!1;const o=C(e,r=r||t.key,n);if(!(0,a.m)(o)&&o.dataType===s.d.rasterArray)return!0;if(!t)return;const i=t.value;if(i&&i.elements)return i.elements.some((e=>e&&(e.isDataset||e.type===g.RASTER_FUNCTION_TEMPLATE||e.value&&e.value.type===g.RASTER_FUNCTION_TEMPLATE)));i&&Array.isArray(i)&&i.some((e=>e&&e.name&&e.url))}function b(e,t,n){t.value||(t.value={elements:[],type:g.ARGUMENT_ARRAY});let r=t.value&&t.value.elements?t.value.elements:t.value;return r&&Array.isArray(r)?void 0!==n?r[n]=e:(r.push(e),n=r.length-1):(r=[e],n=0),t.value&&t.value.elements?t.value.elements=r:t.value=r,n}function O(e,t,n){let r,o;if("string"==typeof t?r=t:(r=t.key,o=t.index),(0,a.m)(r)||(0,a.m)(n))return;const s=n.arguments,i=s&&s.type,l=r&&r.toLowerCase();let c;if(_(e,n))return i!==g.RASTER_FUNCTION_TEMPLATE&&!s.isDataset||"raster"!==l?i===g.RASTER_FUNCTION_VARIABLE&&"rasters"===l&&(c=void 0!==o?function(e,t){if((0,a.m)(t)||void 0===e)return;const n=t.value&&t.value.elements?t.value.elements:t.value;return n&&n.length?n[e]:void 0}(o,s):s):c=s,c;if(c=s[r],void 0!==o&&I(e,c,n,r)){const e=c.value&&c.value.elements?c.value.elements:c.value;c=e&&e.length?e[o]:void 0}return c}function S(e,t){if((0,a.m)(e)||(0,a.m)(t))return;const n=[],r=t.arguments,s=r&&r.type;if(_(e,t)){let e,t=o.clone(r);return e=s===g.RASTER_FUNCTION_TEMPLATE||t.isDataset?"Raster":"Rasters",(0,a.m)(t)?t={key:e}:t.key=e,n.push(t),n}return Object.keys(r).forEach((e=>{if(e===A.MATCH_VARIABLE||e===A.UNION_DIMENSION)return;let t=o.clone(r[e]);(0,a.f)(t)&&((0,a.m)(t)?t={key:e}:t.key=e,n.push(t))})),n}function U(e,t,n,r,o){if((0,a.m)(e)||(0,a.m)(t)||(0,a.m)(n)||(0,a.m)(r))return;const s=t.arguments,i=I(e,s,t,r)&&void 0!==o;if(_(e,t))i?o=b(n,s,o):t.arguments=n;else{const e=s[r];i?o=b(n,e,o):s[r]=n}return n.value&&"Scalar"===n.value.type&&(0,a.m)(n.name)&&(n.name=i?t.function.type.toLowerCase()===E.local.toLowerCase()&&o>0?`InRaster${o+1}`:`Raster${o>0?o+1:""}`:C(e,r,t).displayName||r),{key:r,index:o}}function D(e){return null!==e&&"object"==typeof e}function k(e,t){Array.isArray(e)?e.forEach(((n,r)=>{t(e,r)})):D(e)&&Object.keys(e).forEach((n=>{t(e,n)}))}function F(e){return"Raster"===e.dataType||"Tool"===e.dataType}function w(e){return"Scalar"===e.dataType}}}]);