/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0bcff5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0bcff5"],{73838:(e,t,n)=>{n.d(t,{a:()=>i,c:()=>o,g:()=>r});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}},14368:(e,t,n)=>{n.r(t),n.d(t,{arcgis_raster_multidimensional_variable_info:()=>s});var i=n(35110),r=n(21104),o=n(6859),a=n(86587);n(73838),n(89393),n(2137),n(63280);const s=class{constructor(e){(0,i.r)(this,e),this.arcgisRasterMultidimensionalVariableInfoDismiss=(0,i.c)(this,"arcgisRasterMultidimensionalVariableInfoDismiss",7),this.variableInfo=void 0,this.popoverProps=void 0,this.showStatistics=!1,this.showDimensionSummary=!1,this.useTable=!0,this.keepActiveDimension=!0,this.strings=void 0,this.activeDimensionName=null,this.isOpen=!1}watchVariableInfo(e,t){if(this.keepActiveDimension&&this.dimensionEL&&t){const e=this.dimensionEL.querySelector("calcite-accordion-item[active]");if(e){const n=e.getAttribute("dimension-index"),i=t.dimensions[n];this.activeDimensionName=i.name}else this.activeDimensionName=null}else this.activeDimensionName=null}async componentWillLoad(){[this.intl]=await(0,r.l)(["esri/intl"]),this.messages=await this.intl.fetchMessageBundle("esri/core/t9n/Units")}componentDidLoad(){this.isOpen=!0}async setFocus(e){var t,n;"dismiss-button"!==e?null===(n=this.hostElement)||void 0===n||n.focus():null===(t=this.panelElement)||void 0===t||t.setFocus()}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}render(){const e=this.showStatistics&&this.renderStatistics(),t=this.renderDimensions(),n=(0,i.h)("calcite-accordion",{class:"info-section-container",selectionMode:"single",ref:e=>this.dimensionEL=e},e,t),{popoverProps:r,variableInfo:o}=this,s=`${r.refElement.getBoundingClientRect().width}px`,l=o.unit?`${o.name} (${o.unit})`:`${o.name}`,c=this.showDimensionSummary?o.dimensions.map((e=>`${e.name}: ${e.values.length}`)).join(", "):null,d=this.renderGeneralInfo(),u=(0,a.g)(this.hostElement);return(0,i.h)(i.H,{class:"js-app-flyout"},(0,i.h)("calcite-popover",{dir:u,placement:r.placement||"leading-start",open:this.isOpen,pointerDisabled:!0,referenceElement:r.refElement,offsetDistance:r.offsetDistance||0,offsetSkidding:r.offsetSkidding||0,triggerDisabled:!0,label:l,class:"popover",style:{width:s},ref:e=>this.popoverNode=e},(0,i.h)("calcite-panel",{ref:e=>this.panelElement=e,heading:l,description:c,class:{panel:!0,[a.C.rtl]:"rtl"===u},closable:!0,onCalcitePanelClose:()=>this.arcgisRasterMultidimensionalVariableInfoDismiss.emit()},d,n)))}renderGeneralInfo(){const e=this.strings.multidimensionalInfo,{unit:t,description:n}=this.variableInfo,i=!!this.variableInfo.colormap;return this.renderInfoSection([{name:e.description,description:n||e.none},{name:e.unit,description:t||e.none},{name:e.colormap,description:i?e.present:e.none}],null,"info-general")}renderInfoSection(e,t,n){return this.useTable?(0,i.h)("div",{class:n},(0,i.h)("table",{class:"table table-bordered"},t&&(0,i.h)("caption",null,t),e.map((({name:e,description:t})=>(0,i.h)("tr",null,(0,i.h)("td",null,e),(0,i.h)("td",null,t)))))):(0,i.h)("div",{class:`info-content ${null!=n?n:""}`},e.map((({name:e,description:t})=>(0,i.h)("calcite-label",{scale:"s"},e,(0,i.h)("div",{class:"info-block"},(0,i.h)("div",{class:"info-text"},t))))))}renderStatistics(){const{name:e,statistics:t}=this.variableInfo;if(!(null==t?void 0:t.length))return null;const n=this.strings.multidimensionalInfo,r=this._formatStats(t.map((({min:e})=>e))),o=this._formatStats(t.map((({max:e})=>e))),a=this._formatStats(t.map((({avg:e})=>e))),s=this._formatStats(t.map((({stddev:e})=>e)));return(0,i.h)("calcite-accordion-item",{"icon-position":"start",heading:n.statistics,key:`${e}-stats}`,class:"info-section"},this.renderInfoSection([{name:n.minimum,description:r},{name:n.maximum,description:o},{name:n.mean,description:a},{name:n.stddev,description:s}]))}renderDimensions(){const{multidimensionalInfo:e}=this.strings,{name:t,dimensions:n}=this.variableInfo;return n.map(((n,r)=>{const{name:a,values:s,interval:l,intervalUnit:c,hasRegularIntervals:d,extent:u}=n;let m="StdTime"===a?e.stdTimeDimension:"StdZ"===a?e.stdZDimension:e.generalDimension.replace("${dimensionName}",a);m+=` (${s.length})`;const f=this._formatUnit(c),h=l?`${l} (${d?e.regular:e.irregular})`:"",v=`${(0,o.f)(u[0],n,{intl:this.intl})} - ${(0,o.f)(u[1],n,{intl:this.intl})}`;return(0,i.h)("calcite-accordion-item",{"icon-position":"start",expanded:a===this.activeDimensionName,heading:m,"dimension-index":r,key:`${t}-${a}`,class:"info-section"},this.renderInfoSection([{name:e.interval,description:h},{name:e.intervalUnit,description:f},{name:e.extent,description:v}]))}))}_formatStats(e){return e.map((e=>this.intl.formatNumber(e))).join("; ")}_formatUnit(e){var t,n,i;if(e){const r=e.replace("esri","");e=r.toLowerCase(),e=null!==(i=null!==(t=this.strings.time[e])&&void 0!==t?t:null===(n=this.messages.units[e])||void 0===n?void 0:n.plural)&&void 0!==i?i:r}return null!=e?e:""}get hostElement(){return(0,i.d)(this)}static get watchers(){return{variableInfo:["watchVariableInfo"]}}};s.style=":host{display:flex;flex:1 1 auto}:host .accordion-item-content,:host .accordion-item-header{--calcite-accordion-item-border:transparent}.info-section-container{border:none;--calcite-color-border-2:transparent}.info-section{padding-bottom:0.5rem;overflow-y:auto;--calcite-accordion-item-border:transparent;background-color:white}.info-general{padding:10px 15px;background-color:white}.info-content{margin:10px 10px}.info-content .info-block{color:var(--calcite-color-text-3, gray);max-height:4rem;min-height:1rem;overflow:hidden}.info-content .info-block .info-text{width:100%;word-break:normal;text-overflow:ellipsis;font-size:var(--calcite-font-size--2)}.popover{z-index:100}.table{width:100%;background-color:#ffffff;border-collapse:collapse;border-spacing:0;border:1px solid var(--calcite-color-border-1);text-align:left;overflow:auto;font-size:var(--calcite-font-size--2);color:var(--calcite-color-text-1);line-height:1.5rem}.table caption{text-align:left;margin-top:5px}.table td{display:table-cell;vertical-align:inherit}.table td:first-child{width:30%}.table th,.table td{font-weight:300;padding:2px 5px;text-align:left}.table tr:nth-child(odd){background-color:#f8f8f8}.table.table-bordered tr{border-bottom:1px solid var(--calcite-color-border-1)}.table.table-bordered tr:last-child{border-bottom:none}.table.table-bordered tr td:first-child{border-right:1px solid var(--calcite-color-border-1)}.table.table-borderless{border:none}.arcgis--rtl .table.table-bordered tr td:first-child{border-left:1px solid var(--calcite-color-border-1);border-right:none}"},86587:(e,t,n)=>{n.d(t,{C:()=>s,a:()=>d,b:()=>u,f:()=>l,g:()=>a,l:()=>o});var i=n(21104),r=n(63280);const o=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function a(e){return function(e,t,n){const i=(0,r.c)(e,"[dir]");return i?i.getAttribute("dir"):"ltr"}(e)}const s={rtl:"arcgis--rtl"};async function l(e,t){const{api:n,type:r,places:o}=t||{};if(4===n){const[t]=await(0,i.l)(["esri/intl"]),n=t.convertNumberFormatToIntlOptions({places:o,style:r,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},n),{style:r}))}const[a]=await(0,i.l)(["dojo/number"]);return a.format(e,{type:r,places:o,pattern:null==t?void 0:t.pattern})}const c={};function d(e){const t=document.documentElement.lang;return c[t]||(c[t]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),c[t].format(e)}function u(e,t,n){const i=null!=e?e:"en";return 1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(i)?t.single.replace("${number}","1"):1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(i)?t.multiple.replace("${number}",`${n}`):t.unknown.replace("${number}",`${n}`)}},21104:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(73838),r=(0,i.c)((function(e,t){i.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",i="next";function r(e){if(e.toLowerCase()===i)return i;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function a(e){return!e||r(e)?function(e){void 0===e&&(e=n);var t=o(e),a=r(e);if(a!==i&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function s(e,t){var n=a(e),i=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(n);return i||function(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}(i=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(n),t),i}var l={};function c(e,t,n){var i;n&&(i=function(e,t){var n=function(i){t(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}(e,n));var r=function(){t(e),e.removeEventListener("load",r,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",r,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function m(e){void 0===e&&(e={});var n={};[l,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}));var i=n.version,r=n.url||o(i);return new t.Promise((function(e,t){var o=d();if(o){var a=o.getAttribute("src");a!==r?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):u()?e(o):c(o,e,t)}else if(u())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=n.css;l&&s(!0===l?i:l,n.insertCssBefore),c(o=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(r),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function f(e){return new t.Promise((function(t,n){var i=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),u())return f(e);var n=d(),i=n&&n.getAttribute("src");return!t.url&&i&&(t.url=i),m(t).then((function(){return f(e)}))},e.getScript=d,e.isLoaded=u,e.loadScript=m,e.setDefaultOptions=function(e){void 0===e&&(e={}),l=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const o=async(e,t)=>(await r.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},6859:(e,t,n)=>{n.d(t,{a:()=>u,b:()=>c,c:()=>d,f:()=>s,g:()=>l,i:()=>m,m:()=>r,u:()=>f});var i=n(89393);const r=10.9;function o(e,t){const n=new Date(e),{useFriendlyISOFormat:i,intl:r,format:o}=t;if(i&&r)return r.formatDate(n,Object.assign(Object.assign({},r.convertDateFormatToIntlOptions(null!=o?o:"short-date-long-time")),{timeZone:"UTC"}));let a=new Date(e).toISOString();return a=a.slice(0,a.indexOf("."))+"Z",a}function a(e,t,n="long"){const i=new Date(2022,9,10);return i.setMonth(e-1),t.formatDate(i,{month:n})}function s(e,t,n={}){var i,r,s,l;if(null==e)return"";const{intl:c,useRecurringTimeLabel:d}=n;if(d&&c&&!Array.isArray(e)){const n=null===(i=t.intervalUnit)||void 0===i?void 0:i.toLowerCase().trim(),r=function(e){return"StdTime"===e.name&&!!e.recurring}(t)&&("months"===n||"quarters"===n);if(r)return"months"===n?a(e,c):function(e,t){return`${a(3*(e-1)+1,t,"short")} - ${a(3*e,t,"short")}`}(e,c)}const u=null===(r=t.values)||void 0===r?void 0:r[t.values.length-1];if(n.useStartOrEndForRangedValue&&Array.isArray(e)&&2===e.length&&Array.isArray(u)){const t=e.join("-")===u.join("-");e=t?e[1]:e[0]}if(!m(t))return Array.isArray(e)?e.map((e=>{var t;return null!==(t=null==c?void 0:c.formatNumber(e))&&void 0!==t?t:String(e)})).join(" - "):null!==(s=null==c?void 0:c.formatNumber(e))&&void 0!==s?s:String(e);if(n.useFriendlyISOFormat&&!n.format){let e=null===(l=t.intervalUnit)||void 0===l?void 0:l.toLowerCase().trim(),{interval:i,extent:r}=t;if("months"===e?i>11&&(e="year"):"days"===e?i>364?e="year":i>27&&(e="months"):"hours"===e&&(e="days"),!["years","months","days"].includes(e)&&(null==r?void 0:r.length)){const n=(r[1]-r[0])/t.values.length,i=864e5;n>=365*i?e="years":n>=28*i&&(e="months")}const o="years"===e?"year":"months"===e?"short-month-year":"short-date";n=Object.assign({format:o},n)}return Array.isArray(e)?e.map((e=>o(e,n))).join(" - "):o(e,n)}function l(e,t){var n;const r=null===(n=null==t?void 0:t.dimensions)||void 0===n?void 0:n.find((({name:t})=>t===e.name));if(!(null==r?void 0:r.extent))return e;const o=[...r.extent],a=e.values.filter((e=>Array.isArray(e)?(0,i.i)(o[1])&&o[0]!==o[1]?e[0]>=o[0]&&e[0]<=o[1]&&e[1]>=o[0]&&e[1]<=o[1]:e[0]===o[0]:e>=o[0]&&e<=o[1]));if(0===a.length){const t=e.values[e.values.length-1];Array.isArray(t)&&t[1]===o[0]&&a.push(t)}return Object.assign(Object.assign({},e),{extent:o,values:a})}function c(e){var t;const{values:n,extent:i,name:r}=e;let o=null!==(t=null==n?void 0:n[0])&&void 0!==t?t:i[0];return"stdz"===r.toLowerCase()&&!e.hasRanges&&Math.abs(i[1])<=Math.abs(i[0])&&(o=(null==n?void 0:n.length)?n[n.length-1]:i[1]),o}function d(e){var t,n;return"imagery-tile"===e.type?e.multidimensionalDefinition:null===(n=null!==(t=e.mosaicRule)&&void 0!==t?t:e._defaultServiceMosaicRule)||void 0===n?void 0:n.multidimensionalDefinition}async function u(e,t){var n,i;if("imagery-tile"===e.type)return e.rasterInfo.multidimensionalInfo;const{rasterFunction:o,version:a}=e;return t||a<=r||!o||"none"===(null===(n=o.functionName)||void 0===n?void 0:n.toLowerCase())?e.serviceRasterInfo.multidimensionalInfo:(null!==(i=await e.generateRasterInfo(e.rasterFunction))&&void 0!==i?i:e.serviceRasterInfo).multidimensionalInfo}function m(e,t=!1){return"StdTime"===e.name&&(t||!e.recurring)}function f(e,t,n){t=l(t,n);const i=s(e.values[0],t);if(!t.values.some((e=>i===s(e,t)))){const n=c(t);e.values=[n]}}}}]);