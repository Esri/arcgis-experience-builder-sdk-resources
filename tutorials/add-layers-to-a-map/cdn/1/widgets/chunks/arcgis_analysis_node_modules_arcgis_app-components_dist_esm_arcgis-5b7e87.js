/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-5b7e87.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-5b7e87"],{73838:(e,t,a)=>{a.d(t,{a:()=>r,c:()=>n,g:()=>i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t,a){return e(a={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},a.exports),a.exports}},47598:(e,t,a)=>{a.r(t),a.d(t,{arcgis_new_item_pages_data_store_browser:()=>c});var r=a(35110),i=a(91306),n=a(77429),o=a(82669),s=a(84873);a(23505),a(70392),a(46710),a(67148),a(66913),a(21104),a(73838),a(57983),a(52299),a(73208),a(35105),a(16082),a(56086),a(79233),a(64307),a(76743),a(63280),a(9657),a(12856),a(91659),a(17752),a(53040),a(51287),a(20982),a(37526),a(7803);const c=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.dataStoreContentType="tile-layer",this.selectedDataset=null,this.datastoreContents=void 0,this.originalDatasets=void 0,this.sortedDatasets=void 0,this.displayDatasets=void 0,this.pathHistories=[],this.cachedData={},this.error=null,this.loading=void 0,this.sortCriteria={direction:null,criteria:null},this.userTileLayerTypeSelection=void 0,this.itemsPerPage=void 0,this.totalItems=void 0,this.paginationData=void 0}async componentWillLoad(){this.dataStoreContentType="tileLayer"===o.a.newItemMode?"tile-layer":"scene-layer",this.dataStoreName=o.a.dataStoreName,this.i18n=s.u.i18n.dataStore,this.pathHistories=["/"],this.datastoreContents=o.a.datastoreContents,this.originalDatasets=[...o.a.datastoreContents.children],this.sortedDatasets=[...this.originalDatasets],this.selectedDataset=o.a.dataset,this.cachedData=o.a.dataStoreCachedData,this.selectedDataset=o.a.dataset,this.serverId=o.a.serverId}toggleSort(e){const{sortCriteria:t}=this,a=null==e?null:t.criteria!==e?"desc":"desc"===t.direction?"asc":null;if(null===e||null===a)return this.sortCriteria={criteria:null,direction:null},void(this.sortedDatasets=this.originalDatasets);this.sortCriteria={criteria:e,direction:a};const r="asc"===a?1:-1;this.sortedDatasets=[...this.sortedDatasets].sort((function(t,a){const i=t[e].toLowerCase(),n=a[e].toLowerCase();return i.localeCompare(n)*r}))}async exploreFolder(e,t){var a;if(this.loading=!0,null==this.cachedData[e]){const r=await(0,n.g)(o.a.dataStoreId,e,t,this.serverId);if("failToListDataStoreContents"===(null===(a=r.error)||void 0===a?void 0:a.code))return this.loading=!1,void(this.error="failToListDataStoreContents");this.cachedData=Object.assign(Object.assign({},this.cachedData),{[e]:r.result})}const r=this.cachedData[e];this.pathHistories="/"===e?["/"]:e.split("/"),this.datastoreContents=this.filterContentsByUserSelection(r),this.originalDatasets=[...this.datastoreContents.children],this.loading=!1}filterContentsByUserSelection(e){const t=this.dataStoreContentType,a=o.a.tileLayerPublishType;return e.children?Object.assign(Object.assign({},e),{children:e.children.filter((e=>{const r=e.type;let i="folder"===r;return"tile-layer"===t?i||(i="tiles"===a&&"cacheDataset"===r||"vectorTiles"===a&&"vectorCacheDataset"===r):"scene-layer"===t&&(i||(i="extractedScenePackage"===r||"i3sRestCache"===r)),i}))}):Object.assign(Object.assign({},e),{children:[]})}renderErrorItem(){const{i18n:e,error:t,loading:a}=this;let i="",n="";if(t){const a=e.error;"failToListDataStoreContents"===t?(i=a.listing.heading,n=a.listing.description):(i=a.noDatasetErrorHeading,n=a.noDatasetErrorDescription)}return(0,r.h)("arcgis-new-item-alert",{heading:i,description:n,active:null!==t&&!a,onAlertDismiss:()=>{this.error=null}})}renderHeaderItem(e){const{i18n:t,sortCriteria:a}=this,{criteria:i,direction:n}=a;return(0,r.h)("div",{onClick:()=>this.toggleSort(e),class:{"data-set__header":!0,"data-set__header--selected":i===e&&null!=n}},"name"===e&&(0,r.h)("calcite-icon",{scale:"s",icon:"circle",class:"hidden-icon header-icon"}),"name"===e?t.fileName:t.fileType,(0,r.h)("calcite-icon",{class:{"blue-calcite-icon sort-icon":!0,"hidden-icon":i!==e||!n},scale:"s",icon:"asc"===n?"caret-up":"caret-down"}))}onDatastoreContentsChange(){this.toggleSort(null)}onSortedDataSetsChange(){this.calculatePagination(1)}calculatePagination(e){const{sortedDatasets:t}=this,a=t.length;this.totalItems=a;const r=Math.min(a,5),i=e-1,n=Math.min(i+r,a)-1;this.itemsPerPage=r,this.displayDatasets=t.slice(i,n+1),this.paginationData={startIndex:i,endIndex:n}}handleNext(){const e=this.selectedDataset;if(!e)return void(this.error="noDataSetSelected");let t;switch(o.a.dataset=e,o.a.dataStoreCachedId=o.a.dataStoreId,o.a.serverId=this.serverId,o.a.datastoreContents=this.datastoreContents,o.a.dataStoreCachedData=this.cachedData,i.i.title=e.name.split(".")[0],e.type){case"vectorCacheDataset":t="Vector Tile Service";break;case"i3sRestCache":case"extractedScenePackage":t="Scene Service";break;case"cacheDataset":t="Map Service"}o.a.type=t,this.newItemUpdatePage.emit("serverList")}render(){const{i18n:e,loading:t,displayDatasets:a,originalDatasets:i,pathHistories:n,paginationData:o,dataStoreName:s}=this;return(0,r.h)(r.H,null,(0,r.h)("div",{class:"inner-container"},t?(0,r.h)("calcite-loader",{label:"datastore-loader",text:e.processing}):(0,r.h)(r.F,null,(0,r.h)("div",{class:"content-wrapper"},(0,r.h)("div",{class:"header-text"},e.header),(0,r.h)("div",{class:"breadcrumb-container"},n.map(((e,t)=>{const a=t===n.length-1,i=0===t,o=i?"/":n.slice(0,t+1).join("/");return(0,r.h)("div",{class:"breadcrumb__item",key:`${e}_${t}`},(0,r.h)("span",{onClick:a?void 0:()=>this.exploreFolder(o,"folder")},(0,r.h)("span",{class:{"breadcrumb--inactive":!a}},i?s:e)),!a&&(0,r.h)("calcite-icon",{icon:"chevron-right",scale:"s"}))}))),(0,r.h)("div",{class:"pagination-text"},a.length>0&&e.paginationRange.replace("${start}",`${o.startIndex+1}`).replace("${end}",`${o.endIndex+1}`).replace("${total}",`${i.length}`)),(0,r.h)("div",{class:"data-set-container"},(0,r.h)("div",{class:"data-set__item"},this.renderHeaderItem("name"),this.renderHeaderItem("type")),(0,r.h)("calcite-radio-button-group",{name:"file-group",onCalciteRadioButtonGroupChange:e=>{this.selectedDataset=e.target.selectedItem.value},layout:"vertical"},(0,r.h)("ul",{class:"item-list"},a.length>0?a.map((e=>{var t;const{name:a,path:i,type:n}=e,o="folder"===n;return(0,r.h)("li",{key:`dataSet--item__${i}`,class:"data-set__item",onClick:()=>{o&&this.exploreFolder(e.path,"folder")}},(0,r.h)("calcite-label",{layout:"inline",class:"description"},o?(0,r.h)("calcite-icon",{icon:"folder",scale:"s",class:"blue-calcite-icon"}):(0,r.h)("calcite-radio-button",{value:e,checked:i===(null===(t=this.selectedDataset)||void 0===t?void 0:t.path)}),a),(0,r.h)("p",{class:"item--title"},n))})):(0,r.h)("li",{class:"data-set__item"},(0,r.h)("calcite-label",{layout:"inline"},(0,r.h)("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),e.emptyFolder)))))),this.itemsPerPage>0&&(0,r.h)("div",{class:"pagination-wrapper"},(0,r.h)("calcite-pagination",{startItem:o.startIndex+1,totalItems:this.totalItems,pageSize:this.itemsPerPage,onCalcitePaginationChange:e=>{const t=e.target;this.calculatePagination(t.startItem)}})))),this.renderErrorItem())}get el(){return(0,r.d)(this)}static get watchers(){return{originalDatasets:["onDatastoreContentsChange"],sortedDatasets:["onSortedDataSetsChange"]}}};c.style=":host{background-color:var(--calcite-color-foreground-2);padding:0px}.inner-container{display:flex;flex-direction:column;padding:1.5rem;height:calc(100% - 65px)}.content-wrapper{flex-grow:1}.breadcrumb-container{margin-top:1rem;margin-bottom:1rem;font-weight:500;display:flex}.breadcrumb__item{display:flex;align-items:center;font-size:0.875rem;color:var(--calcite-color-text-2);margin-right:0.5rem}.breadcrumb--inactive{cursor:pointer;margin-right:0.5rem;color:#00619b}.pagination-text{font-size:0.75rem;font-weight:500;margin-top:1rem;margin-bottom:1rem;color:#757575}.data-set-container{background-color:var(--calcite-color-foreground-1)}.data-set__header{border-width:0px;border-bottom-width:2px;border-style:solid;font-size:0.875rem;padding:0px;border-color:transparent;width:-moz-fit-content;width:fit-content}.data-set__header:hover{cursor:pointer}.data-set__header--selected{border-color:#0079c1}.header-icon{margin-right:0.5rem}.item-list{margin-left:0px;margin-inline-start:0px;padding-inline-start:0px}.data-set__item{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem}.data-set__item:hover{cursor:pointer}.data-set__item>.item--title{font-size:0.875rem;margin-top:0px;margin-bottom:0px}.blue-calcite-icon{--calcite-ui-icon-color:var(--calcite-color-brand)}.sort-icon{margin-left:6rem}.hidden-icon{visibility:hidden}.pagination-wrapper{display:flex;justify-content:center;margin-top:auto;padding-left:0.5rem;padding-right:0.5rem}.header-text{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}"},21104:(e,t,a)=>{a.d(t,{l:()=>n});var r=a(73838),i=(0,r.c)((function(e,t){r.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},a="4.24",r="next";function i(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function n(e){return void 0===e&&(e=a),"https://js.arcgis.com/".concat(e,"/")}function o(e){return!e||i(e)?function(e){void 0===e&&(e=a);var t=n(e),o=i(e);if(o!==r&&3===o.major){var s=o.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function s(e,t){var a=o(e),r=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(a);return r||function(e,t){if(t){var a=document.querySelector(t);a.parentNode.insertBefore(e,a)}else document.head.appendChild(e)}(r=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(a),t),r}var c={};function l(e,t,a){var r;a&&(r=function(e,t){var a=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",a,!1)};return e.addEventListener("error",a,!1),a}(e,a));var i=function(){t(e),e.removeEventListener("load",i,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",i,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function h(){var e=window.require;return e&&e.on}function u(e){void 0===e&&(e={});var a={};[c,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}));var r=a.version,i=a.url||n(r);return new t.Promise((function(e,t){var n=d();if(n){var o=n.getAttribute("src");o!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):h()?e(n):l(n,e,t)}else if(h())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=a.css;c&&s(!0===c?r:c,a.insertCssBefore),l(n=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(i),(function(){n.setAttribute("data-esri-loader","loaded"),e(n)}),t),document.body.appendChild(n)}}))}function p(e){return new t.Promise((function(t,a){var r=window.require.on("error",a);window.require(e,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];r.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),h())return p(e);var a=d(),r=a&&a.getAttribute("src");return!t.url&&r&&(t.url=r),u(t).then((function(){return p(e)}))},e.getScript=d,e.isLoaded=h,e.loadScript=u,e.setDefaultOptions=function(e){void 0===e&&(e={}),c=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const n=async(e,t)=>(await i.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);