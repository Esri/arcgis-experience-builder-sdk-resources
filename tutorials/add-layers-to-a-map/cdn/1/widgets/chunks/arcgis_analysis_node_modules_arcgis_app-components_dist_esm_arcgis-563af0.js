/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-563af0.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-563af0"],{89006:(e,t,i)=>{i.r(t),i.d(t,{arcgis_field_pick_list:()=>d,arcgis_smart_mapping_action:()=>c,arcgis_smart_mapping_attribute_input:()=>h});var s=i(35110),l=i(86587),n=i(2137),r=i(1984),o=i(59503),a=(i(21104),i(90527));i(63280),i(23505),i(89393),i(73838);const d=class{constructor(e){(0,s.r)(this,e),this.arcgisFieldPickListDismissed=(0,s.c)(this,"arcgisFieldPickListDismissed",7),this.arcgisFieldPickListChange=(0,s.c)(this,"arcgisFieldPickListChange",7),this.arcgisFieldPickListSortByChange=(0,s.c)(this,"arcgisFieldPickListSortByChange",7),this.calciteValueList=e=>(0,s.h)("calcite-pick-list-item",{key:e.name,label:e.alias||e.name,description:(()=>this.showFieldName&&!0!==e.hideFieldName?`{${e.name}}`:this.showDescription&&!0!==e.hideDescription&&e.description?e.description:null)(),value:e.name,selected:!this.multiple&&e.name===this.selectedFields[0]||this.multiple&&this.selectedFields.indexOf(e.name)>-1,metadata:{label:e.alias,fieldName:e.name}},this.showFieldInfoCheck(e)&&(0,s.h)("calcite-action",{slot:"actions-end",text:this.strings.info,title:this.strings.info,scale:"s",icon:"information",onClick:t=>{var i;t.stopPropagation();const s=t.target,l=document.createElement("calcite-flow-item");l.heading=null!==(i=e.alias)&&void 0!==i?i:e.name,l.description=e.name;const n=document.createElement("arcgis-field-info");n.lang=this.currentLanguageIntl,n.fieldName=e.name,n.layer=this.layer,n.view=this.mapView,n.classList.add("content"),l.appendChild(n),l.addEventListener("calciteFlowItemBack",(()=>setTimeout((()=>requestAnimationFrame((()=>s.setFocus()))),200))),this.flowElement.appendChild(l),setTimeout((()=>requestAnimationFrame((()=>l.setFocus()))),200)}})),this.selectedFields=[],this.fields=void 0,this.popoverProps=void 0,this.layer=void 0,this.mapView=void 0,this.showFieldInfo=!1,this.showFieldName=!1,this.showDescription=!1,this.showSelectionAll=!1,this.showCancel=!0,this.showSort=!0,this.showFilterLength=10,this.multiple=!1,this.heading=void 0,this.okBtnText=void 0,this.filterPlaceholderText=void 0,this.sortBy=void 0,this.groupFieldsAndExpressions=!1,this.fieldsGroupHeading=void 0,this.expressionsGroupHeading=void 0,this.customExpressionCheck=void 0,this.lastSortyBy=n.L.default,this.filterFields=null}updateGroupedLists(){this.fieldsOnly=[...this.getSortedList()].filter((e=>!this.isExpression(e))),this.expressionsOnly=[...this.getSortedList()].filter((e=>this.isExpression(e)))}async componentWillLoad(){const e=await(0,r.g)(this.hostElement);this.strings=e[0],this.currentLanguage=e[1],this.currentLanguageIntl=e[2],!this.multiple&&this.selectedFields.length>1&&(this.selectedFields=[this.selectedFields[0]]),this.lastSortyBy=this.sortBy||this.lastSortyBy,this.updateGroupedLists()}componentDidLoad(){this.setUpObserver(),this.popoverNode.open=!0,setTimeout((()=>requestAnimationFrame((()=>this.panelElement.setFocus()))),200)}disconnectedCallback(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}calciteFilterChangeHandler(e){var t,i;e.stopPropagation();const s=null===(t=null==e?void 0:e.path)||void 0===t?void 0:t.find((e=>"CALCITE-FILTER"===e.nodeName));this.filterFields=null===(i=null==s?void 0:s.filteredItems)||void 0===i?void 0:i.map((e=>e.value))}async setFocus(){setTimeout((()=>requestAnimationFrame((()=>this.panelElement.setFocus()))),1)}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}getSortedList(){const e=[...this.fields];return this.lastSortyBy===n.L.display?e.sort(((e,t)=>e.alias.localeCompare(t.alias))):this.lastSortyBy===n.L.field?e.sort(((e,t)=>e.name.localeCompare(t.name))):this.lastSortyBy===n.L.type&&e.sort(((e,t)=>e.type.localeCompare(t.type))),e}showFieldInfoCheck(e){return!!this.showFieldInfo&&!this.isExpression(e)&&!e.name.includes(n.f.relationship)}selectDeselect(){var e;return(null===(e=this.filterFields)||void 0===e?void 0:e.length)?this.filterContainsAll():this.selectedFields.length===this.fields.length}filterContainsAll(){return this.filterFields.every((e=>this.selectedFields.some((t=>t===e))))}render(){var e;const t=(0,s.h)("calcite-button",{slot:"footer",appearance:this.showCancel?"solid":"outline-fill",width:this.showCancel?"half":"full",scale:"m",onClick:()=>{this.arcgisFieldPickListDismissed.emit({selectedFields:this.selectedFields})}},this.okBtnText||(this.multiple?this.strings.done:this.strings.ok)),i=(0,s.h)("calcite-button",{slot:"footer",appearance:"outline-fill",width:this.multiple?"half":"full",scale:"m",onClick:()=>this.arcgisFieldPickListDismissed.emit()},this.strings.cancel),r=this.fields.every((e=>!!e.type)),o=(0,s.h)("calcite-dropdown",{slot:"menu-actions",placement:"bottom-end",overlayPositioning:"fixed",ref:e=>this.dropdownNode=e,onCalciteDropdownOpen:()=>{var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.observer.observe(this.popoverNode,{attributes:!0})},onCalciteDropdownClose:()=>{var e;return null===(e=this.observer)||void 0===e?void 0:e.disconnect()}},(0,s.h)("calcite-action",{slot:"trigger",text:this.strings.sort,title:this.strings.sort},(0,s.h)("calcite-icon",{scale:"s",icon:"sortDescending"})),(0,s.h)("calcite-dropdown-group",null,(0,s.h)("calcite-dropdown-item",{selected:this.lastSortyBy===n.L.default,onClick:()=>{this.lastSortyBy=n.L.default,this.arcgisFieldPickListSortByChange.emit(this.lastSortyBy)}},this.strings.default),(0,s.h)("calcite-dropdown-item",{selected:this.lastSortyBy===n.L.display,onClick:()=>{this.lastSortyBy=n.L.display,this.arcgisFieldPickListSortByChange.emit(this.lastSortyBy)}},this.strings.displayName),r&&(0,s.h)("calcite-dropdown-item",{selected:this.lastSortyBy===n.L.type,onClick:()=>{this.lastSortyBy=n.L.type,this.arcgisFieldPickListSortByChange.emit(this.lastSortyBy)}},this.strings.type),(0,s.h)("calcite-dropdown-item",{selected:this.lastSortyBy===n.L.field,onClick:()=>{this.lastSortyBy=n.L.field,this.arcgisFieldPickListSortByChange.emit(this.lastSortyBy)}},this.strings.fieldName))),a=(0,s.h)("div",{class:"selection-button-div"},(0,s.h)("calcite-button",{appearance:"transparent",scale:"s",width:"full",onClick:()=>{var e,t;this.selectDeselect()?this.selectedFields=(null===(e=this.filterFields)||void 0===e?void 0:e.length)?this.selectedFields.filter((e=>!this.filterFields.includes(e))):[]:this.selectedFields=(null===(t=this.filterFields)||void 0===t?void 0:t.length)?[...new Set([...this.selectedFields,...this.filterFields])]:this.fields.map((e=>e.name))}},this.selectDeselect()?this.strings.deselectAll:this.strings.selectAll));return(0,s.h)(s.H,{class:"js-app-flyout"},(0,s.h)("calcite-popover",{dir:(0,l.g)(this.hostElement),class:"popover",placement:this.popoverProps.placement||"leading-start",open:!1,pointerDisabled:!0,referenceElement:this.popoverProps.refElement,offsetDistance:this.popoverProps.offsetDistance||-Math.round(this.popoverProps.refElement.getBoundingClientRect().width),offsetSkidding:this.popoverProps.offsetSkidding||0,overlayPositioning:this.popoverProps.overlayPositioning,triggerDisabled:this.popoverProps.triggerDisabled,autoClose:this.popoverProps.autoClose,label:this.heading||(this.multiple?this.strings.headerSelect:this.strings.header),onCalcitePopoverClose:()=>this.arcgisFieldPickListDismissed.emit(),ref:e=>this.popoverNode=e},(0,s.h)("calcite-flow",{ref:e=>{this.flowElement=e},style:{width:`${this.popoverProps.popoverWidth||this.popoverProps.refElement.getBoundingClientRect().width}px`}},(0,s.h)("calcite-flow-item",{ref:e=>this.panelElement=e,class:"panel",heading:this.heading||(this.multiple?this.strings.headerSelect:this.strings.header),closable:!0,onCalciteFlowItemClose:()=>this.arcgisFieldPickListDismissed.emit()},this.multiple&&t,this.showCancel&&i,(0,s.h)("calcite-pick-list",{multiple:this.multiple,ref:e=>{this.pickListNode=e},class:"content",filterEnabled:this.fields.length>=this.showFilterLength,filterPlaceholder:null!==(e=this.filterPlaceholderText)&&void 0!==e?e:this.strings.filter,onCalciteListChange:async()=>{const e=await this.pickListNode.getSelectedItems();this.selectedFields=[...new Set([...this.selectedFields.filter((t=>e.has(t))),...e.keys()])],this.arcgisFieldPickListChange.emit({selectedFields:this.selectedFields}),this.multiple||this.arcgisFieldPickListDismissed.emit({selectedFields:this.selectedFields})}},this.fields.length>=this.showFilterLength&&this.showSort&&o,this.multiple&&this.showSelectionAll&&a,this.renderListItems())))))}renderListItems(){return this.groupFieldsAndExpressions?(0,s.h)(s.F,null,this.expressionsOnly.length>0&&(0,s.h)("calcite-pick-list-group",{groupTitle:this.expressionsGroupHeading},this.expressionsOnly.map((e=>this.calciteValueList(e)))),this.fieldsOnly.length>0&&(0,s.h)("calcite-pick-list-group",{groupTitle:this.fieldsGroupHeading},this.fieldsOnly.map((e=>this.calciteValueList(e))))):(0,s.h)(s.F,null,[...this.getSortedList()].map((e=>this.calciteValueList(e))))}setUpObserver(){this.observer=new MutationObserver((e=>{for(const t of e)"style"===t.attributeName&&"hidden"===this.popoverNode.style.visibility&&(this.dropdownNode.open=!1)}))}isExpression(e){return this.customExpressionCheck?this.customExpressionCheck(e):this.defaultExpressionCheck(e)}defaultExpressionCheck(e){return e.name.includes(n.f.expression)}get hostElement(){return(0,s.d)(this)}static get watchers(){return{fields:["updateGroupedLists"],lastSortyBy:["updateGroupedLists"],customExpressionCheck:["updateGroupedLists"]}}};d.style=".popover{z-index:100}.panel{min-height:300px}.content{max-height:60vh}.selection-button-div{padding:4px 10px}";const c=class{constructor(e){(0,s.r)(this,e),this.hasOutline=!0,this.text=void 0,this.icon=void 0,this.disabled=!1}async setFocus(){var e;null===(e=this.calciteActionNode)||void 0===e||e.setFocus()}disconnectedCallback(){(0,o.ae)()}render(){return(0,s.h)("calcite-action",{class:this.hasOutline?"smart-mapping-action-outline":"",scale:"s",text:this.text,icon:this.icon,disabled:this.disabled,ref:e=>this.calciteActionNode=e,onMouseOver:()=>(0,o.af)(this.calciteActionNode,this.text),onMouseOut:()=>(0,o.ae)(),onFocus:()=>(0,o.af)(this.calciteActionNode,this.text),onFocusout:()=>(0,o.ae)()})}get hostElement(){return(0,s.d)(this)}};c.style=".smart-mapping-action-outline{border:#eaeaea 1px solid}";const h=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingAttributeInputChange=(0,s.c)(this,"arcgisSmartMappingAttributeInputChange",7),this.arcgisSmartMappingAttributeInputError=(0,s.c)(this,"arcgisSmartMappingAttributeInputError",7),this.fieldList=void 0,this.selectedField=void 0,this.label=void 0,this.mode="simple",this.popoverReferenceElement=void 0,this.hideLabel=!1}async clear(){this.currentField=null,(0,s.f)(this.hostElement)}componentWillLoad(){this.currentField=this.selectedField,this.popoverReferenceElement||(this.popoverReferenceElement=(0,o.f)(this.hostElement,"calcite-flow-item"))}componentWillUpdate(){this.currentField!==this.selectedField&&(this.currentField=this.selectedField)}render(){const{strings:e}=o.s;return this.hideLabel?(0,s.h)("div",{class:"field-select-with-icon"},this.renderFieldButton(),"remove"===this.mode&&this.currentField&&this.renderRemoveButton(),"expression"===this.mode&&this.renderArcadeButton()):(0,s.h)("calcite-label",null,this.label||e.attributeInput.attribute,(0,s.h)("div",{class:"field-select-with-icon"},this.renderFieldButton(),"remove"===this.mode&&this.currentField&&this.renderRemoveButton(),"expression"===this.mode&&this.renderArcadeButton()))}renderArcadeButton(){var e;const{strings:t}=o.s,i=this.currentField.field?t.attributeInput.useExpression:t.attributeInput.useField;return(0,s.h)(s.F,null,(0,s.h)("div",null," "),(0,s.h)("calcite-button",{id:"smart-mapping-attribute-switch",appearance:"outline-fill",kind:"neutral",iconStart:(null===(e=this.currentField)||void 0===e?void 0:e.field)?"code":"brackets-curly",label:i,class:"field-button",onClick:()=>this.handleSwitchAttributeType(),ref:e=>this.switchButtonNode=e}),(0,s.h)("calcite-tooltip",{referenceElement:"smart-mapping-attribute-switch",label:i},i))}renderFieldButton(){var e,t,i,l,n,r;const{strings:a}=o.s,d="remove"!==this.mode&&"expression"!==this.mode||!this.currentField?"":"non-simple-field-button",c=(null===(e=this.currentField)||void 0===e?void 0:e.field)&&1===this.fieldList.length&&"remove"!==this.mode;return(0,s.h)("calcite-button",{alignment:"icon-end-space-between",appearance:"outline-fill",kind:"neutral",disabled:c,iconEnd:(null===(t=this.currentField)||void 0===t?void 0:t.expression)?"pencil":c?void 0:"chevron-down",width:"full",class:`field-button ${d}`,onClick:async()=>{var e;(null===(e=this.currentField)||void 0===e?void 0:e.expression)?(await this.openArcadeEditorModal(this.currentField),this.fieldButtonNode.setFocus()):this.openFieldPickList()},ref:e=>{e&&(this.fieldButtonNode=e)}},(null===(i=this.currentField)||void 0===i?void 0:i.field)?null===(l=(0,o.x)(this.currentField.field))||void 0===l?void 0:l.label:(null===(n=this.currentField)||void 0===n?void 0:n.expression)?null===(r=this.currentField)||void 0===r?void 0:r.expressionTitle:a.attributeInput.chooseField)}renderRemoveButton(){const{strings:e}=o.s;return(0,s.h)(s.F,null,(0,s.h)("div",null," "),(0,s.h)("calcite-button",{id:"smart-mapping-attribute-switch",appearance:"outline-fill",kind:"neutral",iconStart:"x",label:e.clear,class:"field-button",onClick:()=>this.handleRemoveField()}),(0,s.h)("calcite-tooltip",{referenceElement:"smart-mapping-attribute-switch",label:e.clear},e.clear))}async handleRemoveField(){this.currentField=null,this.arcgisSmartMappingAttributeInputChange.emit()}async handleSwitchAttributeType(){var e,t;if((0,o.l)(),null===(e=this.currentField)||void 0===e?void 0:e.field)if(null===(t=this.lastSettings)||void 0===t?void 0:t.expression){const e={expression:this.lastSettings.expression,expressionTitle:this.lastSettings.expressionTitle,simpleFieldType:this.lastSettings.simpleFieldType};this.currentField.field=null,this.currentField=e,this.arcgisSmartMappingAttributeInputChange.emit(this.currentField)}else try{await this.openArcadeEditorModal(),this.fieldButtonNode.setFocus()}catch(e){this.switchButtonNode.setFocus()}else this.openFieldPickList()}async openArcadeEditorModal(e){const{strings:t}=o.s;(0,o.l)();try{return(e=await(0,a.u)(e)).simpleFieldType===o.z.STRING?void this.arcgisSmartMappingAttributeInputError.emit({message:t.attributeInput.errors.expressionMustBeNumber,type:"warning"}):(e.simpleFieldType===o.z.UNKNOWN&&(e.simpleFieldType=o.z.NUMBER),this.currentField.field=null,this.currentField.expression=e.expression,this.currentField.expressionTitle=e.expressionTitle,this.currentField.simpleFieldType=e.simpleFieldType,this.arcgisSmartMappingAttributeInputChange.emit(this.currentField),new Promise((e=>{e()})))}catch(e){return new Promise(((e,t)=>{t()}))}}openFieldPickList(){const{layer:e,mapView:t,strings:i}=o.s;(0,o.l)();const s=document.createElement("arcgis-field-pick-list");s.fields=this.fieldList.map((e=>({name:e.layerField.name,alias:e.label,type:e.simpleFieldType,description:"description"in e.layerField?e.layerField.description:void 0}))),this.currentField?(s.heading=i.replaceField,s.selectedFields=[this.currentField.field]):s.heading=i.addField,s.popoverProps={refElement:this.popoverReferenceElement,placement:"leading",offsetDistance:0,popoverWidth:1.05*this.popoverReferenceElement.getBoundingClientRect().width,overlayPositioning:"absolute",flipDisabled:!1,triggerDisabled:!1},s.layer=e,s.mapView=t,s.showFieldInfo=!0,s.sortBy=this.lastFieldSortBy,(0,o.m)(this.popoverReferenceElement,!0),document.body.appendChild(s),s.addEventListener("arcgisFieldPickListSortByChange",(e=>{this.lastFieldSortBy=e.detail})),s.addEventListener("arcgisFieldPickListDismissed",(e=>{var t,i;if(null===(t=e.detail)||void 0===t?void 0:t.selectedFields){const t=(0,o.x)(e.detail.selectedFields[0]),s={field:t.layerField.name,simpleFieldType:t.simpleFieldType};(null===(i=this.currentField)||void 0===i?void 0:i.expression)&&(this.lastSettings={expression:this.currentField.expression,expressionTitle:this.currentField.expressionTitle,simpleFieldType:this.currentField.simpleFieldType}),this.currentField=s,this.arcgisSmartMappingAttributeInputChange.emit(this.currentField)}this.fieldButtonNode.setFocus(),document.body.removeChild(s),(0,o.m)(this.popoverReferenceElement,!1)}))}get hostElement(){return(0,s.d)(this)}};h.style=".field-select-with-icon{display:flex;width:100%;justify-content:space-between;align-items:stretch;min-width:0}.field-button:focus{z-index:10}.non-simple-field-button{width:calc(100% - 32px)}"},90527:(e,t,i)=>{i.d(t,{u:()=>l});var s=i(59503);async function l(e){const{layer:t,strings:i,modules:l}=s.s,r=t,o="// "+i.arcade.defaultExpressionScript_line1+"\r\n// "+i.arcade.defaultExpressionScript_line2+"\r\n// Round(($feature.oak_count / $feature.all_trees_count) * 100, 2)\r\n\r\n",a=document.createElement("arcgis-modal-arcade");return a.arcadeScript=(null==e?void 0:e.expression)||o,a.arcadeProfile=function(){const{layer:e}=s.s;return{id:"visualization",definitions:{$feature:e}}}(),a.testData=await async function(){const{mapView:e}=s.s;return{profileVariableInstances:{$feature:await n(),$view:{scale:e.scale}},spatialReference:e.spatialReference}}(),a.addExistingExpressions=!0,a.layer=r,a.arcadeTitle=(null==e?void 0:e.expressionTitle)||i.arcade.newExpression,a.arcadeTitleEditable=!0,a.arcadeTitleEditingEnabled=!(null==e?void 0:e.expressionTitle),document.body.appendChild(a),new Promise(((e,t)=>{a.addEventListener("arcgisModalArcadeClose",(i=>{if(document.body.removeChild(a),!i.detail)return void t();const{script:n,title:d,predictOutputType:c}=i.detail;if(n&&n!==o)return l.fieldUtils.getExpressionFields(r,[n]).then((t=>{(0,s.P)(t),e({expression:n,expressionTitle:d,simpleFieldType:"number"===c?s.z.NUMBER:"string"===c?s.z.STRING:"date"===c?s.z.NUMBER:s.z.UNKNOWN})}));t()}))}))}async function n(){var e;const{layer:t,mapView:i,modules:l}=s.s;let n;if(!("fields"in t))return null;{await async function(){const{oneFeatureResponse:e,oneFeatureResponseStatus:t}=s.s;if(e&&t!==s.b.MISSING)return s.s.oneFeatureResponse;{const e=await function(){const{mapView:e,layer:t,mapImageSublayer:i}=s.s;return"fields"in t?i?r():e.whenLayerView(t).then((e=>{if("feature"===t.type&&!t.url||"wfs"===t.type){const e=t.createQuery();return e.start=0,e.num=5,e.outFields=["*"],t.queryFeatures(e).then((e=>e.features&&e.features.length?Promise.resolve(e):Promise.resolve(o())))}{const i="hasM"in t&&t.hasM,s="hasZ"in t&&t.hasZ,l=e.availableFields.length===t.fields.length&&!i&&!s;if("createQuery"in t&&l){const i=t.createQuery();return i.start=0,i.num=5,i.outFields=["*"],e.queryFeatures(i).then((e=>e.features&&e.features.length?Promise.resolve(e):r()))}return r()}})):Promise.reject("getOneFeature: wrong layer type")}();return s.s.oneFeatureResponse=(null==e?void 0:e.features.length)&&e,s.s.oneFeatureResponseStatus=(null==e?void 0:e.features.length)?s.b.SUCCESS:s.b.FAILED,e}}();const{oneFeatureResponse:a}=s.s;if(null===(e=null==a?void 0:a.features)||void 0===e?void 0:e.length)n=l.esriLang.clone(a.features[0]);else{const e={};t.fields.forEach((t=>{["small-integer","big-integer","integer","single","double","string","date","date-only","oid","guid"].indexOf(t.type)>-1&&!1===t.nullable?t.defaultValue?e[t.name]=t.defaultValue:"string"===t.type?e[t.name]="":e[t.name]=0:e[t.name]=null}));const r=i.extent;let o,a;(0,s.u)(t)?(o=new l.Polygon({spatialReference:new l.SpatialReference(i.spatialReference.toJSON())}),o.addRing([[r.xmin,r.ymin],[r.xmax,r.ymin],[r.xmax,r.ymax],[r.xmin,r.ymax],[r.xmin,r.ymin]]),a=new l.SimpleLineSymbol):(0,s.D)(t)?(o=new l.Point(r.center.toJSON()),a=new l.SimpleMarkerSymbol):(0,s.E)(t)&&(o=new l.Polyline({spatialReference:new l.SpatialReference(i.spatialReference.toJSON())}),o.addPath([[r.xmin,r.ymin],[r.xmax,r.ymax]]),a=new l.SimpleFillSymbol),n=new l.Graphic({geometry:o,symbol:a,attributes:e})}}return n}function r(){var e,t;const{layer:i,mapView:l,modules:n}=s.s;if(!("queryFeatures"in i))return Promise.resolve(o());const r=new n.Query({outFields:["*"],where:"1=1",outSpatialReference:l.spatialReference,returnGeometry:!0,returnM:"hasM"in i&&i.hasM,returnZ:"hasZ"in i&&i.hasZ});return"sourceJSON"in i&&(null===(t=null===(e=i.sourceJSON)||void 0===e?void 0:e.advancedQueryCapabilities)||void 0===t?void 0:t.supportsPagination)&&(r.num=1),i.queryFeatures(r).then((e=>Promise.resolve(e)),(()=>Promise.resolve(o())))}function o(){const{layer:e,modules:t}=s.s,i={};"fields"in e&&e.fields.forEach((e=>{e.defaultValue?i[e.name]=e.defaultValue:["small-integer","big-integer","integer","single","double","long","date","oid"].indexOf(e.type)>-1?i[e.name]=0:"date-only"===e.type?i[e.name]=null:i[e.name]=""}));const l=new t.Graphic({geometry:void 0,symbol:void 0,attributes:i});return new t.FeatureSet({features:[l],fields:[],geometryType:(0,s.G)(e),spatialReference:"spatialReference"in e&&e.spatialReference.clone()})}i(21104),i(2137)}}]);