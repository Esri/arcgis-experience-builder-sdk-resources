/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-time-zo-febd65.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-time-zo-febd65"],{57257:(e,t,o)=>{o.r(t),o.d(t,{arcgis_time_zone:()=>l});var n=o(35110),i=o(89393),s=o(1984),a=o(88703);o(2137),o(21104),o(73838),o(63280),o(86587);const l=class{constructor(e){(0,n.r)(this,e),this.timeZones=[],this.mapView=void 0,this.config=void 0}async closePopover(){this.removePopover()}async componentWillLoad(){const[e]=await(0,s.g)(this.hostElement);this.strings=e;const{mapView:t}=this;(0,a.i)(t.timeZone)||(t.timeZone="system");const o=(new Intl.DateTimeFormat).resolvedOptions().timeZone;Object.entries(e.timeZoneList).map((t=>{var o=t[0].split("/");const n=e.areas[o[0].toLowerCase()];let i;3===o.length&&(i=e.regions[o[1].toLowerCase()]);const s=t[1];i?this.timeZones.push([t[0],`${n}/${i}/${s}`]):this.timeZones.push([t[0],`${n}/${s}`])})),this.timeZones.sort(((e,t)=>e[1]<t[1]?-1:1));const i=Object.keys(e.timeZoneList).filter((e=>o===e));this.timeZonesToDisplay=this.timeZones.map(((e,s)=>(0,n.h)("calcite-combobox-item",{selected:!i.length&&0===s||e[0]===t.timeZone||e[0]===o&&("system"===t.timeZone||"unknown"===t.timeZone),value:e[0],textLabel:e[1]})))}async componentDidLoad(){var e;this.containerPanelNode=(0,i.q)(this.hostElement,"calcite-panel"),this.containerPanelNode||(this.containerPanelNode=(0,i.q)(this.hostElement,"calcite-flow-item")),this.parentBlockNode=(0,i.q)(this.hostElement,"calcite-block"),null===(e=this.parentBlockNode)||void 0===e||e.addEventListener("calciteBlockToggle",(()=>{this.removePopover()}))}disconnectedCallback(){this.removePopover()}render(){const{strings:e,mapView:t}=this;return(0,n.h)(n.H,null,(0,n.h)("calcite-label",{layout:"inline"},(0,n.h)("section",{class:"time-zone-toggle"},e.timeZoneLabel,(0,n.h)("calcite-button",{class:"info-button","icon-start":"information",scale:"s",appearance:"transparent",kind:"neutral",onClick:e=>{var t;e.stopPropagation(),(null===(t=this.popoverNode)||void 0===t?void 0:t.parentElement)?this.removePopover():this.openPopover()},ref:e=>this.infoButtonNode=e}))),(0,n.h)("calcite-radio-button-group",{ref:e=>this.radioButtonGroupNode=e,layout:"vertical",name:"time-zone-options",onCalciteRadioButtonGroupChange:e=>{const t=e.target;this.handleTimeZoneOptionChange(t.selectedItem.value)}},(0,n.h)("calcite-label",{layout:"inline"},(0,n.h)("calcite-radio-button",{checked:"system"===t.timeZone,value:"system"}),e.deviceLabel),(0,n.h)("calcite-label",{layout:"inline"},(0,n.h)("calcite-radio-button",{checked:"system"!==t.timeZone&&"unknown"!==t.timeZone,value:"time-zone"}),e.specificLabel),(0,n.h)("calcite-combobox",{class:(["system","unknown"].indexOf(t.timeZone)>-1?"hidden":"")+" block-content-padding",ref:e=>this.ianaTimeZonePickerNode=e,label:e.chooseTimeZone,selectionMode:"single-persist",onCalciteComboboxChange:()=>t.timeZone=this.ianaTimeZonePickerNode.value,clearDisabled:!0},this.timeZonesToDisplay),(0,n.h)("calcite-label",{layout:"inline"},(0,n.h)("calcite-radio-button",{checked:"unknown"===t.timeZone,value:"unknown"}),e.dataLabel)))}handleTimeZoneOptionChange(e){const{mapView:t}=this,o=this.ianaTimeZonePickerNode.value;t.timeZone="time-zone"!==e?e:o;const n="time-zone"===this.radioButtonGroupNode.selectedItem.value?"remove":"add";this.ianaTimeZonePickerNode.classList[n]("hidden")}openPopover(){const{config:e}=this,t=this.popoverNode=document.createElement("arcgis-time-zone-popover");t.refElement=this.containerPanelNode,t.config=e,t.addEventListener("arcgisTimeZonePopoverClose",(()=>{this.closePopover(),this.infoButtonNode.setFocus()})),document.body.appendChild(t)}removePopover(){var e,t;null===(t=null===(e=this.popoverNode)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.popoverNode),this.popoverNode=null}static get assetsDirs(){return["assets"]}get hostElement(){return(0,n.d)(this)}};l.style=":host{height:100%}.time-zone-toggle{font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium)}.info-button{margin:auto 0.25rem}.block-content-padding{padding-bottom:10px}.hidden{display:none}"},88703:(e,t,o)=>{o.d(t,{a:()=>r,b:()=>h,c:()=>i,d:()=>n,e:()=>s,f:()=>m,g:()=>u,i:()=>a,m:()=>l,t:()=>c,u:()=>d});const n=(e,t)=>{let o,n="idle";const i=(...i)=>new Promise((s=>{switch(n){case"flushed":n="idle",o?(clearTimeout(o),s(e(...i))):s(null);break;case"invoked":clearTimeout(o),n="idle",s(e(...i));break;case"cancelled":clearTimeout(o),n="idle",s(null);break;default:o&&clearTimeout(o),n="pending",o=setTimeout((()=>(n="idle",s(e(...i)))),t)}}));return i.flush=function(...e){return n="flushed",i(...e)},i.invoke=function(...e){return n="invoked",i(...e)},i.cancel=function(...e){return n="cancelled",i(...e)},i.getStatus=function(){return n},i},i=(e,t)=>{let o;return(...n)=>new Promise((i=>{o||(o=setTimeout((()=>{clearTimeout(o),o=void 0,i(e(...n))}),t))}))};function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return null!=e}async function l(e,t){return await Promise.all([e,c(t)]),e}function c(e){return new Promise((t=>setTimeout(t,e)))}const r=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:o,data:n}=t(e);return[o,n]}))),m=(e,t)=>e.length===t.length&&e.reduce(((e,o)=>e&&t.indexOf(o)>-1),!0);function d(e,t){const o=[],n={};return e.forEach((e=>{const i=t(e);null==n[i]&&(n[i]=e,o.push(e))})),o}function h(e){const t={boolean:{},number:{},string:{}},o=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(o.indexOf(e)>=0)&&o.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((o,n)=>e.slice(t*n,t+t*n)))}}]);