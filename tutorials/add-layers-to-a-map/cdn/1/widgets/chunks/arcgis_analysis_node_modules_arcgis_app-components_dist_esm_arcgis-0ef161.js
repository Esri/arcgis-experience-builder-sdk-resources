/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0ef161.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0ef161"],{73838:(e,t,r)=>{r.d(t,{a:()=>n,c:()=>o,g:()=>a});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}},82669:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>i,c:()=>o,d:()=>n});const n=(0,r(23505).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),a=n.state,o=n.state,i=n.state},61213:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_data_store_select_folder:()=>s});var n=r(35110),a=r(82669),o=r(57983),i=r(84873);r(23505),r(66913),r(46710),r(21104),r(73838),r(70392);const s=class{constructor(e){(0,n.r)(this,e),this.newItemUpdatePage=(0,n.c)(this,"newItemUpdatePage",7),this.serverFolderPath=null,this.publisherFolderPath="",this.publisherFolderPathIsDriveLetterLocation=!1,this.publisherFolderPathHostname="",this.newServerFolderPath="",this.nfsHostName="",this.nfsSharePath="",this.error=null}async componentWillLoad(){this.i18n=i.u.i18n.dataStoreSelectFolder,this.checkIfDriveLetterLocation(a.a.publisherFolderPath||""),this.publisherFolderPathHostname=a.a.publisherFolderPathHostname,this.serverFolderPath=a.a.serverFolderPath||null,this.newServerFolderPath=a.a.newServerFolderPath,this.nfsHostName=a.a.nfsHostName,this.nfsSharePath=a.a.nfsSharePath}checkIfDriveLetterLocation(e){this.publisherFolderPath=e,this.publisherFolderPathIsDriveLetterLocation=1===e.split(":")[0].length}validateFolderInputs(){if(!this.publisherFolderPath)return this.error="invalidPublisherFolderPath",!1;if(this.publisherFolderPathIsDriveLetterLocation&&!this.publisherFolderPathHostname)return this.error="invalidPublisherHostName",!1;if("newPath"===this.serverFolderPath&&!this.newServerFolderPath)return this.error="invalidServerFolderPath",!1;if("nfsHostAndPath"===this.serverFolderPath){if(!this.nfsHostName&&!this.nfsSharePath)return this.error="invalidNfsHostAndPath",!1;if(!this.nfsHostName&&this.nfsSharePath)return this.error="invalidNfsHostName",!1;if(this.nfsHostName&&!this.nfsSharePath)return this.error="invalidNfsPath",!1}return!0}renderErrorItem(){var e,t;const{i18n:r,error:a}=this;return(0,n.h)("arcgis-new-item-alert",{heading:null===(e=r.errors[a])||void 0===e?void 0:e.heading,description:null===(t=r.errors[a])||void 0===t?void 0:t.description,active:null!==a,onAlertDismiss:()=>{this.error=null}})}handleNext(){this.validateFolderInputs()&&(a.a.publisherFolderPath=this.publisherFolderPath,a.a.serverFolderPath=this.serverFolderPath,this.publisherFolderPathIsDriveLetterLocation&&this.publisherFolderPathHostname?a.a.publisherFolderPathHostname=this.publisherFolderPathHostname:a.a.publisherFolderPathHostname=null,"newPath"===this.serverFolderPath&&this.newServerFolderPath?a.a.newServerFolderPath=this.newServerFolderPath:a.a.newServerFolderPath=null,"nfsHostAndPath"===this.serverFolderPath?(a.a.nfsHostName=this.nfsHostName,a.a.nfsSharePath=this.nfsSharePath):(a.a.nfsHostName=null,a.a.nfsSharePath=null),this.newItemUpdatePage.emit("dataStoreSelectServerList"))}render(){const{i18n:e,publisherFolderPathIsDriveLetterLocation:t}=this;return(0,n.h)("div",null,(0,n.h)("arcgis-new-item-description",{header:e.heading}),(0,n.h)("div",{class:"input-label"},(0,n.h)("calcite-label",null,e.publisherFolderPath.heading,(0,n.h)("calcite-input",{key:"publisher-folder-path",placeholder:e.publisherFolderPath.placeholder,value:this.publisherFolderPath,required:!0,onCalciteInputChange:e=>{const t=e.target.value;this.checkIfDriveLetterLocation(t)}}))),t&&(0,n.h)("div",{class:"input-label"},(0,n.h)("calcite-label",null,e.publisherFolderPath.hostname,(0,n.h)("calcite-input",{key:"publisher-folder-path-hostname",type:"textarea",value:this.publisherFolderPathHostname,onCalciteInputChange:e=>{const t=e.target.value;this.publisherFolderPathHostname=t}}),(0,n.h)("div",{class:"hostname-info"},e.publisherFolderPath.hostnameInfo))),(0,n.h)("div",{class:"input-label"},(0,n.h)("calcite-label",null,e.serverFolderPath.heading)),(0,n.h)("calcite-tile-select-group",{layout:"vertical",key:"server-folder-path-select"},(0,n.h)("calcite-tile-select",{class:"tile-select",key:"publisher-folder-path-select",checked:null===this.serverFolderPath,description:e.serverFolderPath.sameAsPublisher,name:"same-as-publisher-folder-path","input-enabled":!0,width:"full",type:"radio",value:null,onCalciteTileSelectChange:()=>{this.serverFolderPath=null}}),(0,n.h)("calcite-tile-select",{class:"tile-select",key:"new-server-folder-path-select",checked:"newPath"===this.serverFolderPath,description:e.serverFolderPath.newPath,name:"new-path","input-enabled":!0,width:"full",type:"radio",value:"newPath",onCalciteTileSelectChange:()=>{this.serverFolderPath="newPath"}}),(0,o.i)()&&(0,n.h)("calcite-tile-select",{key:"nfs-host-and-path-select",checked:"nfsHostAndPath"===this.serverFolderPath,description:e.serverFolderPath.nfsHostAndPath.description,name:"nfs-host-and-path","input-enabled":!0,width:"full",type:"radio",value:"nfsHostAndPath",onCalciteTileSelectChange:()=>{this.serverFolderPath="nfsHostAndPath"}})),"newPath"===this.serverFolderPath&&(0,n.h)("div",{class:"input-label"},(0,n.h)("calcite-input",{key:"new-server-folder-path",placeholder:e.serverFolderPath.placeholder,value:this.newServerFolderPath,onCalciteInputChange:e=>{const t=e.target.value;this.newServerFolderPath=t}})),"nfsHostAndPath"===this.serverFolderPath&&(0,n.h)("div",null,(0,n.h)("div",{class:"input-label"},(0,n.h)("calcite-label",null,e.serverFolderPath.nfsHostAndPath.hostname,(0,n.h)("calcite-input",{key:"nfs-hostname",type:"textarea",value:this.nfsHostName,onCalciteInputChange:e=>{const t=e.target.value;this.nfsHostName=t}}))),(0,n.h)("div",{class:"input-label"},(0,n.h)("calcite-label",null,e.serverFolderPath.nfsHostAndPath.sharePath,(0,n.h)("calcite-input",{key:"nfs-sharepath",type:"textarea",value:this.nfsSharePath,onCalciteInputChange:e=>{const t=e.target.value;this.nfsSharePath=t}})))),this.renderErrorItem())}};s.style=".input-label{margin-top:1.25rem}.tile-select{margin-bottom:0.125rem}.hostname-info{font-size:0.75rem}"},57983:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>p,c:()=>h,d:()=>d,e:()=>o,f:()=>i,g:()=>y,h:()=>c,i:()=>P,j:()=>f,k:()=>S,l:()=>s,m:()=>l});var n=r(66913),a=r(46710);function o(e,t){const r={type:"folder",path:`/fileShares/${t}`,info:{datastoreConnectionType:"shared",path:e.publisherFolderPath,hostName:e.publisherFolderPathHostname}};return"newPath"===e.serverFolderPath?(r.clientPath=e.publisherFolderPath,r.info.path=e.newServerFolderPath,r.info.datastoreConnectionType="replicated"):"nfsHostAndPath"===e.serverFolderPath&&(r.clientPath=e.publisherFolderPath,r.provider="UserManaged",r.info.datastoreConnectionType="replicated",r.info.fileServerPath=e.nfsSharePath,r.info.fileServerHost=e.nfsHostName,r.info.fileServerType="nfs"),r}function i(e,t){const r={type:"egdb",path:"/enterpriseDatabases/"+t,info:{dataStoreConnectionType:"shared"}};return"newConnection"===e.serverDatabaseOption?(r.info.connectionString=e.serverConnectionString,r.info.clientConnectionString=e.publisherConnectionString,r.info.dataStoreConnectionType="replicated"):"bigQuery"===e.databaseProvider||"snowflake"===e.databaseProvider?r.info.JDBCConnection=e.jdbcConnection:r.info.connectionString=e.publisherConnectionString,r}const s=async(e,t,r,n)=>{let a,o;if((null==r?void 0:r.length)>0){try{o=JSON.parse(r)}catch(e){return{error:{code:"invalidJSON"}}}a=function(e,t){const{type:r,project_id:n,private_key_id:a,private_key:o,client_email:i,client_id:s,auth_uri:l,token_uri:c,auth_provider_x509_cert_url:d,client_x509_cert_url:h}=t;return{oAuthType:0,projectId:e,url:"jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443",oAuthPvtKeyFile:{type:r,project_id:n,private_key_id:a,private_key:o,client_email:i,client_id:s,auth_uri:l,token_uri:c,auth_provider_x509_cert_url:d,client_x509_cert_url:h}}}(e,o)}else(null==n?void 0:n.length)>0&&(a=function(e,t,r){return{name:"BigqueryArcgisPlatform_RefreshToken",className:"com.esri.sds.bigquery.jdbc.GBQDataSource",oAuthType:2,projectId:e,defaultDataset:t,url:"jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443",oAuthRefreshToken:r}}(e,t,n));return{result:{type:"egdb",path:"/enterpriseDatabases/bigQuerySvrDevDataJdbc",id:null,clientPath:null,info:{JDBCConnection:a}}}};function l(e){const{user:t,password:r,database:n,role:a,server:o,warehouse:i,schema:s}=e;return{path:"/enterpriseDatabases/snowflakeJdbc",type:"egdb",info:{JDBCConnection:{user:t,password:r,database:n,role:a,connectionUrl:`jdbc:snowflake://${o}`,warehouse:i,schema:s}}}}function c(e,t){if("Arango"===e.noSqlProvider){const t={type:"nosql",path:"/nosqlDatabases/Arango_enterprise",info:{systemManaged:!1,dsFeature:"graphStore",isManagedData:!1,category:"database",factory:"nosql",provider:"ArangoDB",implementation:"ArangoDB",purposes:["knowledge-graph"],connectionProperties:{hosts:[],useSsl:e.useSsl,username:e.username,password:e.password,database:e.database}}};return""!==e.hosts?t.info.connectionProperties.hosts=e.hosts.split(","):delete t.info.connectionProperties.hosts,t}const r={type:"nosql",path:`/nosqlDatabases/${t}`,info:{provider:"Neo4J",isManaged:!1,dsFeature:"graphStore",factory:"nosql",implementation:"Neo4j",category:"database",systemManaged:!1,isManagedData:!1,purposes:["knowledge-graph"],connectionProperties:{connectionUri:e.connectionUri,username:e.username,password:e.password,database:e.database,fallbackServerAddresses:[]}}};return""!==e.fallBackServers?r.info.connectionProperties.fallbackServerAddresses.push(e.fallBackServers.split(",")):delete r.info.connectionProperties.fallbackServerAddresses,r}function d(e,t){const r="bdfs"===e.addDataStoreType?e.bdfsCloudProvider:e.provider,n={info:{}},a={credentialType:"accesskey"};return"amazon"===r&&("accessKey"===e.credentialType?(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey):a.credentialType=e.credentialType,"custom"===e.selectedRegion.id?a.regionEndpointUrl=e.storageURL:(a.regionEndpointUrl=v(e.regions,e.selectedRegion),a.region=e.selectedRegion.id),n.info.objectStore=e.bucketName,n.provider="amazon"),"google"===r&&(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey,a.regionEndpointUrl="https://storage.googleapis.com",n.info.objectStore=e.bucketName,n.provider="Google"),"azure"===r&&("sharedKey"===e.azureAuthenticationType?(a.credentialType="accessKey",a.accountKey=e.accountKey):"activeDirectory"===e.azureAuthenticationType?(a.credentialType=e.azureIdentityType,"servicePrincipal"===e.azureIdentityType?(a.tenantId=e.tenantId,a.clientId=e.clientId,a.clientSecret=e.clientSecret):"userAssignedIdentity"===e.azureIdentityType&&(a.managedIdentityClientId=e.clientId)):"sasToken"===e.azureAuthenticationType?(a.credentialType=e.azureAuthenticationType,a.sasToken=e.token):"anonymous"===e.azureAuthenticationType&&(a.credentialType=e.azureAuthenticationType),"other"===e.environment.id||"anonymous"===e.azureAuthenticationType?a.regionEndpointUrl=e.endpoint:a.accountEndpoint=v(e.regions,e.environment),a.accountName=e.accountName,n.info.objectStore=e.containerName,n.provider="azure"),"azuredatalakegen2store"===r&&("other"===e.environment.id?a.regionEndpointUrl=e.endpoint:a.accountEndpoint=v(e.regions,e.environment),a.credentialType="accessKey",a.accountKey=e.accountKey,n.info.folder=e.cloudFolder?`${e.containerName}/${e.cloudFolder}`:e.containerName,a.accountName=e.accountName,n.provider="azureDataLakeStore"),"alibaba"===r&&(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey,n.info.objectStore=e.bucketName,n.provider="Alibaba",a.regionEndpointUrl="custom"===e.selectedRegion.id?e.storageURL:v(e.regions,e.selectedRegion)),a.defaultEndpointsProtocol="https",e.cloudFolder&&"azuredatalakegen2store"!==r&&(n.info.objectStore=n.info.objectStore+"/"+e.cloudFolder),n.type="cloudStore",n.path="/cloudStores/"+t,n.info.connectionString=JSON.stringify(a),n}function h(e,t){return{type:"bigDataFileShare",path:`/bigDataFileShares/${t}`,info:{connectionString:JSON.stringify({path:e.bdfsFilesharePath}),connectionType:"fileShare"}}}function u(e,t){return{type:"bigDataFileShare",path:`/bigDataFileShares/${t}`,info:{connectionString:JSON.stringify({path:e.bdfsHdfsPath,username:e.bdfsHdfsUsername}),connectionType:"hdfs"}}}function p(e,t){const r={type:"bigDataFileShare",path:"/bigDataFileShares/"+t,info:{connectionString:"",connectionType:"hive"}},n=e.useNonDefaultDatabase;return r.info.connectionString=JSON.stringify({metaStoreUris:e.metastoreUris,database:n&&e.nonDefaultDatabaseName||"default"}),r}function f(e,t){return JSON.stringify({info:{connectionString:JSON.stringify({path:t}),connectionType:"dataStore"},path:`/bigDataFileShares/${e}`,type:"bigDataFileShare"})}function v(e,t){let r;return e.forEach((function(e){e.id===t.id&&(r=e.blobStoreEndpoint||e.storageEndpointSuffix)})),r}const y=async(e,t)=>{const r=e.results.out_connectionString.paramUrl,a=`${t}/Get%20Database%20Connection%20String/jobs/${e.jobId}/${r}`,o=await(0,n.r)(a);return g(o)},g=e=>{const t=e.value;return{connectionStringProps:b(t),connectionString:t}},b=e=>{let t=[];return e&&e.split(";").forEach((e=>{const r=e.split("=");2!==r.length||m(t,r[0])||t.push({key:r[0],value:r[1]})})),t},m=(e,t)=>e.some((e=>e.key===t)),P=()=>{var e;const t=a.c.portal,r=t.portalDeploymentType||(null===(e=t.sourceJSON)||void 0===e?void 0:e.portalDeploymentType);return t.isPortal&&"ArcGISEnterpriseOnKubernetes"===r},S=e=>e?`${e}/rest/services/System/PublishingTools/GPServer`:""},21104:(e,t,r)=>{r.d(t,{l:()=>o});var n=r(73838),a=(0,n.c)((function(e,t){n.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function a(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function i(e){return!e||a(e)?function(e){void 0===e&&(e=r);var t=o(e),i=a(e);if(i!==n&&3===i.major){var s=i.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function s(e,t){var r=i(e),n=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return n||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),n}var l={};function c(e,t,r){var n;r&&(n=function(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var a=function(){t(e),e.removeEventListener("load",a,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",a,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function h(){var e=window.require;return e&&e.on}function u(e){void 0===e&&(e={});var r={};[l,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var n=r.version,a=r.url||o(n);return new t.Promise((function(e,t){var o=d();if(o){var i=o.getAttribute("src");i!==a?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):h()?e(o):c(o,e,t)}else if(h())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&s(!0===l?n:l,r.insertCssBefore),c(o=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(a),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function p(e){return new t.Promise((function(t,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),h())return p(e);var r=d(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),u(t).then((function(){return p(e)}))},e.getScript=d,e.isLoaded=h,e.loadScript=u,e.setDefaultOptions=function(e){void 0===e&&(e={}),l=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const o=async(e,t)=>(await a.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},84873:(e,t,r)=>{r.d(t,{a:()=>n,u:()=>a});const n=(0,r(23505).c)({nextText:"next",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),a=n.state}}]);