/*! For license information please see node_modules_arcgis_map-components_dist_esm_arcgis-scale-bar_entry_js.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_esm_arcgis-scale-bar_entry_js"],{2511:(e,t,i)=>{i.r(t),i.d(t,{arcgis_scale_bar:()=>u});var n=i(9650),s=i(7813),r=i(3191),o=i(8740),a=i(4532),l=i(8952);i(3793);const c="esri-scale-bar",d={base:c,labelContainer:`${c}__label-container`,rulerLabelContainer:`${c}__label-container--ruler`,lineLabelContainer:`${c}__label-container--line`,topLabelContainer:`${c}__label-container--top`,bottomLabelContainer:`${c}__label-container--bottom`,label:`${c}__label`,line:`${c}__line`,topLine:`${c}__line--top`,bottomLine:`${c}__line--bottom`,ruler:`${c}__ruler`,rulerBlock:`${c}__ruler-block`,barContainer:`${c}__bar-container`,rulerBarContainer:`${c}__bar-container--ruler`,lineBarContainer:`${c}__bar-container--line`};function h(e=0,t=0){return{x:e,y:t}}const m=(0,r.m)(o.a4),u=class{constructor(e){(0,n.r)(this,e),this.arcgisReady=(0,n.c)(this,"arcgisReady",7),this.manager=(0,l.u)(this),this.messages=(0,r.u)(),this.reactiveUtils=(0,a.l)(o.h),this.intlUtils=(0,a.l)(o.a2),this.unitUtils=(0,a.l)(o.a3),this.viewModel=m(this),this._scaleComputedFrom=h(),this.autoDestroyDisabled=!1,this.icon="actual-size",this.label=void 0,this.position="top-left",this.referenceElement=void 0,this.barStyle="line",this.unit=(0,l.g)(void 0,{set:e=>e??this._defaultUnit})}componentDidLoad(){this._defaultUnit=this.unitUtils.getDefaultUnitForView(this.viewModel.view),this.unit||(this.unit=this._defaultUnit),this.manager.onLifecycle((()=>this.reactiveUtils.watch((()=>{const e=this.viewModel.view;return[e?.stationary,e?.center,e?.scale,e?.zoom]}),(([e])=>{e&&(0,n.f)(this)}))))}async destroy(){await this.manager.destroy()}componentDidRender(){this._handleRootCreateOrUpdate()}render(){const e="disabled"===this.viewModel.state,t={[s.g.disabled]:e};let i,r;if(!e){const{unit:e,barStyle:t}=this,n="metric"===e||"dual"===e,s=100,o="dual"===e?"line":t;if("imperial"===e||"dual"===e){const e=this.viewModel.getScaleBarProperties(s,"imperial");e&&(r="ruler"===o?this._renderRuler(e):this._renderLine(e,"bottom"))}if(n){const e=this.viewModel.getScaleBarProperties(s,"metric");e&&(i="ruler"===o?this._renderRuler(e):this._renderLine(e,"top"))}}return(0,n.h)("div",{key:"8224f987c000c7263570091b725bad517f11bbf3",ref:e=>e?this._handleRootCreateOrUpdate():void 0,class:(0,o.q)(d.base,s.g.widget,t)},i,r)}_renderRuler(e){const{length:t,unit:i,value:s}=e,r=Math.round(t),a=this._formatDistance(s,i);return(0,n.h)("div",{class:(0,o.q)(d.barContainer,d.rulerBarContainer)},(0,n.h)("div",{class:d.ruler,style:{width:`${r}px`}},(0,n.h)("div",{class:d.rulerBlock}),(0,n.h)("div",{class:d.rulerBlock}),(0,n.h)("div",{class:d.rulerBlock}),(0,n.h)("div",{class:d.rulerBlock})),(0,n.h)("div",{class:(0,o.q)(d.labelContainer,d.rulerLabelContainer)},(0,n.h)("div",{class:d.label},"0"),(0,n.h)("div",{class:d.label},a)))}_renderLine(e,t){const{length:i,unit:s,value:r}=e,a=Math.round(i),l=this._formatDistance(r,s),c={[d.topLabelContainer]:"top"===t,[d.bottomLabelContainer]:"bottom"===t},h=(0,n.h)("div",{class:(0,o.q)(d.labelContainer,d.lineLabelContainer,c)},(0,n.h)("div",{class:d.label},l)),m={[d.topLine]:"top"===t,[d.bottomLine]:"bottom"===t},u=(0,n.h)("div",{class:(0,o.q)(d.line,m),style:{width:`${a}px`}});return(0,n.h)("div",{class:(0,o.q)(d.barContainer,d.lineBarContainer)},[u,h])}_handleRootCreateOrUpdate(){if(!this.viewModel)return;const e=this._scaleComputedFrom,t=this.el.getBoundingClientRect(),i=h(t.left+window.pageXOffset,t.top+window.pageYOffset);(i.x!==e.x||i.y!==e.y)&&(this._scaleComputedFrom=i)}_formatDistance(e,t){return this.intlUtils.formatNumber(e,{style:"unit",unit:t,unitDisplay:"short"})}static get assetsDirs(){return["assets"]}get el(){return(0,n.g)(this)}}},7813:(e,t,i)=>{i.d(t,{g:()=>n});const n={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",ui:"esri-component",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},4532:(e,t,i)=>{i.d(t,{l:()=>l,m:()=>c,u:()=>h});var n=i(8952),s=i(8740),r=e=>a(void 0,e),o=class extends n.C{constructor(e,t){super(e);const i=this.exports;try{(0,n.s)(this.component);const e=t(this.component,this),s=this.exports!==i;if(e instanceof Promise){s||this.setProvisionalExports(e);const t=e.then((e=>{this.exports=e,super.catchUpLifecycle()})).catch((e=>{this._ready.reject(e),console.error(e)}));this.onLoad((async()=>await t))}else s&&void 0===e||(this.exports=e),queueMicrotask((()=>super.catchUpLifecycle()))}catch(e){this._ready.reject(e),console.error(e)}}catchUpLifecycle(){}},a=(0,n.p)(o),l=r,c=e=>(t={})=>r(((i,r)=>{const o=i;function a(e){const t=r.exports,i=t._original??t,n=d(i,e);n._original=i,r.exports=n}if(r.onLifecycle((()=>(0,s.s)(i.el,e("./assets"),(({t9nLocale:e,t9nStrings:t,lang:n})=>{const s={...t,_lang:n,_t9nLocale:e,_loading:!1};r.exports=s;const l=t.componentLabel??t.widgetLabel;"string"==typeof l&&"label"in i&&null==i.label&&(i.label??(i.label=l)),a(o.messageOverrides)}),t.name))),"messageOverrides"in o&&r.onLifecycle((()=>(0,n.w)(o,"messageOverrides",a))),t.blocking)return r.ready;const l=(0,s.g)(i.el);return{_lang:l.lang,_t9nLocale:l.t9nLocale,_loading:!0}}));function d(e,t){if(!t)return e;const i={...e};return Object.entries(t).forEach((([t,n])=>{i[t]="object"==typeof n?d(e[t],n):n??e[t]})),i}var h=e=>u,m="arcgisPropertyChange",u=(...e)=>r(((t,i)=>{let s=t[m];return t.manager.isLit&&(s=t.constructor.createEvent(m,void 0,t)),i.onLoad((()=>i.onLifecycle((()=>e.map((e=>(0,n.w)(t,e,(()=>s.emit({name:e}))))))))),s}))},3191:(e,t,i)=>{i.d(t,{m:()=>l,u:()=>a});var n=i(4532),s=i(9650),r=i(8952),o=i(3793);const a=(0,n.m)(s.a),l=(e,t)=>(t,i)=>d(t,e,i);class c extends r.A{hostConnected(){this.component.manager.loadedCalled&&(0,o.a)(this.component)}async hostLoad(){await super.hostLoad(),this.component.manager.destroyed||(this._watchMetaProperties(),r.a.reEmitAccessorEvents(this,this._instance,this.reactiveUtils,"viewModel"))}hostLoaded(){const{el:e}=this.component,t=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem=t??e.childElem;let i=!1;const n=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:e=>{const t=this.component.el.view,n=e;this._instance.view=n,this._instance.map=n?.map,this._watchViewDestroy(),this.component.requestUpdate("view",t),e&&!i&&(i=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),n&&(this._instance.view=n),this.component.el.isConnected&&((0,o.a)(this.component),this._watchViewDestroy())}hostDisconnected(){"object"==typeof this.component.el.childElem&&this.component.el.view?.ui?.remove(this.component.el.childElem)}hostDestroy(){super.hostDestroy(),this._watchViewDestroyHandle?.remove()}_watchMetaProperties(){(0,r.w)(this.component,"position",(e=>{null!=this.component.el.childElem&&"string"==typeof e&&(0,o.a)(this.component)})),(0,r.w)(this.component,"referenceElement",(()=>(0,o.a)(this.component)))}_watchViewDestroy(){this._watchViewDestroyHandle?.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when((()=>!0===this.component.el.view?.destroyed),(()=>{this.component.destroy().catch(console.error)}),{sync:!0})}}const d=(0,r.p)(c)}}]);