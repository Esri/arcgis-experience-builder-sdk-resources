/*! For license information please see 1242.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[1242],{3849:(e,t,n)=>{function r(){const e=navigator.userAgentData;return e?.brands?e.brands.map((({brand:e,version:t})=>`${e}/${t}`)).join(" "):navigator.userAgent}n.d(t,{g:()=>r})},1242:(e,t,n)=>{n.r(t),n.d(t,{calcite_color_picker:()=>W,calcite_color_picker_hex_input:()=>X,calcite_color_picker_swatch:()=>Z});var r=n(9113),o=n(7146),i=n(2752),a=n(2627),l=n(3287),s=n(8545),c=n(3213),h=n(260),u=n(8065),d=n(7040);function p(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}n(8220),n(9046);var g={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},f=p((function(e){var t=Array.prototype.concat,n=Array.prototype.slice,r=e.exports=function(e){for(var r,o=[],i=0,a=e.length;i<a;i++){var l=e[i];(r=l)&&"string"!=typeof r&&(r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&"String"!==r.constructor.name))?o=t.call(o,n.call(l)):o.push(l)}return o};r.wrap=function(e){return function(){return e(r(arguments))}}})),b=p((function(e){var t=Object.hasOwnProperty,n=Object.create(null);for(var r in g)t.call(g,r)&&(n[g[r]]=r);var o=e.exports={to:{},get:{}};function i(e,t,n){return Math.min(Math.max(t,e),n)}function a(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}o.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=o.get.hsl(e),n="hsl";break;case"hwb":t=o.get.hwb(e),n="hwb";break;default:t=o.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},o.get.rgb=function(e){if(!e)return null;var n,r,o,a=[0,0,0,1];if(n=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=n[2],n=n[1],r=0;r<3;r++){var l=2*r;a[r]=parseInt(n.slice(l,l+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(n=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(n=n[1])[3],r=0;r<3;r++)a[r]=parseInt(n[r]+n[r],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(n=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(n[r+1],0);n[4]&&(n[5]?a[3]=.01*parseFloat(n[4]):a[3]=parseFloat(n[4]))}else{if(!(n=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(n=e.match(/^(\w+)$/))?"transparent"===n[1]?[0,0,0,0]:t.call(g,n[1])?((a=g[n[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(n[r+1]));n[4]&&(n[5]?a[3]=.01*parseFloat(n[4]):a[3]=parseFloat(n[4]))}for(r=0;r<3;r++)a[r]=i(a[r],0,255);return a[3]=i(a[3],0,1),a},o.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,i(parseFloat(t[2]),0,100),i(parseFloat(t[3]),0,100),i(isNaN(n)?1:n,0,1)]}return null},o.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,i(parseFloat(t[2]),0,100),i(parseFloat(t[3]),0,100),i(isNaN(n)?1:n,0,1)]}return null},o.to.hex=function(){var e=f(arguments);return"#"+a(e[0])+a(e[1])+a(e[2])+(e[3]<1?a(Math.round(255*e[3])):"")},o.to.rgb=function(){var e=f(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},o.to.rgb.percent=function(){var e=f(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},o.to.hsl=function(){var e=f(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},o.to.hwb=function(){var e=f(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},o.to.keyword=function(e){return n[e.slice(0,3)]}})),m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const v={};for(const e of Object.keys(m))v[m[e]]=e;const y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var C=y;for(const e of Object.keys(y)){if(!("channels"in y[e]))throw new Error("missing channels property: "+e);if(!("labels"in y[e]))throw new Error("missing channel labels property: "+e);if(y[e].labels.length!==y[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=y[e];delete y[e].channels,delete y[e].labels,Object.defineProperty(y[e],"channels",{value:t}),Object.defineProperty(y[e],"labels",{value:n})}function w(e,t){return function(n){return t(e(n))}}function x(e,t){const n=[t[e].parent,e];let r=C[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)n.unshift(t[o].parent),r=w(C[t[o].parent][o],r),o=t[o].parent;return r.conversion=n,r}y.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=i-o;let l,s;i===o?l=0:t===i?l=(n-r)/a:n===i?l=2+(r-t)/a:r===i&&(l=4+(t-n)/a),l=Math.min(60*l,360),l<0&&(l+=360);const c=(o+i)/2;return s=i===o?0:c<=.5?a/(i+o):a/(2-i-o),[l,100*s,100*c]},y.rgb.hsv=function(e){let t,n,r,o,i;const a=e[0]/255,l=e[1]/255,s=e[2]/255,c=Math.max(a,l,s),h=c-Math.min(a,l,s),u=function(e){return(c-e)/6/h+.5};return 0===h?(o=0,i=0):(i=h/c,t=u(a),n=u(l),r=u(s),a===c?o=r-n:l===c?o=1/3+t-r:s===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},y.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const o=y.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[o,100*i,100*r]},y.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},y.rgb.keyword=function(e){const t=v[e];if(t)return t;let n,r=1/0;for(const t of Object.keys(m)){const a=(i=m[t],((o=e)[0]-i[0])**2+(o[1]-i[1])**2+(o[2]-i[2])**2);a<r&&(r=a,n=t)}var o,i;return n},y.keyword.rgb=function(e){return m[e]},y.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},y.rgb.lab=function(e){const t=y.rgb.xyz(e);let n=t[0],r=t[1],o=t[2];return n/=95.047,r/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*r-16,500*(n-r),200*(r-o)]},y.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let o,i,a;if(0===n)return a=255*r,[a,a,a];o=r<.5?r*(1+n):r+n-r*n;const l=2*r-o,s=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,a=6*i<1?l+6*(o-l)*i:2*i<1?o:3*i<2?l+(o-l)*(2/3-i)*6:l,s[e]=255*a;return s},y.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,o=n;const i=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),(r+n)/2*100]},y.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),l=255*r*(1-n*i),s=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,s,a];case 1:return[l,r,a];case 2:return[a,r,s];case 3:return[a,l,r];case 4:return[s,a,r];case 5:return[r,a,l]}},y.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,o=Math.max(r,.01);let i,a;a=(2-n)*r;const l=(2-n)*o;return i=n*o,i/=l<=1?l:2-l,i=i||0,a/=2,[t,100*i,100*a]},y.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const o=n+r;let i;o>1&&(n/=o,r/=o);const a=Math.floor(6*t),l=1-r;i=6*t-a,0!=(1&a)&&(i=1-i);const s=n+i*(l-n);let c,h,u;switch(a){default:case 6:case 0:c=l,h=s,u=n;break;case 1:c=s,h=l,u=n;break;case 2:c=n,h=l,u=s;break;case 3:c=n,h=s,u=l;break;case 4:c=s,h=n,u=l;break;case 5:c=l,h=n,u=s}return[255*c,255*h,255*u]},y.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},y.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let o,i,a;return o=3.2406*t+-1.5372*n+-.4986*r,i=-.9689*t+1.8758*n+.0415*r,a=.0557*t+-.204*n+1.057*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*o,255*i,255*a]},y.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},y.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const o=n**3,i=t**3,a=r**3;return n=o>.008856?o:(n-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},y.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let o;return o=360*Math.atan2(r,n)/2/Math.PI,o<0&&(o+=360),[t,Math.sqrt(n*n+r*r),o]},y.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},y.rgb.ansi16=function(e,t=null){const[n,r,o]=e;let i=null===t?y.rgb.hsv(e)[2]:t;if(i=Math.round(i/50),0===i)return 30;let a=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===i&&(a+=60),a},y.hsv.ansi16=function(e){return y.rgb.ansi16(y.hsv.rgb(e),e[2])},y.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},y.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},y.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},y.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},y.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},y.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(Math.max(t,n),r),i=Math.min(Math.min(t,n),r),a=o-i;let l,s;return l=a<1?i/(1-a):0,s=a<=0?0:o===t?(n-r)/a%6:o===n?2+(r-t)/a:4+(t-n)/a,s/=6,s%=1,[360*s,100*a,100*l]},y.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},y.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},y.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const o=[0,0,0],i=t%1*6,a=i%1,l=1-a;let s=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return s=(1-n)*r,[255*(n*o[0]+s),255*(n*o[1]+s),255*(n*o[2]+s)]},y.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},y.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},y.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},y.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},y.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},y.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},y.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},y.gray.hsl=function(e){return[0,0,e[0]]},y.gray.hsv=y.gray.hsl,y.gray.hwb=function(e){return[0,100,e[0]]},y.gray.cmyk=function(e){return[0,0,0,e[0]]},y.gray.lab=function(e){return[e[0],0,0]},y.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},y.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const S={};Object.keys(C).forEach((e=>{S[e]={},Object.defineProperty(S[e],"channels",{value:C[e].channels}),Object.defineProperty(S[e],"labels",{value:C[e].labels});const t=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(C);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),r=Object.keys(C[e]);for(let o=r.length,i=0;i<o;i++){const o=r[i],a=t[o];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,n.unshift(o))}}return t}(e),n={},r=Object.keys(t);for(let e=r.length,o=0;o<e;o++){const e=r[o];null!==t[e].parent&&(n[e]=x(e,t))}return n}(e);Object.keys(t).forEach((n=>{const r=t[n];S[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),S[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))}));var k=S;const M=["keyword","gray","hex"],A={};for(const e of Object.keys(k))A[[...k[e].labels].sort().join("")]=e;const I={};function F(e,t){if(!(this instanceof F))return new F(e,t);if(t&&t in M&&(t=null),t&&!(t in k))throw new Error("Unknown model: "+t);let n,r;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof F)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=b.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,r=k[this.model].channels,this.color=t.value.slice(0,r),this.valpha="number"==typeof t.value[r]?t.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=k[this.model].channels;const n=Array.prototype.slice.call(e,0,r);this.color=D(n,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in A))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=A[r];const{labels:o}=k[this.model],i=[];for(n=0;n<o.length;n++)i.push(e[o[n]]);this.color=D(i)}if(I[this.model])for(r=k[this.model].channels,n=0;n<r;n++){const e=I[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}F.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in b.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return b.to[t.model](n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return b.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=k[this.model],{labels:n}=k[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new F([...this.color.map(H(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new F([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:O("rgb",0,P(255)),green:O("rgb",1,P(255)),blue:O("rgb",2,P(255)),hue:O(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:O("hsl",1,P(100)),lightness:O("hsl",2,P(100)),saturationv:O("hsv",1,P(100)),value:O("hsv",2,P(100)),chroma:O("hcg",1,P(100)),gray:O("hcg",2,P(100)),white:O("hwb",1,P(100)),wblack:O("hwb",2,P(100)),cyan:O("cmyk",0,P(100)),magenta:O("cmyk",1,P(100)),yellow:O("cmyk",2,P(100)),black:O("cmyk",3,P(100)),x:O("xyz",0,P(95.047)),y:O("xyz",1,P(100)),z:O("xyz",2,P(108.833)),l:O("lab",0,P(100)),a:O("lab",1),b:O("lab",2),keyword(e){return void 0!==e?new F(e):k[this.model].keyword(this.color)},hex(e){return void 0!==e?new F(e):b.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new F(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),b.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return F.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),o=void 0===t?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),l=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,s=1-l;return F.rgb(l*n.red()+s*r.red(),l*n.green()+s*r.green(),l*n.blue()+s*r.blue(),n.alpha()*o+r.alpha()*(1-o))}};for(const e of Object.keys(k)){if(M.includes(e))continue;const{channels:t}=k[e];F.prototype[e]=function(...t){return this.model===e?new F(this):t.length>0?new F(t,e):new F([...(n=k[this.model][e].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],e);var n},F[e]=function(...n){let r=n[0];return"number"==typeof r&&(r=D(n,t)),new F(r,e)}}function H(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function O(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(I[r]||(I[r]=[]))[t]=n;return e=e[0],function(r){let o;return void 0!==r?(n&&(r=n(r)),o=this[e](),o.color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function P(e){return function(t){return Math.max(0,Math.min(e,t))}}function D(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}var L=F;const j="channel",$="control",E="control-and-scope",R="scope",z="section",T="slider",N=L("#007AC2"),B="calcite-color-",K={r:255,g:255,b:255},_={h:360,s:100,v:100},q=_.h-1,U=100,V={s:{slider:{height:12,width:104},colorField:{height:80,width:160},thumb:{radius:10}},m:{slider:{height:12,width:204},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:12,width:384},colorField:{height:200,width:464},thumb:{radius:10}}},W=class{constructor(e){(0,r.r)(this,e),this.calciteColorPickerChange=(0,r.c)(this,"calciteColorPickerChange",6),this.calciteColorPickerInput=(0,r.c)(this,"calciteColorPickerInput",6),this.internalColorUpdateContext=null,this.mode=i.C.HEX,this.shiftKeyChannelAdjustment=0,this.handleTabActivate=e=>{this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=e=>{const{key:t}=e,n={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};n[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+n[t].x||0,this.colorFieldScopeTop+n[t].y||0,!1))},this.handleHueScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:n}=e,r={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(r[n]){e.preventDefault();const o=r[n]*t,i=this.baseColorFieldColor.hue(),a=this.baseColorFieldColor.hue(i+o);this.internalColorSet(a,!1)}},this.handleHexInputChange=e=>{e.stopPropagation();const{allowEmpty:t,color:n}=this,r=e.target.value;!t||r?r!==(n&&(0,i.n)((0,i.a)(n,(0,i.c)(this.mode))))&&this.internalColorSet(L(r)):this.internalColorSet(null)},this.handleSavedColorSelect=e=>{const t=e.currentTarget;this.internalColorSet(L(t.color))},this.handleChannelInput=e=>{const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),r=3===n?U:"rgb"===this.channelMode?K[Object.keys(K)[n]]:_[Object.keys(_)[n]];let o;if(this.allowEmpty&&!t.value)o="";else{const e=Number(t.value)+this.shiftKeyChannelAdjustment;o=(0,h.c)(e,0,r).toString()}t.value=o,""!==o&&0!==this.shiftKeyChannelAdjustment&&this.handleChannelChange(e)},this.handleChannelChange=e=>{const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),r=[...this.channels];if(this.allowEmpty&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const o=3===n,a=Number(t.value);r[n]=o?(0,i.o)(a):a,this.updateColorFromChannels(r)},this.handleSavedColorKeyDown=e=>{(0,l.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))},this.handleColorFieldPointerDown=e=>{if(!(0,o.i)(e))return;const{offsetX:t,offsetY:n}=e;window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.colorFieldRenderingContext,bounds:this.colorFieldRenderingContext.canvas.getBoundingClientRect()},this.captureColorFieldColor(t,n),this.colorFieldScopeNode.focus()},this.handleHueSliderPointerDown=e=>{if(!(0,o.i)(e))return;const{offsetX:t}=e;window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.hueSliderRenderingContext,bounds:this.hueSliderRenderingContext.canvas.getBoundingClientRect()},this.captureHueSliderColor(t),this.hueScopeNode.focus()},this.handleOpacitySliderPointerDown=e=>{if(!(0,o.i)(e))return;const{offsetX:t}=e;window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.opacitySliderRenderingContext,bounds:this.opacitySliderRenderingContext.canvas.getBoundingClientRect()},this.captureOpacitySliderValue(t),this.opacityScopeNode.focus()},this.globalPointerUpHandler=e=>{if(!(0,o.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:n}=this;if(!n.isConnected||!t)return;const{context:r,bounds:o}=t;let i,a;const{clientX:l,clientY:s}=e;r.canvas.matches(":hover")?(i=l-o.x,a=s-o.y):(i=l<o.x+o.width&&l>o.x?l-o.x:l<o.x?0:o.width,a=s<o.y+o.height&&s>o.y?s-o.y:s<o.y?0:o.height),r===this.colorFieldRenderingContext?this.captureColorFieldColor(i,a,!1):r===this.hueSliderRenderingContext?this.captureHueSliderColor(i):r===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(i)},this.storeColorFieldScope=e=>{this.colorFieldScopeNode=e},this.storeHueScope=e=>{this.hueScopeNode=e},this.renderChannelsTabTitle=e=>{const{channelMode:t,messages:n}=this,o=e===t,i="rgb"===e?n.rgb:n.hsv;return(0,r.h)("calcite-tab-title",{class:"color-mode","data-color-mode":e,key:e,onCalciteTabsActivate:this.handleTabActivate,selected:o},i)},this.renderChannelsTab=e=>{const{allowEmpty:t,channelMode:n,channels:a,messages:l,alphaChannel:s}=this,c=e===n,h="rgb"===e?[l.red,l.green,l.blue]:[l.hue,l.saturation,l.value],u=(0,o.g)(this.el),d=s?a:a.slice(0,3);return(0,r.h)("calcite-tab",{class:$,key:e,selected:c},(0,r.h)("div",{class:"channels",dir:"ltr"},d.map(((e,n)=>{const r=3===n;return r&&(e=t&&!e?e:(0,i.b)(e)),this.renderChannel(e,n,h[n],u,r?"%":"")}))))},this.renderChannel=(e,t,n,o,i)=>(0,r.h)("calcite-input-number",{class:j,"data-channel-index":t,dir:o,key:t,label:n,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.handleChannelChange,onCalciteInputNumberInput:this.handleChannelInput,onKeyDown:this.handleKeyDown,scale:"l"===this.scale?"m":"s",style:{marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""},suffixText:i,value:e?.toString()}),this.deleteColor=()=>{const e=(0,i.a)(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter((t=>t!==e));this.savedColors=t;const n=`${B}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(t))},this.saveColor=()=>{const e=(0,i.a)(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const n=`${B}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(t))},this.drawColorControls=(0,d.t)(((e="all")=>{"all"!==e&&"color-field"!==e||!this.colorFieldRenderingContext||this.drawColorField(),"all"!==e&&"hue-slider"!==e||!this.hueSliderRenderingContext||this.drawHueSlider(),this.alphaChannel&&("all"===e||"opacity-slider"===e)&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()}),16),this.captureColorFieldColor=(e,t,n=!0)=>{const{dimensions:{colorField:{height:r,width:o}}}=this,i=Math.round(_.s/o*e),a=Math.round(_.v/r*(r-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(i).value(a),n)},this.initColorField=e=>{this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls()},this.initHueSlider=e=>{this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider()},this.initOpacitySlider=e=>{e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())},this.storeOpacityScope=e=>{this.opacityScopeNode=e},this.handleOpacityScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:n}=e,r={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(r[n]){e.preventDefault();const o=r[n]*t,i=this.baseColorFieldColor.alpha(),a=this.baseColorFieldColor.alpha(i+o);this.internalColorSet(a,!1)}},this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.color=N,this.disabled=!1,this.format="auto",this.hideChannels=!1,this.hexDisabled=!1,this.hideHex=!1,this.hideSaved=!1,this.savedDisabled=!1,this.scale="m",this.storageId=void 0,this.messageOverrides=void 0,this.numberingSystem=void 0,this.value=(0,i.n)((0,i.a)(N,this.alphaChannel)),this.defaultMessages=void 0,this.channelMode="rgb",this.channels=this.toChannels(N),this.dimensions=V.m,this.effectiveLocale="",this.messages=void 0,this.savedColors=[],this.colorFieldScopeTop=void 0,this.colorFieldScopeLeft=void 0,this.hueScopeLeft=void 0,this.opacityScopeLeft=void 0,this.scopeOrientation=void 0}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!(0,i.c)(t)&&(console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`),this.alphaChannel=!1)}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(e="m"){this.updateDimensions(e),this.updateCanvasSize("all"),this.drawColorControls()}onMessagesChange(){}handleValueChange(e,t){const{allowEmpty:n,format:r}=this;let o=!1;if(!n||e){const n=(0,i.p)(e);if(!n||"auto"!==r&&n!==r)return this.showIncompatibleColorWarning(e,r),void(this.value=t);o=this.mode!==n,this.setMode(n,null===this.internalColorUpdateContext)}const a=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(a||this.calciteColorPickerChange.emit());const l=n&&!e?null:L(null!=e&&"object"==typeof e&&(0,i.c)(this.mode)?(0,i.g)(e):e),s=!(0,i.d)(l,this.color);(o||s)&&this.internalColorSet(l,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css")),"internal")}get baseColorFieldColor(){return this.color||this.previousColor||N}effectiveLocaleChange(){(0,u.u)(this,this.effectiveLocale)}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some((e=>e.classList?.contains(j))))return;const{shiftKey:n}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&n?9:"ArrowDown"===t&&n?-9:0}async setFocus(){await(0,s.c)(this),this.el.focus()}async componentWillLoad(){(0,s.s)(this);const{allowEmpty:e,color:t,format:n,value:r}=this,o=e&&!r,a=(0,i.p)(r),l=o||"auto"===n&&a||n===a,c=o?null:l?L(r):t;l||this.showIncompatibleColorWarning(r,n),this.setMode(n,!1),this.internalColorSet(c,!1,"initial"),this.updateDimensions(this.scale);const h=`${B}${this.storageId}`;this.storageId&&localStorage.getItem(h)&&(this.savedColors=JSON.parse(localStorage.getItem(h))),await(0,u.s)(this)}connectedCallback(){(0,a.c)(this),(0,c.c)(this),(0,u.c)(this)}componentDidLoad(){(0,s.a)(this)}disconnectedCallback(){window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),(0,a.d)(this),(0,c.d)(this),(0,u.d)(this)}componentDidRender(){(0,a.u)(this)}render(){const{allowEmpty:e,channelsDisabled:t,color:n,colorFieldScopeLeft:o,colorFieldScopeTop:l,dimensions:{slider:{width:s},thumb:{radius:c}},hexDisabled:h,hideChannels:u,hideHex:d,hideSaved:p,hueScopeLeft:g,messages:f,alphaChannel:b,opacityScopeLeft:m,savedColors:v,savedDisabled:y,scale:C,scopeOrientation:w}=this,x=n?(0,i.a)(n,b):null,S=c,k=g??s*N.hue()/_.h,M=c,A=m??s*(0,i.b)(N.alpha())/U,I=null===n,F="vertical"===w,H=h||d,O=t||u,P=y||p,[D,L]=this.getAdjustedScopePosition(o,l),[j,B]=this.getAdjustedScopePosition(k,S),[K,q]=this.getAdjustedScopePosition(A,M);return(0,r.h)(a.I,{disabled:this.disabled},(0,r.h)("div",{class:"container"},(0,r.h)("div",{class:E},(0,r.h)("canvas",{class:"color-field",onPointerDown:this.handleColorFieldPointerDown,ref:this.initColorField}),(0,r.h)("div",{"aria-label":F?f.value:f.saturation,"aria-valuemax":F?_.v:_.s,"aria-valuemin":"0","aria-valuenow":(F?n?.saturationv():n?.value())||"0",class:{[R]:!0,"scope--color-field":!0},onKeyDown:this.handleColorFieldScopeKeyDown,role:"slider",style:{top:`${L||0}px`,left:`${D||0}px`},tabindex:"0",ref:this.storeColorFieldScope})),(0,r.h)("div",{class:"preview-and-sliders"},(0,r.h)("calcite-color-picker-swatch",{class:"preview",color:x,scale:"l"}),(0,r.h)("div",{class:"sliders"},(0,r.h)("div",{class:E},(0,r.h)("canvas",{class:{[T]:!0,"hue-slider":!0},onPointerDown:this.handleHueSliderPointerDown,ref:this.initHueSlider}),(0,r.h)("div",{"aria-label":f.hue,"aria-valuemax":_.h,"aria-valuemin":"0","aria-valuenow":n?.round().hue()||N.round().hue(),class:{[R]:!0,"scope--hue":!0},onKeyDown:this.handleHueScopeKeyDown,role:"slider",style:{top:`${B}px`,left:`${j}px`},tabindex:"0",ref:this.storeHueScope})),b?(0,r.h)("div",{class:E},(0,r.h)("canvas",{class:{[T]:!0,"opacity-slider":!0},onPointerDown:this.handleOpacitySliderPointerDown,ref:this.initOpacitySlider}),(0,r.h)("div",{"aria-label":f.opacity,"aria-valuemax":U,"aria-valuemin":0,"aria-valuenow":(n||N).round().alpha(),class:{[R]:!0,"scope--opacity":!0},onKeyDown:this.handleOpacityScopeKeyDown,role:"slider",style:{top:`${q}px`,left:`${K}px`},tabindex:"0",ref:this.storeOpacityScope})):null)),H&&O?null:(0,r.h)("div",{class:{"control-section":!0,[z]:!0}},(0,r.h)("div",{class:"hex-and-channels-group"},H?null:(0,r.h)("div",{class:"color-hex-options"},(0,r.h)("calcite-color-picker-hex-input",{allowEmpty:e,alphaChannel:b,class:$,messages:f,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:C,value:x})),O?null:(0,r.h)("calcite-tabs",{class:{"color-mode-container":!0,"section--split":!0},scale:"l"===C?"m":"s"},(0,r.h)("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv")))),P?null:(0,r.h)("div",{class:{"saved-colors-section":!0,[z]:!0}},(0,r.h)("div",{class:"header"},(0,r.h)("label",null,f.saved),(0,r.h)("div",{class:"saved-colors-buttons"},(0,r.h)("calcite-button",{appearance:"transparent",class:"delete-color",disabled:I,iconStart:"minus",kind:"neutral",label:f.deleteColor,onClick:this.deleteColor,scale:C,type:"button"}),(0,r.h)("calcite-button",{appearance:"transparent",class:"save-color",disabled:I,iconStart:"plus",kind:"neutral",label:f.saveColor,onClick:this.saveColor,scale:C,type:"button"}))),v.length>0?(0,r.h)("div",{class:"saved-colors"},[...v.map((e=>(0,r.h)("calcite-color-picker-swatch",{class:"saved-color",color:e,key:e,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:C,tabIndex:0})))]):null)))}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e,t=!0){const n="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(n,t)}ensureCompatibleMode(e,t){const{alphaChannel:n}=this,r=(0,i.c)(e);if(n&&!r){const n=(0,i.f)(e);return t&&console.warn(`setting format to (${n}) as the provided one (${e}) does not support alpha`),n}if(!n&&r){const n=(0,i.t)(e);return t&&console.warn(`setting format to (${n}) as the provided one (${e}) does not support alpha`),n}return e}captureHueSliderColor(e){const{dimensions:{slider:{width:t}}}=this,n=q/t*e;this.internalColorSet(this.baseColorFieldColor.hue(n),!1)}captureOpacitySliderValue(e){const{dimensions:{slider:{width:t}}}=this,n=(0,i.o)(U/t*e);this.internalColorSet(this.baseColorFieldColor.alpha(n),!1)}internalColorSet(e,t=!0,n="user-interaction"){t&&(0,i.d)(e,this.color)||(this.internalColorUpdateContext=n,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;if(t.includes("hex")){const n=t===i.C.HEXA;return(0,i.n)((0,i.a)(e.round(),n),n)}if(t.includes("-css")){const n=e[t.replace("-css","").replace("a","")]().round().string();return(t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()?`${n.slice(0,3)}a(${n.slice(4,-1)}, ${e.alpha()})`:n}const n=e[(0,i.t)(t)]().round().object();return t.endsWith("a")?(0,i.e)(n):n}getSliderCapSpacing(){const{dimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateDimensions(e="m"){this.dimensions=V[e]}drawColorField(){const e=this.colorFieldRenderingContext,{dimensions:{colorField:{height:t,width:n}}}=this;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,n,t);const r=e.createLinearGradient(0,0,n,0);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=r,e.fillRect(0,0,n,t);const o=e.createLinearGradient(0,0,0,t);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=o,e.fillRect(0,0,n,t),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:n}){if(!e)return;const r=window.devicePixelRatio||1;e.width=n*r,e.height=t*r,e.style.height=`${t}px`,e.style.width=`${n}px`,e.getContext("2d").scale(r,r)}updateCanvasSize(e="all"){const{dimensions:t}=this;"all"!==e&&"color-field"!==e||this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,t.colorField);const n={width:t.slider.width,height:t.slider.height+2*(t.thumb.radius-t.slider.height/2)};"all"!==e&&"hue-slider"!==e||this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,n),"all"!==e&&"opacity-slider"!==e||this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,n)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{dimensions:{colorField:{height:n,width:r},thumb:{radius:o}}}=this,i=t.saturationv()/(_.s/r),a=n-t.value()/(_.v/n);requestAnimationFrame((()=>{this.colorFieldScopeLeft=i,this.colorFieldScopeTop=a})),this.drawThumb(this.colorFieldRenderingContext,o,i,a,t,!1)}drawThumb(e,t,n,r,o,i){const a=2*Math.PI;if(e.beginPath(),e.arc(n,r,t,0,a),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),i&&o.alpha()<1){const o=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(n,r,t-3,0,a),e.fillStyle=o,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(n,r,t-3,0,a);const l=i?o.alpha():1;e.fillStyle=o.rgb().alpha(l).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{dimensions:{slider:{width:n},thumb:{radius:r}}}=this,o=t.hue()/(q/n),i=r,a=this.getSliderBoundX(o,n,r);requestAnimationFrame((()=>{this.hueScopeLeft=a})),this.drawThumb(this.hueSliderRenderingContext,r,a,i,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{dimensions:{slider:{height:t,width:n},thumb:{radius:r}}}=this,o=r-t/2,i=e.createLinearGradient(0,0,n,0),a=["red","yellow","lime","cyan","blue","magenta","#ff0004"],l=1/(a.length-1);let s=0;a.forEach((e=>{i.addColorStop(s,L(e).string()),s+=l})),e.clearRect(0,0,n,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,n,0,o),e.fillStyle=i,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,dimensions:{slider:{height:n,width:r},thumb:{radius:o}}}=this,i=o-n/2;e.clearRect(0,0,r,n+2*this.getSliderCapSpacing());const a=e.createLinearGradient(0,i,r,0),l=t.rgb().alpha(0),s=t.rgb().alpha(.5),c=t.rgb().alpha(1);a.addColorStop(0,l.string()),a.addColorStop(.5,s.string()),a.addColorStop(1,c.string()),this.drawSliderPath(e,n,r,0,i);const h=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=h,e.fill(),e.fillStyle=a,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,n,r,o){const i=t/2+1;e.beginPath(),e.moveTo(r+i,o),e.lineTo(r+n-i,o),e.quadraticCurveTo(r+n,o,r+n,o+i),e.lineTo(r+n,o+t-i),e.quadraticCurveTo(r+n,o+t,r+n-i,o+t),e.lineTo(r+i,o+t),e.quadraticCurveTo(r,o+t,r,o+t-i),e.lineTo(r,o+i),e.quadraticCurveTo(r,o,r+i,o),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{dimensions:{slider:{width:n},thumb:{radius:r}}}=this,o=(0,i.b)(t.alpha())/(U/n),a=r,l=this.getSliderBoundX(o,n,r);requestAnimationFrame((()=>{this.opacityScopeLeft=l})),this.drawThumb(this.opacitySliderRenderingContext,r,l,a,t,!0)}getSliderBoundX(e,t,n){const r=(0,h.a)(e,t,n);return 0===r?e:-1===r?(0,h.r)(e,0,t,n,2*n):(0,h.r)(e,0,t,t-2*n,t-n)}updateColorFromChannels(e){this.internalColorSet(L(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,n=e[t]().array().map(((e,t)=>3===t?e:Math.floor(e)));return 3===n.length&&n.push(1),n}getAdjustedScopePosition(e,t){return[e-.5,t-.5]}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return(0,r.g)(this)}static get watchers(){return{alphaChannel:["handleAlphaChannelChange","handleFormatOrAlphaChannelChange"],color:["handleColorChange"],format:["handleFormatOrAlphaChannelChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}};W.style=':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-color-picker-spacing:8px}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{gap:0.25rem;grid-template-columns:repeat(auto-fill, 20px)}:host([scale=m]){--calcite-color-picker-spacing:12px}:host([scale=m]) .container{inline-size:272px}:host([scale=l]){--calcite-color-picker-spacing:16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, 32px)}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline;flex-wrap:wrap}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:inline-block;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand-hover, var(--calcite--color-brand)));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          );outline-offset:11px}.hex-and-channels-group{inline-size:100%}.hex-and-channels-group,.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex;row-gap:0.125rem}.channel[data-channel-index="3"]{inline-size:159px}:host([scale=s]) .channels{flex-wrap:wrap}:host([scale=s]) .channel{flex-basis:30%;flex-grow:1}:host([scale=s]) .channel[data-channel-index="3"]{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .channel[data-channel-index="3"]{inline-size:131px}.saved-colors{display:grid;gap:0.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill, 24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}';const G=L(),X=class{constructor(e){(0,r.r)(this,e),this.calciteColorPickerHexInputChange=(0,r.c)(this,"calciteColorPickerHexInputChange",6),this.onHexInputBlur=()=>{const e=this.hexInputNode,t=e.value,n=`#${t}`,{allowEmpty:r,internalColor:o}=this,a=r&&!t,l=(0,i.j)(n);this.onHexInputChange(),a||(0,i.i)(n)&&l||(e.value=r&&!o?"":this.formatHexForInternalInput((0,i.r)(o.object())))},this.onOpacityInputBlur=()=>{const e=this.opacityInputNode,t=e.value,{allowEmpty:n,internalColor:r}=this;n&&!t||(e.value=n&&!r?"":this.formatOpacityForInternalInput(r))},this.onHexInputChange=()=>{let e=this.hexInputNode.value;if(e){const t=(0,i.n)(e,!1);(0,i.i)(t)&&this.alphaChannel&&this.internalColor&&(e=`${t+(0,i.n)(this.internalColor.hexa(),!0).slice(-2)}`)}this.internalSetValue(e,this.value)},this.onOpacityInputChange=()=>{const e=this.opacityInputNode;let t;if(e.value){const n=(0,i.o)(Number(e.value));t=this.internalColor?.alpha(n).hexa()}else t=e.value;this.internalSetValue(t,this.value)},this.onInputKeyDown=e=>{const{altKey:t,ctrlKey:n,metaKey:r,shiftKey:o}=e,{alphaChannel:a,hexInputNode:l,internalColor:s,value:c}=this,{key:h}=e,u=e.composedPath();if("Tab"===h||"Enter"===h)return u.includes(l)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===h&&e.preventDefault());const d="ArrowDown"===h||"ArrowUp"===h,p=this.value;if(d){if(!c)return this.internalSetValue(this.previousNonNullValue,p),void e.preventDefault();const t="ArrowUp"===h?1:-1,n=o?10:1;return this.internalSetValue((0,i.a)(this.nudgeRGBChannels(s,n*t,u.includes(l)?"rgb":"a"),a),p),void e.preventDefault()}const g=t||n||r,f=1===h.length,b=i.k.test(h);!f||g||b||e.preventDefault()},this.onHexInputPaste=e=>{const t=e.clipboardData.getData("text");(0,i.i)(t)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1))},this.previousNonNullValue=this.value,this.storeHexInputRef=e=>{this.hexInputNode=e},this.storeOpacityInputRef=e=>{this.opacityInputNode=e},this.allowEmpty=!1,this.alphaChannel=!1,this.hexLabel="Hex",this.messages=void 0,this.numberingSystem=void 0,this.scale="m",this.value=(0,i.n)((0,i.a)(G,this.alphaChannel),this.alphaChannel,!0),this.internalColor=G}connectedCallback(){const{allowEmpty:e,alphaChannel:t,value:n}=this;if(n){const e=(0,i.n)(n,t);(0,i.i)(e,t)&&this.internalSetValue(e,e,!1)}else e&&this.internalSetValue(null,null,!1)}componentWillLoad(){(0,s.s)(this)}componentDidLoad(){(0,s.a)(this)}handleValueChange(e,t){this.internalSetValue(e,t,!1)}render(){const{alphaChannel:e,hexLabel:t,internalColor:n,messages:o,scale:i,value:a}=this,l=this.formatHexForInternalInput(a),s=this.formatOpacityForInternalInput(n),c="l"===i?"m":"s";return(0,r.h)("div",{class:"container"},(0,r.h)("calcite-input-text",{class:"hex-input",label:o?.hex||t,maxLength:6,onCalciteInputTextChange:this.onHexInputChange,onCalciteInternalInputTextBlur:this.onHexInputBlur,onKeyDown:this.onInputKeyDown,onPaste:this.onHexInputPaste,prefixText:"#",scale:c,value:l,ref:this.storeHexInputRef}),e?(0,r.h)("calcite-input-number",{class:"opacity-input",key:"opacity-input",label:o?.opacity,max:U,maxLength:3,min:0,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.onOpacityInputChange,onCalciteInternalInputNumberBlur:this.onOpacityInputBlur,onKeyDown:this.onInputKeyDown,scale:c,suffixText:"%",value:s,ref:this.storeOpacityInputRef}):null)}async setFocus(){return await(0,s.c)(this),(0,o.d)(this.hexInputNode)}internalSetValue(e,t,n=!0){if(e){const{alphaChannel:t}=this,r=(0,i.n)(e,t,t);if((0,i.i)(r,t)){const{internalColor:e}=this,o=L(r),a=(0,i.n)((0,i.a)(o,t),t),l=!e||a!==(0,i.n)((0,i.a)(e,t),t);return this.internalColor=o,this.previousNonNullValue=a,this.value=a,void(l&&n&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=null,this.value=null,void(n&&this.calciteColorPickerHexInputChange.emit());this.value=t}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?`${(0,i.b)(e.alpha())}`:""}nudgeRGBChannels(e,t,n){let r;const o=e.array(),a=o.slice(0,3);if("rgb"===n)r=[...a.map((e=>e+t)),this.alphaChannel?o[3]:void 0];else{const n=(0,i.o)((0,i.b)(e.alpha())+t);r=[...a,n]}return L(r)}get el(){return(0,r.g)(this)}static get watchers(){return{value:["handleValueChange"]}}};X.style=":host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:68px;margin-inline-start:-1px}:host([scale=s]) .container{flex-wrap:wrap;row-gap:0.125rem}:host([scale=s]) .opacity-input{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .opacity-input{inline-size:88px}:host([hidden]){display:none}[hidden]{display:none}";const J="checker",Y=4,Q=8,Z=class{constructor(e){(0,r.r)(this,e),this.active=!1,this.color=void 0,this.scale="m"}handleColorChange(e){this.internalColor=e?L(e):null}componentWillLoad(){this.handleColorChange(this.color)}render(){const e={swatch:!0,"swatch--no-color":!this.internalColor};return(0,r.h)("svg",{class:e,xmlns:"http://www.w3.org/2000/svg"},this.renderSwatch())}renderSwatch(){const{active:e,el:t,internalColor:n}=this,a=e?"100%":"0",l={height:"100%",rx:a,stroke:"light"===(0,o.j)(t)?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.15)","stroke-width":"2",width:"100%"};if(!n)return(0,r.h)(r.F,null,(0,r.h)("clipPath",{id:"shape"},(0,r.h)("rect",{height:"100%",rx:a,width:"100%"})),(0,r.h)("rect",{"clip-path":`inset(0 round ${a})`,rx:a,...l}),(0,r.h)("line",{"clip-path":"url(#shape)","stroke-width":"3",x1:"100%",x2:"0",y1:"0",y2:"100%"}));const s=n.alpha(),c=(0,i.a)(n),h=(0,i.a)(n,s<1);return(0,r.h)(r.F,null,(0,r.h)("title",null,h),(0,r.h)("defs",null,(0,r.h)("pattern",{height:Q,id:"checker",patternUnits:"userSpaceOnUse",width:Q,x:"0",y:"0"},(0,r.h)("rect",{class:J,height:Y,width:Y,x:"0",y:"0"}),(0,r.h)("rect",{class:J,height:Y,width:Y,x:Y,y:Y}))),(0,r.h)("rect",{fill:"url(#checker)",height:"100%",rx:a,width:"100%"}),(0,r.h)("rect",{fill:c,style:{"clip-path":s<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${a})`},...l}),s<1?(0,r.h)("rect",{fill:h,key:"opacity-fill",style:{"clip-path":"polygon(100% 0, 100% 100%, 0 100%)"},...l}):null)}get el(){return(0,r.g)(this)}static get watchers(){return{color:["handleColorChange"]}}};Z.style=":host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}"},9046:(e,t,n)=>{n.d(t,{S:()=>a,a:()=>v,b:()=>f,c:()=>b,d:()=>D,f:()=>r,i:()=>w,r:()=>i});var r="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")(),a=i.Symbol,l=Object.prototype,s=l.hasOwnProperty,c=l.toString,h=a?a.toStringTag:void 0,u=Object.prototype.toString,d="[object Null]",p="[object Undefined]",g=a?a.toStringTag:void 0;function f(e){return null==e?void 0===e?p:d:g&&g in Object(e)?function(e){var t=s.call(e,h),n=e[h];try{e[h]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[h]=n:delete e[h]),o}(e):function(e){return u.call(e)}(e)}function b(e){return null!=e&&"object"==typeof e}var m="[object Symbol]";function v(e){return"symbol"==typeof e||b(e)&&f(e)==m}var y=/\s/,C=/^\s+/;function w(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var x=NaN,S=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,M=/^0o[0-7]+$/i,A=parseInt;function I(e){if("number"==typeof e)return e;if(v(e))return x;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;var n;e=(n=e)?n.slice(0,function(e){for(var t=e.length;t--&&y.test(e.charAt(t)););return t}(n)+1).replace(C,""):n;var r=k.test(e);return r||M.test(e)?A(e.slice(2),r?2:8):S.test(e)?x:+e}var F=function(){return i.Date.now()},H="Expected a function",O=Math.max,P=Math.min;function D(e,t,n){var r,o,i,a,l,s,c=0,h=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError(H);function p(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function g(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-c>=i}function f(){var e=F();if(g(e))return b(e);l=setTimeout(f,function(e){var n=t-(e-s);return u?P(n,i-(e-c)):n}(e))}function b(e){return l=void 0,d&&r?p(e):(r=o=void 0,a)}function m(){var e=F(),n=g(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(f,t),h?p(e):a}(s);if(u)return clearTimeout(l),l=setTimeout(f,t),p(s)}return void 0===l&&(l=setTimeout(f,t)),a}return t=I(t)||0,w(n)&&(h=!!n.leading,i=(u="maxWait"in n)?O(I(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=o=l=void 0},m.flush=function(){return void 0===l?a:b(F())},m}},2627:(e,t,n)=>{n.d(t,{I:()=>C,c:()=>m,d:()=>v,u:()=>d});var r=n(3849),o=n(9113);const i=/firefox/i.test((0,r.g)()),a=i?new WeakMap:null;function l(){const{disabled:e}=this;e||HTMLElement.prototype.click.call(this)}function s(e){const t=e.target;if(i&&!a.get(t))return;const{disabled:n}=t;n&&e.preventDefault()}const c=["mousedown","mouseup","click"];function h(e){const t=e.target;i&&!a.get(t)||t.disabled&&(e.stopImmediatePropagation(),e.preventDefault())}const u={capture:!0};function d(e){if(e.disabled)return e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),void p(e);f(e),e.el.removeAttribute("aria-disabled")}function p(e){if(e.el.click=l,i){const t=function(e){return e.el.parentElement||e.el}(e),n=a.get(e.el);return n!==t&&(b(n),a.set(e.el,t)),void g(a.get(e.el))}g(e.el)}function g(e){e&&(e.addEventListener("pointerdown",s,u),c.forEach((t=>e.addEventListener(t,h,u))))}function f(e){if(delete e.el.click,i)return b(a.get(e.el)),void a.delete(e.el);b(e.el)}function b(e){e&&(e.removeEventListener("pointerdown",s,u),c.forEach((t=>e.removeEventListener(t,h,u))))}function m(e){e.disabled&&i&&p(e)}function v(e){i&&f(e)}const y={container:"interaction-container"};function C({disabled:e},t){return(0,o.h)("div",{class:y.container,inert:e},...t)}},8545:(e,t,n)=>{n.d(t,{a:()=>l,b:()=>s,c:()=>c,s:()=>a});var r=n(9113);const o=new WeakMap,i=new WeakMap;function a(e){i.set(e,new Promise((t=>o.set(e,t))))}function l(e){o.get(e)()}function s(e){return i.get(e)}async function c(e){return await s(e),(0,r.f)(e),new Promise((e=>requestAnimationFrame((()=>e()))))}},260:(e,t,n)=>{n.d(t,{a:()=>s,c:()=>r,d:()=>i,g:()=>a,r:()=>l});const r=(e,t,n)=>Math.max(t,Math.min(e,n)),o=new RegExp(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),i=e=>{const t=(""+e).match(o);return t&&0!==parseInt(t[1])?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0};function a(e){return i(e)>0&&e>0?parseFloat(`0.${e.toString().split(".")[1]}`):e}function l(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r}function s(e,t,n){return e<n?-1:e>t-n?1:0}},8065:(e,t,n)=>{n.d(t,{c:()=>u,d:()=>d,s:()=>s,u:()=>h});var r=n(9113),o=n(3213);const i={};function a(){throw new Error("could not fetch component message bundle")}function l(e){e.messages={...e.defaultMessages,...e.messageOverrides}}async function s(e){e.defaultMessages=await c(e,e.effectiveLocale),l(e)}async function c(e,t){const{el:n}=e,l=n.tagName.toLowerCase().replace("calcite-","");return async function(e,t){const n=`${t}_${e}`;return i[n]||(i[n]=fetch((0,r.a)(`./assets/${t}/t9n/messages_${e}.json`)).then((e=>(e.ok||a(),e.json()))).catch((()=>a()))),i[n]}((0,o.g)(t,"t9n"),l)}async function h(e,t){e.defaultMessages=await c(e,t),l(e)}function u(e){e.onMessagesChange=p}function d(e){e.onMessagesChange=void 0}function p(){l(this)}},7040:(e,t,n)=>{n.d(t,{t:()=>i});var r=n(9046),o="Expected a function";function i(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(o);return(0,r.i)(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),(0,r.d)(e,t,{leading:i,maxWait:t,trailing:a})}},2752:(e,t,n)=>{n.d(t,{C:()=>w,a:()=>f,b:()=>s,c:()=>A,d:()=>M,e:()=>v,f:()=>I,g:()=>y,h:()=>C,i:()=>h,j:()=>p,k:()=>r,n:()=>g,o:()=>c,p:()=>S,r:()=>b,t:()=>F});const r=/^[0-9A-F]$/i,o=/^#[0-9A-F]{3}$/i,i=/^#[0-9A-F]{6}$/i,a=/^#[0-9A-F]{4}$/i,l=/^#[0-9A-F]{8}$/i,s=e=>Number((100*e).toFixed()),c=e=>Number((e/100).toFixed(2));function h(e,t=!1){return d(e,t)||p(e,t)}function u(e,t,n){return!!e&&e.length===t&&n.test(e)}function d(e,t=!1){return u(e,t?5:4,t?a:o)}function p(e,t=!1){return u(e,t?9:7,t?l:i)}function g(e,t=!1,n=!1){return(e=e.toLowerCase()).startsWith("#")||(e=`#${e}`),d(e,t)?b(C(e,t)):t&&n&&h(e,!1)?b(C(`${e}${d(e,!1)?"f":"ff"}`,!0)):e}function f(e,t=!1){return t?e.hexa():e.hex()}function b(e){const{r:t,g:n,b:r}=e;return`#${m(t)}${m(n)}${m(r)}${"a"in e?m(255*e.a):""}`.toLowerCase()}function m(e){return e.toString(16).padStart(2,"0")}function v(e){const t={...e,a:e.alpha??1};return delete t.alpha,t}function y(e){const t={...e,alpha:e.a??1};return delete t.a,t}function C(e,t=!1){if(!h(e,t))return null;let n,r,o,i;if(3===(e=e.replace("#","")).length||4===e.length){const[t,a,l,s]=e.split("");n=parseInt(`${t}${t}`,16),r=parseInt(`${a}${a}`,16),o=parseInt(`${l}${l}`,16),i=parseInt(`${s}${s}`,16)/255}else n=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),i=parseInt(e.slice(6,8),16)/255;return isNaN(i)?{r:n,g:r,b:o}:{r:n,g:r,b:o,a:i}}const w={HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"},x={RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"};function S(e){if("string"==typeof e){if(e.startsWith("#")){const{length:t}=e;if(4===t||7===t)return w.HEX;if(5===t||9===t)return w.HEXA}if(e.startsWith("rgba("))return w.RGBA_CSS;if(e.startsWith("rgb("))return w.RGB_CSS;if(e.startsWith("hsl("))return w.HSL_CSS;if(e.startsWith("hsla("))return w.HSLA_CSS}if("object"==typeof e){if(k(e,"r","g","b"))return k(e,"a")?x.RGBA:x.RGB;if(k(e,"h","s","l"))return k(e,"a")?x.HSLA:x.HSL;if(k(e,"h","s","v"))return k(e,"a")?x.HSVA:x.HSV}return null}function k(e,...t){return t.every((t=>t&&e&&`${t}`in e))}function M(e,t){return e?.rgb().array().toString()===t?.rgb().array().toString()}function A(e){return e===w.HEXA||e===w.RGBA_CSS||e===w.HSLA_CSS||e===x.RGBA||e===x.HSLA||e===x.HSVA}function I(e){return e===w.HEX?w.HEXA:e===w.RGB_CSS?w.RGBA_CSS:e===w.HSL_CSS?w.HSLA_CSS:e===x.RGB?x.RGBA:e===x.HSL?x.HSLA:e===x.HSV?x.HSVA:e}function F(e){return e===w.HEXA?w.HEX:e===w.RGBA_CSS?w.RGB_CSS:e===w.HSLA_CSS?w.HSL_CSS:e===x.RGBA?x.RGB:e===x.HSLA?x.HSL:e===x.HSVA?x.HSV:e}}}]);