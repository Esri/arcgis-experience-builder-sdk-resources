System.register(["jimu-core","jimu-theme","jimu-ui","jimu-ui/basic/color-picker"],(function(e,t){var n={},i={},s={},r={};return{setters:[function(e){n.AppMode=e.AppMode,n.Immutable=e.Immutable,n.LinkType=e.LinkType,n.RawIntlProvider=e.RawIntlProvider,n.React=e.React,n.ReactDOMClient=e.ReactDOMClient,n.ReactRedux=e.ReactRedux,n.classNames=e.classNames,n.css=e.css,n.defaultMessages=e.defaultMessages,n.expressionUtils=e.expressionUtils,n.focusElementInKeyboardMode=e.focusElementInKeyboardMode,n.getAppStore=e.getAppStore,n.hooks=e.hooks,n.i18n=e.i18n,n.jsx=e.jsx,n.lodash=e.lodash,n.polished=e.polished,n.utils=e.utils},function(e){i.CacheProvider=e.CacheProvider,i.Theme2GlobalStyleClassName=e.Theme2GlobalStyleClassName,i.ThemeProvider=e.ThemeProvider,i.createEmotionRTLCache=e.createEmotionRTLCache,i.getQuillCoreStyle=e.getQuillCoreStyle,i.getTheme=e.getTheme,i.getTheme2=e.getTheme2,i.styled=e.styled,i.useTheme=e.useTheme,i.useTheme2=e.useTheme2},function(e){s.AdvancedButtonGroup=e.AdvancedButtonGroup,s.Button=e.Button,s.ButtonGroup=e.ButtonGroup,s.DistanceUnits=e.DistanceUnits,s.Dropdown=e.Dropdown,s.DropdownButton=e.DropdownButton,s.DropdownItem=e.DropdownItem,s.DropdownMenu=e.DropdownMenu,s.FloatingPanel=e.FloatingPanel,s.FontFamilyValue=e.FontFamilyValue,s.Icon=e.Icon,s.ModalOverlayIdContext=e.ModalOverlayIdContext,s.NumericInput=e.NumericInput,s.Popper=e.Popper,s.Row=e.Row,s.Select=e.Select,s.TextAlignValue=e.TextAlignValue,s.TextInput=e.TextInput,s.VirtualReference=e.VirtualReference,s.defaultMessages=e.defaultMessages,s.hooks=e.hooks,s.richTextUtils=e.richTextUtils,s.styleUtils=e.styleUtils,s.utils=e.utils},function(e){r.ThemeColorPicker=e.ThemeColorPicker}],execute:function(){e((()=>{var e={30228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(e,t,i,r,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var l=new s(i,r||e,o),a=n?n+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],l]:e._events[a].push(l):(e._events[a]=l,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,i,s=[];if(0===this._eventsCount)return s;for(i in e=this._events)t.call(e,i)&&s.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},l.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var s=0,r=i.length,o=new Array(r);s<r;s++)o[s]=i[s].fn;return o},l.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,s,r,o){var l=n?n+e:e;if(!this._events[l])return!1;var a,c,u=this._events[l],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,s),!0;case 5:return u.fn.call(u.context,t,i,s,r),!0;case 6:return u.fn.call(u.context,t,i,s,r,o),!0}for(c=1,a=new Array(h-1);c<h;c++)a[c-1]=arguments[c];u.fn.apply(u.context,a)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,s);break;default:if(!a)for(d=1,a=new Array(h-1);d<h;d++)a[d-1]=arguments[d];u[c].fn.apply(u[c].context,a)}}return!0},l.prototype.on=function(e,t,n){return r(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return r(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,i,s){var r=n?n+e:e;if(!this._events[r])return this;if(!t)return o(this,r),this;var l=this._events[r];if(l.fn)l.fn!==t||s&&!l.once||i&&l.context!==i||o(this,r);else{for(var a=0,c=[],u=l.length;a<u;a++)(l[a].fn!==t||s&&!l[a].once||i&&l[a].context!==i)&&c.push(l[a]);c.length?this._events[r]=1===c.length?c[0]:c:o(this,r)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},85606:e=>{var t=-1;function n(e,f,p,m,g){if(e===f)return e?[[0,e]]:[];if(null!=p){var y=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,s="number"==typeof n?null:n.newRange,r=e.length,o=t.length;if(0===i.length&&(null===s||0===s.length)){var l=i.index,a=e.slice(0,l),c=e.slice(l),u=s?s.index:null,h=l+o-r;if((null===u||u===h)&&!(h<0||h>o)){var d=t.slice(0,h);if((m=t.slice(h))===c){var f=Math.min(l,h);if((y=a.slice(0,f))===(x=d.slice(0,f)))return b(y,a.slice(f),d.slice(f),c)}}if(null===u||u===l){var p=l,m=(d=t.slice(0,p),t.slice(p));if(d===a){var g=Math.min(r-p,o-p);if((v=c.slice(c.length-g))===(w=m.slice(m.length-g)))return b(a,c.slice(0,c.length-g),m.slice(0,m.length-g),v)}}}if(i.length>0&&s&&0===s.length){var y=e.slice(0,i.index),v=e.slice(i.index+i.length);if(!(o<(f=y.length)+(g=v.length))){var x=t.slice(0,f),w=t.slice(o-g);if(y===x&&v===w)return b(y,e.slice(f,r-g),t.slice(f,o-g),v)}}return null}(e,f,p);if(y)return y}var v=s(e,f),x=e.substring(0,v);v=o(e=e.substring(v),f=f.substring(v));var w=e.substring(e.length-v),I=function(e,r){var l;if(!e)return[[1,r]];if(!r)return[[t,e]];var a=e.length>r.length?e:r,c=e.length>r.length?r:e,u=a.indexOf(c);if(-1!==u)return l=[[1,a.substring(0,u)],[0,c],[1,a.substring(u+c.length)]],e.length>r.length&&(l[0][0]=l[2][0]=t),l;if(1===c.length)return[[t,e],[1,r]];var h=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,l,a,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,h="";-1!==(u=t.indexOf(c,u+1));){var d=s(e.substring(n),t.substring(u)),f=o(e.substring(0,n),t.substring(0,u));h.length<f+d&&(h=t.substring(u-f,u)+t.substring(u,u+d),i=e.substring(0,n-f),r=e.substring(n+d),l=t.substring(0,u-f),a=t.substring(u+d))}return 2*h.length>=e.length?[i,r,l,a,h]:null}var l,a,c,u,h,d=r(n,i,Math.ceil(n.length/4)),f=r(n,i,Math.ceil(n.length/2));if(!d&&!f)return null;l=f?d&&d[4].length>f[4].length?d:f:d;e.length>t.length?(a=l[0],c=l[1],u=l[2],h=l[3]):(u=l[0],h=l[1],a=l[2],c=l[3]);var p=l[4];return[a,c,u,h,p]}(e,r);if(h){var d=h[0],f=h[1],p=h[2],m=h[3],g=h[4],b=n(d,p),y=n(f,m);return b.concat([[0,g]],y)}return function(e,n){for(var s=e.length,r=n.length,o=Math.ceil((s+r)/2),l=o,a=2*o,c=new Array(a),u=new Array(a),h=0;h<a;h++)c[h]=-1,u[h]=-1;c[l+1]=0,u[l+1]=0;for(var d=s-r,f=d%2!=0,p=0,m=0,g=0,b=0,y=0;y<o;y++){for(var v=-y+p;v<=y-m;v+=2){for(var x=l+v,w=(M=v===-y||v!==y&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-v;M<s&&w<r&&e.charAt(M)===n.charAt(w);)M++,w++;if(c[x]=M,M>s)m+=2;else if(w>r)p+=2;else if(f){if((A=l+d-v)>=0&&A<a&&-1!==u[A])if(M>=(N=s-u[A]))return i(e,n,M,w)}}for(var I=-y+g;I<=y-b;I+=2){for(var N,A=l+I,E=(N=I===-y||I!==y&&u[A-1]<u[A+1]?u[A+1]:u[A-1]+1)-I;N<s&&E<r&&e.charAt(s-N-1)===n.charAt(r-E-1);)N++,E++;if(u[A]=N,N>s)b+=2;else if(E>r)g+=2;else if(!f){if((x=l+d-I)>=0&&x<a&&-1!==c[x]){var M;w=l+(M=c[x])-x;if(M>=(N=s-N))return i(e,n,M,w)}}}}return[[t,e],[1,n]]}(e,r)}(e=e.substring(0,e.length-v),f=f.substring(0,f.length-v));return x&&I.unshift([0,x]),w&&I.push([0,w]),d(I,g),m&&function(e){var n=!1,i=[],s=0,f=null,p=0,m=0,g=0,b=0,y=0;for(;p<e.length;)0==e[p][0]?(i[s++]=p,m=b,g=y,b=0,y=0,f=e[p][1]):(1==e[p][0]?b+=e[p][1].length:y+=e[p][1].length,f&&f.length<=Math.max(m,g)&&f.length<=Math.max(b,y)&&(e.splice(i[s-1],0,[t,f]),e[i[s-1]+1][0]=1,s--,p=--s>0?i[s-1]:-1,m=0,g=0,b=0,y=0,f=null,n=!0)),p++;n&&d(e);(function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),s=n.match(l),r=i.match(l),o=s&&n.match(a),d=r&&i.match(a),f=o&&n.match(c),p=d&&i.match(c),m=f&&e.match(u),g=p&&t.match(h);return m||g?5:f||p?4:s&&!o&&d?3:o||d?2:s||r?1:0}var n=1;for(;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],s=e[n][1],r=e[n+1][1],d=o(i,s);if(d){var f=s.substring(s.length-d);i=i.substring(0,i.length-d),s=f+s.substring(0,s.length-d),r=f+r}for(var p=i,m=s,g=r,b=t(i,s)+t(s,r);s.charAt(0)===r.charAt(0);){i+=s.charAt(0),s=s.substring(1)+r.charAt(0),r=r.substring(1);var y=t(i,s)+t(s,r);y>=b&&(b=y,p=i,m=s,g=r)}e[n-1][1]!=p&&(p?e[n-1][1]=p:(e.splice(n-1,1),n--),e[n][1]=m,g?e[n+1][1]=g:(e.splice(n+1,1),n--))}n++}})(e),p=1;for(;p<e.length;){if(e[p-1][0]==t&&1==e[p][0]){var v=e[p-1][1],x=e[p][1],w=r(v,x),I=r(x,v);w>=I?(w>=v.length/2||w>=x.length/2)&&(e.splice(p,0,[0,x.substring(0,w)]),e[p-1][1]=v.substring(0,v.length-w),e[p+1][1]=x.substring(w),p++):(I>=v.length/2||I>=x.length/2)&&(e.splice(p,0,[0,v.substring(0,I)]),e[p-1][0]=1,e[p-1][1]=x.substring(0,x.length-I),e[p+1][0]=t,e[p+1][1]=v.substring(I),p++),p++}p++}}(I),I}function i(e,t,i,s){var r=e.substring(0,i),o=t.substring(0,s),l=e.substring(i),a=t.substring(s),c=n(r,o),u=n(l,a);return c.concat(u)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),s=i,r=0;n<s;)e.substring(r,s)==t.substring(r,s)?r=n=s:i=s,s=Math.floor((i-n)/2+n);return f(e.charCodeAt(s-1))&&s--,s}function r(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var s=Math.min(n,i);if(e==t)return s;for(var r=0,o=1;;){var l=e.substring(s-o),a=t.indexOf(l);if(-1==a)return r;o+=a,0!=a&&e.substring(s-o)!=t.substring(0,o)||(r=o,o++)}}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),s=i,r=0;n<s;)e.substring(e.length-s,e.length-r)==t.substring(t.length-s,t.length-r)?r=n=s:i=s,s=Math.floor((i-n)/2+n);return p(e.charCodeAt(e.length-s))&&s--,s}var l=/[^a-zA-Z0-9]/,a=/\s/,c=/[\r\n]/,u=/\n\r?\n$/,h=/^\r?\n\r?\n/;function d(e,n){e.push([0,""]);for(var i,r=0,l=0,a=0,c="",u="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:a++,u+=e[r][1],r++;break;case t:l++,c+=e[r][1],r++;break;case 0:var h=r-a-l-1;if(n){if(h>=0&&g(e[h][1])){var f=e[h][1].slice(-1);if(e[h][1]=e[h][1].slice(0,-1),c=f+c,u=f+u,!e[h][1]){e.splice(h,1),r--;var p=h-1;e[p]&&1===e[p][0]&&(a++,u=e[p][1]+u,p--),e[p]&&e[p][0]===t&&(l++,c=e[p][1]+c,p--),h=p}}if(m(e[r][1])){f=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),c+=f,u+=f}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(c.length>0||u.length>0){c.length>0&&u.length>0&&(0!==(i=s(u,c))&&(h>=0?e[h][1]+=u.substring(0,i):(e.splice(0,0,[0,u.substring(0,i)]),r++),u=u.substring(i),c=c.substring(i)),0!==(i=o(u,c))&&(e[r][1]=u.substring(u.length-i)+e[r][1],u=u.substring(0,u.length-i),c=c.substring(0,c.length-i)));var b=a+l;0===c.length&&0===u.length?(e.splice(r-b,b),r-=b):0===c.length?(e.splice(r-b,b,[1,u]),r=r-b+1):0===u.length?(e.splice(r-b,b,[t,c]),r=r-b+1):(e.splice(r-b,b,[t,c],[1,u]),r=r-b+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,a=0,l=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var y=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),y=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),y=!0)),r++;y&&d(e,n)}function f(e){return e>=55296&&e<=56319}function p(e){return e>=56320&&e<=57343}function m(e){return p(e.charCodeAt(0))}function g(e){return f(e.charCodeAt(e.length-1))}function b(e,n,i,s){return g(e)||m(s)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,i],[0,s]])}function y(e,t,i,s){return n(e,t,i,s,!0)}y.INSERT=1,y.DELETE=t,y.EQUAL=0,e.exports=y},67193:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Boolean]",l="[object Date]",a="[object Function]",c="[object GeneratorFunction]",u="[object Map]",h="[object Number]",d="[object Object]",f="[object Promise]",p="[object RegExp]",m="[object Set]",g="[object String]",b="[object Symbol]",y="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",A="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",j="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]",k=/\w*$/,T=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,R={};R[r]=R["[object Array]"]=R[v]=R[x]=R[o]=R[l]=R[w]=R[I]=R[N]=R[A]=R[E]=R[u]=R[h]=R[d]=R[p]=R[m]=R[g]=R[b]=R[M]=R[j]=R[C]=R[O]=!0,R["[object Error]"]=R[a]=R[y]=!1;var L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,D="object"==typeof self&&self&&self.Object===Object&&self,q=L||D||Function("return this")(),Z=t&&!t.nodeType&&t,P=Z&&e&&!e.nodeType&&e,B=P&&P.exports===Z;function z(e,t){return e.set(t[0],t[1]),e}function _(e,t){return e.add(t),e}function G(e,t,n,i){var s=-1,r=e?e.length:0;for(i&&r&&(n=e[++s]);++s<r;)n=t(n,e[s],s,e);return n}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function V(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var F,X=Array.prototype,Q=Function.prototype,J=Object.prototype,Y=q["__core-js_shared__"],K=(F=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",$=Q.toString,ee=J.hasOwnProperty,te=J.toString,ne=RegExp("^"+$.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=B?q.Buffer:void 0,se=q.Symbol,re=q.Uint8Array,oe=V(Object.getPrototypeOf,Object),le=Object.create,ae=J.propertyIsEnumerable,ce=X.splice,ue=Object.getOwnPropertySymbols,he=ie?ie.isBuffer:void 0,de=V(Object.keys,Object),fe=Pe(q,"DataView"),pe=Pe(q,"Map"),me=Pe(q,"Promise"),ge=Pe(q,"Set"),be=Pe(q,"WeakMap"),ye=Pe(Object,"create"),ve=Ue(fe),xe=Ue(pe),we=Ue(me),Ie=Ue(ge),Ne=Ue(be),Ae=se?se.prototype:void 0,Ee=Ae?Ae.valueOf:void 0;function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function je(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Oe(e){this.__data__=new je(e)}function ke(e,t){var n=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&We(e)}(e)&&ee.call(e,"callee")&&(!ae.call(e,"callee")||te.call(e)==r)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,s=!!i;for(var o in e)!t&&!ee.call(e,o)||s&&("length"==o||_e(o,i))||n.push(o);return n}function Te(e,t,n){var i=e[t];ee.call(e,t)&&He(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function Se(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function Re(e,t,n,i,s,f,y){var T;if(i&&(T=f?i(e,s,f,y):i(e)),void 0!==T)return T;if(!Qe(e))return e;var S=Ve(e);if(S){if(T=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(e,T)}else{var L=ze(e),D=L==a||L==c;if(Fe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==d||L==r||D&&!f){if(U(e))return f?e:{};if(T=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:(t=oe(e),Qe(t)?le(t):{});var t}(D?{}:e),!t)return function(e,t){return qe(e,Be(e),t)}(e,function(e,t){return e&&qe(t,Je(t),e)}(T,e))}else{if(!R[L])return f?e:{};T=function(e,t,n,i){var s=e.constructor;switch(t){case v:return De(e);case o:case l:return new s(+e);case x:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case w:case I:case N:case A:case E:case M:case j:case C:case O:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case u:return function(e,t,n){var i=t?n(H(e),!0):H(e);return G(i,z,new e.constructor)}(e,i,n);case h:case g:return new s(e);case p:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){var i=t?n(W(e),!0):W(e);return G(i,_,new e.constructor)}(e,i,n);case b:return r=e,Ee?Object(Ee.call(r)):{}}var r}(e,L,Re,t)}}y||(y=new Oe);var q=y.get(e);if(q)return q;if(y.set(e,T),!S)var Z=n?function(e){return function(e,t,n){var i=t(e);return Ve(e)?i:function(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}(i,n(e))}(e,Je,Be)}(e):Je(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););}(Z||e,(function(s,r){Z&&(s=e[r=s]),Te(T,r,Re(s,t,n,i,r,e,y))})),T}function Le(e){return!(!Qe(e)||(t=e,K&&K in t))&&(Xe(e)||U(e)?ne:T).test(Ue(e));var t}function De(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function qe(e,t,n,i){n||(n={});for(var s=-1,r=t.length;++s<r;){var o=t[s],l=i?i(n[o],e[o],o,n,e):void 0;Te(n,o,void 0===l?e[o]:l)}return n}function Ze(e,t){var n,i,s=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map}function Pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}Me.prototype.clear=function(){this.__data__=ye?ye(null):{}},Me.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Me.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===i?void 0:n}return ee.call(t,e)?t[e]:void 0},Me.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Me.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?i:t,this},je.prototype.clear=function(){this.__data__=[]},je.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},je.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},je.prototype.has=function(e){return Se(this.__data__,e)>-1},je.prototype.set=function(e,t){var n=this.__data__,i=Se(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Me,map:new(pe||je),string:new Me}},Ce.prototype.delete=function(e){return Ze(this,e).delete(e)},Ce.prototype.get=function(e){return Ze(this,e).get(e)},Ce.prototype.has=function(e){return Ze(this,e).has(e)},Ce.prototype.set=function(e,t){return Ze(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new je},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof je){var i=n.__data__;if(!pe||i.length<199)return i.push([e,t]),this;n=this.__data__=new Ce(i)}return n.set(e,t),this};var Be=ue?V(ue,Object):function(){return[]},ze=function(e){return te.call(e)};function _e(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)}function Ue(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(fe&&ze(new fe(new ArrayBuffer(1)))!=x||pe&&ze(new pe)!=u||me&&ze(me.resolve())!=f||ge&&ze(new ge)!=m||be&&ze(new be)!=y)&&(ze=function(e){var t=te.call(e),n=t==d?e.constructor:void 0,i=n?Ue(n):void 0;if(i)switch(i){case ve:return x;case xe:return u;case we:return f;case Ie:return m;case Ne:return y}return t});var Ve=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}(e.length)&&!Xe(e)}var Fe=he||function(){return!1};function Xe(e){var t=Qe(e)?te.call(e):"";return t==a||t==c}function Qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Je(e){return We(e)?ke(e):function(e){if(!Ge(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Re(e,!0,!0)}},8142:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",m="[object RegExp]",g="[object Set]",b="[object String]",y="[object Symbol]",v="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",I=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[r]=A[o]=A[x]=A[l]=A[w]=A[a]=A[c]=A[u]=A[h]=A[d]=A[f]=A[m]=A[g]=A[b]=A[v]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,M="object"==typeof self&&self&&self.Object===Object&&self,j=E||M||Function("return this")(),C=t&&!t.nodeType&&t,O=C&&e&&!e.nodeType&&e,k=O&&O.exports===C,T=k&&E.process,S=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),R=S&&S.isTypedArray;function L(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Z,P,B,z=Array.prototype,_=Function.prototype,G=Object.prototype,U=j["__core-js_shared__"],H=_.toString,V=G.hasOwnProperty,W=(Z=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",F=G.toString,X=RegExp("^"+H.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=k?j.Buffer:void 0,J=j.Symbol,Y=j.Uint8Array,K=G.propertyIsEnumerable,$=z.splice,ee=J?J.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=Q?Q.isBuffer:void 0,ie=(P=Object.keys,B=Object,function(e){return P(B(e))}),se=Se(j,"DataView"),re=Se(j,"Map"),oe=Se(j,"Promise"),le=Se(j,"Set"),ae=Se(j,"WeakMap"),ce=Se(Object,"create"),ue=qe(se),he=qe(re),de=qe(oe),fe=qe(le),pe=qe(ae),me=J?J.prototype:void 0,ge=me?me.valueOf:void 0;function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new ye(e);this.size=t.size}function Ie(e,t){var n=Be(e),i=!n&&Pe(e),s=!n&&!i&&ze(e),r=!n&&!i&&!s&&Ve(e),o=n||i||s||r,l=o?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],a=l.length;for(var c in e)!t&&!V.call(e,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||De(c,a))||l.push(c);return l}function Ne(e,t){for(var n=e.length;n--;)if(Ze(e[n][0],t))return n;return-1}function Ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=V.call(e,ee),n=e[ee];try{e[ee]=void 0;var i=!0}catch(e){}var s=F.call(e);i&&(t?e[ee]=n:delete e[ee]);return s}(e):function(e){return F.call(e)}(e)}function Ee(e){return He(e)&&Ae(e)==r}function Me(e,t,n,i,s){return e===t||(null==e||null==t||!He(e)&&!He(t)?e!=e&&t!=t:function(e,t,n,i,s,u){var p=Be(e),v=Be(t),I=p?o:Le(e),N=v?o:Le(t),A=(I=I==r?f:I)==f,E=(N=N==r?f:N)==f,M=I==N;if(M&&ze(e)){if(!ze(t))return!1;p=!0,A=!1}if(M&&!A)return u||(u=new we),p||Ve(e)?Oe(e,t,n,i,s,u):function(e,t,n,i,s,r,o){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!r(new Y(e),new Y(t)));case l:case a:case d:return Ze(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case h:var u=D;case g:var f=1&i;if(u||(u=q),e.size!=t.size&&!f)return!1;var p=o.get(e);if(p)return p==t;i|=2,o.set(e,t);var v=Oe(u(e),u(t),i,s,r,o);return o.delete(e),v;case y:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,I,n,i,s,u);if(!(1&n)){var j=A&&V.call(e,"__wrapped__"),C=E&&V.call(t,"__wrapped__");if(j||C){var O=j?e.value():e,k=C?t.value():t;return u||(u=new we),s(O,k,n,i,u)}}if(!M)return!1;return u||(u=new we),function(e,t,n,i,s,r){var o=1&n,l=ke(e),a=l.length,c=ke(t),u=c.length;if(a!=u&&!o)return!1;var h=a;for(;h--;){var d=l[h];if(!(o?d in t:V.call(t,d)))return!1}var f=r.get(e);if(f&&r.get(t))return f==t;var p=!0;r.set(e,t),r.set(t,e);var m=o;for(;++h<a;){var g=e[d=l[h]],b=t[d];if(i)var y=o?i(b,g,d,t,e,r):i(g,b,d,e,t,r);if(!(void 0===y?g===b||s(g,b,n,i,r):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var v=e.constructor,x=t.constructor;v==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof x&&x instanceof x||(p=!1)}return r.delete(e),r.delete(t),p}(e,t,n,i,s,u)}(e,t,n,i,Me,s))}function je(e){return!(!Ue(e)||function(e){return!!W&&W in e}(e))&&(_e(e)?X:I).test(qe(e))}function Ce(e){if(n=(t=e)&&t.constructor,i="function"==typeof n&&n.prototype||G,t!==i)return ie(e);var t,n,i,s=[];for(var r in Object(e))V.call(e,r)&&"constructor"!=r&&s.push(r);return s}function Oe(e,t,n,i,s,r){var o=1&n,l=e.length,a=t.length;if(l!=a&&!(o&&a>l))return!1;var c=r.get(e);if(c&&r.get(t))return c==t;var u=-1,h=!0,d=2&n?new xe:void 0;for(r.set(e,t),r.set(t,e);++u<l;){var f=e[u],p=t[u];if(i)var m=o?i(p,f,u,t,e,r):i(f,p,u,e,t,r);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!L(t,(function(e,t){if(o=t,!d.has(o)&&(f===e||s(f,e,n,i,r)))return d.push(t);var o}))){h=!1;break}}else if(f!==p&&!s(f,p,n,i,r)){h=!1;break}}return r.delete(e),r.delete(t),h}function ke(e){return function(e,t,n){var i=t(e);return Be(e)?i:function(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}(i,n(e))}(e,We,Re)}function Te(e,t){var n,i,s=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof t?"string":"hash"]:s.map}function Se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}be.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},be.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===i?void 0:n}return V.call(t,e)?t[e]:void 0},be.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:V.call(t,e)},be.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?i:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():$.call(t,n,1),--this.size,!0)},ye.prototype.get=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]},ye.prototype.has=function(e){return Ne(this.__data__,e)>-1},ye.prototype.set=function(e,t){var n=this.__data__,i=Ne(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(re||ye),string:new be}},ve.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Te(this,e).get(e)},ve.prototype.has=function(e){return Te(this,e).has(e)},ve.prototype.set=function(e,t){var n=Te(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,i),this},xe.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ye,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var i=n.__data__;if(!re||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(i)}return n.set(e,t),this.size=n.size,this};var Re=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,s=0,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[s++]=o)}return r}(te(e),(function(t){return K.call(e,t)})))}:function(){return[]},Le=Ae;function De(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ze(e,t){return e===t||e!=e&&t!=t}(se&&Le(new se(new ArrayBuffer(1)))!=w||re&&Le(new re)!=h||oe&&Le(oe.resolve())!=p||le&&Le(new le)!=g||ae&&Le(new ae)!=v)&&(Le=function(e){var t=Ae(e),n=t==f?e.constructor:void 0,i=n?qe(n):"";if(i)switch(i){case ue:return w;case he:return h;case de:return p;case fe:return g;case pe:return v}return t});var Pe=Ee(function(){return arguments}())?Ee:function(e){return He(e)&&V.call(e,"callee")&&!K.call(e,"callee")},Be=Array.isArray;var ze=ne||function(){return!1};function _e(e){if(!Ue(e))return!1;var t=Ae(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function He(e){return null!=e&&"object"==typeof e}var Ve=R?function(e){return function(t){return e(t)}}(R):function(e){return He(e)&&Ge(e.length)&&!!A[Ae(e)]};function We(e){return null!=(t=e)&&Ge(t.length)&&!_e(t)?Ie(e):Ce(e);var t}e.exports=function(e,t){return Me(e,t)}},99106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(67193),s=n(8142);var r;!function(e){e.compose=function(e={},t={},n=!1){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});let s=i(t);n||(s=Object.keys(s).reduce(((e,t)=>(null!=s[t]&&(e[t]=s[t]),e)),{}));for(const n in e)void 0!==e[n]&&void 0===t[n]&&(s[n]=e[n]);return Object.keys(s).length>0?s:void 0},e.diff=function(e={},t={}){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});const n=Object.keys(e).concat(Object.keys(t)).reduce(((n,i)=>(s(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n)),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e={},t={}){e=e||{};const n=Object.keys(t).reduce(((n,i)=>(t[i]!==e[i]&&void 0!==e[i]&&(n[i]=t[i]),n)),{});return Object.keys(e).reduce(((n,i)=>(e[i]!==t[i]&&void 0===t[i]&&(n[i]=null),n)),n)},e.transform=function(e,t,n=!1){if("object"!=typeof e)return t;if("object"!=typeof t)return;if(!n)return t;const i=Object.keys(t).reduce(((n,i)=>(void 0===e[i]&&(n[i]=t[i]),n)),{});return Object.keys(i).length>0?i:void 0}}(r||(r={})),t.default=r},12660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const i=n(85606),s=n(67193),r=n(8142),o=n(99106);t.AttributeMap=o.default;const l=n(5759);t.Op=l.default;const a=n(28317);t.OpIterator=a.default;const c=String.fromCharCode(0),u=(e,t)=>{if("object"!=typeof e||null===e)throw new Error("cannot retain a "+typeof e);if("object"!=typeof t||null===t)throw new Error("cannot retain a "+typeof t);const n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(t)[0]}`);return[n,e[n],t[n]]};class h{constructor(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,t){this.handlers[e]=t}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){const t=this.handlers[e];if(!t)throw new Error(`no handlers for embed type "${e}"`);return t}insert(e,t){const n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,t){if("number"==typeof e&&e<=0)return this;const n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}push(e){let t=this.ops.length,n=this.ops[t-1];if(e=s(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,n=this.ops[t-1],"object"!=typeof n))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}chop(){const e=this.ops[this.ops.length-1];return e&&"number"==typeof e.retain&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){const t=[],n=[];return this.forEach((i=>{(e(i)?t:n).push(i)})),[t,n]}reduce(e,t){return this.ops.reduce(e,t)}changeLength(){return this.reduce(((e,t)=>t.insert?e+l.default.length(t):t.delete?e-t.delete:e),0)}length(){return this.reduce(((e,t)=>e+l.default.length(t)),0)}slice(e=0,t=1/0){const n=[],i=new a.default(this.ops);let s=0;for(;s<t&&i.hasNext();){let r;s<e?r=i.next(e-s):(r=i.next(t-s),n.push(r)),s+=l.default.length(r)}return new h(n)}compose(e){const t=new a.default(this.ops),n=new a.default(e.ops),i=[],s=n.peek();if(null!=s&&"number"==typeof s.retain&&null==s.attributes){let e=s.retain;for(;"insert"===t.peekType()&&t.peekLength()<=e;)e-=t.peekLength(),i.push(t.next());s.retain-e>0&&n.next(s.retain-e)}const l=new h(i);for(;t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{const e=Math.min(t.peekLength(),n.peekLength()),i=t.next(e),s=n.next(e);if(s.retain){const a={};if("number"==typeof i.retain)a.retain="number"==typeof s.retain?e:s.retain;else if("number"==typeof s.retain)null==i.retain?a.insert=i.insert:a.retain=i.retain;else{const e=null==i.retain?"insert":"retain",[t,n,r]=u(i[e],s.retain),o=h.getHandler(t);a[e]={[t]:o.compose(n,r,"retain"===e)}}const c=o.default.compose(i.attributes,s.attributes,"number"==typeof i.retain);if(c&&(a.attributes=c),l.push(a),!n.hasNext()&&r(l.ops[l.ops.length-1],a)){const e=new h(t.rest());return l.concat(e).chop()}}else"number"==typeof s.delete&&("number"==typeof i.retain||"object"==typeof i.retain&&null!==i.retain)&&l.push(s)}return l.chop()}concat(e){const t=new h(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t}diff(e,t){if(this.ops===e.ops)return new h;const n=[this,e].map((t=>t.map((n=>{if(null!=n.insert)return"string"==typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join(""))),s=new h,l=i(n[0],n[1],t,!0),u=new a.default(this.ops),d=new a.default(e.ops);return l.forEach((e=>{let t=e[1].length;for(;t>0;){let n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),s.push(d.next(n));break;case i.DELETE:n=Math.min(t,u.peekLength()),u.next(n),s.delete(n);break;case i.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);const e=u.next(n),l=d.next(n);r(e.insert,l.insert)?s.retain(n,o.default.diff(e.attributes,l.attributes)):s.push(l).delete(n)}t-=n}})),s.chop()}eachLine(e,t="\n"){const n=new a.default(this.ops);let i=new h,s=0;for(;n.hasNext();){if("insert"!==n.peekType())return;const r=n.peek(),o=l.default.length(r)-n.peekLength(),a="string"==typeof r.insert?r.insert.indexOf(t,o)-o:-1;if(a<0)i.push(n.next());else if(a>0)i.push(n.next(a));else{if(!1===e(i,n.next(1).attributes||{},s))return;s+=1,i=new h}}i.length()>0&&e(i,{},s)}invert(e){const t=new h;return this.reduce(((n,i)=>{if(i.insert)t.delete(l.default.length(i));else{if("number"==typeof i.retain&&null==i.attributes)return t.retain(i.retain),n+i.retain;if(i.delete||"number"==typeof i.retain){const s=i.delete||i.retain;return e.slice(n,n+s).forEach((e=>{i.delete?t.push(e):i.retain&&i.attributes&&t.retain(l.default.length(e),o.default.invert(i.attributes,e.attributes))})),n+s}if("object"==typeof i.retain&&null!==i.retain){const s=e.slice(n,n+1),r=new a.default(s.ops).next(),[l,c,d]=u(i.retain,r.insert),f=h.getHandler(l);return t.retain({[l]:f.invert(c,d)},o.default.invert(i.attributes,r.attributes)),n+1}}return n}),0),t.chop()}transform(e,t=!1){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);const n=e,i=new a.default(this.ops),s=new a.default(n.ops),r=new h;for(;i.hasNext()||s.hasNext();)if("insert"!==i.peekType()||!t&&"insert"===s.peekType())if("insert"===s.peekType())r.push(s.next());else{const e=Math.min(i.peekLength(),s.peekLength()),n=i.next(e),l=s.next(e);if(n.delete)continue;if(l.delete)r.push(l);else{const i=n.retain,s=l.retain;let a="object"==typeof s&&null!==s?s:e;if("object"==typeof i&&null!==i&&"object"==typeof s&&null!==s){const e=Object.keys(i)[0];if(e===Object.keys(s)[0]){const n=h.getHandler(e);n&&(a={[e]:n.transform(i[e],s[e],t)})}}r.retain(a,o.default.transform(n.attributes,l.attributes,t))}}else r.retain(l.default.length(i.next()));return r.chop()}transformPosition(e,t=!1){t=!!t;const n=new a.default(this.ops);let i=0;for(;n.hasNext()&&i<=e;){const s=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<e||!t)&&(e+=s),i+=s):e-=Math.min(s,e-i)}return e}}h.Op=l.default,h.OpIterator=a.default,h.AttributeMap=o.default,h.handlers={},t.default=h,e.exports=h,e.exports.default=h},5759:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"object"==typeof e.retain&&null!==e.retain?1:"string"==typeof e.insert?e.insert.length:1}}(n||(n={})),t.default=n},28317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5759);t.default=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const n=this.offset,s=i.default.length(t);if(e>=s-n?(e=s-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};{const i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"object"==typeof t.retain&&null!==t.retain?i.retain=t.retain:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?"number"==typeof e.delete?"delete":"number"==typeof e.retain||"object"==typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}}return[]}}},83709:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M13.709 14.994q-.98-.077-.98-1.166.001-1.171 1.136-2.344Q15 12.656 15 13.828T13.865 15zm-1.604-9.118c.548.322.726 1.018.396 1.553l-3.603 5.855a1.175 1.175 0 0 1-1.59.388L1.562 10.3a1.117 1.117 0 0 1-.396-1.553l3.6-5.85-1.434-.842a.56.56 0 0 1-.2-.78.59.59 0 0 1 .8-.195zM5.733 3.464 2.964 7.961l8.568-1.094z" clip-rule="evenodd"></path></svg>'},56499:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m6.036 12.157 8.01-8.01a.5.5 0 1 1 .707.707l-8.01 8.01a1 1 0 0 1-1.415 0L1.146 8.682a.5.5 0 1 1 .708-.707z"></path></svg>'},24186:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M4 4h2.5v1H4a3 3 0 0 0 0 6h2.5v1H4a4 4 0 1 1 0-8M12 11H9.5v1H12a4 4 0 1 0 0-8H9.5v1H12a3 3 0 0 1 0 6"></path><path fill="#000" d="M5.5 7.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z"></path></svg>'},51458:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M14 2H2v10.37l4.98-4.527L9.48 9.845 14 5.778zm0 5.123-4.48 4.033L7.02 9.157 2 13.722V14h12zM1 1v14h14V1zm4 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4" clip-rule="evenodd"></path></svg>'},21917:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M2 1v7h1V2h10v6h1V1z"></path><path fill="#000" d="M11 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M4.178 10.886l-.54 1.458h1.068z"></path><path fill="#000" fill-rule="evenodd" d="M1 9h14v6H1zm12.31 1.628V14h-1.025v-3.372h-1.2v-.876h3.426v.876zm-5.5-.876V14h2.675v-.894H8.841V9.752zM5.317 14l-.33-.834H3.344L3.032 14H1.916l1.782-4.248h.996L6.458 14z" clip-rule="evenodd"></path><path fill="#000" d="M6.85 7.377 8.668 5 11 8H4l1.75-1.91z"></path></svg>'},31941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11 5H5v5h6zM4 4v7h8V4z" clip-rule="evenodd"></path><g fill="#000" opacity=".5"><path d="M1 1h14v1H1zM15 13H1v1h14z"></path></g></svg>'},97037:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 5H2v5h6zM1 4v7h8V4z" clip-rule="evenodd"></path><g fill="#000" opacity=".5"><path d="M1 1h14v1H1zM15 13H1v1h14z"></path></g></svg>'},63408:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M14 5H8v5h6zM7 4v7h8V4z" clip-rule="evenodd"></path><g fill="#000" opacity=".5"><path d="M1 1h14v1H1zM15 13H1v1h14z"></path></g></svg>'},40403:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4 3a1 1 0 0 1 1-1h2.75a3.25 3.25 0 0 1 2.33 5.516A3.25 3.25 0 0 1 9.75 14H5a1 1 0 0 1-1-1V3m1 4.5h2.75a2.25 2.25 0 0 0 0-4.5H5zm0 1V13h4.75a2.25 2.25 0 0 0 0-4.5H5" clip-rule="evenodd"></path></svg>'},9759:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M3.5 2a.5.5 0 0 0 0 1H7l-1.868 8.406a.488.488 0 0 0 .953.212L8 3h3.5a.5.5 0 0 0 0-1zm-1 11a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm6.64-3.86a.477.477 0 0 1 .674 0l1.686 1.686 1.686-1.686a.477.477 0 1 1 .674.674L12.174 11.5l1.686 1.686a.477.477 0 1 1-.674.674L11.5 12.174 9.814 13.86a.477.477 0 1 1-.674-.674l1.686-1.686L9.14 9.814a.477.477 0 0 1 0-.674" clip-rule="evenodd"></path></svg>'},62838:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z"></path></svg>'},16101:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 5H2v5h6zM1 4v7h8V4z" clip-rule="evenodd"></path><g fill="#000" opacity=".5"><path d="M1 1h14v1H1zM11 10h4v1h-4zM15 13H1v1h14z"></path></g></svg>'},58878:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M6 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-2l-2 10h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2l2-10h-2a.5.5 0 0 1-.5-.5" clip-rule="evenodd"></path></svg>'},38566:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 5H2v5h6zM1 4v7h8V4z" clip-rule="evenodd"></path><g fill="#000" opacity=".5"><path d="M1 1h14v1H1zM11 10h4v1h-4zM15 13H1v1h14zM11 7h4v1h-4zM11 4h4v1h-4z"></path></g></svg>'},44286:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M5.658 1.935a2.62 2.62 0 0 0-1.863-.77A2.633 2.633 0 0 0 1.932 5.66l1.415 1.415a4.3 4.3 0 0 0-.177 1.62L1.112 6.48A3.796 3.796 0 1 1 6.48 1.11l2.73 2.73a3.803 3.803 0 0 1 0 5.37 3.8 3.8 0 0 1-1.02.712l-.71-.712A1 1 0 0 1 7.334 9a2.3 2.3 0 0 0 1.053-.61 2.64 2.64 0 0 0 0-3.727zm5.414 12.936a3.796 3.796 0 0 0 2.685-6.483l-2.059-2.213a4.4 4.4 0 0 1-.178 1.62l1.415 1.414a2.64 2.64 0 0 1 0 3.729 2.637 2.637 0 0 1-3.725 0l-2.73-2.73a2.64 2.64 0 0 1 0-3.726 2.3 2.3 0 0 1 1.05-.615 1 1 0 0 0-.14-.207l-.672-.73a3.76 3.76 0 0 0-1.06 6.099l2.73 2.73a3.8 3.8 0 0 0 2.685 1.112" clip-rule="evenodd"></path></svg>'},85927:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M14 5H8v5h6zM7 4v7h8V4z" clip-rule="evenodd"></path><g fill="#000" opacity=".5"><path d="M1 1h14v1H1zM1 10h4v1H1zM15 13H1v1h14zM1 7h4v1H1zM1 4h4v1H1z"></path></g></svg>'},41048:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11 2.02a.02.02 0 0 0-.02-.02H8a3 3 0 0 0-2.829 4l1.097.001A2 2 0 0 1 8 3h2v.5a.5.5 0 0 0 1 0zM12.5 7a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm-1.9 1.999h1.111c.185.456.289.964.289 1.501 0 1.866-1.252 3.392-2.83 3.495L9 14H6a1 1 0 0 1-1-1v-.5a.5.5 0 0 1 1 0v.499L9 13c1.105 0 2-1.12 2-2.5a2.96 2.96 0 0 0-.311-1.34z" clip-rule="evenodd"></path></svg>'},50331:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m4 6a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M2 8l2-2v4zm4-1.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M2.5 12a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1z" clip-rule="evenodd"></path></svg>'},32414:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M13.5 3a.5.5 0 0 1 0 1h-11a.5.5 0 0 1 0-1zm-4 6a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1zM14 8l-2-2v4zM9.5 6a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1zm4.5 6.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 .5-.5" clip-rule="evenodd"></path></svg>'},90003:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M5.5 3a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM2 6.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m.5 5.5a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1z" clip-rule="evenodd"></path></svg>'},38796:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1.5-.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1zM3 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2m1 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1-4a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8A.5.5 0 0 1 5 8m.5 3.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1z" clip-rule="evenodd"></path></svg>'},81880:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.5 3a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1zm0 6a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1zM2 6.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m.5 5.5a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1z" clip-rule="evenodd"></path></svg>'},93659:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.5 3h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1m-7 3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1m6 3h-6a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1m5 3h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1" clip-rule="evenodd"></path></svg>'},57329:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M12.905 3.244V5.3h.695V2.5h-.637L12 3.176l.36.47zM10.5 3.5a.5.5 0 0 1 0 1h-8a.5.5 0 0 1 0-1zm1.557 5.8v-.54l1.047-.962a1 1 0 0 0 .16-.196.4.4 0 0 0 .06-.224.32.32 0 0 0-.09-.237.33.33 0 0 0-.243-.09.33.33 0 0 0-.26.113.5.5 0 0 0-.12.299L12 7.378a.95.95 0 0 1 .65-.818q.177-.06.375-.06.186 0 .36.05.175.05.311.154a.77.77 0 0 1 .3.632.86.86 0 0 1-.142.481 1.3 1.3 0 0 1-.152.187 6 6 0 0 1-.176.171l-.623.563H14V9.3zm1.858 3.733a.8.8 0 0 0 .049-.59.63.63 0 0 0-.258-.319.7.7 0 0 0-.2-.084v-.011a.579.579 0 0 0 .432-.578.68.68 0 0 0-.283-.567.9.9 0 0 0-.288-.139 1.23 1.23 0 0 0-.645-.002 1 1 0 0 0-.281.128.88.88 0 0 0-.365.505l.566.135a.38.38 0 0 1 .126-.216.34.34 0 0 1 .227-.08.36.36 0 0 1 .225.074q.098.075.098.218a.3.3 0 0 1-.038.158.3.3 0 0 1-.102.095.4.4 0 0 1-.144.05 1 1 0 0 1-.167.012h-.177v.462h.163q.095 0 .189.017.095.017.168.056.075.04.12.107t.046.169a.31.31 0 0 1-.122.26.4.4 0 0 1-.12.059.5.5 0 0 1-.132.019.42.42 0 0 1-.287-.1.47.47 0 0 1-.149-.23l-.566.153a.884.884 0 0 0 .39.539q.135.084.302.126.165.04.339.041.177 0 .35-.05a1 1 0 0 0 .31-.155.8.8 0 0 0 .224-.262M11 8a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0 0 1h8A.5.5 0 0 0 11 8m-.5 3.5a.5.5 0 0 1 0 1h-8a.5.5 0 0 1 0-1z" clip-rule="evenodd"></path></svg>'},78347:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.905 3.244V5.3H3.6V2.5h-.637L2 3.176l.36.47zM5.5 3.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1zM2.057 9.3v-.54l1.047-.962q.1-.097.16-.196a.4.4 0 0 0 .06-.224.32.32 0 0 0-.09-.237.33.33 0 0 0-.243-.09.33.33 0 0 0-.26.113.5.5 0 0 0-.12.299L2 7.378a.952.952 0 0 1 .65-.818q.177-.06.375-.06.186 0 .36.05.175.05.311.154a.77.77 0 0 1 .3.632.86.86 0 0 1-.142.481 1.3 1.3 0 0 1-.152.187 6 6 0 0 1-.176.171l-.623.563H4V9.3zm1.858 3.733a.8.8 0 0 0 .049-.59.62.62 0 0 0-.258-.319.7.7 0 0 0-.2-.084v-.011a.579.579 0 0 0 .432-.578.67.67 0 0 0-.283-.567.9.9 0 0 0-.288-.139 1.23 1.23 0 0 0-.645-.002 1 1 0 0 0-.281.128.88.88 0 0 0-.365.505l.566.135a.38.38 0 0 1 .126-.216.34.34 0 0 1 .227-.08.36.36 0 0 1 .225.074q.098.075.098.218a.3.3 0 0 1-.039.158.3.3 0 0 1-.101.095.4.4 0 0 1-.144.05 1 1 0 0 1-.166.012H2.69v.462h.163q.095 0 .189.017t.169.056.12.107.045.169a.31.31 0 0 1-.122.26.4.4 0 0 1-.12.059.5.5 0 0 1-.132.019.42.42 0 0 1-.287-.1.47.47 0 0 1-.149-.23L2 12.794a.884.884 0 0 0 .39.539q.135.084.301.126.166.04.34.041.177 0 .35-.05a1 1 0 0 0 .31-.155.8.8 0 0 0 .224-.262M5 8a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8A.5.5 0 0 1 5 8m.5 3.5a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1z" clip-rule="evenodd"></path></svg>'},47038:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M6.5 3a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1zm1 6a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zM4 6.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M2.5 12a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1z" clip-rule="evenodd"></path></svg>'},9044:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z" clip-rule="evenodd"></path></svg>'},51366:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M5 2.5a.5.5 0 0 0-1 0V8a4 4 0 0 0 8 0V2.5a.5.5 0 0 0-1 0V8a3 3 0 0 1-6 0zm7 11a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5" clip-rule="evenodd"></path></svg>'},778:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.829 2.535a.909.909 0 0 0-1.657 0L2.291 13.356a.456.456 0 0 0 .831.377L4.818 10h6.365l1.696 3.733a.456.456 0 0 0 .831-.377zM5.272 9 8 3l2.729 6z" clip-rule="evenodd"></path></svg>'},9213:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNjQgKDkzNTM3KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4NCiAgICA8dGl0bGU+bm9FZmZlY3Q8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIwNC4wMDAwMDAsIC04MTUuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExODAuMDAwMDAwLCA0OS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDcyOC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDM4LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTgsMTYgQzMuNTgyLDE2IDAsMTIuNDE4IDAsOCBDMCwzLjU4MiAzLjU4MiwwIDgsMCBDMTIuNDE4LDAgMTYsMy41ODIgMTYsOCBDMTYsMTIuNDE4IDEyLjQxOCwxNiA4LDE2IFogTTgsMTQgQzkuMjk1LDE0IDEwLjQ4NywxMy41OCAxMS40NjgsMTIuODgyIEwzLjExOCw0LjUzMiBDMi40Miw1LjUxMyAyLDYuNzA1IDIsOCBDMiwxMS4zMTMgNC42ODcsMTQgOCwxNCBaIE04LDIgQzYuNzA1LDIgNS41MTMsMi40MiA0LjUzMiwzLjExOCBMMTIuODgyLDExLjQ2OCBDMTMuNTgsMTAuNDg3IDE0LDkuMjk2IDE0LDggQzE0LDQuNjg3IDExLjMxMywyIDgsMiBaIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},38588:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8wXzI2NykiPg0KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8wXzI2NykiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05LjU0NjAyIDE1LjA4NEw4LjM5NDAyIDE4SDUuODU2MDJMMTEuNCA1LjI1NjAxSDEzLjM2MkwxOC44NTIgMThIMTYuMjZMMTUuMDcyIDE1LjA4NEg5LjU0NjAyWk0xMC4zMiAxMy4xNEgxNC4yOEwxMi4zMTggNy45NTYwMUwxMC4zMiAxMy4xNFoiIGZpbGw9IndoaXRlIi8+DQo8L2c+DQo8L2c+DQo8ZGVmcz4NCjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8wXzI2NyIgeD0iLTAuMTQzOTgyIiB5PSIzLjI1NjAxIiB3aWR0aD0iMTguOTk2IiBoZWlnaHQ9IjE2Ljc0NCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPg0KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4NCjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPg0KPGZlT2Zmc2V0IGR4PSItNCIvPg0KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAuNDk4MDM5IDAgMCAwIDAgMC41ODAzOTIgMCAwIDAgMSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18wXzI2NyIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMF8yNjciIHJlc3VsdD0ic2hhcGUiLz4NCjwvZmlsdGVyPg0KPGNsaXBQYXRoIGlkPSJjbGlwMF8wXzI2NyI+DQo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},17615:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8wXzI3MikiPg0KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZGRfMF8yNzIpIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOS41NDYwMiAxNS4wODRMOC4zOTQwMiAxOEg1Ljg1NjAyTDExLjQgNS4yNTYwMUgxMy4zNjJMMTguODUyIDE4SDE2LjI2TDE1LjA3MiAxNS4wODRIOS41NDYwMlpNMTAuMzIgMTMuMTRIMTQuMjhMMTIuMzE4IDcuOTU2MDFMMTAuMzIgMTMuMTRaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9nPg0KPC9nPg0KPGRlZnM+DQo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2RkXzBfMjcyIiB4PSItMC4xNDM5ODIiIHk9IjAuMjU2MDEyIiB3aWR0aD0iMTguOTk2IiBoZWlnaHQ9IjE4Ljc0NCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPg0KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4NCjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPg0KPGZlT2Zmc2V0IGR4PSItMyIgZHk9Ii0yIi8+DQo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxLjUiLz4NCjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxIDAiLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMjcyIi8+DQo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4NCjxmZU9mZnNldCBkeD0iLTIiIGR5PSItMSIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAuNDk4MDM5IDAgMCAwIDAgMC41ODAzOTIgMCAwIDAgMSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMjcyIiByZXN1bHQ9ImVmZmVjdDJfZHJvcFNoYWRvd18wXzI3MiIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QyX2Ryb3BTaGFkb3dfMF8yNzIiIHJlc3VsdD0ic2hhcGUiLz4NCjwvZmlsdGVyPg0KPGNsaXBQYXRoIGlkPSJjbGlwMF8wXzI3MiI+DQo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},55038:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8wXzI3NykiPg0KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8wXzI3NykiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05LjU0NjAyIDE1LjA4NEw4LjM5NDAyIDE4SDUuODU2MDJMMTEuNCA1LjI1NjAxSDEzLjM2MkwxOC44NTIgMThIMTYuMjZMMTUuMDcyIDE1LjA4NEg5LjU0NjAyWk0xMC4zMiAxMy4xNEgxNC4yOEwxMi4zMTggNy45NTYwMUwxMC4zMiAxMy4xNFoiIGZpbGw9IndoaXRlIi8+DQo8L2c+DQo8L2c+DQo8ZGVmcz4NCjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8wXzI3NyIgeD0iMy44NTYwMiIgeT0iLTAuNzQzOTg4IiB3aWR0aD0iMTYuOTk2IiBoZWlnaHQ9IjE4Ljc0NCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPg0KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4NCjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPg0KPGZlT2Zmc2V0IGR5PSItNCIvPg0KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAuNDk4MDM5IDAgMCAwIDAgMC41ODAzOTIgMCAwIDAgMSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18wXzI3NyIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMF8yNzciIHJlc3VsdD0ic2hhcGUiLz4NCjwvZmlsdGVyPg0KPGNsaXBQYXRoIGlkPSJjbGlwMF8wXzI3NyI+DQo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},63969:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RkXzBfMzA3KSI+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkuNTQ2MDIgMTUuMDg0TDguMzk0MDIgMThINS44NTYwMkwxMS40IDUuMjU2MDFIMTMuMzYyTDE4Ljg1MiAxOEgxNi4yNkwxNS4wNzIgMTUuMDg0SDkuNTQ2MDJaTTEwLjMyIDEzLjE0SDE0LjI4TDEyLjMxOCA3Ljk1NjAxTDEwLjMyIDEzLjE0WiIgZmlsbD0id2hpdGUiLz4NCjwvZz4NCjxkZWZzPg0KPGZpbHRlciBpZD0iZmlsdGVyMF9kZF8wXzMwNyIgeD0iNS44NTYwMiIgeT0iNS4yNTYwMSIgd2lkdGg9IjEyLjk5NiIgaGVpZ2h0PSIxNS43NDQiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4NCjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+DQo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4NCjxmZU9mZnNldCBkeT0iMyIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18wXzMwNyIvPg0KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+DQo8ZmVPZmZzZXQgZHk9IjEiLz4NCjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwLjQ5ODAzOSAwIDAgMCAwIDAuNTgwMzkyIDAgMCAwIDEgMCIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd18wXzMwNyIgcmVzdWx0PSJlZmZlY3QyX2Ryb3BTaGFkb3dfMF8zMDciLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0Ml9kcm9wU2hhZG93XzBfMzA3IiByZXN1bHQ9InNoYXBlIi8+DQo8L2ZpbHRlcj4NCjwvZGVmcz4NCjwvc3ZnPg0K"},51728:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RkXzBfMjg3KSI+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkuNTQ1OTkgMTMuMDg0TDguMzkzOTkgMTZINS44NTU5OUwxMS40IDMuMjU2MDFIMTMuMzYyTDE4Ljg1MiAxNkgxNi4yNkwxNS4wNzIgMTMuMDg0SDkuNTQ1OTlaTTEwLjMyIDExLjE0SDE0LjI4TDEyLjMxOCA1Ljk1NjAxTDEwLjMyIDExLjE0WiIgZmlsbD0id2hpdGUiLz4NCjwvZz4NCjxkZWZzPg0KPGZpbHRlciBpZD0iZmlsdGVyMF9kZF8wXzI4NyIgeD0iNC44NTU5OSIgeT0iMy4yNTYwMSIgd2lkdGg9IjE0Ljk5NiIgaGVpZ2h0PSIxOC43NDQiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4NCjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+DQo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4NCjxmZU9mZnNldCBkeT0iNSIvPg0KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+DQo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC41IDAiLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMjg3Ii8+DQo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4NCjxmZU9mZnNldCBkeT0iNCIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAuNDk4MDM5IDAgMCAwIDAgMC41ODAzOTIgMCAwIDAgMSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMjg3IiByZXN1bHQ9ImVmZmVjdDJfZHJvcFNoYWRvd18wXzI4NyIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QyX2Ryb3BTaGFkb3dfMF8yODciIHJlc3VsdD0ic2hhcGUiLz4NCjwvZmlsdGVyPg0KPC9kZWZzPg0KPC9zdmc+DQo="},13219:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8wXzI4MikiPg0KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8wXzI4MikiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05LjU0NjAyIDEzLjA4NEw4LjM5NDAyIDE2SDUuODU2MDJMMTEuNCAzLjI1NjAxSDEzLjM2MkwxOC44NTIgMTZIMTYuMjZMMTUuMDcyIDEzLjA4NEg5LjU0NjAyWk0xMC4zMiAxMS4xNEgxNC4yOEwxMi4zMTggNS45NTYwMUwxMC4zMiAxMS4xNFoiIGZpbGw9IndoaXRlIi8+DQo8L2c+DQo8L2c+DQo8ZGVmcz4NCjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8wXzI4MiIgeD0iMC44NTYwMTgiIHk9Ii0xLjc0Mzk5IiB3aWR0aD0iMjIuOTk2IiBoZWlnaHQ9IjIyLjc0NCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPg0KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4NCjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPg0KPGZlT2Zmc2V0Lz4NCjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIuNSIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAuNDk4MDM5IDAgMCAwIDAgMC41ODAzOTIgMCAwIDAgMSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18wXzI4MiIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMF8yODIiIHJlc3VsdD0ic2hhcGUiLz4NCjwvZmlsdGVyPg0KPGNsaXBQYXRoIGlkPSJjbGlwMF8wXzI4MiI+DQo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},75282:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfMF8yOTIpIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOS41NDYwMiAxMy4wODRMOC4zOTQwMiAxNkg1Ljg1NjAyTDExLjQgMy4yNTYwMUgxMy4zNjJMMTguODUyIDE2SDE2LjI2TDE1LjA3MiAxMy4wODRIOS41NDYwMlpNMTAuMzIgMTEuMTRIMTQuMjhMMTIuMzE4IDUuOTU2MDFMMTAuMzIgMTEuMTRaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9nPg0KPGRlZnM+DQo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2RfMF8yOTIiIHg9IjMuODU2MDIiIHk9IjIuMjU2MDEiIHdpZHRoPSIxNC45OTYiIGhlaWdodD0iMTMuNzQ0IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+DQo8ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPg0KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+DQo8ZmVPZmZzZXQgZHg9Ii0yIiBkeT0iLTEiLz4NCjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwLjQ5ODAzOSAwIDAgMCAwIDAuNTgwMzkyIDAgMCAwIDEgMCIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMF8yOTIiLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMjkyIiByZXN1bHQ9InNoYXBlIi8+DQo8L2ZpbHRlcj4NCjwvZGVmcz4NCjwvc3ZnPg0K"},98773:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfMF8yOTcpIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOS41NDYwMiAxMy4wODRMOC4zOTQwMiAxNkg1Ljg1NjAyTDExLjQgMy4yNTYwMUgxMy4zNjJMMTguODUyIDE2SDE2LjI2TDE1LjA3MiAxMy4wODRIOS41NDYwMlpNMTAuMzIgMTEuMTRIMTQuMjhMMTIuMzE4IDUuOTU2MDFMMTAuMzIgMTEuMTRaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9nPg0KPGRlZnM+DQo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2RfMF8yOTciIHg9IjUuODU2MDIiIHk9IjMuMjU2MDEiIHdpZHRoPSIxNC45OTYiIGhlaWdodD0iMTIuNzQ0IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+DQo8ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPg0KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+DQo8ZmVPZmZzZXQgZHg9IjIiLz4NCjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwLjQ5ODAzOSAwIDAgMCAwIDAuNTgwMzkyIDAgMCAwIDEgMCIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMF8yOTciLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMjk3IiByZXN1bHQ9InNoYXBlIi8+DQo8L2ZpbHRlcj4NCjwvZGVmcz4NCjwvc3ZnPg0K"},56788:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfMF8zMDIpIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOS41NDYwMiAxMy4wODRMOC4zOTQwMiAxNkg1Ljg1NjAyTDExLjQgMy4yNTYwMUgxMy4zNjJMMTguODUyIDE2SDE2LjI2TDE1LjA3MiAxMy4wODRIOS41NDYwMlpNMTAuMzIgMTEuMTRIMTQuMjhMMTIuMzE4IDUuOTU2MDFMMTAuMzIgMTEuMTRaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9nPg0KPGRlZnM+DQo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2RfMF8zMDIiIHg9IjUuODU2MDIiIHk9IjAuMjU2MDEyIiB3aWR0aD0iMTYuOTk2IiBoZWlnaHQ9IjE1Ljc0NCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPg0KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4NCjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPg0KPGZlT2Zmc2V0IGR4PSI0IiBkeT0iLTMiLz4NCjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwLjQ5ODAzOSAwIDAgMCAwIDAuNTgwMzkyIDAgMCAwIDEgMCIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMF8zMDIiLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzBfMzAyIiByZXN1bHQ9InNoYXBlIi8+DQo8L2ZpbHRlcj4NCjwvZGVmcz4NCjwvc3ZnPg0K"},79244:e=>{"use strict";e.exports=n},1888:e=>{"use strict";e.exports=i},14321:e=>{"use strict";e.exports=s},54337:e=>{"use strict";e.exports=r}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n](s,s.exports,o),s.loaded=!0,s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var l={};return(()=>{"use strict";o.r(l),o.d(l,{Block:()=>Gl,Break:()=>Ul,Bubble:()=>ih,Cursor:()=>Hl,Delta:()=>Bl,Display:()=>fd,EXPRESSION_ATTRIBUTES:()=>nd,Embed:()=>zl,Float:()=>hd,FontFamily:()=>Ic,FormatType:()=>t,HeaderValue:()=>s,Headings:()=>Qc,Image:()=>vd,ImageSelector:()=>Iu,Indent:()=>Tc,IndentValue:()=>r,Inline:()=>_l,LetterSpace:()=>ad,LineSpace:()=>cd,Link:()=>od,LinkSetting:()=>eu,ListValue:()=>i,Margin:()=>dd,Parchment:()=>Pl,Quill:()=>Zl,RichEditorCore:()=>uc,RichEditorPlugin:()=>mc,RichExpression:()=>sd,RichExpressionBuilder:()=>oh,RichExpressionBuilderPopper:()=>hh,RichTextEditor:()=>xc,RichTextEffect:()=>gu,RichTextFormatKeys:()=>n,RichTextFormats:()=>td,RichUrlInfo:()=>gd,Size:()=>Uc,Text:()=>Vl,TextShadow:()=>ud,URLINFO_ATTRIBUTES:()=>pd,convertPXToREM:()=>qc,convertPXToVW:()=>Pc,convertREMToPX:()=>Lc,convertREMToVW:()=>Bc,convertVWToPX:()=>Dc,convertVWToREM:()=>Zc,convertValue:()=>_c,fontValue:()=>wc,getAppTheme:()=>Ju,getUnexceptionalFormats:()=>dc,interceptDecimalPlaces:()=>zc,isResourceImage:()=>Ku,richTextEditorUtils:()=>e,sanitize:()=>ld,useEditorSelectionFormats:()=>fc,useVersion:()=>cc});var e={};o.r(e),o.d(e,{clearFormats:()=>A,convertExceptionalLinkValue:()=>k,formatText:()=>E,getFixedPosition:()=>m,getFormat:()=>M,getThemeHeaderFormats:()=>D,handlingExceptionalFormats:()=>O,isDelta:()=>T,isDeltaEqual:()=>S,isEditorValueEqual:()=>R,makeUnprivilegedEditor:()=>N,mixinThemeTextFormats:()=>Z,parseStyleString:()=>P,setEditorContentSelection:()=>x,setEditorContents:()=>y,setEditorCursorEnd:()=>v,setEditorReadOnly:()=>b,setEditorSelection:()=>w,setEditorTabIndex:()=>I});var t,n,i,s,r,a={};o.r(a),o.d(a,{Attributor:()=>En,AttributorStore:()=>Rn,BlockBlot:()=>Vn,ClassAttributor:()=>kn,ContainerBlot:()=>Fn,EmbedBlot:()=>Xn,InlineBlot:()=>Un,LeafBlot:()=>Zn,ParentBlot:()=>_n,Registry:()=>Cn,Scope:()=>An,ScrollBlot:()=>Yn,StyleAttributor:()=>Sn,TextBlot:()=>$n}),function(e){e[e.INLINE=0]="INLINE",e[e.BLOCK=1]="BLOCK",e[e.EMBED=2]="EMBED"}(t||(t={})),function(e){e.Bold="bold",e.Italic="italic",e.Underline="underline",e.Strike="strike",e.Color="color",e.Background="background",e.Font="font",e.Size="size",e.Letterspace="letterspace",e.Linespace="linespace",e.Textshadow="textshadow",e.Align="align",e.Blockquote="blockquote",e.Code="code",e.Header="header",e.Indent="indent",e.Link="link",e.List="list",e.Expression="expression",e.Image="image"}(n||(n={})),function(e){e.BULLET="bullet",e.ORDERED="ordered"}(i||(i={})),function(e){e[e.Paragraph=0]="Paragraph",e[e.H1=1]="H1",e[e.H2=2]="H2",e[e.H3=3]="H3",e[e.H4=4]="H4",e[e.H5=5]="H5",e[e.H6=6]="H6"}(s||(s={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE",e[e.SIX=6]="SIX",e[e.SEVEN=7]="SEVEN",e[e.EIGHT=8]="EIGHT"}(r||(r={}));var c=o(14321),u=o(79244);const h=[c.DistanceUnits.PIXEL,c.DistanceUnits.REM,c.DistanceUnits.VW],d=[c.TextAlignValue.LEFT,c.TextAlignValue.RIGHT,c.TextAlignValue.CENTER,c.TextAlignValue.JUSTIFY],f=[i.BULLET,i.ORDERED],p=[r.ZERO,r.ONE,r.TWO,r.THREE,r.FOUR,r.FIVE,r.SIX,r.SEVEN,r.EIGHT],m=(e,t,n)=>{if(null==e||null==e.root)return;const i=g(e.root),s=e.getBounds(t,n);return s.left+=null==i.x?i.left:i.x,s.top+=null==i.y?i.top:i.y,s.right=s.left+s.width,s.bottom=s.top+s.height,s},g=e=>{const t=window.scrollX,n=window.scrollY,i=e.getBoundingClientRect(),s=Object.assign({},i);return null!=s.x&&(s.x+=t),null!=s.y&&(s.y+=n),null!=s.left&&(s.left+=t),null!=s.top&&(s.top+=n),i},b=(e,t)=>{t?e.disable():e.enable()},y=(e,t,n)=>{const i=e.getSelection();"string"==typeof t?e.setContents(e.clipboard.convert({html:t}),n):e.setContents(t,n),null!=i&&e.hasFocus()&&w(e,i)},v=(e,t)=>{const n=e.getLength();w(e,{index:n-1,length:0},t)},x=(e,t)=>{const n=e.getLength();w(e,{index:0,length:n-1},t)},w=(e,t,n)=>{if(null!=t){const n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index))}e.setSelection(t,n)},I=(e,t)=>{null!=(null==e?void 0:e.root)&&(e.root.tabIndex=t)},N=e=>{if(null!=e)return{focus:(...t)=>{e.focus(...t)},blur:(...t)=>{e.blur(...t)},getLength:(...t)=>e.getLength(...t),getText:(...t)=>e.getText(...t),getContents:(...t)=>e.getContents(...t),getSelection:(...t)=>e.getSelection(...t),getBounds:(...t)=>e.getBounds(...t),getFormat:(...t)=>e.getFormat(...t),getIndex:(...t)=>e.getIndex(...t),getLeaf:(...t)=>e.getLeaf(...t),getHTML:()=>e.root.innerHTML,getSemanticHTML:(...t)=>e.getSemanticHTML(...t)}},A=(e,t,n)=>{var i;const s=e.isEnabled();if(n=n||s?"user":"api",0===t.length){const s=null!==(i=e.getFormat(t))&&void 0!==i?i:{};Object.keys(s).forEach((t=>{e.format(t,!1,n)}))}else e.removeFormat(t.index,t.length,n)},E=(e,i,s,r)=>{if(null==e||null==i||null==s)return;const{type:o,key:l,value:a}=s;if(o===t.EMBED)return void e.insertEmbed(i.index,l,a);const c=e.isEnabled();return r=r||c?"user":"api",o===t.BLOCK?(l===n.Header&&(e.formatLine(i.index,i.length,n.Linespace,!1,r),e.formatText(i.index,i.length,{[n.Font]:!1,[n.Size]:!1},r)),c?e.format(l,a,r):e.formatLine(i.index,i.length,l,a,r)):o===t.INLINE?i.length>0?e.formatText(i.index,i.length,l,a,r):e.format(l,a,r):void 0},M=(e,t,n)=>{if(!n&&null==t)return{};let i;return i=null!=(t=null==t?e.getSelection(n):t)?e.getFormat(t):e.getFormat(),i=null==i?{}:i,i},j=(e,t)=>{const n=t[e],i=u.polished.getValueAndUnit(n)[1];return h.includes(i)||delete t[e],t},C=(e,t,n)=>{const i=t[e];return n.includes(i)||delete t[e],t},O=e=>(null==e||(null!=(e=((e={})=>(Object.keys(e).forEach((t=>{Array.isArray(e[t])&&delete e[t]})),e))(e))[n.Size]&&(e=j(n.Size,e)),null!=e[n.Letterspace]&&(e=j(n.Letterspace,e)),null!=e[n.Linespace]&&(e=((e,t)=>{const n=t[e];return u.polished.getValueAndUnit(n)[1]&&delete t[e],t})(n.Linespace,e)),null!=e[n.Align]&&(e=C(n.Align,e,d)),null!=e[n.List]&&(e=C(n.List,e,f)),null!=e[n.Indent]&&(e=C(n.Indent,e,p)),null!=e[n.Link]&&(e=k(e))),e),k=e=>{if(null==e||null==e[n.Link])return e;const t=e[n.Link];let i=null;return null==(null==t?void 0:t.link)?null!=t.href&&(i={value:t.href,linkType:"WEB_ADDRESS"}):i=t.link,e[n.Link]=i,e},T=e=>null!=(null==e?void 0:e.ops),S=(e,t)=>{if(T(e)&&T(t))return u.lodash.isDeepEqual(e.ops,t.ops)},R=(e,t)=>{let n=!1;return n=T(e)&&T(t)?S(e,t):e===t,n},L=e=>{var t;return null!==(t=null==e?void 0:e.split(",")[0].replace(/['"]+/g,""))&&void 0!==t?t:"Avenir Next"},D=(e,t)=>{const n={},i=q[t],s=e.sys.typography[i];return i&&s?(n.font=L(s.fontFamily),n.linespace=s.lineHeight,n.fontWeight=s.fontWeight,n.size=e.sys.typography.remToPx(s.fontSize),n):n},q={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"},Z=(e,t={})=>(t=((e,t={})=>{const n=Object.assign({},t),i=D(e,n.header);return n.header&&i?(null==n.font&&(n.font=i.font),null==n.linespace&&(n.linespace=i.linespace),null==n.fontWeight&&(n.fontWeight=i.fontWeight),null==n.size&&(n.size=i.size),n):n})(e,t),t=((e,t={})=>{var n,i;const s=Object.assign({},t);return null==s.font&&(s.font=L(null==e?void 0:e.ref.typeface.fontFamily)),null==s.linespace&&(s.linespace=null!==(n=null==e?void 0:e.sys.typography.body2.lineHeight)&&void 0!==n?n:1.5),null==s.color&&(s.color=null==e?void 0:e.sys.color.surface.backgroundText),null==s.size&&(s.size=`${null!==(i=null==e?void 0:e.ref.typeface.fontSize)&&void 0!==i?i:14}px`),s})(e,t),t),P=(e="")=>{const t={};e.split(";").map((e=>e.trim())).forEach((e=>{if(e){const[n,i]=e.split(":").map((e=>e.trim()));t[n]=i}}));const n=t.display,i={display:n};if("block"===n){const e=t.float;if(e)i.float=e,i.display="float";else{const e=t.margin.split(" ").map((e=>e.trim()));2===e.length?i.alignment="center":4===e.length&&("auto"===e[1]&&"auto"===e[3]?i.alignment="center":"auto"!==e[1]||"0"!==e[3]&&"0px"!==e[3]?"0"!==e[1]&&"0px"!==e[1]||"auto"!==e[3]||(i.alignment="right"):i.alignment="left")}}return i};const B=function(){this.__data__=[],this.size=0};const z=function(e,t){return e===t||e!=e&&t!=t};const _=function(e,t){for(var n=e.length;n--;)if(z(e[n][0],t))return n;return-1};var G=Array.prototype.splice;const U=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():G.call(t,n,1),--this.size,!0)};const H=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]};const V=function(e){return _(this.__data__,e)>-1};const W=function(e,t){var n=this.__data__,i=_(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function F(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}F.prototype.clear=B,F.prototype.delete=U,F.prototype.get=H,F.prototype.has=V,F.prototype.set=W;const X=F;const Q=function(){this.__data__=new X,this.size=0};const J=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Y=function(e){return this.__data__.get(e)};const K=function(e){return this.__data__.has(e)};const $="object"==typeof global&&global&&global.Object===Object&&global;var ee="object"==typeof self&&self&&self.Object===Object&&self;const te=$||ee||Function("return this")();const ne=te.Symbol;var ie=Object.prototype,se=ie.hasOwnProperty,re=ie.toString,oe=ne?ne.toStringTag:void 0;const le=function(e){var t=se.call(e,oe),n=e[oe];try{e[oe]=void 0;var i=!0}catch(e){}var s=re.call(e);return i&&(t?e[oe]=n:delete e[oe]),s};var ae=Object.prototype.toString;const ce=function(e){return ae.call(e)};var ue=ne?ne.toStringTag:void 0;const he=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ue&&ue in Object(e)?le(e):ce(e)};const de=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const fe=function(e){if(!de(e))return!1;var t=he(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const pe=te["__core-js_shared__"];var me,ge=(me=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+me:"";const be=function(e){return!!ge&&ge in e};var ye=Function.prototype.toString;const ve=function(e){if(null!=e){try{return ye.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var xe=/^\[object .+?Constructor\]$/,we=Function.prototype,Ie=Object.prototype,Ne=we.toString,Ae=Ie.hasOwnProperty,Ee=RegExp("^"+Ne.call(Ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Me=function(e){return!(!de(e)||be(e))&&(fe(e)?Ee:xe).test(ve(e))};const je=function(e,t){return null==e?void 0:e[t]};const Ce=function(e,t){var n=je(e,t);return Me(n)?n:void 0};const Oe=Ce(te,"Map");const ke=Ce(Object,"create");const Te=function(){this.__data__=ke?ke(null):{},this.size=0};const Se=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Re=Object.prototype.hasOwnProperty;const Le=function(e){var t=this.__data__;if(ke){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Re.call(t,e)?t[e]:void 0};var De=Object.prototype.hasOwnProperty;const qe=function(e){var t=this.__data__;return ke?void 0!==t[e]:De.call(t,e)};const Ze=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ke&&void 0===t?"__lodash_hash_undefined__":t,this};function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pe.prototype.clear=Te,Pe.prototype.delete=Se,Pe.prototype.get=Le,Pe.prototype.has=qe,Pe.prototype.set=Ze;const Be=Pe;const ze=function(){this.size=0,this.__data__={hash:new Be,map:new(Oe||X),string:new Be}};const _e=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Ge=function(e,t){var n=e.__data__;return _e(t)?n["string"==typeof t?"string":"hash"]:n.map};const Ue=function(e){var t=Ge(this,e).delete(e);return this.size-=t?1:0,t};const He=function(e){return Ge(this,e).get(e)};const Ve=function(e){return Ge(this,e).has(e)};const We=function(e,t){var n=Ge(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Fe.prototype.clear=ze,Fe.prototype.delete=Ue,Fe.prototype.get=He,Fe.prototype.has=Ve,Fe.prototype.set=We;const Xe=Fe;const Qe=function(e,t){var n=this.__data__;if(n instanceof X){var i=n.__data__;if(!Oe||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xe(i)}return n.set(e,t),this.size=n.size,this};function Je(e){var t=this.__data__=new X(e);this.size=t.size}Je.prototype.clear=Q,Je.prototype.delete=J,Je.prototype.get=Y,Je.prototype.has=K,Je.prototype.set=Qe;const Ye=Je;const Ke=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const $e=function(e,t,n){"__proto__"==t&&Ke?Ke(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const et=function(e,t,n){(void 0!==n&&!z(e[t],n)||void 0===n&&!(t in e))&&$e(e,t,n)};const tt=function(e){return function(t,n,i){for(var s=-1,r=Object(t),o=i(t),l=o.length;l--;){var a=o[e?l:++s];if(!1===n(r[a],a,r))break}return t}}();var nt="object"==typeof exports&&exports&&!exports.nodeType&&exports,it=nt&&"object"==typeof module&&module&&!module.nodeType&&module,st=it&&it.exports===nt?te.Buffer:void 0,rt=st?st.allocUnsafe:void 0;const ot=function(e,t){if(t)return e.slice();var n=e.length,i=rt?rt(n):new e.constructor(n);return e.copy(i),i};const lt=te.Uint8Array;const at=function(e){var t=new e.constructor(e.byteLength);return new lt(t).set(new lt(e)),t};const ct=function(e,t){var n=t?at(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const ut=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t};var ht=Object.create;const dt=function(){function e(){}return function(t){if(!de(t))return{};if(ht)return ht(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const ft=function(e,t){return function(n){return e(t(n))}};const pt=ft(Object.getPrototypeOf,Object);var mt=Object.prototype;const gt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||mt)};const bt=function(e){return"function"!=typeof e.constructor||gt(e)?{}:dt(pt(e))};const yt=function(e){return null!=e&&"object"==typeof e};const vt=function(e){return yt(e)&&"[object Arguments]"==he(e)};var xt=Object.prototype,wt=xt.hasOwnProperty,It=xt.propertyIsEnumerable,Nt=vt(function(){return arguments}())?vt:function(e){return yt(e)&&wt.call(e,"callee")&&!It.call(e,"callee")};const At=Nt;const Et=Array.isArray;const Mt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const jt=function(e){return null!=e&&Mt(e.length)&&!fe(e)};const Ct=function(e){return yt(e)&&jt(e)};const Ot=function(){return!1};var kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tt=kt&&"object"==typeof module&&module&&!module.nodeType&&module,St=Tt&&Tt.exports===kt?te.Buffer:void 0;const Rt=(St?St.isBuffer:void 0)||Ot;var Lt=Function.prototype,Dt=Object.prototype,qt=Lt.toString,Zt=Dt.hasOwnProperty,Pt=qt.call(Object);const Bt=function(e){if(!yt(e)||"[object Object]"!=he(e))return!1;var t=pt(e);if(null===t)return!0;var n=Zt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&qt.call(n)==Pt};var zt={};zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Arguments]"]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object Boolean]"]=zt["[object DataView]"]=zt["[object Date]"]=zt["[object Error]"]=zt["[object Function]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object WeakMap]"]=!1;const _t=function(e){return yt(e)&&Mt(e.length)&&!!zt[he(e)]};const Gt=function(e){return function(t){return e(t)}};var Ut="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ht=Ut&&"object"==typeof module&&module&&!module.nodeType&&module,Vt=Ht&&Ht.exports===Ut&&$.process;const Wt=function(){try{var e=Ht&&Ht.require&&Ht.require("util").types;return e||Vt&&Vt.binding&&Vt.binding("util")}catch(e){}}();var Ft=Wt&&Wt.isTypedArray;const Xt=Ft?Gt(Ft):_t;const Qt=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var Jt=Object.prototype.hasOwnProperty;const Yt=function(e,t,n){var i=e[t];Jt.call(e,t)&&z(i,n)&&(void 0!==n||t in e)||$e(e,t,n)};const Kt=function(e,t,n,i){var s=!n;n||(n={});for(var r=-1,o=t.length;++r<o;){var l=t[r],a=i?i(n[l],e[l],l,n,e):void 0;void 0===a&&(a=e[l]),s?$e(n,l,a):Yt(n,l,a)}return n};const $t=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var en=/^(?:0|[1-9]\d*)$/;const tn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&en.test(e))&&e>-1&&e%1==0&&e<t};var nn=Object.prototype.hasOwnProperty;const sn=function(e,t){var n=Et(e),i=!n&&At(e),s=!n&&!i&&Rt(e),r=!n&&!i&&!s&&Xt(e),o=n||i||s||r,l=o?$t(e.length,String):[],a=l.length;for(var c in e)!t&&!nn.call(e,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||tn(c,a))||l.push(c);return l};const rn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var on=Object.prototype.hasOwnProperty;const ln=function(e){if(!de(e))return rn(e);var t=gt(e),n=[];for(var i in e)("constructor"!=i||!t&&on.call(e,i))&&n.push(i);return n};const an=function(e){return jt(e)?sn(e,!0):ln(e)};const cn=function(e){return Kt(e,an(e))};const un=function(e,t,n,i,s,r,o){var l=Qt(e,n),a=Qt(t,n),c=o.get(a);if(c)et(e,n,c);else{var u=r?r(l,a,n+"",e,t,o):void 0,h=void 0===u;if(h){var d=Et(a),f=!d&&Rt(a),p=!d&&!f&&Xt(a);u=a,d||f||p?Et(l)?u=l:Ct(l)?u=ut(l):f?(h=!1,u=ot(a,!0)):p?(h=!1,u=ct(a,!0)):u=[]:Bt(a)||At(a)?(u=l,At(l)?u=cn(l):de(l)&&!fe(l)||(u=bt(a))):h=!1}h&&(o.set(a,u),s(u,a,i,r,o),o.delete(a)),et(e,n,u)}};const hn=function e(t,n,i,s,r){t!==n&&tt(n,(function(o,l){if(r||(r=new Ye),de(o))un(t,n,l,i,e,s,r);else{var a=s?s(Qt(t,l),o,l+"",t,n,r):void 0;void 0===a&&(a=o),et(t,l,a)}}),an)};const dn=function(e){return e};const fn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var pn=Math.max;const mn=function(e,t,n){return t=pn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,r=pn(i.length-t,0),o=Array(r);++s<r;)o[s]=i[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=i[s];return l[t]=n(o),fn(e,this,l)}};const gn=function(e){return function(){return e}};const bn=Ke?function(e,t){return Ke(e,"toString",{configurable:!0,enumerable:!1,value:gn(t),writable:!0})}:dn;var yn=Date.now;const vn=function(e){var t=0,n=0;return function(){var i=yn(),s=16-(i-n);if(n=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const xn=vn(bn);const wn=function(e,t){return xn(mn(e,t,dn),e+"")};const In=function(e,t,n){if(!de(n))return!1;var i=typeof t;return!!("number"==i?jt(n)&&tn(t,n.length):"string"==i&&t in n)&&z(n[t],e)};const Nn=function(e){return wn((function(t,n){var i=-1,s=n.length,r=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(s--,r):void 0,o&&In(n[0],n[1],o)&&(r=s<3?void 0:r,s=1),t=Object(t);++i<s;){var l=n[i];l&&e(t,l,i,r)}return t}))}((function(e,t,n){hn(e,t,n)}));var An=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(An||{});class En{constructor(e,t,n={}){this.attrName=e,this.keyName=t;const i=An.TYPE&An.ATTRIBUTE;this.scope=null!=n.scope?n.scope&An.LEVEL|i:An.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map((e=>e.name))}add(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)}canAdd(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Mn extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const jn=class e{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,t)}return null}create(t,n,i){const s=this.query(n);if(null==s)throw new Mn(`Unable to create ${n} blot`);const r=s,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:r.create(i),l=new r(t,o,i);return e.blots.set(l.domNode,l),l}find(t,n=!1){return e.find(t,n)}query(e,t=An.ANY){let n;return"string"==typeof e?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof e?e&An.LEVEL&An.BLOCK?n=this.types.block:e&An.LEVEL&An.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((e=>(n=this.classes[e],!!n))),n=n||this.tags[e.tagName]),null==n?null:"scope"in n&&t&An.LEVEL&n.scope&&t&An.TYPE&n.scope?n:null}register(...e){return e.map((e=>{const t="blotName"in e,n="attrName"in e;if(!t&&!n)throw new Mn("Invalid definition");if(t&&"abstract"===e.blotName)throw new Mn("Cannot register abstract class");const i=t?e.blotName:n?e.attrName:void 0;return this.types[i]=e,n?"string"==typeof e.keyName&&(this.attributes[e.keyName]=e):t&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((e=>e.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((t=>{(null==this.tags[t]||null==e.className)&&(this.tags[t]=e)})))),e}))}};jn.blots=new WeakMap;let Cn=jn;function On(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((e=>0===e.indexOf(`${t}-`)))}const kn=class extends En{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map((e=>e.split("-").slice(0,-1).join("-")))}add(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0)}remove(e){On(e,this.keyName).forEach((t=>{e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")}value(e){const t=(On(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}};function Tn(e){const t=e.split("-"),n=t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("");return t[0]+n}const Sn=class extends En{static keys(e){return(e.getAttribute("style")||"").split(";").map((e=>e.split(":")[0].trim()))}add(e,t){return!!this.canAdd(e,t)&&(e.style[Tn(this.keyName)]=t,!0)}remove(e){e.style[Tn(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Tn(this.keyName)];return this.canAdd(e,t)?t:""}};const Rn=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Cn.find(this.domNode);if(null==e)return;const t=En.keys(this.domNode),n=kn.keys(this.domNode),i=Sn.keys(this.domNode);t.concat(n).concat(i).forEach((t=>{const n=e.scroll.query(t,An.ATTRIBUTE);n instanceof En&&(this.attributes[n.attrName]=n)}))}copy(e){Object.keys(this.attributes).forEach((t=>{const n=this.attributes[t].value(this.domNode);e.format(t,n)}))}move(e){this.copy(e),Object.keys(this.attributes).forEach((e=>{this.attributes[e].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e)),{})}},Ln=class{constructor(e,t){this.scroll=e,this.domNode=t,Cn.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(null==this.tagName)throw new Mn("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?("string"==typeof e?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof e&&(n=e),t="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){null!=this.parent&&this.parent.removeChild(this),Cn.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,n,i){const s=this.isolate(e,t);if(null!=this.scroll.query(n,An.BLOT)&&i)s.wrap(n,i);else if(null!=this.scroll.query(n,An.ATTRIBUTE)){const e=this.scroll.create(this.statics.scope);s.wrap(e),e.format(n,i)}}insertAt(e,t,n){const i=null==n?this.scroll.create("text",t):this.scroll.create(t,n),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,t){const n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(e=this.parent){return null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,t){return 0===e?this:this.next}update(e,t){}wrap(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new Mn(`Cannot wrap ${e}`);return n.appendChild(this),n}};Ln.blotName="abstract";let Dn=Ln;const qn=class extends Dn{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};qn.scope=An.INLINE_BLOT;const Zn=qn;class Pn{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let n=t();for(;n&&e>0;)e-=1,n=t();return n}contains(e){const t=this.iterator();let n=t();for(;n;){if(n===e)return!0;n=t()}return!1}indexOf(e){const t=this.iterator();let n=t(),i=0;for(;n;){if(n===e)return i;i+=1,n=t()}return-1}insertBefore(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,n=this.head;for(;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return null!=e&&(e=e.next),t}}find(e,t=!1){const n=this.iterator();let i=n();for(;i;){const s=i.length();if(e<s||t&&e===s&&(null==i.next||0!==i.next.length()))return[i,e];e-=s,i=n()}return[null,0]}forEach(e){const t=this.iterator();let n=t();for(;n;)e(n),n=t()}forEachAt(e,t,n){if(t<=0)return;const[i,s]=this.find(e);let r=e-s;const o=this.iterator(i);let l=o();for(;l&&r<e+t;){const i=l.length();e>r?n(l,e-r,Math.min(t,r+i-e)):n(l,0,Math.min(i,e+t-r)),r+=i,l=o()}}map(e){return this.reduce(((t,n)=>(t.push(e(n)),t)),[])}reduce(e,t){const n=this.iterator();let i=n();for(;i;)t=e(t,i),i=n();return t}}function Bn(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const n=t.create(An.INLINE);return Array.from(e.childNodes).forEach((e=>{n.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const zn=class e extends Dn{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach((e=>{e.attach()}))}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Pn,Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).reverse().forEach((e=>{try{const t=Bn(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(e){if(e instanceof Mn)return;throw e}}))}deleteAt(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,((e,t,n)=>{e.deleteAt(t,n)}))}descendant(t,n=0){const[i,s]=this.children.find(n);return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,s]:i instanceof e?i.descendant(t,s):[null,-1]}descendants(t,n=0,i=Number.MAX_VALUE){let s=[],r=i;return this.children.forEachAt(n,i,((n,i,o)=>{(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&s.push(n),n instanceof e&&(s=s.concat(n.descendants(t,i,r))),r-=o})),s}detach(){this.children.forEach((e=>{e.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((n=>{t||this.statics.allowedChildren.some((e=>n instanceof e))||(n.statics.scope===An.BLOCK_BLOT?(null!=n.next&&this.splitAfter(n),null!=n.prev&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof e?n.unwrap():n.remove())}))}formatAt(e,t,n,i){this.children.forEachAt(e,t,((e,t,s)=>{e.formatAt(t,s,n,i)}))}insertAt(e,t,n){const[i,s]=this.children.find(e);if(i)i.insertAt(s,t,n);else{const e=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(e)}}insertBefore(e,t){null!=e.parent&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce(((e,t)=>e+t.length()),0)}moveChildren(e,t){this.children.forEach((n=>{e.insertBefore(n,t)}))}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,n=!1){const[i,s]=this.children.find(t,n),r=[[this,t]];return i instanceof e?r.concat(i.path(s,n)):(null!=i&&r.push([i,s]),r)}removeChild(e){this.children.remove(e)}replaceWith(t,n){const i="string"==typeof t?this.scroll.create(t,n):t;return i instanceof e&&this.moveChildren(i),super.replaceWith(i)}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),((e,i,s)=>{const r=e.split(i,t);null!=r&&n.appendChild(r)})),n}splitAfter(e){const t=this.clone();for(;null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const n=[],i=[];e.forEach((e=>{e.target===this.domNode&&"childList"===e.type&&(n.push(...e.addedNodes),i.push(...e.removedNodes))})),i.forEach((e=>{if(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const t=this.scroll.find(e);null!=t&&(null==t.domNode.parentNode||t.domNode.parentNode===this.domNode)&&t.detach()})),n.filter((e=>e.parentNode===this.domNode&&e!==this.uiNode)).sort(((e,t)=>e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((e=>{let t=null;null!=e.nextSibling&&(t=this.scroll.find(e.nextSibling));const n=Bn(e,this.scroll);(n.next!==t||null==n.next)&&(null!=n.parent&&n.parent.removeChild(this),this.insertBefore(n,t||void 0))})),this.enforceAllowedChildren()}};zn.uiClass="";const _n=zn;const Gn=class e extends _n{static create(e){return super.create(e)}static formats(t,n){const i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Rn(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const e=this.scroll.query(t,An.INLINE);if(null==e)return;e instanceof En?this.attributes.attribute(e,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach((t=>{t instanceof e||(t=t.wrap(e.blotName,!0)),this.attributes.copy(t)})),this.unwrap()}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,i){null!=this.formats()[n]||this.scroll.query(n,An.ATTRIBUTE)?this.isolate(e,t).format(n,i):super.formatAt(e,t,n,i)}optimize(t){super.optimize(t);const n=this.formats();if(0===Object.keys(n).length)return this.unwrap();const i=this.next;i instanceof e&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}(n,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}wrap(t,n){const i=super.wrap(t,n);return i instanceof e&&this.attributes.move(i),i}};Gn.allowedChildren=[Gn,Zn],Gn.blotName="inline",Gn.scope=An.INLINE_BLOT,Gn.tagName="SPAN";const Un=Gn,Hn=class e extends _n{static create(e){return super.create(e)}static formats(t,n){const i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Rn(this.domNode)}format(t,n){const i=this.scroll.query(t,An.BLOCK);null!=i&&(i instanceof En?this.attributes.attribute(i,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(e.blotName))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,i){null!=this.scroll.query(n,An.BLOCK)?this.format(n,i):super.formatAt(e,t,n,i)}insertAt(e,t,n){if(null==n||null!=this.scroll.query(t,An.INLINE))super.insertAt(e,t,n);else{const i=this.split(e);if(null==i)throw new Error("Attempt to insertAt after block boundaries");{const e=this.scroll.create(t,n);i.parent.insertBefore(e,i)}}}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}};Hn.blotName="block",Hn.scope=An.BLOCK_BLOT,Hn.tagName="P",Hn.allowedChildren=[Un,Hn,Zn];const Vn=Hn,Wn=class extends _n{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,n,i){super.formatAt(e,t,n,i),this.enforceAllowedChildren()}insertAt(e,t,n){super.insertAt(e,t,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Wn.blotName="container",Wn.scope=An.BLOCK_BLOT;const Fn=Wn;const Xn=class extends Zn{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,n,i){0===e&&t===this.length()?this.format(n,i):super.formatAt(e,t,n,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}},Qn={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Jn=class extends _n{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,Qn),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,t=An.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),0===e&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(e,t)}formatAt(e,t,n,i){this.update(),super.formatAt(e,t,n,i)}insertAt(e,t,n){this.update(),super.insertAt(e,t,n)}optimize(e=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(e,t=!0)=>{null==e||e===this||null!=e.domNode.parentNode&&(n.has(e.domNode)||n.set(e.domNode,[]),t&&s(e.parent))},r=e=>{n.has(e.domNode)&&(e instanceof _n&&e.children.forEach(r),n.delete(e.domNode),e.optimize(t))};let o=e;for(let t=0;o.length>0;t+=1){if(t>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((e=>{const t=this.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(this.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((e=>{const t=this.find(e,!1);s(t,!1),t instanceof _n&&t.children.forEach((e=>{s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(r),o=Array.from(this.observer.takeRecords()),i=o.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map((e=>{const t=this.find(e.target,!0);return null==t?null:n.has(t.domNode)?(n.get(t.domNode).push(e),null):(n.set(t.domNode,[e]),t)})).forEach((e=>{null!=e&&e!==this&&n.has(e.domNode)&&e.update(n.get(e.domNode)||[],t)})),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(e,t)}};Jn.blotName="scroll",Jn.defaultChild=Vn,Jn.allowedChildren=[Vn,Fn],Jn.scope=An.BLOCK_BLOT,Jn.tagName="DIV";const Yn=Jn,Kn=class e extends Zn{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,n){null==n?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,t){e.some((e=>"characterData"===e.type&&e.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Kn.blotName="text",Kn.scope=An.INLINE_BLOT;const $n=Kn;var ei=o(12660);const ti=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e};const ni=ft(Object.keys,Object);var ii=Object.prototype.hasOwnProperty;const si=function(e){if(!gt(e))return ni(e);var t=[];for(var n in Object(e))ii.call(e,n)&&"constructor"!=n&&t.push(n);return t};const ri=function(e){return jt(e)?sn(e):si(e)};const oi=function(e,t){return e&&Kt(t,ri(t),e)};const li=function(e,t){return e&&Kt(t,an(t),e)};const ai=function(e,t){for(var n=-1,i=null==e?0:e.length,s=0,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[s++]=o)}return r};const ci=function(){return[]};var ui=Object.prototype.propertyIsEnumerable,hi=Object.getOwnPropertySymbols;const di=hi?function(e){return null==e?[]:(e=Object(e),ai(hi(e),(function(t){return ui.call(e,t)})))}:ci;const fi=function(e,t){return Kt(e,di(e),t)};const pi=function(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e};const mi=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)pi(t,di(e)),e=pt(e);return t}:ci;const gi=function(e,t){return Kt(e,mi(e),t)};const bi=function(e,t,n){var i=t(e);return Et(e)?i:pi(i,n(e))};const yi=function(e){return bi(e,ri,di)};const vi=function(e){return bi(e,an,mi)};const xi=Ce(te,"DataView");const wi=Ce(te,"Promise");const Ii=Ce(te,"Set");const Ni=Ce(te,"WeakMap");var Ai="[object Map]",Ei="[object Promise]",Mi="[object Set]",ji="[object WeakMap]",Ci="[object DataView]",Oi=ve(xi),ki=ve(Oe),Ti=ve(wi),Si=ve(Ii),Ri=ve(Ni),Li=he;(xi&&Li(new xi(new ArrayBuffer(1)))!=Ci||Oe&&Li(new Oe)!=Ai||wi&&Li(wi.resolve())!=Ei||Ii&&Li(new Ii)!=Mi||Ni&&Li(new Ni)!=ji)&&(Li=function(e){var t=he(e),n="[object Object]"==t?e.constructor:void 0,i=n?ve(n):"";if(i)switch(i){case Oi:return Ci;case ki:return Ai;case Ti:return Ei;case Si:return Mi;case Ri:return ji}return t});const Di=Li;var qi=Object.prototype.hasOwnProperty;const Zi=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qi.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const Pi=function(e,t){var n=t?at(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var Bi=/\w*$/;const zi=function(e){var t=new e.constructor(e.source,Bi.exec(e));return t.lastIndex=e.lastIndex,t};var _i=ne?ne.prototype:void 0,Gi=_i?_i.valueOf:void 0;const Ui=function(e){return Gi?Object(Gi.call(e)):{}};const Hi=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return at(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return Pi(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ct(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return zi(e);case"[object Symbol]":return Ui(e)}};const Vi=function(e){return yt(e)&&"[object Map]"==Di(e)};var Wi=Wt&&Wt.isMap;const Fi=Wi?Gt(Wi):Vi;const Xi=function(e){return yt(e)&&"[object Set]"==Di(e)};var Qi=Wt&&Wt.isSet;const Ji=Qi?Gt(Qi):Xi;var Yi="[object Arguments]",Ki="[object Function]",$i="[object Object]",es={};es[Yi]=es["[object Array]"]=es["[object ArrayBuffer]"]=es["[object DataView]"]=es["[object Boolean]"]=es["[object Date]"]=es["[object Float32Array]"]=es["[object Float64Array]"]=es["[object Int8Array]"]=es["[object Int16Array]"]=es["[object Int32Array]"]=es["[object Map]"]=es["[object Number]"]=es[$i]=es["[object RegExp]"]=es["[object Set]"]=es["[object String]"]=es["[object Symbol]"]=es["[object Uint8Array]"]=es["[object Uint8ClampedArray]"]=es["[object Uint16Array]"]=es["[object Uint32Array]"]=!0,es["[object Error]"]=es[Ki]=es["[object WeakMap]"]=!1;const ts=function e(t,n,i,s,r,o){var l,a=1&n,c=2&n,u=4&n;if(i&&(l=r?i(t,s,r,o):i(t)),void 0!==l)return l;if(!de(t))return t;var h=Et(t);if(h){if(l=Zi(t),!a)return ut(t,l)}else{var d=Di(t),f=d==Ki||"[object GeneratorFunction]"==d;if(Rt(t))return ot(t,a);if(d==$i||d==Yi||f&&!r){if(l=c||f?{}:bt(t),!a)return c?gi(t,li(l,t)):fi(t,oi(l,t))}else{if(!es[d])return r?t:{};l=Hi(t,d,a)}}o||(o=new Ye);var p=o.get(t);if(p)return p;o.set(t,l),Ji(t)?t.forEach((function(s){l.add(e(s,n,i,s,t,o))})):Fi(t)&&t.forEach((function(s,r){l.set(r,e(s,n,i,r,t,o))}));var m=h?void 0:(u?c?vi:yi:c?an:ri)(t);return ti(m||t,(function(s,r){m&&(s=t[r=s]),Yt(l,r,e(s,n,i,r,t,o))})),l};const ns=function(e){return ts(e,5)};const is=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const ss=function(e){return this.__data__.has(e)};function rs(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xe;++t<n;)this.add(e[t])}rs.prototype.add=rs.prototype.push=is,rs.prototype.has=ss;const os=rs;const ls=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1};const as=function(e,t){return e.has(t)};const cs=function(e,t,n,i,s,r){var o=1&n,l=e.length,a=t.length;if(l!=a&&!(o&&a>l))return!1;var c=r.get(e),u=r.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new os:void 0;for(r.set(e,t),r.set(t,e);++h<l;){var p=e[h],m=t[h];if(i)var g=o?i(m,p,h,t,e,r):i(p,m,h,e,t,r);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!ls(t,(function(e,t){if(!as(f,t)&&(p===e||s(p,e,n,i,r)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!s(p,m,n,i,r)){d=!1;break}}return r.delete(e),r.delete(t),d};const us=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n};const hs=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var ds=ne?ne.prototype:void 0,fs=ds?ds.valueOf:void 0;const ps=function(e,t,n,i,s,r,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new lt(e),new lt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return z(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=us;case"[object Set]":var a=1&i;if(l||(l=hs),e.size!=t.size&&!a)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=cs(l(e),l(t),i,s,r,o);return o.delete(e),u;case"[object Symbol]":if(fs)return fs.call(e)==fs.call(t)}return!1};var ms=Object.prototype.hasOwnProperty;const gs=function(e,t,n,i,s,r){var o=1&n,l=yi(e),a=l.length;if(a!=yi(t).length&&!o)return!1;for(var c=a;c--;){var u=l[c];if(!(o?u in t:ms.call(t,u)))return!1}var h=r.get(e),d=r.get(t);if(h&&d)return h==t&&d==e;var f=!0;r.set(e,t),r.set(t,e);for(var p=o;++c<a;){var m=e[u=l[c]],g=t[u];if(i)var b=o?i(g,m,u,t,e,r):i(m,g,u,e,t,r);if(!(void 0===b?m===g||s(m,g,n,i,r):b)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(f=!1)}return r.delete(e),r.delete(t),f};var bs="[object Arguments]",ys="[object Array]",vs="[object Object]",xs=Object.prototype.hasOwnProperty;const ws=function(e,t,n,i,s,r){var o=Et(e),l=Et(t),a=o?ys:Di(e),c=l?ys:Di(t),u=(a=a==bs?vs:a)==vs,h=(c=c==bs?vs:c)==vs,d=a==c;if(d&&Rt(e)){if(!Rt(t))return!1;o=!0,u=!1}if(d&&!u)return r||(r=new Ye),o||Xt(e)?cs(e,t,n,i,s,r):ps(e,t,a,n,i,s,r);if(!(1&n)){var f=u&&xs.call(e,"__wrapped__"),p=h&&xs.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return r||(r=new Ye),s(m,g,n,i,r)}}return!!d&&(r||(r=new Ye),gs(e,t,n,i,s,r))};const Is=function e(t,n,i,s,r){return t===n||(null==t||null==n||!yt(t)&&!yt(n)?t!=t&&n!=n:ws(t,n,i,s,e,r))};const Ns=function(e,t){return Is(e,t)};class As extends Xn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}As.blotName="break",As.tagName="BR";const Es=As;class Ms extends $n{}function js(e){return e.replace(/[&<>"']/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e])))}class Cs extends Un{static allowedChildren=[Cs,Es,Xn,Ms];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const n=Cs.order.indexOf(e),i=Cs.order.indexOf(t);return n>=0||i>=0?n-i:e===t?0:e<t?-1:1}formatAt(e,t,n,i){if(Cs.compare(this.statics.blotName,n)<0&&this.scroll.query(n,An.BLOT)){const s=this.isolate(e,t);i&&s.wrap(n,i)}else super.formatAt(e,t,n,i)}optimize(e){if(super.optimize(e),this.parent instanceof Cs&&Cs.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}const Os=Cs;class ks extends Vn{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=Ss(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,n,i){t<=0||(this.scroll.query(n,An.BLOCK)?e+t===this.length()&&this.format(n,i):super.formatAt(e,Math.min(t,this.length()-e-1),n,i),this.cache={})}insertAt(e,t,n){if(null!=n)return super.insertAt(e,t,n),void(this.cache={});if(0===t.length)return;const i=t.split("\n"),s=i.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?super.insertAt(Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let r=this;i.reduce(((e,t)=>(r=r.split(e,!0),r.insertAt(0,t),t.length)),e+s.length)}insertBefore(e,t){const{head:n}=this.children;super.insertBefore(e,t),n instanceof Es&&n.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){const t=this.clone();return 0===e?(this.parent.insertBefore(t,this),this):(this.parent.insertBefore(t,this.next),t)}const n=super.split(e,t);return this.cache={},n}}ks.blotName="block",ks.tagName="P",ks.defaultChild=Es,ks.allowedChildren=[Es,Os,Xn,Ms];class Ts extends Xn{attach(){super.attach(),this.attributes=new Rn(this.domNode)}delta(){return(new ei).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const n=this.scroll.query(e,An.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}formatAt(e,t,n,i){this.format(n,i)}insertAt(e,t,n){if(null!=n)return void super.insertAt(e,t,n);const i=t.split("\n"),s=i.pop(),r=i.map((e=>{const t=this.scroll.create(ks.blotName);return t.insertAt(0,e),t})),o=this.split(e);r.forEach((e=>{this.parent.insertBefore(e,o)})),s&&this.parent.insertBefore(this.scroll.create("text",s),o)}}function Ss(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(Zn).reduce(((e,n)=>0===n.length()?e:e.insert(n.value(),Rs(n,{},t))),new ei).insert("\n",Rs(e))}function Rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("formats"in e&&"function"==typeof e.formats&&(t={...t,...e.formats()},n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:Rs(e.parent,t,n))}Ts.scope=An.BLOCK_BLOT;class Ls extends Xn{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(e,t,n){super(e,t),this.selection=n,this.textNode=document.createTextNode(Ls.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(e,t){if(0!==this.savedLength)return void super.format(e,t);let n=this,i=0;for(;null!=n&&n.statics.scope!==An.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=Ls.CONTENTS.length,n.optimize(),n.formatAt(i,Ls.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const e=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Ms?this.prev:null,n=t?t.length():0,i=this.next instanceof Ms?this.next:null,s=i?i.text:"",{textNode:r}=this,o=r.data.split(Ls.CONTENTS).join("");let l;if(r.data=Ls.CONTENTS,t)l=t,(o||i)&&(t.insertAt(t.length(),o+s),i&&i.remove());else if(i)l=i,i.insertAt(0,o);else{const e=document.createTextNode(o);l=this.scroll.create(e),this.parent.insertBefore(l,this)}if(this.remove(),e){const s=(e,s)=>t&&e===t.domNode?s:e===r?n+s-1:i&&e===i.domNode?n+o.length+s:null,a=s(e.start.node,e.start.offset),c=s(e.end.node,e.end.offset);if(null!==a&&null!==c)return{startNode:l.domNode,startOffset:a,endNode:l.domNode,endOffset:c}}return null}update(e,t){if(e.some((e=>"characterData"===e.type&&e.target===this.textNode))){const e=this.restore();e&&(t.range=e)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if("A"===t.domNode.tagName){this.savedLength=Ls.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}const Ds=Ls;var qs=o(30228);const Zs=new WeakMap,Ps=["error","warn","log","info"];let Bs="warn";function zs(e){if(Bs&&Ps.indexOf(e)<=Ps.indexOf(Bs)){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console[e](...n)}}function _s(e){return Ps.reduce(((t,n)=>(t[n]=zs.bind(console,n,e),t)),{})}_s.level=e=>{Bs=e},zs.level=_s.level;const Gs=_s,Us=Gs("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((e=>{document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((e=>{const n=Zs.get(e);n&&n.emitter&&n.emitter.handleDOM(...t)}))}))}));const Hs=class extends qs{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Us.error)}emit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Us.log.call(Us,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach((t=>{let{node:i,handler:s}=t;(e.target===i||i.contains(e.target))&&s(e,...n)}))}listenDOM(e,t,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:n})}},Vs=Gs("quill:selection");class Ws{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=t}}function Fs(e,t){try{t.parentNode}catch(e){return!1}return e.contains(t)}const Xs=class{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ws(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,Hs.sources.USER),1)})),this.emitter.on(Hs.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const e=this.getNativeRange();null!=e&&e.start.node!==this.cursor.textNode&&this.emitter.once(Hs.events.SCROLL_UPDATE,((t,n)=>{try{this.root.contains(e.start.node)&&this.root.contains(e.end.node)&&this.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset);const i=n.some((e=>"characterData"===e.type||"childList"===e.type||"attributes"===e.type&&e.target===this.root));this.update(i?Hs.sources.SILENT:t)}catch(e){}}))})),this.emitter.on(Hs.events.SCROLL_OPTIMIZE,((e,t)=>{if(t.range){const{startNode:e,startOffset:n,endNode:i,endOffset:s}=t.range;this.setNativeRange(e,n,i,s),this.update(Hs.sources.SILENT)}})),this.update(Hs.sources.SILENT)}handleComposition(){this.emitter.on(Hs.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(Hs.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout((()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(Hs.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,An.BLOCK)){if(n.start.node!==this.cursor.textNode){const e=this.scroll.find(n.start.node,!1);if(null==e)return;if(e instanceof Zn){const t=e.split(n.start.offset);e.parent.insertBefore(this.cursor,t)}else e.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.scroll.length();let i;e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;let[s,r]=this.scroll.leaf(e);if(null==s)return null;if(t>0&&r===s.length()){const[t]=this.scroll.leaf(e+1);if(t){const[n]=this.scroll.line(e),[i]=this.scroll.line(e+1);n===i&&(s=t,r=0)}}[i,r]=s.position(r,!0);const o=document.createRange();if(t>0)return o.setStart(i,r),[s,r]=this.scroll.leaf(e+t),null==s?null:([i,r]=s.position(r,!0),o.setEnd(i,r),o.getBoundingClientRect());let l,a="left";if(i instanceof Text){if(!i.data.length)return null;r<i.data.length?(o.setStart(i,r),o.setEnd(i,r+1)):(o.setStart(i,r-1),o.setEnd(i,r),a="right"),l=o.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;l=s.domNode.getBoundingClientRect(),r>0&&(a="right")}return{bottom:l.top+l.height,height:l.height,left:l[a],right:l[a],top:l.top,width:0}}getNativeRange(){const e=document.getSelection();if(null==e||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(null==t)return null;const n=this.normalizeNative(t);return Vs.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();if(null==t)return[null,null];return[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&Fs(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const n=t.map((e=>{const[t,n]=e,i=this.scroll.find(t,!0),s=i.offset(this.scroll);return 0===n?s:i instanceof Zn?s+i.index(t,n):s+i.length()})),i=Math.min(Math.max(...n),this.scroll.length()-1),s=Math.min(i,...n);return new Ws(s,i-s)}normalizeNative(e){if(!Fs(this.root,e.startContainer)||!e.collapsed&&!Fs(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((e=>{let{node:t,offset:n}=e;for(;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}rangeToNative(e){const t=this.scroll.length(),n=(e,n)=>{e=Math.min(t-1,e);const[i,s]=this.scroll.leaf(e);return i?i.position(s,n):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Vs.info("setNativeRange",e,t,n,i),null!=e&&(null==this.root.parentNode||null==e.parentNode||null==n.parentNode))return;const r=document.getSelection();if(null!=r)if(null!=e){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(null==o||s||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||i!==o.endOffset){e instanceof Element&&"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&"BR"===n.tagName&&(i=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const s=document.createRange();s.setStart(e,t),s.setEnd(n,i),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hs.sources.API;if("string"==typeof t&&(n=t,t=!1),Vs.info("setRange",e),null!=e){const n=this.rangeToNative(e);this.setNativeRange(...n,t)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs.sources.USER;const t=this.lastRange,[n,i]=this.getRange();if(this.lastRange=n,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!Ns(t,this.lastRange)){if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const e=this.cursor.restore();e&&this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}const n=[Hs.events.SELECTION_CHANGE,ns(this.lastRange),ns(t),e];this.emitter.emit(Hs.events.EDITOR_CHANGE,...n),e!==Hs.sources.SILENT&&this.emitter.emit(...n)}}},Qs=/^[ -~]*$/;function Js(e,t,n){if(0===e.length){const[e]=$s(n.pop());return t<=0?`</li></${e}>`:`</li></${e}>${Js([],t-1,n)}`}const[{child:i,offset:s,length:r,indent:o,type:l},...a]=e,[c,u]=$s(l);if(o>t)return n.push(l),o===t+1?`<${c}><li${u}>${Ys(i,s,r)}${Js(a,o,n)}`:`<${c}><li>${Js(e,t+1,n)}`;const h=n[n.length-1];if(o===t&&l===h)return`</li><li${u}>${Ys(i,s,r)}${Js(a,o,n)}`;const[d]=$s(n.pop());return`</li></${d}>${Js(e,t-1,n)}`}function Ys(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in e&&"function"==typeof e.html)return e.html(t,n);if(e instanceof Ms)return js(e.value().slice(t,t+n));if(e instanceof _n){if("list-container"===e.statics.blotName){const i=[];return e.children.forEachAt(t,n,((e,t,n)=>{const s="formats"in e&&"function"==typeof e.formats?e.formats():{};i.push({child:e,offset:t,length:n,indent:s.indent||0,type:s.list})})),Js(i,-1,[])}const s=[];if(e.children.forEachAt(t,n,((e,t,n)=>{s.push(Ys(e,t,n))})),i||"list"===e.statics.blotName)return s.join("");const{outerHTML:r,innerHTML:o}=e.domNode,[l,a]=r.split(`>${o}<`);return"<table"===l?`<table style="border: 1px solid #000;">${s.join("")}<${a}`:`${l}>${s.join("")}<${a}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function Ks(e,t){return Object.keys(t).reduce(((n,i)=>{if(null==e[i])return n;const s=t[i];return s===e[i]?n[i]=s:Array.isArray(s)?s.indexOf(e[i])<0?n[i]=s.concat([e[i]]):n[i]=s:n[i]=[s,e[i]],n}),{})}function $s(e){const t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function er(e){return e.reduce(((e,t)=>{if("string"==typeof t.insert){const n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new ei)}function tr(e,t){let{index:n,length:i}=e;return new Ws(n+t,i)}const nr=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const n=er(e),i=new ei;return function(e){const t=[];return e.forEach((e=>{if("string"==typeof e.insert){e.insert.split("\n").forEach(((n,i)=>{i&&t.push({insert:"\n",attributes:e.attributes}),n&&t.push({insert:n,attributes:e.attributes})}))}else t.push(e)})),t}(n.ops.slice()).reduce(((e,n)=>{const s=ei.Op.length(n);let r=n.attributes||{},o=!1,l=!1;if(null!=n.insert){if(i.retain(s),"string"==typeof n.insert){const i=n.insert;l=!i.endsWith("\n")&&(t<=e||!!this.scroll.descendant(Ts,e)[0]),this.scroll.insertAt(e,i);const[s,o]=this.scroll.line(e);let a=Nn({},Rs(s));if(s instanceof ks){const[e]=s.descendant(Zn,o);e&&(a=Nn(a,Rs(e)))}r=ei.AttributeMap.diff(a,r)||{}}else if("object"==typeof n.insert){const i=Object.keys(n.insert)[0];if(null==i)return e;const s=null!=this.scroll.query(i,An.INLINE);if(s)(t<=e||this.scroll.descendant(Ts,e)[0])&&(l=!0);else if(e>0){const[t,n]=this.scroll.descendant(Zn,e-1);if(t instanceof Ms){"\n"!==t.value()[n]&&(o=!0)}else t instanceof Xn&&t.statics.scope===An.INLINE_BLOT&&(o=!0)}if(this.scroll.insertAt(e,i,n.insert[i]),s){const[t]=this.scroll.descendant(Zn,e);if(t){const e=Nn({},Rs(t));r=ei.AttributeMap.diff(e,r)||{}}}}t+=s}else if(i.push(n),null!==n.retain&&"object"==typeof n.retain){const t=Object.keys(n.retain)[0];if(null==t)return e;this.scroll.updateEmbedAt(e,t,n.retain[t])}Object.keys(r).forEach((t=>{this.scroll.formatAt(e,s,t,r[t])}));const a=o?1:0,c=l?1:0;return t+=a+c,i.retain(a),i.delete(c),e+s+a+c}),0),i.reduce(((e,t)=>"number"==typeof t.delete?(this.scroll.deleteAt(e,t.delete),e):e+ei.Op.length(t)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update((new ei).retain(e).delete(t))}formatLine(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach((i=>{this.scroll.lines(e,Math.max(t,1)).forEach((e=>{e.format(i,n[i])}))})),this.scroll.optimize();const i=(new ei).retain(e).retain(t,ns(n));return this.update(i)}formatText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(n).forEach((i=>{this.scroll.formatAt(e,t,i,n[i])}));const i=(new ei).retain(e).retain(t,ns(n));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce(((e,t)=>e.concat(t.delta())),new ei)}getFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((e=>{const[t]=e;t instanceof ks?n.push(t):t instanceof Zn&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(Zn,e,t));const[s,r]=[n,i].map((e=>{const t=e.shift();if(null==t)return{};let n=Rs(t);for(;Object.keys(n).length>0;){const t=e.shift();if(null==t)return n;n=Ks(Rs(t),n)}return n}));return{...s,...r}}getHTML(e,t){const[n,i]=this.scroll.line(e);if(n){const s=n.length();return!(n.length()>=i+t)||0===i&&t===s?Ys(this.scroll,e,t,!0):Ys(n,i,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter((e=>"string"==typeof e.insert)).map((e=>e.insert)).join("")}insertContents(e,t){const n=er(t),i=(new ei).retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(i)}insertEmbed(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new ei).retain(e).insert({[t]:n}))}insertText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((i=>{this.scroll.formatAt(e,t.length,i,n[i])})),this.update((new ei).retain(e).insert(t,ns(n)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==ks.blotName)return!1;const t=e;return!(t.children.length>1)&&t.children.head instanceof Es}removeFormat(e,t){const n=this.getText(e,t),[i,s]=this.scroll.line(e+t);let r=0,o=new ei;null!=i&&(r=i.length()-s,o=i.delta().slice(s,s+r-1).insert("\n"));const l=this.getContents(e,t+r).diff((new ei).insert(n).concat(o)),a=(new ei).retain(e).concat(l);return this.applyDelta(a)}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(Qs)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),r=Rs(s),o=s.offset(this.scroll),l=t[0].oldValue.replace(Ds.CONTENTS,""),a=(new ei).insert(l),c=(new ei).insert(s.value()),u=n&&{oldRange:tr(n.oldRange,-o),newRange:tr(n.newRange,-o)};e=(new ei).retain(o).concat(a.diff(c,u)).reduce(((e,t)=>t.insert?e.insert(t.insert,r):e.push(t)),new ei),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&Ns(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}};const ir=class{static DEFAULTS={};constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=t}},sr="\ufeff";const rr=class extends Xn{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((e=>{this.contentNode.appendChild(e)})),this.leftGuard=document.createTextNode(sr),this.rightGuard=document.createTextNode(sr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t,n=null;const i=e.data.split(sr).join("");if(e===this.leftGuard)if(this.prev instanceof Ms){const e=this.prev.length();this.prev.insertAt(e,i),n={startNode:this.prev.domNode,startOffset:e+i.length}}else t=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(t),this),n={startNode:t,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Ms?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(t=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(t),this.next),n={startNode:t,startOffset:i.length}));return e.data=sr,n}update(e,t){e.forEach((e=>{if("characterData"===e.type&&(e.target===this.leftGuard||e.target===this.rightGuard)){const n=this.restore(e.target);n&&(t.range=n)}}))}};const or=class{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(e=>{this.isComposing||this.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(e=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(e)}))}))}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof rr||(this.emitter.emit(Hs.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Hs.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Hs.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Hs.events.COMPOSITION_END,e),this.isComposing=!1}};class lr{static DEFAULTS={modules:{}};static themes={default:lr};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach((e=>{null==this.modules[e]&&this.addModule(e)}))}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const ar=lr,cr=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,i="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*i,left:t.left}},ur=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},hr=(e,t,n,i,s,r)=>e<n&&t>i?0:e<n?-(n-e+s):t>i?t-e>i-n?e+s-n:t-i+r:0,dr=(e,t)=>{const n=e.ownerDocument;let i=t,s=e;for(;s;){const e=s===n.body,t=e?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:cr(s),o=getComputedStyle(s),l=hr(i.left,i.right,t.left,t.right,ur(o.scrollPaddingLeft),ur(o.scrollPaddingRight)),a=hr(i.top,i.bottom,t.top,t.bottom,ur(o.scrollPaddingTop),ur(o.scrollPaddingBottom));if(l||a)if(e)n.defaultView?.scrollBy(l,a);else{const{scrollLeft:e,scrollTop:t}=s;a&&(s.scrollTop+=a),l&&(s.scrollLeft+=l);const n=s.scrollLeft-e,r=s.scrollTop-t;i={left:i.left-n,top:i.top-r,right:i.right-n,bottom:i.bottom-r}}s=e||"fixed"===o.position?null:(r=s).parentElement||r.getRootNode().host||null}var r},fr=["block","break","cursor","inline","scroll","text"],pr=(e,t,n)=>{const i=new Cn;return fr.forEach((e=>{const n=t.query(e);n&&i.register(n)})),e.forEach((e=>{let s=t.query(e);s||n.error(`Cannot register "${e}" specified in "formats" config. Are you sure it was registered?`);let r=0;for(;s;)if(i.register(s),s="blotName"in s?s.requiredContainer??null:null,r+=1,r>100){n.error(`Cycle detected in registering blot requiredContainer: "${e}"`);break}})),i},mr=Gs("quill"),gr=new Cn;_n.uiClass="ql-ui";class br{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:gr,theme:"default"};static events=Hs.events;static sources=Hs.sources;static version="2.0.2";static imports={delta:ei,parchment:a,"core/module":ir,"core/theme":ar};static debug(e){!0===e&&(e="log"),Gs.level(e)}static find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zs.get(e)||gr.find(e,t)}static import(e){return null==this.imports[e]&&mr.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const e=arguments.length<=0?void 0:arguments[0],t=!!(arguments.length<=1?void 0:arguments[1]),n="attrName"in e?e.attrName:e.blotName;"string"==typeof n?this.register(`formats/${n}`,e,t):Object.keys(e).forEach((n=>{this.register(n,e[n],t)}))}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[e]||n||mr.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&"boolean"!=typeof t&&"abstract"!==t.blotName&&gr.register(t),"function"==typeof t.register&&t.register(gr)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(e,t){const n=yr(e);if(!n)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===br.DEFAULTS.theme,s=i?ar:br.import(`themes/${t.theme}`);if(!s)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:r,...o}=br.DEFAULTS,{modules:l,...a}=s.DEFAULTS;let c=vr(t.modules);null!=c&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=Nn({},vr(r),vr(l),c),h={...o,...xr(a),...xr(t)};let d=t.registry;d?t.formats&&mr.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?pr(t.formats,h.registry,mr):h.registry;return{...h,registry:d,container:n,theme:s,modules:Object.entries(u).reduce(((e,t)=>{let[n,i]=t;if(!i)return e;const s=br.import(`modules/${n}`);return null==s?(mr.error(`Cannot load ${n} module. Are you sure you registered it?`),e):{...e,[n]:Nn({},s.DEFAULTS||{},i)}}),{}),bounds:yr(h.bounds)}}(e,t),this.container=this.options.container,null==this.container)return void mr.error("Invalid Quill container",e);this.options.debug&&br.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Zs.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Hs;const i=Yn.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new nr(this.scroll),this.selection=new Xs(this.scroll,this.emitter),this.composition=new or(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Hs.events.EDITOR_CHANGE,(e=>{e===Hs.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(Hs.events.SCROLL_UPDATE,((e,t)=>{const n=this.selection.lastRange,[i]=this.selection.getRange(),s=n&&i?{oldRange:n,newRange:i}:void 0;wr.call(this,(()=>this.editor.update(null,t,s)),e)})),this.emitter.on(Hs.events.SCROLL_EMBED_UPDATE,((e,t)=>{const n=this.selection.lastRange,[i]=this.selection.getRange(),s=n&&i?{oldRange:n,newRange:i}:void 0;wr.call(this,(()=>{const n=(new ei).retain(e.offset(this)).retain({[e.statics.blotName]:t});return this.editor.update(n,[],s)}),br.sources.USER)})),n){const e=this.clipboard.convert({html:`${n}<p><br></p>`,text:"\n"});this.setContents(e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){const t=e;(e=document.createElement("div")).classList.add(t)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,n){return[e,t,,n]=Ir(e,t,n),wr.call(this,(()=>this.editor.deleteText(e,t)),n,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hs.sources.API;return wr.call(this,(()=>{const n=this.getSelection(!0);let i=new ei;if(null==n)return i;if(this.scroll.query(e,An.BLOCK))i=this.editor.formatLine(n.index,n.length,{[e]:t});else{if(0===n.length)return this.selection.format(e,t),i;i=this.editor.formatText(n.index,n.length,{[e]:t})}return this.setSelection(n,Hs.sources.SILENT),i}),n)}formatLine(e,t,n,i,s){let r;return[e,t,r,s]=Ir(e,t,n,i,s),wr.call(this,(()=>this.editor.formatLine(e,t,r)),s,e,0)}formatText(e,t,n,i,s){let r;return[e,t,r,s]=Ir(e,t,n,i,s),wr.call(this,(()=>this.editor.formatText(e,t,r)),s,e,0)}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;if(n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length),!n)return null;const i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}getContents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e;return[e,t]=Ir(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=Ir(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=Ir(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:br.sources.API;return wr.call(this,(()=>this.editor.insertEmbed(e,t,n)),i,e)}insertText(e,t,n,i,s){let r;return[e,,r,s]=Ir(e,0,n,i,s),wr.call(this,(()=>this.editor.insertText(e,t,r)),s,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,n){return[e,t,,n]=Ir(e,t,n),wr.call(this,(()=>this.editor.removeFormat(e,t)),n,e)}scrollRectIntoView(e){dr(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hs.sources.API;return wr.call(this,(()=>{e=new ei(e);const t=this.getLength(),n=this.editor.deleteText(0,t),i=this.editor.insertContents(0,e),s=this.editor.deleteText(this.getLength()-1,1);return n.compose(i).compose(s)}),t)}setSelection(e,t,n){null==e?this.selection.setRange(null,t||br.sources.API):([e,t,,n]=Ir(e,t,n),this.selection.setRange(new Ws(Math.max(0,e),t),n),n!==Hs.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hs.sources.API;const n=(new ei).insert(e);return this.setContents(n,t)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hs.sources.API;return wr.call(this,(()=>(e=new ei(e),this.editor.applyDelta(e))),t,!0)}}function yr(e){return"string"==typeof e?document.querySelector(e):e}function vr(e){return Object.entries(e??{}).reduce(((e,t)=>{let[n,i]=t;return{...e,[n]:!0===i?{}:i}}),{})}function xr(e){return Object.fromEntries(Object.entries(e).filter((e=>void 0!==e[1])))}function wr(e,t,n,i){if(!this.isEnabled()&&t===Hs.sources.USER&&!this.allowReadOnlyEdits)return new ei;let s=null==n?null:this.getSelection();const r=this.editor.delta,o=e();if(null!=s&&(!0===n&&(n=s.index),null==i?s=Nr(s,o,t):0!==i&&(s=Nr(s,n,i,t)),this.setSelection(s,Hs.sources.SILENT)),o.length()>0){const e=[Hs.events.TEXT_CHANGE,o,r,t];this.emitter.emit(Hs.events.EDITOR_CHANGE,...e),t!==Hs.sources.SILENT&&this.emitter.emit(...e)}return o}function Ir(e,t,n,i,s){let r={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(s=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(s=i,i=n,n=t,t=0),"object"==typeof n?(r=n,s=i):"string"==typeof n&&(null!=i?r[n]=i:s=n),[e,t,r,s=s||Hs.sources.API]}function Nr(e,t,n,i){const s="number"==typeof n?n:0;if(null==e)return null;let r,o;return t&&"function"==typeof t.transformPosition?[r,o]=[e.index,e.index+e.length].map((e=>t.transformPosition(e,i!==Hs.sources.USER))):[r,o]=[e.index,e.index+e.length].map((e=>e<t||e===t&&i===Hs.sources.USER?e:s>=0?e+s:Math.max(t,e+s))),new Ws(r,o-r)}const Ar=class extends Fn{};function Er(e){return e instanceof ks||e instanceof Ts}function Mr(e){return"function"==typeof e.updateContent}function jr(e,t,n){n.reduce(((t,n)=>{const i=ei.Op.length(n);let s=n.attributes||{};if(null!=n.insert)if("string"==typeof n.insert){const i=n.insert;e.insertAt(t,i);const[r]=e.descendant(Zn,t),o=Rs(r);s=ei.AttributeMap.diff(o,s)||{}}else if("object"==typeof n.insert){const i=Object.keys(n.insert)[0];if(null==i)return t;e.insertAt(t,i,n.insert[i]);if(null!=e.scroll.query(i,An.INLINE)){const[n]=e.descendant(Zn,t),i=Rs(n);s=ei.AttributeMap.diff(i,s)||{}}}return Object.keys(s).forEach((n=>{e.formatAt(t,i,n,s[n])})),t+i}),t)}const Cr=class extends Yn{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=ks;static allowedChildren=[ks,Ts,Ar];constructor(e,t,n){let{emitter:i}=n;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(e=>this.handleDragStart(e)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Hs.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Hs.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Hs.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[n,i]=this.line(e),[s]=this.line(e+t);if(super.deleteAt(e,t),null!=s&&n!==s&&i>0){if(n instanceof Ts||s instanceof Ts)return void this.optimize();const e=s.children.head instanceof Es?null:s.children.head;n.moveChildren(s,e),n.remove()}this.optimize()}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,n,i){super.formatAt(e,t,n,i),this.optimize()}insertAt(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,An.BLOCK)){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e),null==n&&t.endsWith("\n")?e.insertAt(0,t.slice(0,-1),n):e.insertAt(0,t,n)}else{const e=this.scroll.create(t,n);this.appendChild(e)}else super.insertAt(e,t,n);this.optimize()}insertBefore(e,t){if(e.statics.scope===An.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,t)}else super.insertBefore(e,t)}insertContents(e,t){const n=this.deltaToRenderBlocks(t.concat((new ei).insert("\n"))),i=n.pop();if(null==i)return;this.batchStart();const s=n.shift();if(s){const t="block"===s.type&&(0===s.delta.length()||!this.descendant(Ts,e)[0]&&e<this.length()),n="block"===s.type?s.delta:(new ei).insert({[s.key]:s.value});jr(this,e,n);const i="block"===s.type?1:0,r=e+n.length()+i;t&&this.insertAt(r-1,"\n");const o=Rs(this.line(e)[0]),l=ei.AttributeMap.diff(o,s.attributes)||{};Object.keys(l).forEach((e=>{this.formatAt(r-1,1,e,l[e])})),e=r}let[r,o]=this.children.find(e);if(n.length&&(r&&(r=r.split(o),o=0),n.forEach((e=>{if("block"===e.type){jr(this.createBlock(e.attributes,r||void 0),0,e.delta)}else{const t=this.create(e.key,e.value);this.insertBefore(t,r||void 0),Object.keys(e.attributes).forEach((n=>{t.format(n,e.attributes[n])}))}}))),"block"===i.type&&i.delta.length()){jr(this,r?r.offset(r.scroll)+o:this.length(),i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[n,i]=t;return n instanceof Zn?[n,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Er,e)}lines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const n=(e,t,i)=>{let s=[],r=i;return e.children.forEachAt(t,i,((e,t,i)=>{Er(e)?s.push(e):e instanceof Fn&&(s=s.concat(n(e,t,r))),r-=i})),s};return n(this,e,t)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Hs.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch)return void(Array.isArray(e)&&(this.batch=this.batch.concat(e)));let t=Hs.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter((e=>{let{target:t}=e;const n=this.find(t,!0);return n&&!Mr(n)}))).length>0&&this.emitter.emit(Hs.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Hs.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,n){const[i]=this.descendant((e=>e instanceof Ts),e);i&&i.statics.blotName===t&&Mr(i)&&i.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let n=new ei;return e.forEach((e=>{const i=e?.insert;if(i)if("string"==typeof i){const s=i.split("\n");s.slice(0,-1).forEach((i=>{n.insert(i,e.attributes),t.push({type:"block",delta:n,attributes:e.attributes??{}}),n=new ei}));const r=s[s.length-1];r&&n.insert(r,e.attributes)}else{const s=Object.keys(i)[0];if(!s)return;this.query(s,An.INLINE)?n.push(e):(n.length()&&t.push({type:"block",delta:n,attributes:{}}),n=new ei,t.push({type:"blockEmbed",key:s,value:i[s],attributes:e.attributes??{}}))}})),n.length()&&t.push({type:"block",delta:n,attributes:{}}),t}createBlock(e,t){let n;const i={};Object.entries(e).forEach((e=>{let[t,s]=e;null!=this.query(t,An.BLOCK&An.BLOT)?n=t:i[t]=s}));const s=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(s,t||void 0);const r=s.length();return Object.entries(i).forEach((e=>{let[t,n]=e;s.formatAt(0,r,t,n)})),s}},Or={scope:An.BLOCK,whitelist:["right","center","justify"]},kr=new En("align","align",Or),Tr=new kn("align","ql-align",Or),Sr=new Sn("align","text-align",Or);class Rr extends Sn{value(e){let t=super.value(e);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return`#${t.split(",").map((e=>`00${parseInt(e,10).toString(16)}`.slice(-2))).join("")}`}}const Lr=new kn("color","ql-color",{scope:An.INLINE}),Dr=new Rr("color","color",{scope:An.INLINE}),qr=new kn("background","ql-bg",{scope:An.INLINE}),Zr=new Rr("background","background-color",{scope:An.INLINE});class Pr extends Ar{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map((e=>e.length()<=1?"":e.domNode.innerText)).join("\n").slice(e,e+t)}html(e,t){return`<pre>\n${js(this.code(e,t))}\n</pre>`}}class Br extends ks{static TAB="  ";static register(){br.register(Pr)}}class zr extends Os{}zr.blotName="code",zr.tagName="CODE",Br.blotName="code-block",Br.className="ql-code-block",Br.tagName="DIV",Pr.blotName="code-block-container",Pr.className="ql-code-block-container",Pr.tagName="DIV",Pr.allowedChildren=[Br],Br.allowedChildren=[Ms,Es,Ds],Br.requiredContainer=Pr;const _r={scope:An.BLOCK,whitelist:["rtl"]},Gr=new En("direction","dir",_r),Ur=new kn("direction","ql-direction",_r),Hr=new Sn("direction","direction",_r),Vr={scope:An.INLINE,whitelist:["serif","monospace"]},Wr=new kn("font","ql-font",Vr);const Fr=new class extends Sn{value(e){return super.value(e).replace(/["']/g,"")}}("font","font-family",Vr),Xr=new kn("size","ql-size",{scope:An.INLINE,whitelist:["small","large","huge"]}),Qr=new Sn("size","font-size",{scope:An.INLINE,whitelist:["10px","18px","32px"]}),Jr=Gs("quill:keyboard"),Yr=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Kr extends ir{static match(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((n=>!!t[n]!==e[n]&&null!==t[n]))&&(t.key===e.key||t.key===e.which)}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=function(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!=typeof e)return null;e=ns(e)}e.shortKey&&(e[Yr]=e.shortKey,delete e.shortKey);return e}(e);if(null==i)return void Jr.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n});(Array.isArray(i.key)?i.key:[i.key]).forEach((e=>{const s={...i,key:e,...t,...n};this.bindings[s.key]=this.bindings[s.key]||[],this.bindings[s.key].push(s)}))}listen(){this.quill.root.addEventListener("keydown",(e=>{if(e.defaultPrevented||e.isComposing)return;if(229===e.keyCode&&("Enter"===e.key||"Backspace"===e.key))return;const t=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter((t=>Kr.match(e,t)));if(0===t.length)return;const n=br.find(e.target,!0);if(n&&n.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(null==i||!this.quill.hasFocus())return;const[s,r]=this.quill.getLine(i.index),[o,l]=this.quill.getLeaf(i.index),[a,c]=0===i.length?[o,l]:this.quill.getLeaf(i.index+i.length),u=o instanceof $n?o.value().slice(0,l):"",h=a instanceof $n?a.value().slice(c):"",d={collapsed:0===i.length,empty:0===i.length&&s.length()<=1,format:this.quill.getFormat(i),line:s,offset:r,prefix:u,suffix:h,event:e};t.some((e=>{if(null!=e.collapsed&&e.collapsed!==d.collapsed)return!1;if(null!=e.empty&&e.empty!==d.empty)return!1;if(null!=e.offset&&e.offset!==d.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((e=>null==d.format[e])))return!1}else if("object"==typeof e.format&&!Object.keys(e.format).every((t=>!0===e.format[t]?null!=d.format[t]:!1===e.format[t]?null==d.format[t]:Ns(e.format[t],d.format[t]))))return!1;return!(null!=e.prefix&&!e.prefix.test(d.prefix))&&(!(null!=e.suffix&&!e.suffix.test(d.suffix))&&!0!==e.handler.call(this,i,d,e))}))&&e.preventDefault()}))}handleBackspace(e,t){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(0===e.index||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let r=(new ei).retain(e.index-n).delete(n);if(0===t.offset){const[t]=this.quill.getLine(e.index-1);if(t){if(!("block"===t.statics.blotName&&t.length()<=1)){const t=s.formats(),n=this.quill.getFormat(e.index-1,1);if(i=ei.AttributeMap.diff(t,n)||{},Object.keys(i).length>0){const t=(new ei).retain(e.index+s.length()-2).retain(1,i);r=r.compose(t)}}}}this.quill.updateContents(r,br.sources.USER),this.quill.focus()}handleDelete(e,t){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let i={};const[s]=this.quill.getLine(e.index);let r=(new ei).retain(e.index).delete(n);if(t.offset>=s.length()-1){const[t]=this.quill.getLine(e.index+1);if(t){const n=s.formats(),o=this.quill.getFormat(e.index,1);i=ei.AttributeMap.diff(n,o)||{},Object.keys(i).length>0&&(r=r.retain(t.length()-1).retain(1,i))}}this.quill.updateContents(r,br.sources.USER),this.quill.focus()}handleDeleteRange(e){so({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const n=Object.keys(t.format).reduce(((e,n)=>(this.quill.scroll.query(n,An.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e)),{}),i=(new ei).retain(e.index).delete(e.length).insert("\n",n);this.quill.updateContents(i,br.sources.USER),this.quill.setSelection(e.index+1,br.sources.SILENT),this.quill.focus()}}const $r={bindings:{bold:no("bold"),italic:no("italic"),underline:no("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",br.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",br.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){null!=t.format.indent?this.quill.format("indent","-1",br.sources.USER):null!=t.format.list&&this.quill.format("list",!1,br.sources.USER)}},"indent code-block":eo(!0),"outdent code-block":eo(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,br.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=(new ei).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,br.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,br.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,br.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,br.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),i={...t.formats(),list:"checked"},s=(new ei).retain(e.index).insert("\n",i).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,br.sources.USER),this.quill.setSelection(e.index+1,br.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,i]=this.quill.getLine(e.index),s=(new ei).retain(e.index).insert("\n",t.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(s,br.sources.USER),this.quill.setSelection(e.index+1,br.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,i,s,r]=t.getTable(e),o=function(e,t,n,i){if(null==t.prev&&null==t.next)return null==n.prev&&null==n.next?0===i?-1:1:null==n.prev?-1:1;if(null==t.prev)return-1;if(null==t.next)return 1;return null}(0,i,s,r);if(null==o)return;let l=n.offset();if(o<0){const t=(new ei).retain(l).insert("\n");this.quill.updateContents(t,br.sources.USER),this.quill.setSelection(e.index+1,e.length,br.sources.SILENT)}else if(o>0){l+=n.length();const e=(new ei).retain(l).insert("\n");this.quill.updateContents(e,br.sources.USER),this.quill.setSelection(l,br.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:i}=t,s=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(s-1,br.sources.USER):this.quill.setSelection(s+i.length(),br.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(null==this.quill.scroll.query("list"))return!0;const{length:n}=t.prefix,[i,s]=this.quill.getLine(e.index);if(s>n)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(e.index," ",br.sources.USER),this.quill.history.cutoff();const o=(new ei).retain(e.index-s).delete(n+1).retain(i.length()-2-s).retain(1,{list:r});return this.quill.updateContents(o,br.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,br.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let i=2,s=t;for(;null!=s&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,i-=1,i<=0){const i=(new ei).retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,br.sources.USER),this.quill.setSelection(e.index-1,br.sources.SILENT),!1}return!0}},"embed left":to("ArrowLeft",!1),"embed left shift":to("ArrowLeft",!0),"embed right":to("ArrowRight",!1),"embed right shift":to("ArrowRight",!0),"table down":io(!1),"table up":io(!0)}};function eo(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:i}=n;const s=this.quill.scroll.query("code-block"),{TAB:r}=s;if(0===t.length&&!i.shiftKey)return this.quill.insertText(t.index,r,br.sources.USER),void this.quill.setSelection(t.index+r.length,br.sources.SILENT);const o=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:a}=t;o.forEach(((t,n)=>{e?(t.insertAt(0,r),0===n?l+=r.length:a+=r.length):t.domNode.textContent.startsWith(r)&&(t.deleteAt(0,r.length),0===n?l-=r.length:a-=r.length)})),this.quill.update(br.sources.USER),this.quill.setSelection(l,a,br.sources.SILENT)}}}function to(e,t){const n="ArrowLeft"===e?"prefix":"suffix";return{key:e,shiftKey:t,altKey:null,[n]:/^$/,handler(n){let{index:i}=n;"ArrowRight"===e&&(i+=n.length+1);const[s]=this.quill.getLeaf(i);return!(s instanceof Xn)||("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,br.sources.USER):this.quill.setSelection(n.index-1,br.sources.USER):t?this.quill.setSelection(n.index,n.length+1,br.sources.USER):this.quill.setSelection(n.index+n.length+1,br.sources.USER),!1)}}}function no(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],br.sources.USER)}}}function io(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const i=e?"prev":"next",s=n.line,r=s.parent[i];if(null!=r){if("table-row"===r.statics.blotName){let e=r.children.head,t=s;for(;null!=t.prev;)t=t.prev,e=e.next;const i=e.offset(this.quill.scroll)+Math.min(n.offset,e.length()-1);this.quill.setSelection(i,0,br.sources.USER)}}else{const t=s.table()[i];null!=t&&(e?this.quill.setSelection(t.offset(this.quill.scroll)+t.length()-1,0,br.sources.USER):this.quill.setSelection(t.offset(this.quill.scroll),0,br.sources.USER))}return!1}}}function so(e){let{quill:t,range:n}=e;const i=t.getLines(n);let s={};if(i.length>1){const e=i[0].formats(),t=i[i.length-1].formats();s=ei.AttributeMap.diff(t,e)||{}}t.deleteText(n,br.sources.USER),Object.keys(s).length>0&&t.formatLine(n.index,1,s,br.sources.USER),t.setSelection(n.index,br.sources.SILENT)}Kr.DEFAULTS=$r;const ro=/font-weight:\s*normal/,oo=["P","OL","UL"],lo=e=>e&&oo.includes(e.tagName);const ao=/\bmso-list:[^;]*ignore/i,co=/\bmso-list:[^;]*\bl(\d+)/i,uo=/\bmso-list:[^;]*\blevel(\d+)/i,ho=e=>{const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],i=[];t.forEach((e=>{(e.getAttribute("style")||"").match(ao)?n.push(e):i.push(e)})),n.forEach((e=>e.parentNode?.removeChild(e)));const s=e.documentElement.innerHTML,r=i.map((e=>((e,t)=>{const n=e.getAttribute("style"),i=n?.match(co);if(!i)return null;const s=Number(i[1]),r=n?.match(uo),o=r?Number(r[1]):1,l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=t.match(l);return{id:s,indent:o,type:a&&"bullet"===a[1]?"bullet":"ordered",element:e}})(e,s))).filter((e=>e));for(;r.length;){const e=[];let t=r.shift();for(;t;)e.push(t),t=r.length&&r[0]?.element===t.element.nextElementSibling&&r[0].id===t.id?r.shift():null;const n=document.createElement("ul");e.forEach((e=>{const t=document.createElement("li");t.setAttribute("data-list",e.type),e.indent>1&&t.setAttribute("class","ql-indent-"+(e.indent-1)),t.innerHTML=e.element.innerHTML,n.appendChild(t)}));const i=e[0]?.element,{parentNode:s}=i??{};i&&s?.replaceChild(n,i),e.slice(1).forEach((e=>{let{element:t}=e;s?.removeChild(t)}))}};const fo=[function(e){"urn:schemas-microsoft-com:office:word"===e.documentElement.getAttribute("xmlns:w")&&ho(e)},function(e){e.querySelector('[id^="docs-internal-guid-"]')&&((e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((e=>e.getAttribute("style")?.match(ro))).forEach((t=>{const n=e.createDocumentFragment();n.append(...t.childNodes),t.parentNode?.replaceChild(n,t)}))})(e),(e=>{Array.from(e.querySelectorAll("br")).filter((e=>lo(e.previousElementSibling)&&lo(e.nextElementSibling))).forEach((e=>{e.parentNode?.removeChild(e)}))})(e))}],po=e=>{e.documentElement&&fo.forEach((t=>{t(e)}))},mo=Gs("quill:clipboard"),go=[[Node.TEXT_NODE,function(e,t,n){let i=e.data;if("O:P"===e.parentElement?.tagName)return t.insert(i.trim());if(!No(e)){if(0===i.trim().length&&i.includes("\n")&&!function(e,t){return e.previousElementSibling&&e.nextElementSibling&&!wo(e.previousElementSibling,t)&&!wo(e.nextElementSibling,t)}(e,n))return t;const s=(e,t)=>{const n=t.replace(/[^\u00a0]/g,"");return n.length<1&&e?" ":n};i=i.replace(/\r\n/g," ").replace(/\n/g," "),i=i.replace(/\s\s+/g,s.bind(s,!0)),(null==e.previousSibling&&null!=e.parentElement&&wo(e.parentElement,n)||e.previousSibling instanceof Element&&wo(e.previousSibling,n))&&(i=i.replace(/^\s+/,s.bind(s,!1))),(null==e.nextSibling&&null!=e.parentElement&&wo(e.parentElement,n)||e.nextSibling instanceof Element&&wo(e.nextSibling,n))&&(i=i.replace(/\s+$/,s.bind(s,!1)))}return t.insert(i)}],[Node.TEXT_NODE,Mo],["br",function(e,t){xo(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,Mo],[Node.ELEMENT_NODE,function(e,t,n){const i=n.query(e);if(null==i)return t;if(i.prototype instanceof Xn){const t={},s=i.value(e);if(null!=s)return t[i.blotName]=s,(new ei).insert(t,i.formats(e,n))}else if(i.prototype instanceof Vn&&!xo(t,"\n")&&t.insert("\n"),"blotName"in i&&"formats"in i&&"function"==typeof i.formats)return vo(t,i.blotName,i.formats(e,n),n);return t}],[Node.ELEMENT_NODE,function(e,t,n){const i=En.keys(e),s=kn.keys(e),r=Sn.keys(e),o={};return i.concat(s).concat(r).forEach((t=>{let i=n.query(t,An.ATTRIBUTE);null!=i&&(o[i.attrName]=i.value(e),o[i.attrName])||(i=bo[t],null==i||i.attrName!==t&&i.keyName!==t||(o[i.attrName]=i.value(e)||void 0),i=yo[t],null==i||i.attrName!==t&&i.keyName!==t||(i=yo[t],o[i.attrName]=i.value(e)||void 0))})),Object.entries(o).reduce(((e,t)=>{let[i,s]=t;return vo(e,i,s,n)}),t)}],[Node.ELEMENT_NODE,function(e,t,n){const i={},s=e.style||{};"italic"===s.fontStyle&&(i.italic=!0);"underline"===s.textDecoration&&(i.underline=!0);"line-through"===s.textDecoration&&(i.strike=!0);(s.fontWeight?.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(i.bold=!0);if(t=Object.entries(i).reduce(((e,t)=>{let[i,s]=t;return vo(e,i,s,n)}),t),parseFloat(s.textIndent||0)>0)return(new ei).insert("\t").concat(t);return t}],["li",function(e,t,n){const i=n.query(e);if(null==i||"list"!==i.blotName||!xo(t,"\n"))return t;let s=-1,r=e.parentNode;for(;null!=r;)["OL","UL"].includes(r.tagName)&&(s+=1),r=r.parentNode;return s<=0?t:t.reduce(((e,t)=>t.insert?t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,{indent:s,...t.attributes||{}}):e),new ei)}],["ol, ul",function(e,t,n){const i=e;let s="OL"===i.tagName?"ordered":"bullet";const r=i.getAttribute("data-checked");r&&(s="true"===r?"checked":"unchecked");return vo(t,"list",s,n)}],["pre",function(e,t,n){const i=n.query("code-block"),s=!i||!("formats"in i)||"function"!=typeof i.formats||i.formats(e,n);return vo(t,"code-block",s,n)}],["tr",function(e,t,n){const i="TABLE"===e.parentElement?.tagName?e.parentElement:e.parentElement?.parentElement;if(null!=i){return vo(t,"table",Array.from(i.querySelectorAll("tr")).indexOf(e)+1,n)}return t}],["b",Eo("bold")],["i",Eo("italic")],["strike",Eo("strike")],["style",function(){return new ei}]],bo=[kr,Gr].reduce(((e,t)=>(e[t.keyName]=t,e)),{}),yo=[Sr,Zr,Dr,Hr,Fr,Qr].reduce(((e,t)=>(e[t.keyName]=t,e)),{});function vo(e,t,n,i){return i.query(t)?e.reduce(((e,i)=>{if(!i.insert)return e;if(i.attributes&&i.attributes[t])return e.push(i);const s=n?{[t]:n}:{};return e.insert(i.insert,{...s,...i.attributes})}),new ei):e}function xo(e,t){let n="";for(let i=e.ops.length-1;i>=0&&n.length<t.length;--i){const t=e.ops[i];if("string"!=typeof t.insert)break;n=t.insert+n}return n.slice(-1*t.length)===t}function wo(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return!(n&&n.prototype instanceof Xn)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}const Io=new WeakMap;function No(e){return null!=e&&(Io.has(e)||("PRE"===e.tagName?Io.set(e,!0):Io.set(e,No(e.parentNode))),Io.get(e))}function Ao(e,t,n,i,s){return t.nodeType===t.TEXT_NODE?i.reduce(((n,i)=>i(t,n,e)),new ei):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce(((r,o)=>{let l=Ao(e,o,n,i,s);return o.nodeType===t.ELEMENT_NODE&&(l=n.reduce(((t,n)=>n(o,t,e)),l),l=(s.get(o)||[]).reduce(((t,n)=>n(o,t,e)),l)),r.concat(l)}),new ei):new ei}function Eo(e){return(t,n,i)=>vo(n,e,!0,i)}function Mo(e,t,n){if(!xo(t,"\n")){if(wo(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&e.nextSibling){let i=e.nextSibling;for(;null!=i;){if(wo(i,n))return t.insert("\n");const e=n.query(i);if(e&&e.prototype instanceof Ts)return t.insert("\n");i=i.firstChild}}}return t}function jo(e,t){let n=t;for(let t=e.length-1;t>=0;t-=1){const i=e[t];e[t]={delta:n.transform(i.delta,!0),range:i.range&&Co(i.range,n)},n=i.delta.transform(n),0===e[t].delta.length()&&e.splice(t,1)}}function Co(e,t){if(!e)return e;const n=t.transformPosition(e.index);return{index:n,length:t.transformPosition(e.index+e.length)-n}}class Oo extends ir{constructor(e,t){super(e,t),e.root.addEventListener("drop",(t=>{t.preventDefault();let n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(t.clientX,t.clientY);else if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t.clientX,t.clientY);n=document.createRange(),n.setStart(e.offsetNode,e.offset),n.setEnd(e.offsetNode,e.offset)}const i=n&&e.selection.normalizeNative(n);if(i){const n=e.selection.normalizedToRange(i);t.dataTransfer?.files&&this.upload(n,t.dataTransfer.files)}}))}upload(e,t){const n=[];Array.from(t).forEach((e=>{e&&this.options.mimetypes?.includes(e.type)&&n.push(e)})),n.length>0&&this.options.handler.call(this,e,n)}}Oo.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map((e=>new Promise((t=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e)}))));Promise.all(n).then((t=>{const n=t.reduce(((e,t)=>e.insert({image:t})),(new ei).retain(e.index).delete(e.length));this.quill.updateContents(n,Hs.sources.USER),this.quill.setSelection(e.index+t.length,Hs.sources.SILENT)}))}};const ko=Oo,To=["insertText","insertReplacementText"];const So=class extends ir{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",(e=>{this.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||e.on(br.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(e){so({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new ei).retain(e.index).insert(t,n),br.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,br.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!To.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||!0===t.collapsed)return;const n=function(e){if("string"==typeof e.data)return e.data;if(e.dataTransfer?.types.includes("text/plain"))return e.dataTransfer.getData("text/plain");return null}(e);if(null==n)return;const i=this.quill.selection.normalizeNative(t),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}},Ro=/Mac/i.test(navigator.platform);const Lo=class extends ir{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:n,event:i}=t;if(!(n instanceof _n&&n.uiNode))return!0;const s="rtl"===getComputedStyle(n.domNode).direction;return!!(s&&"ArrowRight"!==i.key||!s&&"ArrowLeft"!==i.key)||(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),br.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(e=>{!e.defaultPrevented&&(e=>"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"Home"===e.key||!(!Ro||"a"!==e.key||!0!==e.ctrlKey))(e)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+100,this.isListening)return;this.isListening=!0;document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(!0!==t.collapsed||0!==t.startOffset)return;const n=this.quill.scroll.find(t.startContainer);if(!(n instanceof _n&&n.uiNode))return;const i=document.createRange();i.setStartAfter(n.uiNode),i.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(i)}};br.register({"blots/block":ks,"blots/block/embed":Ts,"blots/break":Es,"blots/container":Ar,"blots/cursor":Ds,"blots/embed":rr,"blots/inline":Os,"blots/scroll":Cr,"blots/text":Ms,"modules/clipboard":class extends ir{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",(e=>this.onCaptureCopy(e,!1))),this.quill.root.addEventListener("cut",(e=>this.onCaptureCopy(e,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],go.concat(this.options.matchers??[]).forEach((e=>{let[t,n]=e;this.addMatcher(t,n)}))}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:n}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i[Br.blotName])return(new ei).insert(n||"",{[Br.blotName]:i[Br.blotName]});if(!t)return(new ei).insert(n||"",i);const s=this.convertHTML(t);return xo(s,"\n")&&(null==s.ops[s.ops.length-1].attributes||i.table)?s.compose((new ei).retain(s.length()-1).delete(1)):s}normalizeHTML(e){po(e)}convertHTML(e){const t=(new DOMParser).parseFromString(e,"text/html");this.normalizeHTML(t);const n=t.body,i=new WeakMap,[s,r]=this.prepareMatching(n,i);return Ao(this.quill.scroll,n,s,r,i)}dangerouslyPasteHTML(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:br.sources.API;if("string"==typeof e){const n=this.convert({html:e,text:""});this.quill.setContents(n,t),this.quill.setSelection(0,br.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents((new ei).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),br.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(null==n)return;const{html:i,text:s}=this.onCopy(n,t);e.clipboardData?.setData("text/plain",s),e.clipboardData?.setData("text/html",i),t&&so({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter((e=>"#"!==e[0])).join("\n")}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(null==t)return;const n=e.clipboardData?.getData("text/html");let i=e.clipboardData?.getData("text/plain");if(!n&&!i){const t=e.clipboardData?.getData("text/uri-list");t&&(i=this.normalizeURIList(t))}const s=Array.from(e.clipboardData?.files||[]);if(!n&&s.length>0)this.quill.uploader.upload(t,s);else{if(n&&s.length>0){const e=(new DOMParser).parseFromString(n,"text/html");if(1===e.body.childElementCount&&"IMG"===e.body.firstElementChild?.tagName)return void this.quill.uploader.upload(t,s)}this.onPaste(t,{html:n,text:i})}}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:n,html:i}=t;const s=this.quill.getFormat(e.index),r=this.convert({text:n,html:i},s);mo.log("onPaste",r,{text:n,html:i});const o=(new ei).retain(e.index).delete(e.length).concat(r);this.quill.updateContents(o,br.sources.USER),this.quill.setSelection(o.length()-e.length,br.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const n=[],i=[];return this.matchers.forEach((s=>{const[r,o]=s;switch(r){case Node.TEXT_NODE:i.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(e.querySelectorAll(r)).forEach((e=>{if(t.has(e)){const n=t.get(e);n?.push(o)}else t.set(e,[o])}))}})),[n,i]}},"modules/history":class extends ir{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(br.events.EDITOR_CHANGE,((e,t,n,i)=>{e===br.events.SELECTION_CHANGE?t&&i!==br.sources.SILENT&&(this.currentRange=t):e===br.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&i!==br.sources.USER?this.transform(t):this.record(t,n)),this.currentRange=Co(this.currentRange,t))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(e=>{"historyUndo"===e.inputType?(this.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(this.redo(),e.preventDefault())}))}change(e,t){if(0===this.stack[e].length)return;const n=this.stack[e].pop();if(!n)return;const i=this.quill.getContents(),s=n.delta.invert(i);this.stack[t].push({delta:s,range:Co(n.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,br.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(0===e.ops.length)return;this.stack.redo=[];let n=e.invert(t),i=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const e=this.stack.undo.pop();e&&(n=n.compose(e.delta),i=e.range)}else this.lastRecorded=s;0!==n.length()&&(this.stack.undo.push({delta:n,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){jo(this.stack.undo,e),jo(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,br.sources.USER);else{const t=function(e,t){const n=t.reduce(((e,t)=>e+(t.delete||0)),0);let i=t.length()-n;(function(e,t){const n=t.ops[t.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"==typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((t=>null!=e.query(t,An.BLOCK)));return!1})(e,t)&&(i-=1);return i}(this.quill.scroll,e.delta);this.quill.setSelection(t,br.sources.USER)}}},"modules/keyboard":Kr,"modules/uploader":ko,"modules/input":So,"modules/uiNode":Lo});const Do=br;const qo=new class extends kn{add(e,t){let n=0;if("+1"===t||"-1"===t){const i=this.value(e)||0;n="+1"===t?i+1:i-1}else"number"==typeof t&&(n=t);return 0===n?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}("indent","ql-indent",{scope:An.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),Zo=qo;const Po=class extends ks{static blotName="blockquote";static tagName="blockquote"};const Bo=class extends ks{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}};class zo extends Ar{}zo.blotName="list-container",zo.tagName="OL";class _o extends ks{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){br.register(zo)}constructor(e,t){super(e,t);const n=t.ownerDocument.createElement("span"),i=n=>{if(!e.isEnabled())return;const i=this.statics.formats(t,e);"checked"===i?(this.format("list","unchecked"),n.preventDefault()):"unchecked"===i&&(this.format("list","checked"),n.preventDefault())};n.addEventListener("mousedown",i),n.addEventListener("touchstart",i),this.attachUI(n)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}_o.blotName="list",_o.tagName="LI",zo.allowedChildren=[_o],_o.requiredContainer=zo;const Go=class extends Os{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};const Uo=class extends Go{static blotName="italic";static tagName=["EM","I"]};class Ho extends Os{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Vo(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("href",this.constructor.sanitize(t)):super.format(e,t)}}function Vo(e,t){const n=document.createElement("a");n.href=e;const i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}const Wo=class extends Os{static blotName="script";static tagName=["SUB","SUP"];static create(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):super.create(e)}static formats(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}};const Fo=class extends Go{static blotName="strike";static tagName=["S","STRIKE"]};const Xo=class extends Os{static blotName="underline";static tagName="U"};const Qo=class extends rr{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}},Jo=["alt","height","width"];const Yo=class extends Xn{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Jo.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Vo(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Jo.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},Ko=["height","width"];const $o=class extends Ts{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Ko.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static sanitize(e){return Ho.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Ko.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}},el=new kn("code-token","hljs",{scope:An.INLINE});class tl extends Os{static formats(e,t){for(;null!=e&&e!==t.domNode;){if(e.classList&&e.classList.contains(Br.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,n){super(e,t,n),el.add(this.domNode,n)}format(e,t){e!==tl.blotName?super.format(e,t):t?el.add(this.domNode,t):(el.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),el.value(this.domNode)||this.unwrap()}}tl.blotName="code-token",tl.className="ql-token";class nl extends Br{static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),tl.blotName,!1),super.replaceWith(e,t)}}class il extends Pr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===nl.blotName&&(this.forceNext=!0,this.children.forEach((n=>{n.format(e,t)})))}formatAt(e,t,n,i){n===nl.blotName&&(this.forceNext=!0),super.formatAt(e,t,n,i)}highlight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const n=`${Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).map((e=>e.textContent)).join("\n")}\n`,i=nl.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==n){if(n.trim().length>0||null==this.cachedText){const t=this.children.reduce(((e,t)=>e.concat(Ss(t,!1))),new ei),s=e(n,i);t.diff(s).reduce(((e,t)=>{let{retain:n,attributes:i}=t;return n?(i&&Object.keys(i).forEach((t=>{[nl.blotName,tl.blotName].includes(t)&&this.formatAt(e,n,t,i[t])})),e+n):e}),0)}this.cachedText=n,this.forceNext=!1}}html(e,t){const[n]=this.children.find(e);return`<pre data-language="${n?nl.formats(n.domNode):"plain"}">\n${js(this.code(e,t))}\n</pre>`}optimize(e){if(super.optimize(e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const e=nl.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}il.allowedChildren=[nl],nl.requiredContainer=il,nl.allowedChildren=[tl,Ds,Ms,Es];class sl extends ir{static register(){br.register(tl,!0),br.register(nl,!0),br.register(il,!0)}constructor(e,t){if(super(e,t),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((e,t)=>{let{key:n}=t;return e[n]=!0,e}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(br.events.SCROLL_BLOT_MOUNT,(e=>{if(!(e instanceof il))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((e=>{let{key:n,label:i}=e;const s=t.ownerDocument.createElement("option");s.textContent=i,s.setAttribute("value",n),t.appendChild(s)})),t.addEventListener("change",(()=>{e.format(nl.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)})),null==e.uiNode&&(e.attachUI(t),e.children.head&&(t.value=nl.formats(e.children.head.domNode)))}))}initTimer(){let e=null;this.quill.on(br.events.SCROLL_OPTIMIZE,(()=>{e&&clearTimeout(e),e=setTimeout((()=>{this.highlight(),e=null}),this.options.interval)}))}highlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(br.sources.USER);const n=this.quill.getSelection();(null==e?this.quill.scroll.descendants(il):[e]).forEach((e=>{e.highlight(this.highlightBlot,t)})),this.quill.update(br.sources.SILENT),null!=n&&this.quill.setSelection(n,br.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(t=this.languages[t]?t:"plain","plain"===t)return js(e).split("\n").reduce(((e,n,i)=>(0!==i&&e.insert("\n",{[Br.blotName]:t}),e.insert(n))),new ei);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Br.className),n.innerHTML=((e,t,n)=>{if("string"==typeof e.versionString){const i=e.versionString.split(".")[0];if(parseInt(i,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value})(this.options.hljs,t,e),Ao(this.quill.scroll,n,[(e,t)=>{const n=el.value(e);return n?t.compose((new ei).retain(t.length(),{[tl.blotName]:n})):t}],[(e,n)=>e.data.split("\n").reduce(((e,n,i)=>(0!==i&&e.insert("\n",{[Br.blotName]:t}),e.insert(n))),n)],new WeakMap)}}sl.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class rl extends ks{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",cl()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===rl.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class ol extends Ar{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===n.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach((e=>{if(null==e.next)return;const t=e.formats(),n=e.next.formats();if(t.table!==n.table){const t=this.splitAfter(e);t&&t.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class ll extends Ar{static blotName="table-body";static tagName="TBODY"}class al extends Ar{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(ol),t=e.reduce(((e,t)=>Math.max(t.children.length,e)),0);e.forEach((e=>{new Array(t-e.children.length).fill(0).forEach((()=>{let t;null!=e.children.head&&(t=rl.formats(e.children.head.domNode));const n=this.scroll.create(rl.blotName,t);e.appendChild(n),n.optimize()}))}))}cells(e){return this.rows().map((t=>t.children.at(e)))}deleteColumn(e){const[t]=this.descendant(ll);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e);null!=n&&n.remove()}))}insertColumn(e){const[t]=this.descendant(ll);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e),i=rl.formats(t.children.head.domNode),s=this.scroll.create(rl.blotName,i);t.insertBefore(s,n)}))}insertRow(e){const[t]=this.descendant(ll);if(null==t||null==t.children.head)return;const n=cl(),i=this.scroll.create(ol.blotName);t.children.head.children.forEach((()=>{const e=this.scroll.create(rl.blotName,n);i.appendChild(e)}));const s=t.children.at(e);t.insertBefore(i,s)}rows(){const e=this.children.head;return null==e?[]:e.children.map((e=>e))}}function cl(){return`row-${Math.random().toString(36).slice(2,6)}`}al.allowedChildren=[ll],ll.requiredContainer=al,ll.allowedChildren=[ol],ol.requiredContainer=ll,ol.allowedChildren=[rl],rl.requiredContainer=ol;const ul=class extends ir{static register(){br.register(rl),br.register(ol),br.register(ll),br.register(al)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(al).forEach((e=>{e.balanceCells()}))}deleteColumn(){const[e,,t]=this.getTable();null!=t&&(e.deleteColumn(t.cellOffset()),this.quill.update(br.sources.USER))}deleteRow(){const[,e]=this.getTable();null!=e&&(e.remove(),this.quill.update(br.sources.USER))}deleteTable(){const[e]=this.getTable();if(null==e)return;const t=e.offset();e.remove(),this.quill.update(br.sources.USER),this.quill.setSelection(t,br.sources.SILENT)}getTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==e)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index);if(null==t||t.statics.blotName!==rl.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,n]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[n,i,s]=this.getTable(t);if(null==s)return;const r=s.cellOffset();n.insertColumn(r+e),this.quill.update(br.sources.USER);let o=i.rowOffset();0===e&&(o+=1),this.quill.setSelection(t.index+o,t.length,br.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[n,i,s]=this.getTable(t);if(null==s)return;const r=i.rowOffset();n.insertRow(r+e),this.quill.update(br.sources.USER),e>0?this.quill.setSelection(t,br.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,br.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const n=this.quill.getSelection();if(null==n)return;const i=new Array(e).fill(0).reduce((e=>{const n=new Array(t).fill("\n").join("");return e.insert(n,{table:cl()})}),(new ei).retain(n.index));this.quill.updateContents(i,br.sources.USER),this.quill.setSelection(n.index,br.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(br.events.SCROLL_OPTIMIZE,(e=>{e.some((e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.quill.once(br.events.TEXT_CHANGE,((e,t,n)=>{n===br.sources.USER&&this.balanceTables()})),!0)))}))}},hl=Gs("quill:toolbar");class dl extends ir{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const t=document.createElement("div");t.setAttribute("role","toolbar"),function(e,t){Array.isArray(t[0])||(t=[t]);t.forEach((t=>{const n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((e=>{if("string"==typeof e)fl(n,e);else{const t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){const i=document.createElement("select");i.classList.add(`ql-${t}`),n.forEach((e=>{const t=document.createElement("option");!1!==e?t.setAttribute("value",String(e)):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):fl(n,t,i)}})),e.appendChild(n)}))}(t,this.options.container),e.container?.parentNode?.insertBefore(t,e.container),this.container=t}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((e=>{const t=this.options.handlers?.[e];t&&this.addHandler(e,t)})),Array.from(this.container.querySelectorAll("button, select")).forEach((e=>{this.attach(e)})),this.quill.on(br.events.EDITOR_CHANGE,(()=>{const[e]=this.quill.selection.getRange();this.update(e)}))):hl.error("Container required for toolbar",this.options)}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find((e=>0===e.indexOf("ql-")));if(!t)return;if(t=t.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[t]&&null==this.quill.scroll.query(t))return void hl.warn("ignoring attaching to nonexistent format",t,e);const n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,(n=>{let i;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;const t=e.options[e.selectedIndex];i=!t.hasAttribute("selected")&&(t.value||!1)}else i=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(null!=this.handlers[t])this.handlers[t].call(this,i);else if(this.quill.scroll.query(t).prototype instanceof Xn){if(i=prompt(`Enter ${t}`),!i)return;this.quill.updateContents((new ei).retain(s.index).delete(s.length).insert({[t]:i}),br.sources.USER)}else this.quill.format(t,i,br.sources.USER);this.update(s)})),this.controls.push([t,e])}update(e){const t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((n=>{const[i,s]=n;if("SELECT"===s.tagName){let n=null;if(null==e)n=null;else if(null==t[i])n=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){let e=t[i];"string"==typeof e&&(e=e.replace(/"/g,'\\"')),n=s.querySelector(`option[value="${e}"]`)}null==n?(s.value="",s.selectedIndex=-1):n.selected=!0}else if(null==e)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const e=t[i],n=e===s.getAttribute("value")||null!=e&&e.toString()===s.getAttribute("value")||null==e&&!s.getAttribute("value");s.classList.toggle("ql-active",n),s.setAttribute("aria-pressed",n.toString())}else{const e=null!=t[i];s.classList.toggle("ql-active",e),s.setAttribute("aria-pressed",e.toString())}}))}}function fl(e,t,n){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${t}`),i.setAttribute("aria-pressed","false"),null!=n?(i.value=n,i.setAttribute("aria-label",`${t}: ${n}`)):i.setAttribute("aria-label",t),e.appendChild(i)}dl.DEFAULTS={},dl.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(null!=e)if(0===e.length){const e=this.quill.getFormat();Object.keys(e).forEach((e=>{null!=this.quill.scroll.query(e,An.INLINE)&&this.quill.format(e,!1,br.sources.USER)}))}else this.quill.removeFormat(e.index,e.length,br.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();"rtl"===e&&null==t?this.quill.format("align","right",br.sources.USER):e||"right"!==t||this.quill.format("align",!1,br.sources.USER),this.quill.format("direction",e,br.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0,10);if("+1"===e||"-1"===e){let t="+1"===e?1:-1;"rtl"===n.direction&&(t*=-1),this.quill.format("indent",i+t,br.sources.USER)}},link(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,br.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,br.sources.USER):this.quill.format("list","unchecked",br.sources.USER):this.quill.format("list",e,br.sources.USER)}}};const pl='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ml={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:pl,"code-block":pl,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let gl=0;function bl(e,t){e.setAttribute(t,`${!("true"===e.getAttribute(t))}`)}const yl=class{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),bl(this.label,"aria-expanded"),bl(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&t.setAttribute("data-value",n),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",(()=>{this.selectItem(t,!0)})),t.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.selectItem(t,!0),e.preventDefault();break;case"Escape":this.escape(),e.preventDefault()}})),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${gl}`,gl+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((t=>{const n=this.buildItem(t);e.appendChild(n),!0===t.selected&&this.selectItem(n)})),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach((e=>{this.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.container.querySelector(".ql-selected");e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);const t=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}};const vl=class extends yl{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((e=>{e.classList.add("ql-primary")}))}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const n=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=i:n.style.fill=i)}};const xl=class extends yl{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((e=>{e.innerHTML=t[e.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const n=e||this.defaultItem;if(null!=n){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}};const wl=class{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(e=>{const{overflowY:t}=getComputedStyle(e,null);return"visible"!==t&&"clip"!==t})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let r=0;if(s.right>i.right&&(r=i.right-s.right,this.root.style.left=`${t+r}px`),s.left<i.left&&(r=i.left-s.left,this.root.style.left=`${t+r}px`),s.bottom>i.bottom){const t=s.bottom-s.top,i=e.bottom-e.top+t;this.root.style.top=n-i+"px",this.root.classList.add("ql-flip")}return r}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Il=[!1,"center","right","justify"],Nl=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Al=[!1,"serif","monospace"],El=["1","2","3",!1],Ml=["small",!1,"large","huge"];class jl extends ar{constructor(e,t){super(e,t);const n=t=>{document.body.contains(e.root)?(null==this.tooltip||this.tooltip.root.contains(t.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach((e=>{e.container.contains(t.target)||e.close()}))):document.body.removeEventListener("click",n)};e.emitter.listenDOM("click",document.body,n)}addModule(e){const t=super.addModule(e);return"toolbar"===e&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach((e=>{(e.getAttribute("class")||"").split(/\s+/).forEach((n=>{if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{const i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}buildPickers(e,t){this.pickers=Array.from(e).map((e=>{if(e.classList.contains("ql-align")&&(null==e.querySelector("option")&&Ol(e,Il),"object"==typeof t.align))return new xl(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){const n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&Ol(e,Nl,"background"===n?"#ffffff":"#000000"),new vl(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?Ol(e,Al):e.classList.contains("ql-header")?Ol(e,El):e.classList.contains("ql-size")&&Ol(e,Ml)),new yl(e)}));this.quill.on(Hs.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((e=>{e.update()}))}))}}jl.DEFAULTS=Nn({},ar.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Cl extends wl{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(e=>{"Enter"===e.key?(this.save(),e.preventDefault()):"Escape"===e.key&&(this.cancel(),e.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Hs.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Hs.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=function(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`;if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`;return e}(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(null!=t){const n=t.index+t.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,Hs.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",Hs.sources.USER),this.quill.setSelection(n+2,Hs.sources.USER)}break}}this.textbox.value="",this.hide()}}function Ol(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((t=>{const i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(t)),e.appendChild(i)}))}const kl=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Tl extends Cl{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Hs.events.EDITOR_CHANGE,((e,t,n,i)=>{if(e===Hs.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===Hs.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const e=this.quill.getLines(t.index,t.length);if(1===e.length){const e=this.quill.getBounds(t);null!=e&&this.position(e)}else{const n=e[e.length-1],i=this.quill.getIndex(n),s=Math.min(n.length()-1,t.index+t.length-i),r=this.quill.getBounds(new Ws(i,s));null!=r&&this.position(r)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(Hs.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(null!=e){const t=this.quill.getBounds(e);null!=t&&this.position(t)}}),1)}))}cancel(){this.show()}position(e){const t=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",0!==t&&(n.style.marginLeft=-1*t-n.offsetWidth/2+"px"),t}}class Sl extends jl{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=kl),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Tl(this.quill,this.options.bounds),null!=e.container&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),ml),this.buildPickers(e.container.querySelectorAll("select"),ml))}}Sl.DEFAULTS=Nn({},jl.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,br.sources.USER)}}}}});const Rl=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ll extends Cl{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(e=>{if(null!=this.linkRange){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,Hs.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()})),this.quill.on(Hs.events.SELECTION_CHANGE,((e,t,n)=>{if(null!=e){if(0===e.length&&n===Hs.sources.USER){const[t,n]=this.quill.scroll.descendant(Ho,e.index);if(null!=t){this.linkRange=new Ws(e.index-n,t.length());const i=Ho.formats(t.domNode);this.preview.textContent=i,this.preview.setAttribute("href",i),this.show();const s=this.quill.getBounds(this.linkRange);return void(null!=s&&this.position(s))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class Dl extends jl{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=Rl),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){null!=e.container&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),ml),this.buildPickers(e.container.querySelectorAll("select"),ml),this.tooltip=new Ll(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((t,n)=>{e.handlers.link.call(e,!n.format.link)})))}}Dl.DEFAULTS=Nn({},jl.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const e=this.quill.getSelection();if(null==e||0===e.length)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&0!==t.indexOf("mailto:")&&(t=`mailto:${t}`);const{tooltip:n}=this.quill.theme;n.edit("link",t)}else this.quill.format("link",!1,br.sources.USER)}}}}});const ql=Dl;Do.register({"attributors/attribute/direction":Gr,"attributors/class/align":Tr,"attributors/class/background":qr,"attributors/class/color":Lr,"attributors/class/direction":Ur,"attributors/class/font":Wr,"attributors/class/size":Xr,"attributors/style/align":Sr,"attributors/style/background":Zr,"attributors/style/color":Dr,"attributors/style/direction":Hr,"attributors/style/font":Fr,"attributors/style/size":Qr},!0),Do.register({"formats/align":Tr,"formats/direction":Ur,"formats/indent":Zo,"formats/background":Zr,"formats/color":Dr,"formats/font":Wr,"formats/size":Xr,"formats/blockquote":Po,"formats/code-block":Br,"formats/header":Bo,"formats/list":_o,"formats/bold":Go,"formats/code":zr,"formats/italic":Uo,"formats/link":Ho,"formats/script":Wo,"formats/strike":Fo,"formats/underline":Xo,"formats/formula":Qo,"formats/image":Yo,"formats/video":$o,"modules/syntax":sl,"modules/table":ul,"modules/toolbar":dl,"themes/bubble":Sl,"themes/snow":ql,"ui/icons":ml,"ui/picker":yl,"ui/icon-picker":xl,"ui/color-picker":vl,"ui/tooltip":wl},!0);const Zl=Do,Pl=Zl.import("parchment"),Bl=Zl.import("delta"),zl=Zl.import("blots/embed"),_l=Zl.import("blots/inline"),Gl=Zl.import("blots/block"),Ul=Zl.import("blots/break"),Hl=Zl.import("blots/cursor"),Vl=Zl.import("blots/cursor"),Wl=Zl.import("formats/header"),Fl=Zl.import("attributors/style/align"),Xl=Zl.import("attributors/style/direction"),Ql=Zl.import("attributors/style/font"),Jl=Zl.import("attributors/style/size"),Yl=Zl.import("core/module"),Kl=Zl.import("delta"),{ClassAttributor:$l,Scope:ea}=Zl.import("parchment"),ta=(e,t,n)=>{!1!==e.find.global&&null!=e.find.global||(e.find=new RegExp(e.find,`${e.find.flags}g`)),e.find.lastIndex=0;let i=new Kl,s=null;if(null!=n)for(s=e.find.exec(t);(null==s?void 0:s.length)&&s.index<n;){if((null==s?void 0:s.index)<n&&s.index+s[0].length+1>=n){i=i.concat(na(e,s).ops);break}s=e.find.exec(t)}else for(;null!==(s=e.find.exec(t));){const n=na(e,s);i=i.concat(n.ops),t=t.substr(n.rightIndex),e.find.lastIndex=0}return i},na=(e,t)=>{const n=(t=oa(e,t)).index,i=ra(e,t[0]);let s=i;e.insert&&(s={},s[e.insert]=i);const r=sa(e,i),o=new Kl;o.retain(n).delete(t[0].length).insert(s,r);return{ops:o,rightIndex:n+t[0].length}};class ia extends Yl{constructor(e,t){super(e,t),this.hasTransFormText=(e,t)=>(e.find.global||(e.find=new RegExp(e.find,`${e.find.flags}g`)),e.find.lastIndex=0,!!e.find.exec(t)),this.transforms=t,this.registerTypeListener(),this.registerPasteListener()}registerPasteListener(){for(const e in this.transforms){const t=this.transforms[e];this.quill.clipboard.addMatcher(Node.TEXT_NODE,((e,n)=>{if("string"==typeof e.data)return n.ops.forEach(((e,n,i)=>{if("string"==typeof e.insert){const s=ta(t,e.insert),r=new Kl([e]).compose(s);i.splice(n,1,...r.ops)}})),n}))}}registerTypeListener(){this.quill.keyboard.addBinding({key:38,collapsed:!0,format:["autoformat-helper"]},this.forwardKeyboardUp.bind(this)),this.quill.keyboard.addBinding({key:40,collapsed:!0,format:["autoformat-helper"]},this.forwardKeyboardDown.bind(this)),this.quill.on(Zl.events.TEXT_CHANGE,((e,t,n)=>{var i;const s=e.ops;if("user"!==n||!s||s.length<1)return;let r=s.length-1,o=s[r];for(;!o.insert&&r>0;)r--,o=s[r];if(!o.insert||"string"!=typeof o.insert)return;const l="\n"===o.insert,a=this.quill.getSelection();if(!a)return;const c=this.quill.getLength()-a.index-(l?1:0),u=a.index,[h]=this.quill.getLeaf(u);if(!h||!h.text)return;const d=h.offset(h.scroll),f=u-d;let p=!1;for(const e in this.transforms){const t=this.transforms[e];if(null!=(null===(i=null==t?void 0:t.helper)||void 0===i?void 0:i.trigger)&&o.insert.match(t.helper.trigger)){this.quill.formatText(u,1,"autoformat-helper",e,Zl.sources.API),this.openHelper(t,u);continue}const n=this.hasTransFormText(t,h.text);if(o.insert.match(t.trigger||/./)&&n){this.closeHelper(t);let e=(new Kl).retain(d);const n=ta(t,h.text,f);n&&(e=e.concat(n)),this.quill.updateContents(e,"api"),p=!0}}p&&setTimeout((()=>{this.quill.setSelection(this.quill.getLength()-c,"api")}),0)}))}forwardKeyboard(e,t){var n;if(null!=(null===(n=this.currentHelper)||void 0===n?void 0:n.container)){const e=this.currentHelper.container.querySelector(".dropdown-menu");console.log("keyboard",e,t.event),e.dispatchEvent(t.event)}}forwardKeyboardUp(e,t){const n=new KeyboardEvent("keydown",{key:"ArrowUp",keyCode:38,which:38,bubbles:!0,cancelable:!0});t.event=n,this.forwardKeyboard(e,t)}forwardKeyboardDown(e,t){const n=new KeyboardEvent("keydown",{key:"ArrowDown",keyCode:40,which:40,bubbles:!0,cancelable:!0});t.event=n,this.forwardKeyboard(e,t)}openHelper(e,t){if(e.helper&&(this.currentHelper=e.helper,"function"==typeof e.helper.open)){console.log("openHelper",t,this.quill.getFormat(t));const n=m(this.quill,t);e.helper.open(n)}}closeHelper(e){e.helper&&"function"==typeof e.helper.close&&e.helper.close()}}const sa=(e,t)=>{let n={};return"string"==typeof e.format?n[e.format]=t:"object"==typeof e.format&&(n=e.format),n},ra=(e,t)=>{const n=new RegExp(e.extract||e.find);return e.transform?t.replace(n,e.transform):t},oa=(e,t)=>{if(e.extract){const n=new RegExp(e.extract).exec(t[0]);return n&&n.length?(n.index+=t.index,n):t}return t};ia.DEFAULTS={link:{trigger:/[\s]/,find:/https?:\/\/[\S]+|(www\.[\S]+)/gi,transform:function(e,t){return t?"http://"+e:e},format:"link"}};new $l("autoformat-helper","data-helper",{scope:ea.INLINE});var la=o(1888);const aa=e=>{var t;const{intl:n,theme:i,modalId:s,children:r}=e,o=null===(t=(0,u.getAppStore)().getState().appContext)||void 0===t?void 0:t.isRTL,l=u.React.useMemo((()=>null===la.createEmotionRTLCache||void 0===la.createEmotionRTLCache?void 0:(0,la.createEmotionRTLCache)(o)),[o]);return u.React.createElement(u.RawIntlProvider,{value:n},u.React.createElement(u.ReactRedux.Provider,{store:(0,u.getAppStore)()},u.React.createElement(la.ThemeProvider,{theme:i},u.React.createElement(la.CacheProvider,{value:l},u.React.createElement(c.ModalOverlayIdContext.Provider,{value:s},r)))))};var ca=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const ua=(0,la.styled)("div")((({theme:e})=>{var t;const n=null===(t=(0,u.getAppStore)().getState().appContext)||void 0===t?void 0:t.isRTL;return{position:"absolute",zIndex:999,"> .handle-box":{width:"8px",height:"8px",borderWidth:"1px",borderStyle:"solid",borderColor:"dark"===e.sys.color.mode?"#000":"#fff",backgroundColor:"dark"===e.sys.color.mode?"#fff":"#000"},"&.top-left":{left:n?"auto":"0px",right:n?"0px":"auto",top:"0px",cursor:"nwse-resize"},"&.top-right":{top:"0px",left:n?"0px":"auto",right:n?"auto":"0px",cursor:"nesw-resize"},"&.bottom-left":{left:n?"auto":"0px",right:n?"0px":"auto",bottom:"0px",cursor:"nesw-resize"},"&.bottom-right":{left:n?"0px":"auto",right:n?"auto":"0px",bottom:"0px",cursor:"nwse-resize"}}})),ha=e=>{const{handle:t}=e,n=ca(e,["handle"]);return u.React.createElement(ua,Object.assign({"data-handle":t,className:t},n),u.React.createElement("div",{className:"handle-box"}))},da=(0,la.styled)(c.Popper)({fontSize:"0.75rem",padding:"2px 4px",textAlign:"center",backgroundColor:"var(--sys-color-surface-overlay)",color:"var(--sys-color-surface-overlay-hint)",borderRadius:"var(--sys-shape-1)"});class fa extends u.React.PureComponent{constructor(e){var t,n;super(e),this.handleMousedown=e=>{var t;this.reference=e.currentTarget,this.img&&(null===(t=this.reference)||void 0===t?void 0:t.dataset.handle)&&(this.lastX=e.clientX,this.prevWidth=this.img.width||this.img.naturalWidth,this.containerWidth=this.props.container.offsetWidth,this.img.style.removeProperty("width"),document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.handleMouseup,!1))},this.handleMouseup=()=>{this.state.dragging&&(this.img.style.width=this.getPercentageWidth()),this.setState({dragging:!1}),this.reference=null,document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleMouseup)},this.getLimitedWidth=e=>e=Math.max(.05*this.containerWidth,Math.min(this.containerWidth,e)),this.getPercentageWidth=e=>{let t=(e=e||this.img.width)/this.containerWidth*100;t=Math.min(100,Math.max(5,t));let n="";return n=100===t||5===t?u.utils.formatPercentageNumber(`${t}`):u.utils.formatPercentageNumber(t.toFixed(2)),n},this.handleDrag=e=>{this.state.dragging||this.setState({dragging:!0});let t=e.clientX-this.lastX;"center"===this.props.alignment&&(t*=2);let n=this.prevWidth;n="top-left"===this.reference.dataset.handle||"bottom-left"===this.reference.dataset.handle?this.prevWidth-t:this.prevWidth+t,n=this.getLimitedWidth(n),this.img.width=n;const i=this.getPercentageWidth(n);this.setState({size:i})},this.img=e.img,this.state={size:"",dragging:!1},this.shiftOptions={boundary:this.img,crossAxis:!0,padding:10},this.isRTL=null!==(n=null===(t=(0,u.getAppStore)().getState().appContext)||void 0===t?void 0:t.isRTL)&&void 0!==n&&n}render(){return u.React.createElement(u.React.Fragment,null,u.React.createElement(ha,{handle:"top-left",onMouseDown:this.handleMousedown}),u.React.createElement(ha,{handle:"top-right",onMouseDown:this.handleMousedown}),u.React.createElement(ha,{handle:"bottom-left",onMouseDown:this.handleMousedown}),u.React.createElement(ha,{handle:"bottom-right",onMouseDown:this.handleMousedown}),this.state.dragging&&u.React.createElement(da,{reference:this.img,autoUpdate:!0,placement:this.isRTL?"bottom-start":"bottom-end",shiftOptions:this.shiftOptions,open:this.state.dragging,className:la.Theme2GlobalStyleClassName},this.state.size))}}var pa=o(62838),ma=o.n(pa),ga=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const ba=e=>{const t=window.SVG,{className:n}=e,i=ga(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:ma()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var ya=o(56499),va=o.n(ya),xa=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const wa=e=>{const t=window.SVG,{className:n}=e,i=xa(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:va()},i)):u.React.createElement("svg",Object.assign({className:s},i))},Ia=e=>{const{alt:t,onChange:n,onClose:i}=e,s=u.hooks.useTranslation(c.defaultMessages,u.defaultMessages),r=u.React.useRef(null),[o,l]=u.React.useState(t);u.React.useEffect((()=>{(0,u.focusElementInKeyboardMode)(r.current,!0)}),[]);const a=()=>{null==n||n(o),i()};return u.React.createElement("div",{className:"d-flex p-1"},u.React.createElement(c.TextInput,{ref:r,placeholder:s("altText"),size:"sm",value:o,onChange:e=>{l(e.currentTarget.value)},onKeyUp:e=>{"Backspace"!==e.key&&"Delete"!==e.key||e.stopPropagation()},onKeyDown:e=>{"Enter"===e.key?a():"Escape"===e.key&&i()}}),u.React.createElement(c.Button,{className:"ml-1",size:"sm",variant:"text",icon:!0,title:s("ok"),"aria-label":s("ok"),onClick:a},u.React.createElement(wa,{size:"s"})),u.React.createElement(c.Button,{size:"sm",variant:"text",icon:!0,title:s("cancel"),"aria-label":s("cancel"),onClick:i},u.React.createElement(ba,{size:"s"})))};var Na=o(9044),Aa=o.n(Na),Ea=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Ma=e=>{const t=window.SVG,{className:n}=e,i=Ea(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Aa()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var ja=o(21917),Ca=o.n(ja),Oa=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const ka=e=>{const t=window.SVG,{className:n}=e,i=Oa(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Ca()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Ta=o(16101),Sa=o.n(Ta),Ra=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const La=e=>{const t=window.SVG,{className:n}=e,i=Ra(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Sa()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Da=o(38566),qa=o.n(Da),Za=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Pa=e=>{const t=window.SVG,{className:n}=e,i=Za(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:qa()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Ba=o(85927),za=o.n(Ba),_a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Ga=e=>{const t=window.SVG,{className:n}=e,i=_a(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:za()},i)):u.React.createElement("svg",Object.assign({className:s},i))},Ua=e=>{const{display:t,value:n,onChange:i}=e,s=u.hooks.useTranslation(c.defaultMessages,u.defaultMessages),r="right"===n?u.React.createElement(Ga,{size:"m"}):u.React.createElement(Pa,{size:"m"});return u.React.createElement(c.Dropdown,{size:"sm",autoWidth:!0},u.React.createElement(c.DropdownButton,{icon:!0,size:"sm",variant:"float"===t?"contained":"text",title:s("wrapText"),"aria-label":s("wrapText"),"aria-selected":"float"===t,color:"float"===t?"primary":"default"},r),u.React.createElement(c.DropdownMenu,null,u.React.createElement(c.DropdownItem,{icon:!0,title:s("leftAlignedImage"),"aria-label":s("leftAlignedImage"),active:"float"===t&&"left"===n,onClick:()=>{null==i||i("float","left")}},u.React.createElement(Pa,{size:"m"})),u.React.createElement(c.DropdownItem,{icon:!0,title:s("rightAlignedImage"),"aria-label":s("rightAlignedImage"),active:"float"===t&&"right"===n,onClick:()=>{null==i||i("float","right")}},u.React.createElement(Ga,{size:"m"}))))};var Ha=o(31941),Va=o.n(Ha),Wa=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Fa=e=>{const t=window.SVG,{className:n}=e,i=Wa(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Va()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Xa=o(97037),Qa=o.n(Xa),Ja=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Ya=e=>{const t=window.SVG,{className:n}=e,i=Ja(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Qa()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Ka=o(63408),$a=o.n(Ka),ec=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const tc=e=>{const t=window.SVG,{className:n}=e,i=ec(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:$a()},i)):u.React.createElement("svg",Object.assign({className:s},i))},nc=e=>{const{display:t,value:n,onChange:i}=e,s=u.hooks.useTranslation(c.defaultMessages,u.defaultMessages),r="left"===n?u.React.createElement(Ya,{size:"m"}):"right"===n?u.React.createElement(tc,{size:"m"}):u.React.createElement(Fa,{size:"m"});return u.React.createElement(c.Dropdown,{size:"sm",autoWidth:!0},u.React.createElement(c.DropdownButton,{size:"sm",icon:!0,variant:"block"===t?"contained":"text",title:s("tobAndBottom"),"aria-label":s("tobAndBottom"),"aria-selected":"block"===t,color:"block"===t?"primary":"default"},r),u.React.createElement(c.DropdownMenu,null,u.React.createElement(c.DropdownItem,{icon:!0,title:s("leftAlignedImage"),"aria-label":s("leftAlignedImage"),active:"block"===t&&"left"===n,onClick:()=>{null==i||i("block","left")}},u.React.createElement(Ya,{size:"m"})),u.React.createElement(c.DropdownItem,{icon:!0,title:s("centeredImage"),"aria-label":s("centeredImage"),active:"block"===t&&"center"===n,onClick:()=>{null==i||i("block","center")}},u.React.createElement(Fa,{size:"m"})),u.React.createElement(c.DropdownItem,{icon:!0,title:s("rightAlignedImage"),"aria-label":s("rightAlignedImage"),active:"block"===t&&"right"===n,onClick:()=>{null==i||i("block","right")}},u.React.createElement(tc,{size:"m"}))))},ic={mainAxis:!0,crossAxis:!1,padding:5},sc=e=>{const{reference:t,display:n,float:i,alignment:s,alt:r,onDelete:o,onAltChange:l,onDisplayChange:a}=e,h=u.hooks.useTranslation(c.defaultMessages,u.defaultMessages),d=u.React.useRef(null),[f,p]=u.React.useState(!1);return u.React.createElement(c.Popper,{open:!0,offsetOptions:2,autoFocus:!1,shiftOptions:ic,autoUpdate:!0,"aria-modal":!0,arrowOptions:!0,reference:t,placement:"bottom",className:`jimu-rich-text-image-toolbar rounded-1 ${la.Theme2GlobalStyleClassName}`},u.React.createElement("div",{className:"toolbar p-1",style:{display:f?"none":"flex"}},u.React.createElement(c.Button,{icon:!0,size:"sm",variant:"inline"===n?"contained":"text",title:h("inLine"),"aria-label":h("inLine"),"aria-selected":"inline"===n,color:"inline"===n?"primary":"default",onClick:()=>{null==a||a("inline")}},u.React.createElement(La,{autoFlip:!0,size:"m"})),u.React.createElement(Ua,{display:n,value:i,onChange:a}),u.React.createElement(nc,{display:n,value:s,onChange:a}),u.React.createElement(c.Button,{icon:!0,size:"sm",variant:r?"contained":"text","aria-selected":!!r,onClick:()=>{p(!0)},title:h("altText"),"aria-label":h("altText"),color:r?"primary":"default"},u.React.createElement(ka,{size:"m"})),u.React.createElement(c.Button,{icon:!0,size:"sm",variant:"text",title:h("delete"),"aria-label":h("delete"),onClick:()=>{null==o||o()}},u.React.createElement(Ma,{size:"m"}))),f&&u.React.createElement(Ia,{alt:r,onChange:e=>{p(!1),null==l||l(e),(0,u.focusElementInKeyboardMode)(d.current)},onClose:()=>{p(!1),(0,u.focusElementInKeyboardMode)(d.current)}}))},rc=(0,la.styled)("div",{name:"RichTextEditorCore",part:"editing-area"})({overflowY:"hidden"}),oc=u.React.forwardRef(((e,t)=>{const{pre:n}=e,i=n?"pre":"div";return u.React.createElement(u.React.Fragment,null,u.React.createElement(rc,{styleState:e,as:i,"data-testid":"editing-area",ref:t}))}));var lc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const ac=(0,la.styled)("div",{name:"RichTextEditorCore",part:"root"})((()=>({width:"100%",height:"100%",".ql-hidden":{display:"none !important"},"pre.ql-container":{fontFamily:"inherit",fontSize:"inherit",marginTop:"0",marginBottom:"0"},".ql-container":{height:"100%",width:"100%",border:"none",boxSizing:"border-box",position:"relative","pre, & pre":{fontFamily:"inherit"},"&.ql-disabled .ql-tooltip":{visibility:"hidden"},"&.ql-disabled .ql-editor ul[data-checked] > li::before":{pointerEvents:"none"},".ql-clipboard":{left:"-100000px",height:"1px",overflowY:"hidden",position:"absolute",top:"50%",p:{margin:"0",padding:"0"}},"@media (pointer: coarse)":{"&.ql-snow .ql-toolbar":{"button:hover:not(.ql-active), button:hover:not(.ql-active)":{color:"#444"},"button:hover:not(.ql-active) .ql-fill, button:hover:not(.ql-active) .ql-stroke.ql-fill":{fill:"#444"},"button:hover:not(.ql-active) .ql-stroke, button:hover:not(.ql-active) .ql-stroke-miter":{stroke:"#444"}}}}}))),cc=({readOnly:e,modules:t,formats:n,bounds:i,editorTheme:s,preserveWhitespace:r,checkEditorOption:o},l=0)=>{const a=u.React.useRef(n),[c,h]=u.React.useState(l),d=u.hooks.useLatest(o);return u.hooks.useUpdateEffect((()=>{if(null!=d.current){d.current({formats:n,bounds:i,editorTheme:s,preserveWhitespace:r})&&h(c+1)}else h(c+1)}),[e,t,i,s,r]),u.hooks.useUpdateEffect((()=>{let e=!1;e=null!=d.current?d.current({formats:n,bounds:i,editorTheme:s,preserveWhitespace:r}):!u.lodash.isDeepEqual(a.current,n),e&&h(c+1),a.current=n}),[n]),c},uc=u.React.forwardRef(((e,t)=>{const{className:n,bounds:i,formats:s,modules:r,editorTheme:o,preserveWhitespace:l,enabled:a,placeholder:h,readOnly:d,value:f,defaultValue:p,children:m,onChange:g,onSelectionChange:b,onEditorFocus:x,onEditorBlur:w,checkEditorOption:I,editorRef:A,autoFocus:E}=e,M=lc(e,["className","bounds","formats","modules","editorTheme","preserveWhitespace","enabled","placeholder","readOnly","value","defaultValue","children","onChange","onSelectionChange","onEditorFocus","onEditorBlur","checkEditorOption","editorRef","autoFocus"]),[j,C]=u.hooks.useForwardRef(t),[O,k]=c.hooks.useForwardValueRef(A),S=void 0!==f?f:p,L=cc({readOnly:d,modules:r,formats:s,bounds:i,editorTheme:o,preserveWhitespace:l,checkEditorOption:I}),D=u.React.useRef({delta:null,selection:null});u.React.useEffect((()=>{const e=j.current;if(null==e)return;const{delta:t,selection:n}=D.current,l=new Zl(e,{readOnly:d,modules:r,formats:s,bounds:i,theme:o,placeholder:h});return y(l,null!=t?t:S),null!=n?(l.setSelection(n),(0,u.focusElementInKeyboardMode)(l,!0)):E?(v(l,"silent"),(0,u.focusElementInKeyboardMode)(l,!0)):l.blur(),k(l),()=>{const t=l.getContents(),n=l.getSelection();D.current={delta:t,selection:n},k(null),(e=>{var t,n;const i=null==e?void 0:e.previousElementSibling;(null==i?void 0:i.classList.contains("ql-toolbar"))&&(null===(t=e.parentElement)||void 0===t||t.removeChild(i));const s=null===(n=e.getElementsByClassName("ql-tooltip"))||void 0===n?void 0:n[0];(null==s?void 0:s.classList.contains("ql-tooltip"))&&e.removeChild(s)})(e)}}),[L]);const q=u.React.useRef(null),Z=u.React.useRef(S),P=u.React.useRef(null);return u.React.useEffect((()=>{if(null==O)return;const e=N(O),t=(e,t,n)=>{const{current:i}=q;if(u.lodash.isDeepEqual(e,i))return;const s=!(null!=i||null==e),r=!(null==i||null!=e);q.current=e,null==b||b(e,t,n),s?null==x||x(e,t,n):r&&(null==w||w(i,t,n))};return O.on("editor-change",((n,i,s,r)=>{n===Zl.events.SELECTION_CHANGE&&t(i,r,e),n===Zl.events.TEXT_CHANGE&&(((e,t,n,i)=>{const s=T(Z.current)?i.getContents():i.getHTML();R(s,Z.current)||(P.current=t,Z.current=s,null==g||g(s,t,n,i))})(O.root.innerHTML,i,r,e),t(O.getSelection(),r,e))})),()=>{null!=O&&O.off("editor-change")}}),[O]),u.React.useEffect((()=>{const{current:e}=Z,{current:t}=P;if(null!=O&&void 0!==S){if(null!==S&&S===t)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead");R(S,e)||y(O,S)}}),[O,S]),u.React.useEffect((()=>{null==O||d||(void 0!==a&&O.enable(a),a&&E&&(v(O),(0,u.focusElementInKeyboardMode)(O,!0)))}),[O,d,a,E]),u.React.useEffect((()=>{null!=O&&O.root.setAttribute("data-placeholder",null!=h?h:"")}),[O,h]),u.React.createElement(ac,Object.assign({styleState:e,role:"textbox","data-testid":"rich-editor-core","data-version":L,className:(0,u.classNames)("jimu-rich-text-editor",n)},M),u.React.createElement(oc,{pre:l,ref:C}))})),hc=(e,t)=>{if(null==e)return;return e.isEnabled()?e.getSelection(!1):t?(e=>{let t=e.getLength();return t=t>0?t-1:t,{index:0,length:t}})(e):void 0},dc=(e,t)=>{var n;let i={};return e&&t&&(i=e.getFormat(t)),i=null!==(n=O(i))&&void 0!==n?n:{},i},fc=(e,t)=>{const n=u.React.useRef((()=>{})),[i,s]=u.React.useState((()=>hc(e,t))),[r,o]=u.React.useState((()=>dc(e,i))),l=u.hooks.useLatest(t);return u.React.useEffect((()=>{if(null==e)return;n.current=u.lodash.debounce((()=>{const t=hc(e,l.current);let n=e.hasFocus()||l.current;if(!n&&1===(null==t?void 0:t.length)){e.getFormat(t).image&&(n=!0)}if(n&&s(t),null==t)return;const i=dc(e,t);o(i)}),200);const{current:t}=n;return e.on("editor-change",t),e.on("scroll-optimize",t),()=>{null!=e&&(e.off("editor-change",t),e.off("scroll-optimize",t),null==t||t.cancel())}}),[e]),[r,i]},pc=(0,la.styled)("div",{name:"RichTextEditor",part:"plugin"})((()=>({width:"100%"}))),mc=e=>{const{editor:t,children:n}=e,[i,s]=fc(t,!1);return u.React.createElement(pc,{styleState:e,className:"jimu-rich-text-editor-plugin rich-text-plugin"},"function"==typeof n?n({editor:t,formats:i,selection:s}):n)},gc=e=>e&&"link"!==e.blotName&&"expression"!==e.blotName&&"urlInfo"!==e.blotName&&"image"!==e.blotName,bc=e=>{const t=(e=>{const t=u.hooks.useLatest(e),n=u.React.useCallback(((e,n)=>{const i=t.current;if(!i)return;e.length>0&&i.scroll.deleteAt(e.index,e.length);const s=Object.keys(n.format).reduce((function(e,i){const s=t.current.options.registry.query(i,Pl.Scope.BLOCK);return gc(s)&&!Array.isArray(n.format[i])&&(e[i]=n.format[i]),e}),{});i.insertText(e.index,"\n",s,Zl.sources.USER),i.setSelection(e.index+1,Zl.sources.SILENT),(0,u.focusElementInKeyboardMode)(i,!0);const r=Object.keys(n.format).reduce((function(e,i){const s=t.current.options.registry.query(i,Pl.Scope.INLINE);return gc(s)&&!Array.isArray(n.format[i])&&(e[i]=n.format[i]),e}),{});Object.keys(r).forEach((e=>{null==s[e]&&i.format(e,r[e],Zl.sources.USER)}))}),[t]);return n})(e),n=(e=>{const t=u.hooks.useLatest(e),n=u.React.useCallback(((e,n)=>{const i=t.current;if(!i)return;e.length>0&&i.scroll.deleteAt(e.index,e.length);const s=Object.keys(n.format).reduce((function(e,i){const s=t.current.options.registry.query(i,Pl.Scope.INLINE);return gc(s)&&!Array.isArray(n.format[i])&&(e[i]=n.format[i]),e}),{});i.history.cutoff();const r=(new Bl).retain(e.index).delete(e.length).insert("\t",s);i.updateContents(r,Zl.sources.USER),i.history.cutoff(),i.setSelection(e.index+1,Zl.sources.SILENT),(0,u.focusElementInKeyboardMode)(i,!0)}),[t]);return n})(e);return u.React.useMemo((()=>({bindings:{"inline remain enter":{key:"Enter",collapsed:!0,handler:t},tab:{key:"Tab",handler:n}}})),[t,n])};var yc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const vc=(0,la.styled)(uc,{name:"RichTextEditor",part:"root"})((({theme:e,styleState:t})=>Object.assign(Object.assign({width:"100%",height:"100%"},t.nowrap&&{".ql-container > .ql-editor":{whiteSpace:"preserve nowrap !important",overflowX:"auto"}}),{".ql-clipboard":{position:"fixed",left:"50%",top:"50%"},".ql-editor":(0,la.getQuillCoreStyle)(e)}))),xc=e=>{const{className:t,plugin:n,onClick:i,modules:s,editorRef:r,nowrap:o}=e,l=yc(e,["className","plugin","onClick","modules","editorRef","nowrap"]),[a,h]=c.hooks.useForwardValueRef(r),d=((e,t)=>{const n=bc(t);return u.React.useMemo((()=>{const t=e||{},i=t.keyboard,s=u.lodash.merge(i,n);return u.lodash.assign({},t,{keyboard:s})}),[n,e])})(s,a),f=u.hooks.useEventCallback((e=>{if(null==a)return;const t=c.richTextUtils.findNode(e.target,"EXP",e.currentTarget),n=c.richTextUtils.findNode(e.target,"A",e.currentTarget),s=c.richTextUtils.findNode(e.target,"IMG",e.currentTarget),r=Pl.Registry.find(t);if(r instanceof sd){const e={index:r.offset(a.scroll),length:1};w(a,e,"user")}const o=Pl.Registry.find(n);if(o instanceof od){const e={index:o.offset(a.scroll),length:o.length()};w(a,e,"user")}const l=Pl.Registry.find(s);if(l instanceof vd){const e={index:l.offset(a.scroll),length:1};w(a,e,"user")}null==i||i(e)}));return u.React.createElement(u.React.Fragment,null,u.React.createElement(mc,{editor:a},n),u.React.createElement(vc,Object.assign({styleState:e,className:(0,u.classNames)("rich-text-editor",t),modules:d,onClick:f,editorRef:h},l)))},wc=[c.FontFamilyValue.AVENIRNEXT,c.FontFamilyValue.CALIBRI,c.FontFamilyValue.PMINGLIU,c.FontFamilyValue.IMPACT,c.FontFamilyValue.GEORGIA,c.FontFamilyValue.ARIAL,c.FontFamilyValue.TIMESNEWROMAN,c.FontFamilyValue.SIMHEI,c.FontFamilyValue.MICROSOFTYAHEI],Ic=e=>{const{font:t=c.FontFamilyValue.AVENIRNEXT,onChange:n,style:i,disabled:s=!1,className:r,"aria-label":o}=e,l=u.hooks.useTranslation(c.defaultMessages),a=o||l("fontFamily");return u.React.createElement(c.Select,{"data-testid":"font-family",size:"sm",disabled:s,placeholder:"Source font",title:t,"aria-label":a,className:(0,u.classNames)(r,"rich-text-editor--font-family"),style:i,value:t,onChange:e=>{n(e.target.value)}},wc.map(((e,n)=>u.React.createElement("option",{key:n,"aria-selected":e===t,value:e,label:e},e))))};var Nc=o(50331),Ac=o.n(Nc),Ec=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Mc=e=>{const t=window.SVG,{className:n}=e,i=Ec(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Ac()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var jc=o(32414),Cc=o.n(jc),Oc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const kc=e=>{const t=window.SVG,{className:n}=e,i=Oc(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Cc()},i)):u.React.createElement("svg",Object.assign({className:s},i))},Tc=({value:e=r.ZERO,onClick:t=()=>null,className:n,disabled:i})=>{const s=n=>{let i=e+n;i<0&&(i=0),i>8&&(i=8),t(i)},o=u.hooks.useTranslation(c.defaultMessages);return u.React.createElement(c.AdvancedButtonGroup,{"aria-label":o("indent"),"data-testid":"indent",className:(0,u.classNames)(n,"rich-text-editor--indent"),size:"sm"},u.React.createElement(c.Button,{disabled:i,title:o("indentLeft"),icon:!0,size:"sm",onClick:()=>{s(-1)}},u.React.createElement(Mc,null)),u.React.createElement(c.Button,{disabled:i,title:o("indentRight"),icon:!0,size:"sm",onClick:()=>{s(1)}},u.React.createElement(kc,null)))};var Sc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Rc=[c.DistanceUnits.PIXEL,c.DistanceUnits.REM,c.DistanceUnits.VW],Lc=e=>Math.ceil(u.polished.getValueAndUnit(c.styleUtils.remToPixel(e))[0]),Dc=(e,t)=>Math.ceil(e/100*t),qc=e=>u.polished.getValueAndUnit(u.polished.rem(e))[0],Zc=(e,t)=>{const n=Dc(e,t);return qc(n)},Pc=(e,t)=>e/t*100,Bc=(e,t)=>{const n=Lc(`${e}rem`);return Pc(n,t)},zc=(e,t=2)=>u.utils.calculateDigits(e)>t?e.toFixed(t):e.toString(),_c=(e,t,n)=>{const i=e.unit,s=e.distance;if("rem"===i&&"px"===t)return Lc(`${s}${i}`);if("vw"===i&&"px"===t)return Dc(s,n);if("px"===i&&"rem"===t)return qc(s);if("vw"===i&&"rem"===t)return Zc(s,n);if("px"===i&&"vw"===t){const e=Pc(s,n),t=zc(e,3);return Number(t)}if("rem"===i&&"vw"===t){const e=Bc(s,n),t=zc(e,3);return Number(t)}},Gc={[c.DistanceUnits.PIXEL]:{min:4,max:999},[c.DistanceUnits.REM]:{min:.25,max:63},[c.DistanceUnits.VW]:{min:.25,max:100}},Uc=e=>{var t,n,i,s;const{value:r="14px",style:o,className:l,onChange:a,disabled:c=!1,min:h,max:d}=e,f=Sc(e,["value","style","className","onChange","disabled","min","max"]),p=(e=>Object.assign({},"builder/themes/dark/"===e.uri&&{".style-setting--unit-selector .jimu-dropdown-button":{"&:disabled":{borderColor:e.sys.color.divider.primary,backgroundColor:"#363636"}}}))((0,la.useTheme)()),[m,g]=u.hooks.useLoadedModuleComponent("jimu-ui/advanced/style-setting-components","InputUnit"),b=(()=>{const e=(0,u.getAppStore)().getState().appContext.isBuilder?window._appWindow:window,[t,n]=u.React.useState(e.innerWidth);return u.React.useEffect((()=>{const t=()=>{n(e.innerWidth)};return e.addEventListener("resize",t),()=>{e.removeEventListener("resize",t)}}),[]),t})(),y=u.React.useMemo((()=>(e=>{const t=u.polished.getValueAndUnit(e);return{distance:t[0],unit:t[1]}})(r)),[r]),v=null==y?void 0:y.unit,x=null!=h?h:null!==(n=null===(t=Gc[v])||void 0===t?void 0:t.min)&&void 0!==n?n:0,w=null!=d?d:null!==(s=null===(i=Gc[v])||void 0===i?void 0:i.max)&&void 0!==s?s:999;return(0,u.jsx)(u.React.Fragment,null,m&&(0,u.jsx)(g,Object.assign({},f,{style:o,max:w,min:x,css:p,disabled:c,"data-testid":"rich-text-editor--size",className:(0,u.classNames)(l,"rich-text-editor--size"),units:Rc,value:y,onChange:(e,t)=>{t&&"Enter"===t.key&&t.preventDefault();let n=e.distance;const i=e.unit;Rc.includes(v)&&i!==v?(n=_c({distance:n,unit:v},i,b),null==a||a(`${n}${i}`)):null==a||a(`${n}${i}`)}})))};var Hc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Vc={h1:s.H1,h2:s.H2,h3:s.H3,h4:s.H4,h5:s.H5,h6:s.H6,paragraph:s.Paragraph},Wc=(0,la.styled)("div")((({theme:e})=>({"> .heading-connector":{color:e.sys.color.surface.overlayHint,margin:e.sys.spacing(0,1)},"> .heading-size":{color:e.sys.color.surface.overlayHint}}))),Fc=(0,la.styled)(c.DropdownButton)((({theme:e})=>Object.assign({color:e.ref.palette.black,backgroundColor:e.ref.palette.neutral[300]},"builder/themes/dark/"===e.uri&&{"&:disabled":{borderColor:e.sys.color.divider.primary,backgroundColor:"#363636"}}))),Xc=({label:e,size:t})=>u.React.createElement(Wc,null,u.React.createElement("span",{className:"heading-label"},e),u.React.createElement("span",{className:"heading-connector"},"\xb7"),u.React.createElement("span",{className:"heading-size"},t)),Qc=e=>{var t;const{className:n,title:i,disabled:r=!1,value:o=0,onChange:l,"aria-label":a}=e,h=Hc(e,["className","title","disabled","value","onChange","aria-label"]),d=(()=>{const e=(0,la.useTheme)(),t=u.hooks.useTranslation(c.defaultMessages),n=u.React.useMemo((()=>Object.entries(Vc).map((([n,i])=>{var s;const r=null!==(s=e.sys.typography[n])&&void 0!==s?s:{},o=r.fontSize?e.sys.typography.remToPx(r.fontSize).replace("px",""):"13";return{label:t(n),value:i,size:o}}))),[e,t]);return n})(),f=null===(t=d.find((e=>e.value===o)))||void 0===t?void 0:t.label;return u.React.createElement(c.Dropdown,Object.assign({size:"sm",fluid:!0,disabled:r,autoWidth:!0,className:(0,u.classNames)(n,"jimu-rich-text-editor--headings")},h),u.React.createElement(Fc,{title:i,"aria-label":a,size:"sm",variant:"text"},f),u.React.createElement(c.DropdownMenu,null,d.map((({label:e,value:t,size:n})=>u.React.createElement(c.DropdownItem,{key:e,active:t===o,onClick:()=>{(e=>{e===s.Paragraph?null==l||l(!1):null==l||l(e)})(t)}},u.React.createElement(Xc,{label:e,size:n}))))))};var Jc=o(24186),Yc=o.n(Jc),Kc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const $c=e=>{const t=window.SVG,{className:n}=e,i=Kc(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Yc()},i)):u.React.createElement("svg",Object.assign({className:s},i))},eu=e=>{const{style:i,className:s,disabled:r,active:o,useDataSources:l,value:a,widgetId:h,onChange:d,hiddenLinks:f,position:p,title:m}=e,[g,b]=u.React.useState(!1),[y,v]=u.hooks.useLoadedModuleComponent("jimu-ui/advanced/setting-components","LinkSelectorSidePopper"),x=u.hooks.useTranslation(c.defaultMessages),w=u.React.useRef(null),I=u.hooks.useEventCallback((e=>{const i=u.utils.getUUID(),s=(e=>{var t,n;if(null!=(null===(n=null===(t=null==e?void 0:e.expression)||void 0===t?void 0:t.parts)||void 0===n?void 0:n.length))return u.expressionUtils.getUseDataSourcesByExpressionParts(e.expression.parts).map((e=>e.dataSourceId)).join()})(e),r={uniqueid:i,dsid:s,href:e.value,target:e.openType,link:e};null==d||d(n.Link,r,t.INLINE),N()})),N=()=>{b(!1),(0,u.focusElementInKeyboardMode)(w.current)};return u.React.createElement(u.React.Fragment,null,u.React.createElement(c.Button,{icon:!0,style:i,ref:w,disabled:r,onClick:()=>{b((e=>!e)),g&&(0,u.focusElementInKeyboardMode)(w.current)},"aria-pressed":o,title:x("link"),"aria-label":x("link"),color:o?"primary":"default",className:(0,u.classNames)("link-setting",s)},u.React.createElement($c,null)),y&&g&&u.React.createElement(v,{isOpen:g,position:p,title:m,hiddenLinks:f,onSettingCancel:N,onSettingConfirm:I,linkParam:a,useDataSources:l,widgetId:h,trigger:null==w?void 0:w.current}))},tu=o(9213),nu=o(38588),iu=o(17615),su=o(55038),ru=o(63969),ou=o(51728),lu=o(13219),au=o(75282),cu=o(98773),uu=o(56788),hu=[["",tu],["rgba(0, 0, 0, 0.3) -10px 0px 4px",nu],["rgba(0, 0, 0, 0.4) -4px -3px 4px, rgba(0, 0, 0, 0.2) -2px -2px 0px",iu],["rgba(0, 0, 0, 0.4) 0px -4px 4px",su],["rgba(0, 0, 0, 0.2) 0px 2px 0px, rgba(0, 0, 0, 0.3) -2px 4px 2px",ru]],du=[["rgba(0, 0, 0, 0.1) 0px 12px 0px",ou],["rgba(0, 0, 0, 0.5) 0px 0px 6px",lu],["rgb(250, 250, 250) -2px -1px 0px, rgba(0, 0, 0, 0.5) -3px -3px 4px",au],["rgb(250, 250, 250) 2px 1px 0px, rgba(0, 0, 0, 0.3) 4px 4px 3px",cu],["rgb(250, 250, 250) 3px -2px 3px, rgba(0, 0, 0, 0.5) 3px -4px 0px",uu]],fu=(0,la.styled)("div",{shouldForwardProp:e=>"active"!==e&&"disabled"!==e})((({theme:e,active:t,disabled:n})=>{const i=null==e?void 0:e.sys.color.primary.light,s=null==e?void 0:e.ref.palette.neutral[300];return`\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ${n?null==e?void 0:e.sys.color.action.disabled.default:s};\n    border: 1px solid ${n?null==e?void 0:e.sys.color.divider.primary:"transparent"};\n    outline: ${t?`2px solid ${i}`:"unset"};\n    filter: ${n?"opacity(0.5)":"none"};\n  `})),pu=e=>{const{active:t,disabled:n=!1,onClick:i,icon:s}=e;return u.React.createElement(fu,{active:!n&&t,disabled:n},u.React.createElement(c.Button,{disabled:n,"aria-label":e["aria-label"],disableHoverEffect:!0,icon:!0,type:"tertiary",size:"sm",onClick:i,"aria-pressed":t},u.React.createElement(c.Icon,{icon:s,size:"l"})))},mu=la.styled.div`
  width: 100%;
  .line-one,
  .line-two {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .line-two {
    margin-top: 7px;
  }
`,gu=e=>{const{value:t,disabled:n=!1,onChange:i}=e,s=u.hooks.useTranslation(c.defaultMessages);return u.React.createElement(mu,{role:"group"},u.React.createElement("div",{className:"line-one"},hu.map((([e,r],o)=>u.React.createElement(pu,{disabled:n,"aria-label":0===o?s("none"):s("effect")+o,key:o,icon:r,active:e?e===t:!t,onClick:()=>{i(e)}})))),u.React.createElement("div",{className:"line-two"},du.map((([e,r],o)=>u.React.createElement(pu,{disabled:n,"aria-label":s("effect")+(5+o),key:o,icon:r,active:e===t,onClick:()=>{i(e)}})))))};var bu=o(51458),yu=o.n(bu),vu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const xu=e=>{const t=window.SVG,{className:n}=e,i=vu(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:yu()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var wu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Iu=e=>{const{className:t,version:n=0,widgetId:i,editor:s,formats:r,selection:o,onChange:l,disabled:a=!1,autoInsertSpace:h=!0}=e,d=wu(e,["className","version","widgetId","editor","formats","selection","onChange","disabled","autoInsertSpace"]),f=u.React.useRef(null),[p,m]=u.React.useState(!1),[g,b]=u.hooks.useLoadedModuleComponent("jimu-ui/advanced/resource-selector","ImageSelectorPanel"),y=u.hooks.useTranslation(c.defaultMessages),v=u.hooks.useEventCallback((e=>{if(null==o||!(null==e?void 0:e.url))return;const t={url:e.url};e.fileName&&(t.name=e.fileName),o.length>0&&s.deleteText(o.index,o.length),s.insertEmbed(o.index,"image",t,"user"),h?(s.insertText(o.index+1,"\xa0","user"),s.setSelection(o.index+2,"user")):s.setSelection(o.index+1,"user"),null==l||l(s.root.innerHTML),(0,u.focusElementInKeyboardMode)(s,!0)}));return u.React.createElement(u.React.Fragment,null,u.React.createElement(c.Button,{ref:f,icon:!0,color:"default",disabled:a,"aria-pressed":!1,title:y("image"),"aria-label":y("image"),onClick:()=>{m(!0)},className:(0,u.classNames)("jimu-rich-text-editor-image-selector",t)},u.React.createElement(xu,{size:"m"})),g&&u.React.createElement(b,Object.assign({},d,{isOpen:p,version:n,trigger:f.current,widgetId:i,onChange:v,onClose:()=>{m(!1)}})))};var Nu=o(54337),Au=o(9759),Eu=o.n(Au),Mu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const ju=e=>{const t=window.SVG,{className:n}=e,i=Mu(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Eu()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Cu=o(778),Ou=o.n(Cu),ku=o(40403),Tu=o.n(ku),Su=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Ru=e=>{const t=window.SVG,{className:n}=e,i=Su(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Tu()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Lu=o(58878),Du=o.n(Lu),qu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Zu=e=>{const t=window.SVG,{className:n}=e,i=qu(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Du()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Pu=o(51366),Bu=o.n(Pu),zu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const _u=e=>{const t=window.SVG,{className:n}=e,i=zu(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Bu()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Gu=o(44286),Uu=o.n(Gu),Hu=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Vu=e=>{const t=window.SVG,{className:n}=e,i=Hu(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Uu()},i)):u.React.createElement("svg",Object.assign({className:s},i))},Wu=u.css`
  padding: 7px 16px;
  select {
    height: 26px;
    padding: 0;
  }
`,Fu=e=>{var t,n;return u.css`
  .link-setting-ok-btn-container {
    position: static!important;
    .link-setting-ok-btn.btn-primary.disabled {
      background-color: ${null===(t=null==e?void 0:e.ref.palette)||void 0===t?void 0:t.neutral[900]}!important;
      border: 1px solid ${null===(n=null==e?void 0:e.ref.palette)||void 0===n?void 0:n.neutral[1e3]}!important;
    }
  }
`},Xu={trapFocus:!1,autoFocus:!1},Qu=e=>{var i;const s=(0,la.getTheme)(),r=null===(i=(0,u.getAppStore)().getState())||void 0===i?void 0:i.appRuntimeInfo.appMode,o=u.React.useMemo((()=>(0,u.Immutable)(Object.values(u.LinkType).filter((e=>!(r===u.AppMode.Express?[u.LinkType.None,u.LinkType.WebAddress]:[u.LinkType.None,u.LinkType.WebAddress,u.LinkType.Page]).includes(e))))),[r]),{className:l,style:a,formats:h,onClear:d,onChange:f,showLinkSetting:p}=e,m=u.hooks.useTranslation(c.defaultMessages),[g,b]=u.hooks.useLoadedModuleComponent("jimu-ui/advanced/setting-components","LinkSelectorContent"),[y,v]=u.React.useState(!1);return(0,u.jsx)("div",{css:Wu,style:a,className:(0,u.classNames)(l,"format-panel")},(0,u.jsx)("div",{className:"d-flex align-items-center"},(0,u.jsx)(Ic,{className:"mr-2",style:{width:u.polished.rem(100)},font:h.font,onChange:e=>{f(n.Font,e,t.INLINE)}}),(0,u.jsx)(Uc,{className:"mr-2",style:{width:u.polished.rem(80)},value:h.size,onChange:e=>{f(n.Size,e,t.INLINE)}}),(0,u.jsx)(Nu.ThemeColorPicker,{className:"mr-2",text:!0,icon:Ou(),type:"with-icon",title:m("fontColor"),popperProps:Xu,specificTheme:s,value:h.color,onChange:e=>{f(n.Color,e,t.INLINE,!0)}}),(0,u.jsx)(c.ButtonGroup,{variant:"text",color:"default"},(0,u.jsx)(c.Button,{active:h[n.Bold],className:"mr-2",icon:!0,size:"sm",title:m("bold"),"aria-pressed":h[n.Bold],color:h[n.Bold]?"primary":"default",variant:h[n.Bold]?"contained":"text",onClick:()=>{f(n.Bold,!h[n.Bold],t.INLINE)}},(0,u.jsx)(Ru,null)),(0,u.jsx)(c.Button,{active:h[n.Italic],className:"mr-2",icon:!0,size:"sm",title:m("italic"),"aria-pressed":h[n.Italic],variant:h[n.Italic]?"contained":"text",color:h[n.Italic]?"primary":"default",onClick:()=>{f(n.Italic,!h[n.Italic],t.INLINE)}},(0,u.jsx)(Zu,null)),(0,u.jsx)(c.Button,{active:h[n.Underline],className:"mr-2",icon:!0,size:"sm",title:m("underline"),"aria-pressed":h[n.Underline],variant:h[n.Underline]?"contained":"text",color:h[n.Underline]?"primary":"default",onClick:()=>{f(n.Underline,!h[n.Underline],t.INLINE)}},(0,u.jsx)(_u,null))),p&&g&&(0,u.jsx)(c.Dropdown,{direction:"up",isOpen:y},(0,u.jsx)(c.DropdownButton,{icon:!0,size:"sm",type:"tertiary",title:m("link"),arrow:!1,className:"mr-2",onClick:()=>{v(!y)}},(0,u.jsx)(Vu,null)),(0,u.jsx)(c.DropdownMenu,{alignment:"center",showArrow:!0},(0,u.jsx)("div",{className:"p-4 link-selector-container",style:{width:"240px"},css:Fu(s)},(0,u.jsx)(b,{linkParam:null==h?void 0:h.link,hiddenLinks:o,onSettingConfirm:e=>{const i={uniqueid:u.utils.getUUID(),href:e.value,target:e.openType,link:e};f(n.Link,i,t.INLINE),v(!1)}})))),(0,u.jsx)(c.Button,{icon:!0,size:"sm",type:"tertiary",onClick:d,title:m("clearAllFormats")},(0,u.jsx)(ju,null))))},Ju=()=>{var e;return(null===(e=window.jimuConfig)||void 0===e?void 0:e.isBuilder)?(0,la.getTheme2)():(0,la.getTheme)()},Yu=/\/images\/widget_\d+\/[^\/]+\.(png|jpeg|jpg|gif|bmp|webp)/,Ku=e=>e&&Yu.test(e)||e.startsWith("blob:"),$u={fallbackPlacements:["bottom-start","bottom-end"]},eh={left:0,top:0,width:0,height:0,right:0,bottom:0},th=(e,t,n)=>Math.abs(e-t)<=n,nh=(e,t)=>{const n=e;return e.bottom>t.bottom&&(n.top=t.top,n.height=t.height,n.bottom=t.bottom),e.right>t.right&&(n.left=t.left,n.width=t.width,n.right=t.right),n},ih=e=>{const{editor:t,selection:n,formats:i,onChange:s,source:r="user",className:o,style:l,version:a,placement:h="bottom",showLinkSetting:d}=e,[f,p]=u.React.useState(eh),[m,g]=u.React.useState(!1),b=(0,la.useTheme)(),y=Ju(),v=((e,t)=>{const n=e.ref.palette.neutral[400],i=e.ref.palette.neutral[700];return u.React.useMemo((()=>u.css`
      user-select: none;
      > * {
        user-select: none;
      }
      width: ${t?"100vw":"auto"};
      border-radius: 2px;
      background-color: ${n};
      border-color: ${i};
  `),[n,i,t])})(b,u.hooks.useCheckSmallBrowserSizeMode()),x=u.React.useMemo((()=>Z(y,i)),[i,y]),w=b.ref.palette.neutral[400],I=u.React.useMemo((()=>({style:{background:w}})),[w]);u.hooks.useUpdateEffect((()=>{if(null==n)return g(!1),void p(eh);let e=t.getBounds(n.index,n.length);if(1===n.length){if(t.getFormat(n.index,1).image)return void g(!1)}e=((e,t)=>{if(null==e)return eh;if(null==t)return eh;const n=t.getBoundingClientRect();let{left:i,top:s,width:r,height:o}=e;i+=n.left,s+=n.top;let l=s+o,a=i+r;i=Number(i.toFixed(0)),s=Number(s.toFixed(0)),r=Number(r.toFixed(0)),o=Number(o.toFixed(0)),l=Number(l.toFixed(0)),a=Number(a.toFixed(0));let c={left:i,top:s,width:r,height:o,bottom:l,right:a};return c=nh(c,n),c})(e,t.root),((e,t,n)=>{const{left:i,top:s,width:r,height:o,bottom:l,right:a}=e,{left:c,top:u,width:h,height:d,bottom:f,right:p}=t;return th(i,c,n)&&th(s,u,n)&&th(r,h,n)&&th(o,d,n)&&th(l,f,n)&&th(a,p,n)})(e,f,3)||p(e);const i=0!==n.length;g(i)}),[n]),u.hooks.useUpdateEffect((()=>{g(!1)}),[a]);const N=u.React.useMemo((()=>new c.VirtualReference(f)),[f]),M=u.hooks.useEventCallback(((e,i,o,l=!0)=>{E(t,n,{type:o,key:e,value:i,source:r},r),null==s||s(null==t?void 0:t.root.innerHTML),l&&(0,u.focusElementInKeyboardMode)(t,!0)}));return(0,u.jsx)(c.Popper,{css:v,open:m,trapFocus:!1,autoFocus:!1,autoUpdate:!0,arrowOptions:I,reference:N,placement:h,offsetOptions:1,flipOptions:$u,className:o},(0,u.jsx)(Qu,{style:l,formats:x,onChange:M,onClear:()=>{A(t,n)},showLinkSetting:d}))},sh=(0,u.Immutable)(["ATTRIBUTE","STATISTICS","EXPRESSION"]),rh=e=>(/(\p{Emoji_Presentation}|\p{Emoji}\uFE0F)/gu.test(e)&&(e=` ${e} `),e),oh=e=>{const{className:t,widgetId:n,useDataSources:i,editor:s,formats:r,source:o="user",types:l=sh,editable:a=!0,autoInsertSpace:c=!0,selection:h,onChange:d}=e,[f,p]=u.hooks.useLoadedModuleComponent("jimu-ui/advanced/expression-builder","ExpressionBuilder"),m=u.React.useMemo((()=>{if(!a)return{};return null!=(null==r?void 0:r.expression)?null==(null==r?void 0:r.expression)?r:u.lodash.assign({},r,{expression:r.expression}):{}}),[a,r]),g=u.hooks.useEventCallback((e=>{if(null==h)return;const t=e.name;let n=!1;if(a){const e=s.getFormat(h);n=null!=(null==e?void 0:e.expression)}const i=u.utils.getUUID(),r=(e=>{var t;if(null!=(null==e?void 0:e.parts)&&0!==(null===(t=null==e?void 0:e.parts)||void 0===t?void 0:t.length))return u.expressionUtils.getUseDataSourcesByExpressionParts(e.parts).map((e=>e.dataSourceId)).join()})(e);n?b(i,r,t,e,h):y(i,r,t,e,h),null==d||d(null==s?void 0:s.root.innerHTML)})),b=(e,t,n,i,r)=>{n=rh(n),s.deleteText(r.index,1),s.insertEmbed(r.index,"expression",{uniqueid:e,dsid:t,name:n,expression:i},o),c?(s.insertText(r.index+1,"\xa0",o),s.setSelection(r.index+2,o)):s.setSelection(r.index+1,o),(0,u.focusElementInKeyboardMode)(s,!0)},y=(e,t,n,i,r)=>{n=rh(n),r.length>0&&s.deleteText(r.index,r.length),s.insertEmbed(r.index,"expression",{uniqueid:e,dsid:t,name:n,expression:i},o),c?(s.insertText(r.index+1,"\xa0",o),s.setSelection(r.index+2,o)):s.setSelection(r.index+1,o),(0,u.focusElementInKeyboardMode)(s,!0)};return u.React.createElement(u.React.Fragment,null,f&&u.React.createElement(p,{className:(0,u.classNames)("rich-expression-builder",t),widgetId:n,types:l,useDataSources:i,expression:null==m?void 0:m.expression,onChange:g}))};var lh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const ah={crossAxis:!0},ch={fallbackPlacements:["right-start","right-end","right","left"]},uh={width:260,height:650},hh=u.React.forwardRef(((e,t)=>{const{widgetId:n,useDataSources:i,header:s,editor:r,selection:o,formats:l,source:a="user",placement:h="right-start",types:d,onChange:f}=e,p=lh(e,["widgetId","useDataSources","header","editor","selection","formats","source","placement","types","onChange"]),{title:m,onClose:g}=s,b=(()=>{var e,t,n,i,s,r;const o=(0,la.useTheme)(),l=o.ref.palette.neutral[400],a=null===(t=null===(e=null==o?void 0:o.ref.palette)||void 0===e?void 0:e.neutral)||void 0===t?void 0:t[1e3],c=null===(i=null===(n=null==o?void 0:o.ref.palette)||void 0===n?void 0:n.neutral)||void 0===i?void 0:i[800],h=o.ref.palette.black,d=null===(r=null===(s=null==o?void 0:o.sys.color)||void 0===s?void 0:s.primary)||void 0===r?void 0:r.dark;return u.React.useMemo((()=>u.css`
      > * {
        user-select: none;
      }
      width: 285px;
      height: 500px;
      color: ${h};
      background: ${l};
      .panel-header {
        background: ${l};
        color: ${a};
        > .actions > .jimu-btn {
          color: ${a};
          &:hover {
            color: ${h};
          }
          &:disabled {
            color: ${c};
          }
          &:focus {
            outline-color: ${d};
          }
        }
      }
      .expression-body {
        height: 100%;
      }
    `),[h,c,a,l,d])})();return(0,u.jsx)(c.FloatingPanel,Object.assign({css:b,ref:t,trapFocus:!1,autoFocus:!1,disableResize:!0,headerTitle:m,onHeaderClose:g,defaultSize:uh,placement:h,reference:null==r?void 0:r.root,shiftOptions:ah,flipOptions:ch,offsetOptions:10},p),(0,u.jsx)("div",{className:"expression-body"},(0,u.jsx)(oh,{widgetId:n,source:a,useDataSources:i,editor:r,formats:l,types:d,selection:o,onChange:f})))}));var dh=o(38796),fh=o.n(dh),ph=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const mh=e=>{const t=window.SVG,{className:n}=e,i=ph(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:fh()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var gh=o(78347),bh=o.n(gh),yh=o(57329),vh=o.n(yh),xh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const wh=e=>{const t=window.SVG,{className:n}=e,i=xh(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component has-rtl-svg",n);return t?u.React.createElement(t,Object.assign({className:s,src:bh(),srcRTL:vh()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Ih=o(83709),Nh=o.n(Ih),Ah=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Eh=(0,la.styled)(c.Row,{shouldForwardProp:e=>"flow"!==e})((({theme:e,flow:t})=>`\n    &.label-row {\n      margin-bottom: 0;\n      margin-left: 0;\n      margin-right: 0;\n      &:first-of-type {\n        margin-top: 0;\n      }\n      + .label-row {\n        margin-top: ${e.sys.spacing(4)};\n      }\n      > .label-row-label {\n        display: inline-block;\n        margin-bottom: ${"wrap"===t?e.sys.spacing(2):"0"};\n        margin-right: 20px;\n      }\n      &.form-inline {\n        flex-wrap: nowrap;\n        .label-row-label {\n          max-width: 80%;\n          + * {\n            flex-shrink: 0;\n          }\n        }\n      }\n    }\n  `)),Mh=e=>{const{flow:t,truncateLabel:n,label:i,role:s,className:r,level:o=3,children:l}=e,a=Ah(e,["flow","truncateLabel","label","role","className","level","children"]),h="string"==typeof i?i:"",d=(0,u.classNames)(r,"label-row","form-group","align-items-center",{"form-inline":"wrap"!==t}),f=i&&u.React.createElement("label",{title:h,className:(0,u.classNames)(`label-row-label justify-content-start flex-grow-1 text-break ${c.utils.getSettingTextClassesMap(o)}`,{"w-100 mr-0":"wrap"===t,"text-truncate":n})},i);return u.React.createElement(Eh,{className:d,flow:t,role:s,"aria-label":a["aria-label"]},f,l)};var jh=o(93659),Ch=o.n(jh),Oh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const kh=e=>{const t=window.SVG,{className:n}=e,i=Oh(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Ch()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Th=o(90003),Sh=o.n(Th),Rh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Lh=e=>{const t=window.SVG,{className:n}=e,i=Rh(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Sh()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Dh=o(47038),qh=o.n(Dh),Zh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Ph=e=>{const t=window.SVG,{className:n}=e,i=Zh(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:qh()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Bh=o(81880),zh=o.n(Bh),_h=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Gh=e=>{const t=window.SVG,{className:n}=e,i=_h(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:zh()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Uh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Hh=e=>{var t,n;const i=null===(n=null===(t=(0,u.getAppStore)().getState())||void 0===t?void 0:t.appContext)||void 0===n?void 0:n.isRTL,{buttonType:s="default",textAlign:r=(i?c.TextAlignValue.RIGHT:c.TextAlignValue.LEFT),onChange:o,className:l,showJustify:a=!1,autoFlip:h=!1}=e,d=Uh(e,["buttonType","textAlign","onChange","className","showJustify","autoFlip"]),f=u.hooks.useTranslation(c.defaultMessages);return u.React.createElement(c.AdvancedButtonGroup,Object.assign({},d,{className:(0,u.classNames)("text-alignment",l,{"flex-row-reverse":i&&h})}),u.React.createElement(c.Button,{title:f(i&&!h?"right":"left"),type:s,icon:!0,size:"sm",active:r===c.TextAlignValue.LEFT,"aria-pressed":r===c.TextAlignValue.LEFT,onClick:()=>{o(c.TextAlignValue.LEFT)}},u.React.createElement(kh,{autoFlip:!h})),u.React.createElement(c.Button,{title:f("center"),type:s,icon:!0,size:"sm",active:r===c.TextAlignValue.CENTER,"aria-pressed":r===c.TextAlignValue.CENTER,onClick:()=>{o(c.TextAlignValue.CENTER)}},u.React.createElement(Lh,null)),u.React.createElement(c.Button,{title:f(i&&!h?"left":"right"),type:s,icon:!0,size:"sm",active:r===c.TextAlignValue.RIGHT,"aria-pressed":r===c.TextAlignValue.RIGHT,onClick:()=>{o(c.TextAlignValue.RIGHT)}},u.React.createElement(Ph,{autoFlip:!h})),a&&u.React.createElement(c.Button,{title:f("justify"),type:s,icon:!0,size:"sm",active:r===c.TextAlignValue.JUSTIFY,"aria-pressed":r===c.TextAlignValue.JUSTIFY,onClick:()=>{o(c.TextAlignValue.JUSTIFY)}},u.React.createElement(Gh,null)))};var Vh=o(41048),Wh=o.n(Vh),Fh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Xh=e=>{const t=window.SVG,{className:n}=e,i=Fh(e,["className"]),s=(0,u.classNames)("jimu-icon jimu-icon-component",n);return t?u.React.createElement(t,Object.assign({className:s,src:Wh()},i)):u.React.createElement("svg",Object.assign({className:s},i))};var Qh=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Jh=["bold","italic","underline","strike"],Yh=e=>{const{types:t=Jh,disabled:n=!1,bold:i,italic:s,underline:r,strike:o,onChange:l}=e,a=Qh(e,["types","disabled","bold","italic","underline","strike","onChange"]),h=u.hooks.useTranslation(c.defaultMessages);return u.React.createElement(c.ButtonGroup,Object.assign({variant:"contained",color:"default",disabled:n},a),t.map(((t,n)=>{const i=!!e[t];return u.React.createElement(c.Button,{key:n,icon:!0,size:"sm",type:"default",color:i?"primary":"default","aria-pressed":i,title:h(t),onClick:()=>{l(t,!e[t])}},"bold"===t&&u.React.createElement(Ru,null),"italic"===t&&u.React.createElement(Zu,null),"underline"===t&&u.React.createElement(_u,null),"strike"===t&&u.React.createElement(Xh,null))})))},Kh=la.styled.div`
  > * {
    user-select: none;
  }
`,$h=e=>{var s,r;const o=(0,la.useTheme2)(),[l,a]=u.React.useState(0),{editor:h,formats:d={},selection:f,onChange:p,className:m,style:g,useDataSources:b,widgetId:y,disableIndent:v,disableImage:x,disableLink:w,hideEffect:I=!1,hideHeading:N=!1,linkWebAddressOnly:A=!1}=e,E=(e=>{if(!e[n.Image])return;const t=e.style;if(!t)return"inline";const i=P(t).display;return null!=i?i:"inline"})(d),M=u.hooks.useTranslation(c.defaultMessages),j=u.React.useMemo((()=>A?(0,u.Immutable)([u.LinkType.Block,u.LinkType.Page,u.LinkType.Dialog,u.LinkType.View,u.LinkType.Screen,u.LinkType.PageTop,u.LinkType.PrintPreview]):null),[A]),C=e=>{const i=d.list!==e&&e;null==p||p(n.List,i,t.BLOCK)},O=u.hooks.useDebounceCallback(((e,i)=>{null==p||p(n.Linespace,e,t.BLOCK),"Enter"===i.key&&i.preventDefault()}));return u.React.createElement(Kh,{style:g,className:(0,u.classNames)(m,"format-panel")},!N&&u.React.createElement(Mh,null,u.React.createElement(Qc,{title:M("headingTitle"),"aria-label":M("headingTitle"),disabled:!!E,value:d.header,onChange:e=>{p(n.Header,e,t.BLOCK)}})),u.React.createElement(Mh,null,u.React.createElement("div",{className:"d-flex align-items-center justify-content-between w-100"},u.React.createElement(Ic,{"aria-label":M("variableFontFamilyBase"),style:{width:"61%"},font:d.font,disabled:!!E,onChange:e=>{p(n.Font,e,t.INLINE)}}),u.React.createElement(Uc,{"aria-label":M("fontSize"),style:{width:"35%"},value:d.size,disabled:!!E,onChange:e=>{p(n.Size,e,t.INLINE)}}))),u.React.createElement(Mh,null,u.React.createElement("div",{className:"d-flex align-items-center justify-content-between w-100"},u.React.createElement(Yh,{"aria-label":M("fontStyle"),bold:d[n.Bold],italic:d[n.Italic],underline:d[n.Underline],strike:d[n.Strike],disabled:!!E,onChange:(e,n)=>{null==p||p(e,n,t.INLINE)}}),u.React.createElement(c.ButtonGroup,{variant:"contained",color:"default"},u.React.createElement(Nu.ThemeColorPicker,{icon:Nh(),type:"with-icon",style:{width:26},"aria-label":M("highlight"),title:M("highlight"),specificTheme:o,value:d.background,disabled:!!E,onChange:e=>{p(n.Background,e,t.INLINE)}}),u.React.createElement(Nu.ThemeColorPicker,{icon:Ou(),type:"with-icon",style:{width:26},title:M("fontColor"),"aria-label":M("fontColor"),specificTheme:o,value:d.color,disabled:!!E,onChange:e=>{p(n.Color,e,t.INLINE)}})),u.React.createElement(c.ButtonGroup,{variant:"contained",size:"sm"},u.React.createElement(eu,{widgetId:y,value:d.link,disabled:w,active:!!d[n.Link],useDataSources:b,onChange:(e,t,n)=>{var i;const s=(null===(i=null==t?void 0:t.link)||void 0===i?void 0:i.linkType)!==u.LinkType.None&&t;null==p||p(e,s,n)},hiddenLinks:j}),u.React.createElement(Iu,{disabled:x,version:l,widgetId:y,editor:h,formats:d,selection:f,onChange:()=>{null==p||p(n.Image,null,t.EMBED),a(l+1)}})))),u.React.createElement(Mh,null,u.React.createElement("div",{className:"d-flex align-items-center justify-content-between w-100"},u.React.createElement(Hh,{"aria-label":M("textAlign"),autoFlip:!0,disabled:E&&"inline"!==E,textAlign:d.align,showJustify:!0,onChange:e=>{p(n.Align,e,t.BLOCK)}}),u.React.createElement(c.AdvancedButtonGroup,{"aria-label":M("ordered"),disabled:E&&"inline"!==E},u.React.createElement(c.Button,{type:"default",title:M("bullet"),active:d.list===i.BULLET,"aria-pressed":d.list===i.BULLET,icon:!0,size:"sm",onClick:()=>{C(i.BULLET)}},u.React.createElement(mh,null)),u.React.createElement(c.Button,{type:"default",title:M("numbering"),active:d.list===i.ORDERED,"aria-pressed":d.list===i.ORDERED,icon:!0,size:"sm",onClick:()=>{C(i.ORDERED)}},u.React.createElement(wh,null))),u.React.createElement(Tc,{disabled:v||E&&"block"===E,value:d.indent,onClick:e=>{p(n.Indent,e,t.BLOCK)}}))),u.React.createElement(Mh,{flow:"no-wrap",label:M("characterSpacing")},u.React.createElement(Uc,{style:{width:"35%"},min:0,disabled:!!E,"aria-label":M("characterSpacing"),value:null!==(s=d.letterspace)&&void 0!==s?s:"0px",onChange:e=>{p(n.Letterspace,e,t.INLINE)}})),u.React.createElement(Mh,{flow:"no-wrap",label:M("lineSpacing")},u.React.createElement(c.NumericInput,{style:{width:"35%"},size:"sm",min:.1,disabled:E&&"inline"!==E,"aria-label":M("lineSpacing"),value:null!==(r=d.linespace)&&void 0!==r?r:1.5,showHandlers:!1,onAcceptValue:O})),!I&&u.React.createElement(Mh,{flow:"wrap",label:M("characterEffect"),role:"group","aria-label":M("characterEffect")},u.React.createElement(gu,{disabled:!!E,value:d.textshadow,onChange:e=>{p(n.Textshadow,e,t.INLINE)}})))};var ed=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const td=e=>{const{editor:t,selection:n,formats:i,onChange:s}=e,r=ed(e,["editor","selection","formats","onChange"]),o=Ju(),l=u.React.useMemo((()=>Z(o,i)),[i,o]);return u.React.createElement($h,Object.assign({editor:t,disableLink:!(null==n?void 0:n.length),disableIndent:!(null==t?void 0:t.isEnabled()),disableImage:!(null==t?void 0:t.isEnabled()),formats:l,selection:n},r,{onChange:(e,i,r)=>{if("image"!==e){E(t,n,{type:r,key:e,value:i})}null==s||s(null==t?void 0:t.root.innerHTML,e,i)}}))},nd=["uniqueid","dsid","name","expression"],id=e=>{try{let t=JSON.stringify(e);return t=encodeURIComponent(t),t}catch(e){console.error(e)}};class sd extends zl{static create(e={}){const t=super.create(e),{uniqueid:n,dsid:i,name:s,expression:r}=e;if("string"==typeof n&&t.setAttribute("data-uniqueid",n),"string"==typeof i&&t.setAttribute("data-dsid",i),"string"==typeof s&&(t.innerHTML=s),null!=r){const e=id(r);t.setAttribute("data-expression",e)}return t}static formats(e){return nd.reduce((function(t,n){if(e.hasAttribute(`data-${n}`))if("expression"===n){let i=e.getAttribute(`data-${n}`);i=null!==i&&(e=>{try{return e=decodeURIComponent(e),JSON.parse(e)}catch(e){console.error(e)}})(i),t[n]=i}else t[n]=e.getAttribute(`data-${n}`);else"name"===n&&""!==e.innerText&&(t[n]=e.innerText);return t}),{})}static value(e){return e.innerText}format(e,t){if(nd.includes(e)){if("dsid"===e||"uniqueid"===e)null!=t&&""!==t?this.domNode.setAttribute(`data-${e}`,t):this.domNode.removeAttribute(`data-${e}`);else if("name"===e){const e=this.contentNode;null!=e&&(e.innerHTML=t)}else if("expression"===e)if(null!=t&&""!==t){const n=id(t);this.domNode.setAttribute(`data-${e}`,n)}else this.domNode.removeAttribute(`data-${e}`)}else super.format(e,t)}}sd.blotName="expression",sd.tagName="exp";const rd=e=>{try{let t=JSON.stringify(e);return t=encodeURIComponent(t),t}catch(e){console.error(e)}};class od extends _l{static create(e){const t=super.create(e);let n="",i="_self",s="",r="",o=null,l=!1;return"object"==typeof e?(n=null!=e.href?e.href:n,i=null!=e.target?e.target:i,s=null!=e.uniqueid?e.uniqueid:s,r=null!=e.dsid?e.dsid:r,o=e.link,null!=o&&(l="PAGE_TOP"===(null==o?void 0:o.linkType),o=rd(o))):n=e,n=this.sanitize(n),l||t.setAttribute("href",n),t.setAttribute("target",i),t.setAttribute("data-uniqueid",s),t.setAttribute("data-dsid",r),t.setAttribute("data-link",o),t}static formats(e){const t=e.getAttribute("data-uniqueid"),n=e.getAttribute("data-dsid"),i=e.getAttribute("href"),s=e.getAttribute("target");let r=e.getAttribute("data-link");return null!=r&&(r=(e=>{try{return e=decodeURIComponent(e),JSON.parse(e)}catch(e){console.error(e)}})(r)),{uniqueid:t,dsid:n,href:i,target:s,link:r}}static sanitize(e){return ld(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){if(e!==this.statics.blotName||null==t)return void super.format(e,t);if(!1===t)return void super.format(e,t);let n="",i="_self",s="",r="",o=null,l=!1;"object"==typeof t?(n=null!=t.href?t.href:n,i=null!=t.target?t.target:i,s=null!=t.uniqueid?t.uniqueid:s,r=null!=t.dsid?t.dsid:r,o=null!=t.link?t.link:o,null!=o&&(l="PAGE_TOP"===(null==o?void 0:o.linkType),o=rd(o))):n=t,n=this.constructor.sanitize(n),l?this.domNode.removeAttribute("href"):this.domNode.setAttribute("href",null!=n?n:""),this.domNode.setAttribute("data-uniqueid",s),this.domNode.setAttribute("data-dsid",r),this.domNode.setAttribute("target",i),this.domNode.setAttribute("data-link",o)}}function ld(e,t){const n=document.createElement("a");n.href=e;const i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}od.PROTOCOL_WHITELIST=["http","https","mailto","tel"],od.SANITIZED_URL="about:blank",od.blotName="link",od.tagName="A";const ad=new Pl.StyleAttributor("letterspace","letter-spacing",{scope:Pl.Scope.INLINE}),cd=new Pl.StyleAttributor("linespace","line-height",{scope:Pl.Scope.BLOCK_ATTRIBUTE}),ud=new Pl.StyleAttributor("textshadow","text-shadow",{scope:Pl.Scope.INLINE}),hd=new Pl.StyleAttributor("float","float",{scope:Pl.Scope.INLINE}),dd=new Pl.StyleAttributor("margin","margin",{scope:Pl.Scope.BLOCK}),fd=new Pl.StyleAttributor("display","display",{scope:Pl.Scope.INLINE}),pd=["uniqueid","name","urlInfo"],md=e=>{try{let t=JSON.stringify(e);return t=encodeURIComponent(t),t}catch(e){console.error(e)}};class gd extends zl{static create(e={}){const t=super.create(e),{uniqueid:n,name:i,urlInfo:s}=e;if("string"==typeof n&&t.setAttribute("data-uniqueid",n),"string"==typeof i&&(t.innerHTML=i),null!=s){const e=md(s);t.setAttribute("data-urlInfo",e)}return t}static formats(e){return pd.reduce((function(t,n){if(e.hasAttribute(`data-${n}`))if("urlInfo"===n){let i=e.getAttribute(`data-${n}`);i=null!==i&&(e=>{try{return e=decodeURIComponent(e),JSON.parse(e)}catch(e){console.error(e)}})(i),t[n]=i}else t[n]=e.getAttribute(`data-${n}`);else"name"===n&&""!==e.innerText&&(t[n]=e.innerText);return t}),{})}static value(e){return e.innerText}format(e,t){if(pd.includes(e)){if("uniqueid"===e)null!=t&&""!==t?this.domNode.setAttribute(`data-${e}`,t):this.domNode.removeAttribute(`data-${e}`);else if("name"===e){const e=this.contentNode;null!=e&&(e.innerHTML=t)}else if("urlInfo"===e)if(null!=t&&""!==t){const n=md(t);this.domNode.setAttribute(`data-${e}`,n)}else this.domNode.removeAttribute(`data-${e}`)}else super.format(e,t)}}gd.blotName="urlInfo",gd.tagName="urlsearch";const bd=["src","name","alt","height","width","style"],yd=["margin","display","float","width"];class vd extends zl{static create(e={}){const t=super.create(e);if("object"==typeof e){const{name:n,url:i}=e;"string"==typeof n&&t.setAttribute("src",this.sanitize(i)),"string"==typeof n&&t.setAttribute("data-name",n)}else"string"==typeof e&&t.setAttribute("src",this.sanitize(e));return t.setAttribute("alt",""),t}static formats(e){var t;let n=!1;const i=null!==(t=this.blotName)&&void 0!==t?t:"image",s={[i]:{}};return bd.forEach((t=>{"name"===t&&e.hasAttribute("data-name")?s[i].name=e.getAttribute("data-name"):"src"===t&&e.hasAttribute(t)?(n=!0,s[i].url=e.getAttribute(t)):e.hasAttribute(t)&&(s[t]=e.getAttribute(t))})),n?s:{}}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+base64/.test(e)}static sanitize(e){return ld(e,["http","https","data","blob"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){if(e===this.statics.blotName&&t){const{name:e,url:n}=t;"string"==typeof n&&this.domNode.setAttribute("src",this.constructor.sanitize(n)),"string"==typeof e&&this.domNode.setAttribute("data-name",e)}else bd.includes(e)?t?("style"===e&&(t=this.sanitizeStyle(t)),this.domNode.setAttribute(e,t)):"alt"===e?this.domNode.setAttribute("alt",""):this.domNode.removeAttribute(e):["display","float","margin"].includes(e)||super.format(e,t)}sanitizeStyle(e){const t=e.split(";");let n="";return t.forEach((e=>{yd.includes(e.trim().split(":")[0])&&(n+=e+";")})),n}}vd.blotName="image",vd.tagName="IMG";const xd=e=>{var t;const{intl:n,theme:i,modalId:s,editor:r,img:o,onDelete:l}=e,[a]=fc(r,!1),[c,h]=u.React.useState(null!==(t=null==o?void 0:o.alt)&&void 0!==t?t:""),d=P(a.style),f=d.display,p=d.float,m=d.alignment,g=u.React.useMemo((()=>null==r?void 0:r.root.parentNode),[r]);return u.React.createElement(aa,{intl:n,theme:i,modalId:s},u.React.createElement(fa,{container:g,img:o,alignment:m}),u.React.createElement(sc,{reference:o,display:f,float:p,alignment:m,alt:c,onDelete:l,onAltChange:e=>{o&&(o.alt=e,setTimeout((()=>{r.focus()}),500),h(e))},onDisplayChange:(e,t)=>{"inline"===e?(fd.add(o,"inline"),hd.remove(o),dd.remove(o)):(fd.add(o,"block"),"float"===e?(hd.add(o,t),"right"===t?dd.add(o,"0 0 .9em .9em"):dd.add(o,"0 .9em .9em 0")):(hd.remove(o),"center"===t?dd.add(o,".9em auto"):"right"===t?dd.add(o,".9em 0 .9em auto"):"left"===t&&dd.add(o,".9em auto .9em 0")));r.getSelection()&&r.focus()}}))},wd={position:"absolute",zIndex:10,left:0,top:0,border:"2px solid var(--sys-color-primary-light)"};Ql.whitelist=void 0,Jl.whitelist=void 0,Fl.whitelist=["left","right","center","justify"],Zl.register({"modules/autoformat":ia,"modules/imageResize":class{constructor(e,t){this.handleDoubleClick=e=>{e.stopPropagation()},this.handleClick=e=>{if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()){if(this.img===e.target)return;this.img&&this.hide(),this.img=e.target,this.showOverlay()}else this.img&&this.hide()},this.showOverlay=()=>{this.overlay&&this.hideOverlay(),this.setUserSelect("none"),this.img.classList.add("selected"),document.addEventListener("keyup",this.handleShortcut,!1),this.overlay=document.createElement("div"),this.overlay.classList.add(la.Theme2GlobalStyleClassName),Object.assign(this.overlay.style,wd),this.quill.root.parentNode.appendChild(this.overlay),this.updateOverlayPosition(),this.resizeObserver=new ResizeObserver((()=>{this.updateOverlayPosition()})),this.mutationObserver=new MutationObserver((()=>{this.updateOverlayPosition()})),this.resizeObserver.observe(this.img),this.mutationObserver.observe(this.img,{attributes:!0});const e=this.quill.root.parentNode;e&&(this.resizeObserver.observe(e),this.mutationObserver.observe(e,{attributes:!0,subtree:!0,childList:!0})),this.root=u.ReactDOMClient.createRoot(this.overlay);const t=u.React.createElement(xd,{img:this.img,modalId:this.modalId,intl:this.intl,theme:this.theme,editor:this.quill,onDelete:this.handleDelete});this.root.render(t)},this.updateOverlayPosition=()=>{if(this.img&&this.overlay&&this.quill){if(!this.img.parentNode)return void this.hide();const e=this.quill.root.parentNode.getBoundingClientRect(),t=this.img.getBoundingClientRect(),n=t.left-e.left,i=t.top-e.top;this.overlay.style.position="absolute",this.overlay.style.top=`${i}px`,this.overlay.style.left=`${n}px`,this.overlay.style.width=`${t.width}px`,this.overlay.style.height=`${t.height}px`}},this.hide=()=>{this.img&&this.overlay&&(this.hideOverlay(),this.img=void 0)},this.hideOverlay=()=>{this.overlay&&(this.img.classList.remove("selected"),this.resizeObserver.disconnect(),this.mutationObserver.disconnect(),this.root.unmount(),this.quill.root.parentNode.removeChild(this.overlay),this.overlay=void 0,document.removeEventListener("keyup",this.handleShortcut),this.setUserSelect(""))},this.handleDelete=()=>{this.img&&(Zl.find(this.img).deleteAt(0,1),this.moveCursor())},this.moveCursor=()=>{const e=this.quill.getSelection();e&&(this.quill.setSelection(e.index,0),this.quill.focus()),this.hide()},this.setUserSelect=e=>{["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((t=>{this.quill.root.style[t]=e,document.documentElement.style[t]=e}))},this.handleShortcut=e=>{var t,n;"Backspace"!==e.key&&"Delete"!==e.key||(e.stopPropagation(),this.handleDelete()),"Escape"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.stopPropagation(),e.preventDefault(),"Escape"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"left"===(null===(t=this.img.style)||void 0===t?void 0:t.float)||"right"===(null===(n=this.img.style)||void 0===n?void 0:n.float)?this.hide():this.moveCursor())},this.intl=u.i18n.getIntl(),this.theme=(0,la.getTheme2)(),this.quill=e,this.modalId=null==t?void 0:t.modalId,this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.addEventListener("dblclick",this.handleDoubleClick,!1);const n=this.quill.root.parentNode;n.style.position=n.style.position||"relative",this.quill.root.addEventListener("scroll",u.lodash.throttle((()=>{this.updateOverlayPosition()})))}},"formats/align":Fl,"formats/direction":Xl,"formats/font":Ql,"formats/size":Jl,"formats/link":od,"formats/textshadow":ud,"formats/expression":sd,"formats/urlInfo":gd,"formats/letterspace":ad,"formats/linespace":cd,"formats/header":Wl,"formats/image":vd,"formats/float":hd,"formats/display":fd,"formats/margin":dd},!0)})(),l})())}}}));