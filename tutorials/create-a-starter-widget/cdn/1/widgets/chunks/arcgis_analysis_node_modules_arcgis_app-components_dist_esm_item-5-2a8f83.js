/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-5-2a8f83.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-5-2a8f83"],{91659:(e,r,n)=>{n.d(r,{A:()=>le,B:()=>R,C:()=>j,D:()=>T,E:()=>A,F:()=>q,G:()=>f,H:()=>m,I:()=>w,J:()=>y,K:()=>g,L:()=>h,M:()=>S,N:()=>ie,O:()=>b,P:()=>V,Q:()=>Q,R:()=>ee,S:()=>re,a:()=>Y,b:()=>X,c:()=>a,d:()=>s,e:()=>F,f:()=>c,g:()=>oe,h:()=>M,i:()=>Z,j:()=>J,k:()=>C,l:()=>N,m:()=>U,n:()=>k,o:()=>G,p:()=>L,q:()=>E,r:()=>H,s:()=>_,t:()=>K,u:()=>d,v:()=>D,w:()=>p,x:()=>v,y:()=>P,z:()=>te});var i=n(56086),o=n(70392),l=n(46710),t=n(66913);const u=e=>{var r,n,i;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(r=null==e?void 0:e.roleId)&&void 0!==r?r:null==e?void 0:e.id)&&void 0!==n?n:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.id};function s(e){return e&&!e.orgId}function a(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return"org_admin"===u(e)||"account_admin"===u(e)}function d(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function v(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateItemCategorySchema"))}function p(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateGroups"))}function f(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function m(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function g(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function y(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function h(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function P(e,r,n,i){const o=i&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(i.type),l=((null==r?void 0:r.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!r||!c(r)&&!l||!(null==n?void 0:n.isPortal)&&!o)}function b(e){return!!e&&(!d(e)||d(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const S=({items:e,user:r,portal:n})=>{const i=e[0],o=i.owner;if(n.isPortal&&o!==r.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=ne(i,r),t=d(r),u=I(r),s=ee(i,r)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(r)&&!t&&(function(e,r){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(r)||f(e)||m(e)||!!r.canSharePublic&&g(e)}(r,n)||I(r));return l||s||ie(e,r)&&u};function I(e){return w(e)||y(e)||h(e)}async function T(){return new Promise((async e=>{const{portal:r}=l.c;if(null==r?void 0:r.isPortal){const n=r.helperServices.geocode,i=await function(e){const{config:r,portal:n}=l.c;return new Promise((async(i,o)=>{const l=e.filter((e=>O(e.url,n))).filter((e=>e.isEsriBatchGeocoder))[0];if(l){const e=l.url.split("/servers/")[1].split("/rest/services/")[0],n=`${r.restBaseUrl}/content/items/${e}`;try{i((await(0,t.r)(n)).url)}catch(e){o(e)}}else o("No world geocoder configured")}))}(n);e(i)}else{const n=function(e){const r=null==e?void 0:e.portalHostname;return-1!==r.indexOf("dev")?"dev":-1!==r.indexOf("qa")?"qa":""}(r);e(`https://geocode${n}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function O(e="",r){var n;const i=r.isPortal,o=e.toLowerCase(),l=o.indexOf("/geocodeserver")>-1&&o.indexOf("/rest/services/")>-1,t=i&&o.indexOf(null===(n=r.portalHostname)||void 0===n?void 0:n.toLowerCase())>-1,u=!i&&o.indexOf("utility")&&o.indexOf(".arcgis.com")>-1;return l&&(t||u)}function _(e){return s(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function D(e){return s(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function C(e,r){return!s(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,i.i)(r,e)}async function k(e,r){return!s(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,i.i)(r,e)}const $=async(e,r)=>{var n;return await k(e,r)&&(!r.isPortal||!!r.supports3DTilesServices||!!(null===(n=r.sourceJSON)||void 0===n?void 0:n.supports3DTilesServices))};function x(e){return!s(e)&&!0}function G(e){var r;return!s(e)&&(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishScenes"))}const N=e=>!s(e);function U(e,r,n){var i,o;const l=!!(null===(o=null===(i=r.helperServices)||void 0===i?void 0:i.rasterAnalytics)||void 0===o?void 0:o.url),t=function(e,r,n){var i;return(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishDynamicImagery"))&&(r.isPortal||B(n))}(e,r,n),u=r.isPortal?t:t||function(e,r,n){var i;return(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishTiledImagery"))&&!r.isPortal&&B(n)}(e,r,n);return l&&u}function B(e){return null==e?void 0:e.some((e=>{var r;return null===(r=e.entitlements)||void 0===r?void 0:r.some((e=>"image"===e.toLowerCase()))}))}async function J(e){var r;const{userLicensedItems:n}=await(0,t.r)(`${null!==(r=e.restUrl)&&void 0!==r?r:e.portalUrl}/community/self?returnUserLicensedItems=true`);return n}function L(e,r){var n,i;const l=null===(n=r.helperServices)||void 0===n?void 0:n.geocode.some((({url:e})=>O(e,r))),t=null!==(i=null==e?void 0:e.privileges)&&void 0!==i?i:[];return!s(e)&&l&&(!r.isPortal||!(0,o.i)(r)&&t.includes("portal:user:viewOrgItems")&&t.includes("portal:user:createItem"))}const E=e=>!s(e);function q(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function A(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function H(e,r){var n;return!!r.isPortal&&!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:registerDataStores"))}function K(e){return!s(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}async function F(e,r,n){return!r.isPortal&&await C(e,r)&&await async function(e,r,n){return!s(e)&&!!r.supportsHostedServices&&_(e)&&(await k(e,r)||await C(e,r)||G(e)||x(e)||U(e,r,n))}(e,r,n)}async function M(e,r,n){switch(r){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return C(e,n);case"Tile Package":return k(e,n);case"3DTiles Package":return $(e,n);case"Vector Tile Package":return x(e);case"Scene Package":return G(e);case"Service Definition":return async function(e,r){return await C(e,r)&&await k(e,r)}(e,n);default:return!0}}function R(e,r){var n,i,o;return c(e)||function(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:manageCredits"))}(e)||!!((null!==(n=null==e?void 0:e.assignedCredits)&&void 0!==n?n:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.assignedCredits)>-1&&(null===(o=null==r?void 0:r.portalProperties)||void 0===o?void 0:o.showCreditsOnProfile))}const j=e=>!1;function V(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:viewGroups"))}function z(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:deleteItems"))}function Q(e){return c(e)||function(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:viewUsers"))}(e)&&function(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:viewItems"))}(e)&&(function(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateItems"))}(e)||z(e)||function(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:reassignItems"))}(e))}function W(e){var r;return!!(null===(r=e.owner)||void 0===r?void 0:r.toLowerCase().includes("esri"))}function X(e){var r;return W(e)&&!!(null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Requires Credits"))}function Y(e){var r;return W(e)&&!!(null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Requires Subscription"))}function Z(e,r){return e.owner===r.username}function ee(e,r){return ne(e,r)||"update"===e.itemControl||ie([e],r)&&c(r)}function re(e,r){const n=ie([e],r),i=ne(e,r)||c(r)&&n,o=d(r)&&z(r);return!!(i||n&&o)}function ne(e,r){return Z(e,r)||function(e,r){var n;if(null!=e.isAdmin)return!!e.isAdmin;const i=e.owner,o="admin"===e.itemControl;return!((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!Z(e,r)&&o&&i.includes("esri_")&&!["esri_livingatlas","esri_demographics","esri_boundaries"].includes(i))&&o}(e,r)}const ie=(e,r)=>!!r.orgId&&e.every((e=>e.isOrgItem)),oe=(e,r)=>`${(0,o.a)(r)}item.html?id=${e}`,le=(e,r)=>`${r.restUrl}/content/users/${e}`,te=e=>e.reduce(((e,r)=>(e[r.owner]=e[r.owner]?[...e[r.owner],r.id]:[r.id],e)),{})},56086:(e,r,n)=>{n.d(r,{a:()=>v,b:()=>c,c:()=>u,d:()=>s,e:()=>p,f:()=>l,g:()=>d,h:()=>t,i:()=>f,q:()=>a});var i=n(66913),o=n(70392);function l(e){var r;return"ArcGISEnterpriseOnKubernetes"===(e.portalDeploymentType||(null===(r=e.sourceJSON)||void 0===r?void 0:r.portalDeploymentType))}function t(e){var r,n;return e.isPortal?"modern"===(null===(n=e.portalProperties)||void 0===n?void 0:n.homePage)||function(e){var r;return e.isPortal&&"modernOnly"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)}(e):"modern"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)||function(e){const r=new Date("June 30, 2020").getTime();return!e.isPortal&&e.created>=r}(e)}async function u(e){return(0,i.f)((()=>(0,i.r)(`${(0,o.g)(e)}portals/self/resources/home.page.json`)),"homePageConfig",e.id)}async function s(e){return(0,i.f)((()=>(0,i.r)(`${(0,o.g)(e)}portals/self/userDefaultSettings`)),"memberDefaults",e.id)}async function a(e={},r){return(0,i.r)(`${(0,o.g)(r)}/community/groups`,e)}const c=async(e,r)=>{var n;if(!e)return[];const l=`${(0,o.a)(null!==(n=r.restUrl)&&void 0!==n?n:r.portalUrl)}portals/self/servers`,t=await(0,i.f)((()=>(0,i.r)(l)),"selfServers",r.id);return null==t?void 0:t.servers},d=e=>v((0,o.b)(e)),v=e=>{var r;const n=`${(0,o.a)(null!==(r=(0,o.c)(e))&&void 0!==r?r:e)}info`;return(0,i.f)((()=>(0,i.r)(n,{},{addTokenManually:!1})),"portalInfo",n)};async function p(e,r){return!e.isPortal||await f(e,r)}async function f(e,r){if(!r||!e)return!1;if(!e.isPortal)return!0;const{result:n,error:o}=await(0,i.f)((()=>m(e,r)),"isPortalBackedBySDS",e.id);return!o&&n}const m=async(e,r)=>{if(e.isBackedBySDS)return{result:!0};if(!e.isPortal)return{result:!0};try{return{result:!!await g(r,e)}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}},g=async(e,r)=>{var n;return(null!==(n=await c(e,r))&&void 0!==n?n:[]).filter((e=>e.isHosted))[0]}}}]);