/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-0700f5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-0700f5"],{85109:(e,t,a)=>{a.r(t),a.d(t,{arcgis_image_item_inspect_popover:()=>s});var i=a(35110),r=a(1984),o=a(86587);a(63280),a(21104),a(73838);const s=class{constructor(e){(0,i.r)(this,e),this.arcgisImageItemInspectPopoverClosed=(0,i.c)(this,"arcgisImageItemInspectPopoverClosed",7),this.arcgisZoomToInspectingImageItem=(0,i.c)(this,"arcgisZoomToInspectingImageItem",7),this.arcgisAddInspectingImageItemToLayer=(0,i.c)(this,"arcgisAddInspectingImageItemToLayer",7),this.arcgisImageItemToInspectChanged=(0,i.c)(this,"arcgisImageItemToInspectChanged",7),this.layer=void 0,this.view=void 0,this.jsapiUrl=void 0,this.referenceElement=void 0,this.isShowing=void 0,this.popoverHeight=void 0,this.imageItemInfo=void 0,this.imageItemFeatureGraphic=void 0}async componentWillLoad(){[this.strings]=await(0,r.g)(this.hostElement,"arcgis-image-collection-explorer")}render(){const{strings:e,isShowing:t,popoverHeight:a,imageItemInfo:r}=this,s=(0,o.g)(this.hostElement),n="rtl"===s;return(0,i.h)(i.H,{class:"js-app-flyout"},(0,i.h)("calcite-popover",{dir:s,autoClose:!0,label:e.imageDetails,referenceElement:this.referenceElement,placement:"leading-start",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:10,open:t,onCalcitePopoverClose:()=>{this.arcgisImageItemInspectPopoverClosed.emit()}},(0,i.h)("div",{style:{height:`${a}px`}},(0,i.h)("div",{class:"image-details-panel"},(0,i.h)("calcite-panel",{heading:this.strings.imageDetails,closable:!0,onCalcitePanelClose:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.closed=!1,this.arcgisImageItemInspectPopoverClosed.emit()}},this.renderImageItemDisplayTitle(),t&&this.renderImageItemPreviewView(),r&&this.renderImageItemInfoTables(),(0,i.h)("calcite-button",{style:{"padding-inline-end":"5px"},width:"half",slot:"footer",appearance:"outline",kind:"neutral",iconStart:n?"chevron-right":"chevron-left",onClick:()=>this.arcgisImageItemToInspectChanged.emit("previous")},e.previous),(0,i.h)("calcite-button",{style:{"padding-inline-start":"5px"},width:"half",slot:"footer",appearance:"outline",kind:"neutral",iconEnd:n?"chevron-left":"chevron-right",onClick:()=>this.arcgisImageItemToInspectChanged.emit("next")},e.next))))))}renderImageItemPreviewView(){const{strings:e,layer:t,jsapiUrl:a,imageItemFeatureGraphic:r}=this;return(0,i.h)("calcite-block",{collapsible:!0,open:!0,heading:e.preview},(0,i.h)("div",{class:"image-item-preview-wrapper"},(0,i.h)("arcgis-image-item-preview",{jsapiUrl:a,previewLayerUrl:t.url,previewImageItemGraphic:r})))}renderImageItemInfoTables(){const{imageItemInfo:e}=this,{extent:t,statistics:a}=e||{};return(0,i.h)("div",null,e?this.renderImageItemInspectButtonGroup():null,e?this.renderImageItemRasterInformationTable():null,e?this.renderImageItemRasterMetadataTable():null,t?this.renderImageItemExtentInfoTable():null,e?this.renderImageItemSpatialReferenceTable():null,a?this.renderImageItemStatisticsInfoTable():null)}renderImageItemRasterInformationTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{bandCount:r,height:o,width:s,pixelType:n,pixelSize:l,dataType:c,colormap:p}=t,m=[{property:e.columns,value:s},{property:e.rows,value:o},{property:e.bandNumber,value:r},{property:e.cellSizeX,value:null==l?void 0:l.x},{property:e.cellSizeY,value:null==l?void 0:l.y},{property:e.sourceType,value:c},{property:e.pixelType,value:n},{property:e.colormap,value:p}].filter((e=>!!e.value));return m.length>0&&(0,i.h)("calcite-block",{collapsible:!0,open:!0,heading:e.rasterInformation},(0,i.h)("div",{class:"image-item-info-table-wrapper"},(0,i.h)("arcgis-image-item-info-table",{columns:a,data:m})))}renderImageItemRasterMetadataTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{SensorName:r,ProductName:o,CloudCover:s,AcquisitionDate:n,SunAzimuth:l,SunElevation:c,ELLIPSOID:p}=t.keyProperties||{},m=n?`${new Date(n).toLocaleDateString()} ${new Date(n).toLocaleTimeString()}`:null,g=[{property:e.sensorName,value:r},{property:e.productName,value:o},{property:e.acquisitionDate,value:m},{property:e.cloudCover,value:s},{property:e.sunAzimuth,value:l},{property:e.sunElevation,value:c},{property:e.spheroid,value:p}].filter((e=>!!e.value));return g.length>0&&(0,i.h)("calcite-block",{collapsible:!0,open:!0,heading:e.rasterMetadata},(0,i.h)("div",{class:"image-item-info-table-wrapper"},(0,i.h)("arcgis-image-item-info-table",{columns:a,data:g})))}renderImageItemExtentInfoTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{extent:r}=t,{xmin:o,xmax:s,ymin:n,ymax:l}=r,c=[{property:e.top,value:l},{property:e.bottom,value:n},{property:e.left,value:o},{property:e.right,value:s}].filter((e=>!!e.value));return c.length>0&&(0,i.h)("calcite-block",{collapsible:!0,open:!0,heading:e.extent},(0,i.h)("arcgis-image-item-info-table",{columns:a,data:c}))}renderImageItemStatisticsInfoTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"bandName",header:e.bandName},{accessor:"min",header:e.min},{accessor:"max",header:e.max},{accessor:"avg",header:e.mean},{accessor:"stddev",header:e.std}],{bandInfos:r,statistics:o}=t,s=r.map(((e,t)=>{const a=o[t];return Object.assign({bandName:e.name},a)}));return s.length>0&&(0,i.h)("calcite-block",{collapsible:!0,open:!0,heading:e.statistics},(0,i.h)("div",{class:"image-item-info-table-wrapper"},(0,i.h)("arcgis-image-item-info-table",{columns:a,data:s})))}renderImageItemSpatialReferenceTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{keyProperties:r,spatialReference:o}=t,s=[{property:e.projectedCoordinateSystem,value:""},{property:e.projection,value:""},{property:e.wkid,value:null==o?void 0:o.wkid},{property:e.datum,value:null==r?void 0:r.DATUM},{property:e.spheroid,value:null==r?void 0:r.ELLIPSOID}].filter((e=>!!e.value));return s.length>0&&(0,i.h)("calcite-block",{collapsible:!0,open:!0,heading:e.spatialReference},(0,i.h)("div",{class:"image-item-info-table-wrapper"},(0,i.h)("arcgis-image-item-info-table",{columns:a,data:s})))}renderImageItemInspectButtonGroup(){const{strings:e}=this;return(0,i.h)("div",{class:"image-item-inspect-button-group"},(0,i.h)("calcite-button",{label:e.addImageToMap,appearance:"transparent","icon-start":"add-layer",kind:"neutral",scale:"s",title:e.addImageToMap,onClick:()=>this.arcgisAddInspectingImageItemToLayer.emit()}),(0,i.h)("calcite-button",{label:e.zoomToImage,appearance:"transparent","icon-start":"layer-zoom-to",kind:"neutral",scale:"s",title:e.zoomToImage,onClick:()=>this.arcgisZoomToInspectingImageItem.emit()}))}renderImageItemDisplayTitle(){var e,t;const{imageItemFeatureGraphic:a,layer:r}=this,o=(null===(e=null==a?void 0:a.attributes)||void 0===e?void 0:e.Name)||(null===(t=null==a?void 0:a.attributes)||void 0===t?void 0:t.name),s=null==a?void 0:a.attributes[r.objectIdField];return(0,i.h)("div",{class:"image-item-name-wrapper"},`${s}: ${o}`)}get hostElement(){return(0,i.d)(this)}};s.style=".image-details-panel{width:320px;position:relative;height:100%;background-color:var(--calcite-color-background)}.image-item-preview-wrapper{width:100%;height:300px}.image-item-info-table-wrapper{display:block;overflow-x:auto}.image-item-name-wrapper{display:flex;overflow-wrap:break-word;font-weight:600;justify-content:center;padding-top:5px}"}}]);