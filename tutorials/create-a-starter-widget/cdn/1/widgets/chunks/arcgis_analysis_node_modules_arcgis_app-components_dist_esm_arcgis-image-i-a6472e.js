/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-a6472e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-a6472e"],{55870:(e,t,s)=>{s.r(t),s.d(t,{arcgis_image_item_list_settings_popover:()=>r});var i=s(35110),l=s(1984),a=s(86587),n=s(68132);s(63280),s(21104),s(73838);const r=class{constructor(e){(0,i.r)(this,e),this.arcgisImageItemListSettingsSaved=(0,i.c)(this,"arcgisImageItemListSettingsSaved",7),this.arcgisImageItemListSettingsPopoverClosed=(0,i.c)(this,"arcgisImageItemListSettingsPopoverClosed",7),this.renderTitleAndSelectedDisplayFieldsInfo=()=>{const{strings:e,fields:t,selectedFields:s}=this,l=t.length,a=s.length,n=e.selectedDisplayFieldCountInfo.replace("${totalCount}",l.toString()).replace("${selectedCount}",a.toString());return(0,i.h)("div",{class:"title-wrapper"},e.displayFields,(0,i.h)("calcite-chip",{value:n,appearance:"outline",kind:"neutral"},n))},this.renderDisplayFieldList=()=>{const{fields:e,selectedFields:t}=this,s=(0,n.h)(e).map((e=>{const s=t.some((t=>t.name===e.name)),l=t.length>=4&&!s;return(0,i.h)("calcite-list-item",{label:e.name,value:e,selected:s,disabled:l})}));return(0,i.h)("calcite-list",{"selection-mode":"multiple",class:"display-field-list-wrapper",onCalciteListChange:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedFields=t}},s)},this.handleListSettingsSaved=()=>{const{selectedFields:e,isShowThumbnailsChecked:t}=this;this.arcgisImageItemListSettingsSaved.emit({selectedFields:e,isShowingThumbnails:t}),this.arcgisImageItemListSettingsPopoverClosed.emit()},this.referenceElement=void 0,this.fields=[],this.preselectedFields=void 0,this.isShowingThumbnails=void 0,this.open=void 0,this.selectedFields=[],this.isShowThumbnailsChecked=void 0}async componentWillLoad(){[this.strings]=await(0,l.g)(this.hostElement,"arcgis-image-collection-explorer")}updateModal(e){e&&(Array.isArray(this.preselectedFields)&&(this.selectedFields=this.preselectedFields),this.isShowThumbnailsChecked=this.isShowingThumbnails)}render(){const{strings:e,isShowThumbnailsChecked:t,open:s}=this;return(0,i.h)(i.H,{class:"js-app-flyout"},(0,i.h)("calcite-popover",{dir:(0,a.g)(this.hostElement),autoClose:!0,label:e.listSettings,referenceElement:this.referenceElement,closable:!0,heading:e.listSettings,placement:"leading-start",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:70,open:s,onCalcitePopoverClose:()=>{this.arcgisImageItemListSettingsPopoverClosed.emit()}},(0,i.h)("calcite-panel",{class:"list-settings-popover-wrapper"},this.renderTitleAndSelectedDisplayFieldsInfo(),this.renderDisplayFieldList(),(0,i.h)("div",{class:"button-wrapper"},(0,i.h)("calcite-label",{layout:"inline-space-between"},e.showThumbnails,(0,i.h)("calcite-switch",{checked:t,scale:"m",onCalciteSwitchChange:e=>{const t=e.target.checked;this.isShowThumbnailsChecked=t}})),(0,i.h)("calcite-button",{width:"full",onClick:this.handleListSettingsSaved},e.done)))))}get hostElement(){return(0,i.d)(this)}static get watchers(){return{open:["updateModal"]}}};r.style=".title-wrapper{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;background-color:var(--calcite-color-foreground-1)}.list-settings-popover-wrapper{display:flex;padding:1rem;min-width:320px;max-height:50vh}.display-field-list-wrapper{overflow-y:auto}.button-wrapper{padding:1rem 0.25rem 0.25rem;background-color:var(--calcite-color-foreground-1)}"}}]);