/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-credit--abf0ad.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-credit--abf0ad"],{5575:(e,t,i)=>{i.r(t),i.d(t,{arcgis_credit_estimate:()=>c,arcgis_select:()=>d});var s=i(35110),n=i(86587),a=i(1984),o=i(11663),r=i(88703),l=i(15059);i(21104),i(73838),i(63280);const c=class{constructor(e){(0,s.r)(this,e),this.api=4,this.transactionCreditCost=void 0,this.availableCredits=void 0,this.showTotal=!1,this.formattedStrings=void 0}updateTransactionCost(){this.replaceStrings()}async componentWillLoad(){const e=await(0,a.g)(this.el);this.i18n=e[0],await this.replaceStrings()}async replaceStrings(){const{transactionCreditCost:e,availableCredits:t,i18n:i}=this,s={api:this.api,type:"decimal",places:2},a=await(0,n.f)(t,s),o=await(0,n.f)(e,s),r=await(0,n.f)(e/t,Object.assign(Object.assign({},s),{type:"percent"}));this.formattedStrings=Object.assign(Object.assign({},i),{creditsAvailable:i.creditsAvailable.replace("${credits}",a),creditsAvailableColon:i.creditsAvailableColon.replace("${credits}",a),creditsNeededColon:i.creditsNeededColon.replace("${credits}",o),creditsNeeded:i.creditsNeeded.replace("${credits}",o),creditsNeededPercent:i.creditsNeededPercent.replace("${percent}",r),needed:o,percent:r})}render(){if(!this.formattedStrings)return null;const{transactionCreditCost:e,availableCredits:t,showTotal:i,formattedStrings:n,api:a}=this,r=(0,o.g)(e,t);return(0,s.h)(s.H,null,(0,s.h)("div",{class:"left"},(0,s.h)("h4",{class:"header"},n.creditEstimate),(0,s.h)("p",{class:"text"},(0,s.h)("span",{class:"text--left"},n.creditsNeededColon),i&&(0,s.h)("span",null,n.creditsAvailableColon)),(0,s.h)("arcgis-meter",{max:t,maxLabel:n.notEnough,current:e,min:0,label:i?n.creditEstimate:n.creditsNeededPercent,api:a})),(0,s.h)("div",{class:"right"},(0,s.h)("span",{class:`number number--${r}`},"red"===r&&(0,s.h)("calcite-icon",{icon:"exclamation-mark-triangle"}),n.needed),n.creditsNeeded))}get el(){return(0,s.d)(this)}static get watchers(){return{transactionCreditCost:["updateTransactionCost"],availableCredits:["updateTransactionCost"]}}};c.style=":host{display:flex;border:1px solid var(--calcite-color-border-1)}.left{padding-top:1rem;padding-bottom:1rem;padding-left:1.5rem;padding-right:1.5rem;flex:1 1 auto}.right{display:flex;flex-direction:column;justify-content:center;padding-top:1rem;padding-bottom:1rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center;font-size:0.875rem;color:var(--calcite-color-text-3);flex:0 0 auto;border-inline-start:1px solid var(--calcite-color-border-1)}.number{display:block;font-size:1.625rem;font-weight:700}.number--blue{color:var(--calcite-color-brand)}.number--red{color:var(--calcite-color-status-danger)}.number--orange{color:#fe583e}.number calcite-icon{margin-inline-end:0.25rem;vertical-align:-0.25rem}.header{margin:0px;padding-bottom:0.5rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.text{margin-bottom:0.25rem;margin-top:0px;display:flex;font-size:0.875rem;color:var(--calcite-color-text-2)}.text--left{flex:1 1 auto}";const d=class{constructor(e){(0,s.r)(this,e),this.arcgisOptionChange=(0,s.c)(this,"arcgisOptionChange",7),this.guid=(0,l.g)(),this.handleKeys=e=>{const t=e.key,{options:i,selectedIndex:s,selectOpen:n,selectedOption:a}=this;switch(t){case" ":case"Enter":this.selectOpen=!this.selectOpen,n&&this.arcgisOptionChange.emit(i[s].value);break;case"ArrowDown":this.selectOpen=!0,this.selectOpen&&(e.preventDefault(),this.selectedIndex=(s+1)%i.length);break;case"ArrowUp":this.selectOpen&&(e.preventDefault(),this.selectedIndex=0===s?i.length-1:s-1);break;case"Tab":n&&(this.selectedIndex=Math.max(i.findIndex((e=>e.value===a)),0),this.selectOpen=!1);break;case"Escape":this.selectedIndex=Math.max(i.findIndex((e=>e.value===a)),0),this.selectOpen=!1,this.defaultOptionRef.setFocus()}},this.renderOptions=()=>this.options.map((({optionTitle:e,description:t,icon:i,badge:n,value:a},o)=>{const r=o===this.selectedIndex,l=a===this.selectedOption;return(0,s.h)("arcgis-option",{"aria-selected":l?"true":"false",selected:l,active:r,optionTitle:e,value:a,badge:n,description:t,icon:i,autoFocus:!0})})),this.renderSelectedOption=()=>{var e;const{selectOpen:t,selectedOption:i,emptyText:n,options:a,guid:o}=this,r=a.find((e=>e.value===i));return(0,s.h)("arcgis-option",{"aria-controls":`select_${o}`,"aria-labelledby":`label_${o}`,"aria-expanded":t?"true":"false","aria-activedescendant":(null===(e=a[this.selectedIndex])||void 0===e?void 0:e.value)||"no-selection",isSelector:!0,optionTitle:(null==r?void 0:r.optionTitle)||n,value:(null==r?void 0:r.value)||"",description:(null==r?void 0:r.description)||"",badge:null==r?void 0:r.badge,icon:(null==r?void 0:r.icon)||"",ref:e=>this.defaultOptionRef=e,onArcgisSelectOpen:()=>{this.selectOpen=!this.selectOpen}})},this.selectOpen=!1,this.selectedIndex=void 0,this.selectedOption="",this.emptyText=void 0,this.options=void 0,this.label=void 0,this.labelDescription=void 0,this.labelWeight="bold",this.autoFocus=void 0,this.focusDelay=0}async componentDidLoad(){this.onSelectedOptionChanged(this.selectedOption),this.autoFocus&&this.selectOpen&&(await(0,r.t)(this.focusDelay),this.defaultOptionRef.focus())}async setFocus(){this.defaultOptionRef.setFocus()}closeOnBlur(){this.selectOpen=!1}onSelectedOptionChanged(e){const t=this.options.findIndex((t=>t.value===e));this.selectedIndex=Math.max(0,t)}async arcgisOptionChangeHandler(){this.selectOpen=!1,this.defaultOptionRef.setFocus()}render(){const{label:e,labelDescription:t,guid:i,selectOpen:n}=this,a=!(!this.label||!this.labelDescription);return(0,s.h)(s.H,null,(0,s.h)("label",{id:`label_${i}`,class:"label"},e&&(0,s.h)("span",{class:{label:!0,"label--bold":"bold"===this.labelWeight,large:a}},e,(0,s.h)("slot",{name:"afterLabel"})),t&&(0,s.h)("span",{class:{description:!0,large:a}},t)),(0,s.h)("div",{class:"select",onKeyDown:this.handleKeys},this.renderSelectedOption(),n&&(0,s.h)("div",{role:"listbox","aria-haspopup":"listbox",id:`select_${i}`,class:"dropdown-container"},this.renderOptions())))}get element(){return(0,s.d)(this)}static get watchers(){return{selectedOption:["onSelectedOptionChanged"]}}};d.style=":host{position:relative}.select{margin-top:0.25rem;margin-bottom:1rem;position:relative}.select--no-margin{margin:0}.label{font-size:0.875rem;color:var(--calcite-color-text-1);line-height:18px}.label--bold{font-weight:500}.description{margin-top:0.5rem;margin-bottom:1rem;display:block;font-size:0.875rem;font-weight:400;color:var(--calcite-color-text-3)}.large{font-size:1rem}.dropdown-container{position:absolute;left:0px;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);width:100%;top:100%;max-height:240px;overflow:auto;z-index:100}"},88703:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>p,c:()=>n,d:()=>s,e:()=>a,f:()=>d,g:()=>u,i:()=>o,m:()=>r,t:()=>l,u:()=>h});const s=(e,t)=>{let i,s="idle";const n=(...n)=>new Promise((a=>{switch(s){case"flushed":s="idle",i?(clearTimeout(i),a(e(...n))):a(null);break;case"invoked":clearTimeout(i),s="idle",a(e(...n));break;case"cancelled":clearTimeout(i),s="idle",a(null);break;default:i&&clearTimeout(i),s="pending",i=setTimeout((()=>(s="idle",a(e(...n)))),t)}}));return n.flush=function(...e){return s="flushed",n(...e)},n.invoke=function(...e){return s="invoked",n(...e)},n.cancel=function(...e){return s="cancelled",n(...e)},n.getStatus=function(){return s},n},n=(e,t)=>{let i;return(...s)=>new Promise((n=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,n(e(...s))}),t))}))};function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){return null!=e}async function r(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const c=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:s}=t(e);return[i,s]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function h(e,t){const i=[],s={};return e.forEach((e=>{const n=t(e);null==s[n]&&(s[n]=e,i.push(e))})),i}function p(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let s=typeof e;return s in t?!t[s].hasOwnProperty(e)&&(t[s][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,s)=>e.slice(t*s,t+t*s)))},15059:(e,t,i)=>{i.d(t,{g:()=>s});const s=()=>[2,1,1,1,3].map((e=>{let t="";for(let i=0;i<e;i++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},11663:(e,t,i)=>{function s(e,t){const i=e/t;return i>=1||i<0?"red":i>.8?"orange":"blue"}i.d(t,{g:()=>s})}}]);