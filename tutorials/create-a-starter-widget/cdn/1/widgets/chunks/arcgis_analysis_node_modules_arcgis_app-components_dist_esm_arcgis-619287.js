/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287"],{14478:(e,r,a)=>{a.r(r),a.d(r,{arcgis_smart_mapping:()=>g});var i=a(35110),s=a(1984),t=a(59503),n=a(37192),p=a(21104),o=(a(2137),a(41657)),l=a(50478),m=a(86587);a(63280),a(23505),a(89393),a(73838);const g=class{constructor(e){(0,i.r)(this,e),this.smartMappingCompleteClose=(0,i.c)(this,"smartMappingCompleteClose",7),this.arcgisSmartMappingClose=(0,i.c)(this,"arcgisSmartMappingClose",7),this.arcgisSmartMappingBeforeBack=(0,i.c)(this,"arcgisSmartMappingBeforeBack",7),this.arcgisSmartMappingError=(0,i.c)(this,"arcgisSmartMappingError",7),this.arcgisSmartMappingClusterRequiresUpdate=(0,i.c)(this,"arcgisSmartMappingClusterRequiresUpdate",7),this.arcgisSmartMappingLoaded=(0,i.c)(this,"arcgisSmartMappingLoaded",7),this.closedViaEvent=!1,this.isWithinCalciteFlow=!1,this.allFlowItemComponents="arcgis-smart-mapping,\n      arcgis-smart-mapping-panels-gallery,\n      arcgis-smart-mapping-panels-simple,\n      arcgis-smart-mapping-panels-heatmap,\n      arcgis-smart-mapping-panels-predominance,\n      arcgis-smart-mapping-panels-predominance-size,\n      arcgis-smart-mapping-panels-relationship,\n      arcgis-smart-mapping-panels-relationship-size,\n      arcgis-smart-mapping-panels-size,\n      arcgis-smart-mapping-panels-chart,\n      arcgis-smart-mapping-panels-chart-size,\n      arcgis-smart-mapping-panels-color,\n      arcgis-smart-mapping-panels-color-size,\n      arcgis-smart-mapping-panels-color-size-univariate,\n      arcgis-smart-mapping-panels-compare,\n      arcgis-smart-mapping-panels-dot-density,\n      arcgis-smart-mapping-panels-type,\n      arcgis-smart-mapping-panels-type-size,\n      arcgis-smart-mapping-panels-raster-gallery,\n      arcgis-smart-mapping-panels-raster-flow,\n      arcgis-smart-mapping-panels-raster-vector-field,\n      arcgis-smart-mapping-panels-raster-stretch,\n      arcgis-smart-mapping-panels-raster-rgb,\n      arcgis-smart-mapping-panels-raster-shaded-relief,\n      arcgis-smart-mapping-panels-raster-class-breaks,\n      arcgis-smart-mapping-panels-raster-colormap,\n      arcgis-smart-mapping-panels-raster-unique-value",this.portal=void 0,this.config=void 0,this.mapView=void 0,this.layer=void 0,this.useFeatureReduction=!1,this.skipGallery=!1,this.stylePart=void 0,this.hideLayerTitle=!1}arcgisSmartMappingCloseHandler(){this.closedViaEvent=!0}smartMappingCompleteCloseHandler(e){this.arcgisSmartMappingClose.emit(e.detail)}async setFocus(){this.flowNode.setFocus()}async componentWillLoad(){var e;const{mapView:r,layer:a}=this;if(a&&r)if(await async function(){const[e,r,a,i,s,n,o,l,m,g,c,d,h,S,u,M,C,y,E,f,P,R,z,w,v,A,b,F,U,V,k,L,I,q,B,O,T,G,_,x,N,H,D,W,j,J,Q,$,K,X,Y,Z,ee,re,ae,ie,se,te,ne,pe,oe,le,me,ge,ce,de,he,Se,ue,Me,Ce,ye,Ee,fe,Pe,Re,ze,we,ve]=await(0,p.l)(["esri/renderers/support/AuthoringInfo","esri/renderers/SimpleRenderer","esri/renderers/support/AttributeColorInfo","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic","esri/geometry/SpatialReference","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/rest/support/Query","esri/rest/support/FeatureSet","esri/layers/support/Field","esri/intl","esri/smartMapping/renderers/opacity","esri/smartMapping/renderers/pieChart","esri/smartMapping/renderers/color","esri/smartMapping/renderers/univariateColorSize","esri/smartMapping/renderers/dotDensity","esri/smartMapping/renderers/heatmap","esri/smartMapping/renderers/location","esri/smartMapping/renderers/predominance","esri/smartMapping/renderers/relationship","esri/smartMapping/renderers/size","esri/smartMapping/renderers/type","esri/smartMapping/raster/renderers/flow","esri/smartMapping/raster/renderers/vectorField","esri/smartMapping/raster/renderers/stretch","esri/smartMapping/raster/renderers/rgb","esri/smartMapping/raster/renderers/shadedRelief","esri/smartMapping/raster/renderers/classBreaks","esri/smartMapping/raster/renderers/colormap","esri/smartMapping/raster/renderers/uniqueValue","esri/smartMapping/raster/support/colorRamps","esri/smartMapping/raster/support/utils","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/heatmap","esri/smartMapping/symbology/relationship","esri/smartMapping/symbology/predominance","esri/smartMapping/symbology/pieChart","esri/smartMapping/symbology/color","esri/smartMapping/symbology/dotDensity","esri/views/support/colorUtils","esri/rest/support/MultipartColorRamp","esri/rest/support/AlgorithmicColorRamp","esri/smartMapping/symbology/flow","esri/smartMapping/statistics/heatmapStatistics","esri/smartMapping/statistics/summaryStatistics","esri/smartMapping/statistics/histogram","esri/smartMapping/statistics/predominantCategories","esri/renderers/visualVariables/support/SizeStop","esri/renderers/visualVariables/RotationVariable","esri/renderers/visualVariables/SizeVariable","esri/renderers/support/HeatmapColorStop","esri/renderers/support/UniqueValue","esri/renderers/support/UniqueValueClass","esri/renderers/support/UniqueValueGroup","esri/widgets/smartMapping/OpacitySlider","esri/widgets/smartMapping/HeatmapSlider","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/smartMapping/SizeSlider","esri/widgets/smartMapping/ClassedSizeSlider","esri/widgets/smartMapping/ColorSizeSlider","esri/widgets/smartMapping/BinaryColorSizeSlider","esri/widgets/Slider","esri/core/lang","esri/layers/support/fieldUtils","esri/widgets/smartMapping/support/utils","esri/smartMapping/raster/support/utils","esri/symbols/support/cimSymbolUtils","esri/symbols/support/previewSymbol2D","esri/core/reactiveUtils","esri/renderers/support/jsonUtils","esri/renderers/support/utils","esri/core/screenUtils","esri/symbols/support/symbolUtils"]);t.s.modules={AuthoringInfo:e,SimpleRenderer:r,AttributeColorInfo:a,Point:i,Polyline:s,Polygon:n,Graphic:o,SpatialReference:l,SimpleMarkerSymbol:m,SimpleLineSymbol:g,SimpleFillSymbol:c,Query:d,FeatureSet:h,Field:S,intl:u,OpacityVariableCreator:M,PieChartCreator:C,ColorCreator:y,UnivariateColorSizeCreator:E,DotDensityCreator:f,HeatmapCreator:P,LocationCreator:R,PredominanceCreator:z,RelationshipCreator:w,SizeCreator:v,TypeCreator:A,RasterFlowCreator:b,RasterVectorFieldCreator:F,RasterStretchCreator:U,RasterRGBCreator:V,RasterShadedReliefCreator:k,RasterClassBreaksCreator:L,RasterColormapCreator:I,RasterUniqueValueCreator:q,rasterColorRampUtils:B,RasterRendererUtils:O,esriColor:T,typeSchemes:G,heatmapSchemes:_,relationshipSchemes:x,predominanceSchemes:N,pieChartSchemes:H,colorSchemes:D,dotDensitySchemes:W,colorUtils:j,MultipartColorRamp:J,AlgorithmicColorRamp:Q,flowSchemes:$,heatmapStatistics:K,summaryStatistics:X,histogram:Y,predominantCategories:Z,SizeStop:ee,RotationVariable:re,SizeVariable:ae,HeatmapColorStop:ie,UniqueValue:se,UniqueValueClass:te,UniqueValueGroup:ne,OpacitySlider:pe,HeatmapSlider:oe,ColorSlider:le,ClassedColorSlider:me,SizeSlider:ge,ClassedSizeSlider:ce,ColorSizeSlider:de,BinaryColorSizeSlider:he,Slider:Se,esriLang:ue,fieldUtils:Me,smartMappingUtils:Ce,smartMappingRasterUtils:ye,cimSymbolUtils:Ee,previewSymbol2D:fe,reactiveUtils:Pe,rendererJsonUtils:Re,rendererSupportUtils:ze,screenUtils:we,symbolUtils:ve}}(),"esri.layers.support.Sublayer"===a.declaredClass){let i=!1;const s=null===(e=a.layer.sourceJSON)||void 0===e?void 0:e.cimVersion;if(s){const e=s.split("."),r=parseFloat(1===e.length?s:e[0]+"."+e[1]);i=a.layer.version>=10.51&&r>=1.4}t.s.mapImageSublayer=a,delete t.s.layer,await t.s.modules.reactiveUtils.whenOnce((()=>!r.updating)).then((async()=>{await t.s.mapImageSublayer.createFeatureLayer().then((async e=>{this.layer=e,await e.load().then((async()=>{await this.loadStore(),t.s.supportsArcade=i,await this.processLayer()}))}))}))}else t.s.mapImageSublayer=null,await this.loadStore(),await this.processLayer()}async componentDidLoad(){const{useFeatureReduction:e}=t.s;this.arcgisSmartMappingLoaded.emit(),e&&(this.flowItemNode=this.hostElement.firstElementChild.shadowRoot.querySelectorAll("calcite-flow-item")[0],this.scaleHandle=(0,n.w)(this.flowItemNode,(()=>this.smartMappingCompleteClose.emit("cancel"))))}disconnectedCallback(){var e;this.closedViaEvent||this.arcgisSmartMappingClose.emit("save"),null===(e=this.scaleHandle)||void 0===e||e.remove()}async loadStore(){const[e,r,a]=await(0,s.g)(this.hostElement);(0,t.c)(t.s);const{portal:i,config:n,mapView:p,layer:o,hideLayerTitle:l,useFeatureReduction:g}=this;t.s.portal=i,t.s.config=n,t.s.mapView=p,t.s.layer=o,t.s.hideLayerTitle=l,t.s.strings=e,t.s.locale=r,t.s.fullLocale=a,t.s.isRTL="rtl"===(0,m.g)(this.hostElement),t.s.useFeatureReduction=g}render(){const{hostElement:e}=this,{isRTL:r}=t.s,a=(0,t.f)(e,"calcite-flow");return a&&(this.isWithinCalciteFlow=!0,this.flowNode=a,this.flowNode.customItemSelectors=this.flowNode.customItemSelectors?`${this.flowNode.customItemSelectors},${this.allFlowItemComponents}`:this.allFlowItemComponents),(0,i.h)(i.H,{class:"calcite-match-height"},this.isWithinCalciteFlow?this.renderContent():(0,i.h)("calcite-flow",{class:{flow:!0,[m.C.rtl]:r},ref:e=>{this.flowNode=e},customItemSelectors:this.allFlowItemComponents},this.renderContent()))}renderContent(){const{skipGallery:e}=this,{layer:r}=t.s;return e?this.renderSkipGallery():"geo-rss"===r.type?(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleBackClick:()=>this.arcgisSmartMappingClose.emit("save")}):(0,t.i)(r)?(0,i.h)("arcgis-smart-mapping-panels-raster-gallery",{onArcgisSmartMappingPanelsRasterGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-gallery",{showBackButton:this.isWithinCalciteFlow,beforeBack:async()=>{this.isWithinCalciteFlow&&this.arcgisSmartMappingBeforeBack.emit("save")},onArcgisSmartMappingPanelsGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e),onArcgisSmartMappingPanelsGalleryClusterRequiresUpdate:()=>this.arcgisSmartMappingClusterRequiresUpdate.emit()})}renderSkipGallery(){const{originalRendererJSON:e,originalFeatureReduction:r,stylePart:a}=this,{layer:s}=t.s;switch((0,t.i)(s)?(0,o.g)():(0,t.g)()){case"simple":return(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:a})=>{"cancel"===a&&e&&(0,t.k)(e,r),this.arcgisSmartMappingClose.emit(a)},onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"heatmap":return(0,i.h)("arcgis-smart-mapping-panels-heatmap",{onArcgisSmartMappingPanelsHeatmapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsHeatmapError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color":case"color-age":return(0,i.h)("arcgis-smart-mapping-panels-color",{onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"size":case"size-age":return(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color-size":case"color-age-size":case"color-size-age":const n=(0,t.j)(s),p=(0,t.a)(n,"color"),o=(0,t.a)(n,"size");return p.field===o.field&&p.valueExpression===o.valueExpression&&p.valueExpressionTitle===o.valueExpressionTitle?(0,i.h)("arcgis-smart-mapping-panels-color-size-univariate",{onArcgisSmartMappingPanelsColorSizeUnivariateClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeUnivariateError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"color"===a?(0,i.h)("arcgis-smart-mapping-panels-color",{onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-color-size",{onArcgisSmartMappingPanelsColorSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"compare":return(0,i.h)("arcgis-smart-mapping-panels-compare",{onArcgisSmartMappingPanelsCompareClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsCompareError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"dot-density":return(0,i.h)("arcgis-smart-mapping-panels-dot-density",{onArcgisSmartMappingPanelsDotDensityClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"relationship":return(0,i.h)("arcgis-smart-mapping-panels-relationship",{onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"relationship-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-relationship",{onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-relationship-size",{onArcgisSmartMappingPanelsRelationshipSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance":return(0,i.h)("arcgis-smart-mapping-panels-predominance",{onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-predominance",{onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-predominance-size",{onArcgisSmartMappingPanelsPredominanceSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart":return(0,i.h)("arcgis-smart-mapping-panels-chart",{onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-chart",{onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-chart-size",{onArcgisSmartMappingPanelsChartSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type":return(0,i.h)("arcgis-smart-mapping-panels-type",{onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-type",{onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-type-size",{onArcgisSmartMappingPanelsTypeSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-flow":return(0,i.h)("arcgis-smart-mapping-panels-raster-flow",{onArcgisSmartMappingPanelsRasterFlowClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterFlowError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-vector-field":return(0,i.h)("arcgis-smart-mapping-panels-raster-vector-field",{onArcgisSmartMappingPanelsRasterVectorFieldClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterVectorFieldError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-stretch":return(0,i.h)("arcgis-smart-mapping-panels-raster-stretch",{onArcgisSmartMappingPanelsRasterStretchClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterStretchError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-rgb":return(0,i.h)("arcgis-smart-mapping-panels-raster-rgb",{onArcgisSmartMappingPanelsRasterRgbClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterRgbError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-shaded-relief":return(0,i.h)("arcgis-smart-mapping-panels-raster-shaded-relief",{onArcgisSmartMappingPanelsRasterShadedReliefClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterShadedReliefError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-class-breaks":return(0,i.h)("arcgis-smart-mapping-panels-raster-class-breaks",{onArcgisSmartMappingPanelsRasterClassBreaksClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterClassBreaksError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-colormap":return(0,i.h)("arcgis-smart-mapping-panels-raster-colormap",{onArcgisSmartMappingPanelsRasterColormapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"raster-unique-value":return(0,i.h)("arcgis-smart-mapping-panels-raster-unique-value",{onArcgisSmartMappingPanelsRasterUniqueValueClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterUniqueValueError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});default:return(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)})}}async processLayer(){const{layer:e,mapImageSublayer:r,strings:a,modules:i}=t.s;let s=(0,t.j)(e);if(!s&&(0,t.i)(e)){const r=e;await i.smartMappingRasterUtils.getSupportedRendererInfo({layer:r}).then((e=>{r.renderer=e.defaultRenderer,s=e.defaultRenderer}))}const n=(0,t.i)(e)?(0,o.g)():(0,t.g)();if(t.s.oneFeatureResponseStatus=t.b.MISSING,"geo-rss"===e.type)return Promise.resolve();await(0,t.d)().then((()=>("unknown"===n?(console.log("unsupported renderer",s),this.originalRendererJSON=s.toJSON(),this.originalFeatureReduction="featureReduction"in e&&e.featureReduction?i.esriLang.clone(e.featureReduction):void 0,(0,l.c)().then((a=>{(0,t.e)(i.esriLang.clone(a.renderer),e),r&&(r.renderer=a.renderer),t.s.selectedFields=[]})).catch((e=>{console.log(e)}))):(t.s.selectedFields=(0,t.h)(e),t.s.selectedFields.forEach((e=>{e.expression&&!e.expressionTitle&&(e.expressionTitle=a.expression)}))),Promise.resolve())))}static get assetsDirs(){return["assets"]}get hostElement(){return(0,i.d)(this)}};g.style=".sc-arcgis-smart-mapping-h{height:100%;width:100%}.flow.sc-arcgis-smart-mapping{height:100%}"},37192:(e,r,a)=>{a.d(r,{w:()=>s});var i=a(59503);function s(e,r){const{layer:a,mapView:s,useFeatureReduction:n}=i.s;if(!n||!("featureReduction"in a)||"binning"!==a.featureReduction.type)return;const p=i.s.modules.reactiveUtils.watch((()=>s.scale),(()=>{const n=a.featureReduction;s.scale<=n.maxScale&&!e.disabled?((0,i.l)(),function(e,r){const a=document.createElement("arcgis-smart-mapping-scale-alert-popover");a.refElement=e,a.addEventListener("arcgisSmartMappingScaleAlertPopoverBack",(()=>{t(),r()})),document.body.append(a)}(e,r),(0,i.m)(e,!0)):s.scale>n.maxScale&&e.disabled&&(t(),(0,i.m)(e,!1),e.setFocus())}));return p}function t(){document.querySelectorAll("arcgis-smart-mapping-scale-alert-popover").forEach((e=>{var r;null===(r=e.parentElement)||void 0===r||r.removeChild(e),e=null}))}a(21104),a(2137)},50478:(e,r,a)=>{a.d(r,{a:()=>n,b:()=>p,c:()=>t});var i=a(59503),s=(a(21104),a(89393));function t(e){var r;const{layer:a,useFeatureReduction:t,mapImageSublayer:n,mapView:p,modules:o}=i.s,l=a;e=e||{};const m=(0,i.p)((0,i.j)(l));return o.LocationCreator.createRenderer({layer:l,view:p,outlineOptimizationEnabled:!n&&(!(0,s.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!n&&(!(0,s.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),forBinning:"binning"===(null===(r=l.featureReduction)||void 0===r?void 0:r.type)&&t}).then((e=>((0,i.o)(m,e.renderer),Promise.resolve(e))),(e=>Promise.reject(e)))}function n(){var e;const{layer:r,useFeatureReduction:a,mapView:s,modules:t}=i.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:s,outlineOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&a}).then((e=>{const r=(0,i.a)(e.renderer,"size","outline");return Promise.resolve(r)}))}function p(){var e;const{layer:r,useFeatureReduction:a,mapView:s,modules:t}=i.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:s,outlineOptimizationEnabled:!1,sizeOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&a}).then((e=>{const r=(0,i.a)(e.renderer,"size","auto");return Promise.resolve(r)}))}},41657:(e,r,a)=>{a.d(r,{a:()=>t,g:()=>s,n:()=>n});var i=a(59503);function s(){var e,r;const{layer:a}=i.s,s=a;switch(null===(e=null==s?void 0:s.renderer)||void 0===e?void 0:e.type){case"flow":return"raster-flow";case"vector-field":return"raster-vector-field";case"class-breaks":return"raster-class-breaks";case"unique-value":return"raster-unique-value";case"raster-stretch":return(0,i.n)(s)?"raster-rgb":"raster-stretch";case"raster-shaded-relief":return"raster-shaded-relief";default:return null===(r=s.renderer)||void 0===r?void 0:r.type}}function t(e,r){"renderer"in r&&(r.renderer=e)}function n(e){const{modules:r}=i.s;if(!e)return[new r.esriColor([0,0,0,1]),new r.esriColor([50,50,50,1]),new r.esriColor([73,73,73,1]),new r.esriColor([140,140,140,1]),new r.esriColor([255,255,255,1])];if("multipart"!==(null==e?void 0:e.type))return[e.fromColor,e.toColor];const a=e.colorRamps,s=a.map((e=>e.fromColor));return s.push(a[a.length-1].toColor),s}a(21104),a(2137)}}]);