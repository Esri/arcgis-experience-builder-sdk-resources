"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_laye-fde248","extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_port-544f19"],{51021:(e,s,n)=>{n.d(s,{populateOperationalLayers:()=>c}),n(12846);var a=n(75845),i=n(82678),r=n(58724),t=n(21427),o=n(85721);async function _(e,s,n,a){if(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)return!1;if(e.url)return!1;if(e.featureCollectionType&&e.featureCollectionType===n)return!0;if(e.itemId){const n=new i.default({id:e.itemId,portal:s});return await n.load(),"Feature Collection"===n.type&&(0,o.t)(n,a)}return!1}async function c(e,s,n){if(!s)return;const i=[];for(const e of s){const s=p(e,n);"GroupLayer"===e.layerType?i.push(v(s,e,n)):i.push(s)}const r=await(0,a.ai)(i);for(const s of r)!s.value||n.filter&&!n.filter(s.value)||e.add(s.value)}n(68700),n(48095);const d={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},l={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},g={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},m={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},y={ArcGISFeatureLayer:"FeatureLayer"},u={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};async function p(e,s){return async function(e,s,n){const a=new e;return a.read(s,n.context),"group"===a.type&&L(s)&&await async function(e,s,n){const a=t.a.FeatureLayer,i=await a(),r=s.featureCollection,o=r.showLegend,_=r.layers.map((e=>{const s=new i;return s.read(e,n),null!=o&&s.read({showLegend:o},n),s}));e.layers.addMany(_)}(a,s,n.context),await(0,r.t)(a,n.context),a}(await async function(e,s){const n=s.context,a=h(n);let r=e.layerType||e.type;!r&&s&&s.defaultLayerType&&(r=s.defaultLayerType);const c=a[r];let d=c?t.a[c]:t.a.UnknownLayer;const l=n&&n.portal;if(w(e)){if(e.itemId){const s=new i.default({id:e.itemId,portal:l});await s.load();const n=(await(0,o.u)(s)).className||"UnknownLayer";d=t.a[n]}}else"ArcGISFeatureLayer"===r&&(await function(e,s){return _(e,s,"notes","Map Notes")}(e,l)?d=t.a.MapNotesLayer:await function(e,s){return _(e,s,"route","Route Layer")}(e,l)?d=t.a.RouteLayer:L(e)&&(d=t.a.GroupLayer));return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(d=t.a.WMTSLayer),d()}(e,s),e,s)}function L(e){if("ArcGISFeatureLayer"!==e.layerType||w(e))return!1;const s=e.featureCollection;return!!(s&&s.layers&&s.layers.length>1)}function w(e){return"Feature Collection"===e.type}function h(e){let s;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":s=g;break;case"ground":s=l;break;default:s=d}else switch(e.layerContainerType){case"basemap":s=u;break;case"tables":s=y;break;default:s=m}return s}async function v(e,s,n){const i=new a.ae,r=c(i,Array.isArray(s.layers)?s.layers:[],n),t=await e;if(await r,"group"===t.type)return t.layers.addMany(i),t}},21427:(e,s,n)=>{n.d(s,{a:()=>a});const a={BingMapsLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-caa6b5").then(n.bind(n,79492))).default,BuildingSceneLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-88ee2d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b20588"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2ee475"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c7bf5e")]).then(n.bind(n,76319))).default,CSVLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-88ee2d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-dfa6b1")]).then(n.bind(n,50732))).default,ElevationLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-46c49d"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Elev-2a70531")]).then(n.bind(n,32622))).default,FeatureLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-88ee2d"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Feat-c25ee5")]).then(n.bind(n,69292)).then((function(e){return e.F}))).default,GroupLayer:async()=>(await n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Grou-b2ae900").then(n.bind(n,62109))).default,GeoRSSLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-52e5bb").then(n.bind(n,75129))).default,ImageryLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b8bf5c"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-43d6a0"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-85a56c"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c15cb0")]).then(n.bind(n,75495))).default,ImageryTileLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7c3768"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c0455a"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-46c49d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-43d6a0"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-85a56c"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6affc9")]).then(n.bind(n,26227))).default,IntegratedMeshLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7c3768"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c0455a"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b20588"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-5c3a32")]).then(n.bind(n,55729))).default,KMLLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2097a1")]).then(n.bind(n,37970))).default,MapImageLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a0b2f3"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-eb3616"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_visu-1187a8")]).then(n.bind(n,8596))).default,MapNotesLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7c3768"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-88ee2d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c0455a"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-551d0f")]).then(n.bind(n,19381))).default,OpenStreetMapLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a0f848"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Open-6a9862")]).then(n.bind(n,41192))).default,PointCloudLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-9e766c")]).then(n.bind(n,86941))).default,RouteLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-88ee2d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-1a26d5")]).then(n.bind(n,70092))).default,SceneLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-469ae9"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-88ee2d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b20588"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2ee475"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Scen-3d0e43")]).then(n.bind(n,69677))).default,StreamLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-b1d849")]).then(n.bind(n,17835))).default,TileLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-be7a9d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-6785ed"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2a8a43"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-46c49d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a0b2f3"),n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Tile-652235")]).then(n.bind(n,16647))).default,UnknownLayer:async()=>(await n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Unkn-3a8dd1").then(n.bind(n,6884))).default,UnsupportedLayer:async()=>(await n.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Unsu-95ed59").then(n.bind(n,27487))).default,VectorTileLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ce3ec5"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-46c49d"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-217f44"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c83ee8")]).then(n.bind(n,14016))).default,WebTileLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a0f848").then(n.bind(n,33676)).then((function(e){return e.W}))).default,WMSLayer:async()=>(await n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-1ee7b8").then(n.bind(n,40922))).default,WMTSLayer:async()=>(await Promise.all([n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a0f848"),n.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a03490")]).then(n.bind(n,95758))).default}},85721:(e,s,n)=>{n.r(s),n.d(s,{p:()=>y,t:()=>t,u:()=>o});var a=n(75845),i=n(82678),r=n(21427);function t(e,s){return!!e.typeKeywords&&e.typeKeywords.indexOf(s)>-1}function o(e){switch(e.type){case"Map Service":return function(e){return function(e){return m(e.url).then((e=>e.tileInfo))}(e).then((e=>e?{className:"TileLayer"}:{className:"MapImageLayer"}))}(e);case"Feature Service":return function(e){return c(e).then((e=>{if("object"==typeof e){const s={};return null!=e.id&&(s.layerId=e.id),{className:"FeatureLayer",properties:s}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return async function(e){return await e.load(),t(e,"Map Notes")?{className:"MapNotesLayer"}:t(e,"Route Layer")?{className:"RouteLayer"}:1===g(await e.fetchData())?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return function(e){return c(e).then((s=>{if("object"==typeof s){const n={};let a;if(null!=s.id?(n.layerId=s.id,a=`${e.url}/layers/${s.id}`):a=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const s={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const n of Object.keys(s))if(-1!==e.typeKeywords.indexOf(n))return{className:s[n]}}return m(a).then((e=>{let s="SceneLayer";const a={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&a[e.layerType]&&(s=a[e.layerType]),{className:s,properties:n}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return async function(e){var s,n,a;await e.load();const i=null!=(s=null==(n=e.typeKeywords)?void 0:n.map((e=>e.toLowerCase())))?s:[];if(i.indexOf("elevation 3d layer")>-1)return{className:"ElevationLayer"};if(i.indexOf("tiled imagery")>-1)return{className:"ImageryTileLayer"};const r=await e.fetchData(),t=null==r?void 0:r.layerType;return"ArcGISTiledImageServiceLayer"===t?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===t?{className:"ImageryLayer"}:"map"===(null==(a=(await m(e.url)).cacheType)?void 0:a.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new a.s("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function _(e){return(0,r.a[e.className])().then((s=>({constructor:s,properties:e.properties})))}function c(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((s=>g(s)>0?d(s):m(e.url).then(d)))}function d(e){return 1===g(e)&&{id:(0,a.I)(l(e))}}function l(e){const s=e.layers;if(s&&s.length)return s[0].id;const n=e.tables;return n&&n.length?n[0].id:null}function g(e){var s,n,a,i;return(null!=(s=null==e||null==(n=e.layers)?void 0:n.length)?s:0)+(null!=(a=null==e||null==(i=e.tables)?void 0:i.length)?a:0)}function m(e){return(0,a.U)(e,{responseType:"json",query:{f:"json"}}).then((e=>e.data))}const y=Object.freeze({__proto__:null,fromItem:function(e){return!e.portalItem||e.portalItem instanceof i.default||(e={...e,portalItem:new i.default(e.portalItem)}),function(e){return e.load().then(o).then(_)}(e.portalItem).then((s=>{const n={portalItem:e.portalItem,...s.properties},a=s.constructor;return Promise.resolve(new a(n))}))},selectLayerClassPath:o})},58724:(e,s,n)=>{n.d(s,{t:()=>r});var a=n(75845),i=n(48095);async function r(e,s,n){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",s.origin);if(r&&"unique-value"===r.type&&r.styleOrigin){const t=await(0,i.o)(r.populateFromStyle());if((0,a.ah)(n),!1===t.ok){const n=t.error;s&&s.messages&&s.messages.push(new a.aN("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:s})),e.clear("renderer",s.origin)}}}}}]);