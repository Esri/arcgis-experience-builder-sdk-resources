/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_layer--bc779a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_layer--bc779a"],{88703:(e,t,n)=>{n.d(t,{a:()=>u,b:()=>f,c:()=>r,d:()=>i,e:()=>o,f:()=>c,g:()=>m,i:()=>s,m:()=>a,t:()=>l,u:()=>d});const i=(e,t)=>{let n,i="idle";const r=(...r)=>new Promise((o=>{switch(i){case"flushed":i="idle",n?(clearTimeout(n),o(e(...r))):o(null);break;case"invoked":clearTimeout(n),i="idle",o(e(...r));break;case"cancelled":clearTimeout(n),i="idle",o(null);break;default:n&&clearTimeout(n),i="pending",n=setTimeout((()=>(i="idle",o(e(...r)))),t)}}));return r.flush=function(...e){return i="flushed",r(...e)},r.invoke=function(...e){return i="invoked",r(...e)},r.cancel=function(...e){return i="cancelled",r(...e)},r.getStatus=function(){return i},r},r=(e,t)=>{let n;return(...i)=>new Promise((r=>{n||(n=setTimeout((()=>{clearTimeout(n),n=void 0,r(e(...i))}),t))}))};function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){return null!=e}async function a(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const u=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:n,data:i}=t(e);return[n,i]}))),c=(e,t)=>e.length===t.length&&e.reduce(((e,n)=>e&&t.indexOf(n)>-1),!0);function d(e,t){const n=[],i={};return e.forEach((e=>{const r=t(e);null==i[r]&&(i[r]=e,n.push(e))})),n}function f(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter((e=>{let i=typeof e;return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)}))}const m=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((n,i)=>e.slice(t*i,t+t*i)))},68132:(e,t,n)=>{n.d(t,{A:()=>i,I:()=>r,S:()=>o,a:()=>E,b:()=>$,c:()=>h,d:()=>v,e:()=>b,f:()=>F,g:()=>x,h:()=>w,i:()=>y,j:()=>s,k:()=>f,l:()=>_,m:()=>d,n:()=>p,o:()=>u,p:()=>g,q:()=>c,r:()=>C,s:()=>T,t:()=>S});var i,r,o,s,a=n(21104),l=n(88703);function u(e){return"AbortError"===(null==e?void 0:e.name)}function c(e){return["small-integer","big-integer","integer","single","double","oid"].includes(e)}function d(e){var t;return!!(null===(t=null==e?void 0:e.domain)||void 0===t?void 0:t.codedValues)}function f(e,t=!1){if(!e)return null;const n=new Date(e),i=t?n.getUTCFullYear():n.getFullYear(),r=t?n.getUTCMonth():n.getMonth(),o=t?n.getUTCDate():n.getDate(),s=t?n.getUTCHours():n.getHours(),a=t?n.getUTCMinutes():n.getMinutes(),l=t?n.getUTCSeconds():n.getSeconds();return`${i}-${m((r+1).toString(),2,"0")}-${m(o.toString(),2,"0")} ${m(s.toString(),2,"0")}:${m(a.toString(),2,"0")}:${m(l.toString(),2,"0")}`}function m(e,t,n){for(n=n||" ";e.length<t;)e=n+e;return e}function g(e,t,n){return e+t-1>n?n:e+t-1}function p(e,t,n,i="en"){const r=e.attributes[n.name],o=t.attributes[n.name];return"string"==typeof r&&"string"==typeof o?r.localeCompare(o,i):r<o?-1:r>o?1:0}function y(e){const t=e.find((e=>"best"===e.name.toLowerCase()));if(t)return t;const n=e.find((e=>"acquisitiondate"===e.name.toLowerCase()));if(n)return n;const i=e.find((e=>"date"===e.name.toLowerCase()));return i||e.find((e=>"double"===e.type||"integer"===e.type))}async function h(e,t,n){return e.queryRasterCount(t,{signal:n})}async function v(e,t,n){var i;t.outFields=["*"],t.returnGeometry=!0;const r=await e.queryRasters(t,{signal:n,timeout:12e4});return(null===(i=null==r?void 0:r.features)||void 0===i?void 0:i.length)?r:null}function b(e,t){const n=e.fields,i=e.objectIdField;let r=n.find((e=>"name"===e.name.toLowerCase()));return r||(r=n.find((e=>e.name===i))),r&&r.name!==t.name?[r,t]:[t]}function w(e){const t=["small-integer","big-integer","integer","single","double","date","oid","string"];return Array.isArray(e)?e.filter((e=>t.includes(e.type))):[]}function $(e,t,n,i,r,o){const s=e.createQuery();if((null==n?void 0:n.length)>0){let e="";if("date"===t.type){const i=new Date(n[0]);let r;1===n.length||2===n.length&&n[0]===n[1]?r=i.setDate(i.getDate()+1):2===n.length&&(r=n[1]),e=`${t.name} BETWEEN timestamp '${f(n[0],!0)}' AND timestamp '${f(r,!0)}'`}else 1===n.length&&(e="string"==typeof n[0]?`${t.name}='${n[0]}'`:`${t.name}=${n[0]}`),2===n.length&&(e="string"==typeof n[0]?`${t.name} BETWEEN '${n[0]}' AND '${n[1]}'`:`${t.name} BETWEEN ${n[0]} AND ${n[1]}`);s.where=e}const a="(Category = 1)";if(i)s.where=s.where.replace(a,"");else{const e=a+(s.where?` AND (${s.where})`:"");s.where=e}return s.objectIds=(null==o?void 0:o.length)>0?o:null,s.geometry=r||null,s.spatialRelationship=r?"intersects":null,s}function x(e){var t;return null===(t=e.extent)||void 0===t?void 0:t.clone().expand(.75)}async function S(e,t,n,i,r=!1){var o,s;if(!t)return[];const a=e.createQuery();if(a.geometry=n||null,a.spatialRelationship=n?"intersects":null,a.returnGeometry=!1,!r){a.outStatistics=[{onStatisticField:t.name,outStatisticFieldName:"cnt",statisticType:"count"}],a.groupByFieldsForStatistics=[t.name];const n=await e.queryRasters(a,{signal:i});if((null===(o=null==n?void 0:n.features)||void 0===o?void 0:o.length)>0){const e=c(t.type);return n.features.map((n=>{const i=n.attributes[t.name];return e?Number(i):i})).filter((e=>0===e||Boolean(e)))}}if(r){const n=[];let r=!0;for(a.returnExceededLimitFeatures=!0,a.outFields=[t.name];r;){const o=await e.queryRasters(a,{signal:i});if(r=null==o?void 0:o.exceededTransferLimit,(null===(s=o.features)||void 0===s?void 0:s.length)>0){const e=c(t.type),i=o.features.map((n=>{const i=n.attributes[t.name];return e?Number(i):i})).filter((e=>0===e||Boolean(e)));n.push(...i)}}return(0,l.b)(n)}return[]}async function T(e,t,n,i){var r;if(!t)return[];const o=e.createQuery();o.returnGeometry=!1,o.geometry=n||null,o.spatialRelationship=n?"intersects":null,o.outStatistics=[{statisticType:"min",onStatisticField:t,outStatisticFieldName:"min_field_value"},{statisticType:"max",onStatisticField:t,outStatisticFieldName:"max_field_value"}];const s=await e.queryRasters(o,{signal:i});if((null===(r=null==s?void 0:s.features)||void 0===r?void 0:r.length)>0){const[e]=s.features;return[e.attributes.min_field_value,e.attributes.max_field_value]}return[]}async function E(e,t,n){var i,r;let o=[];const s=await async function(e,t){var n;const[i,r]=await(0,a.l)(["esri/geometry/Point","esri/rest/support/ImageIdentifyParameters"]),{extent:o,width:s,height:l}=t,u=new i((o.xmax-o.xmin)/s,(o.ymax-o.ymin)/l,o.spatialReference),c=new r;c.geometry=x(t),c.returnGeometry=!0,c.pixelSize=u,c.maxItemCount=null===(n=e.sourceJSON)||void 0===n?void 0:n.maxMosaicImageCount,c.returnPixelValues=!1;const d=e.mosaicRule.clone();return e.definitionExpression&&(d.where=e.definitionExpression),c.mosaicRule=d,c}(e,t);if(e.visible){const t=await e.identify(s,{timeout:12e4});if(!(null===(i=null==t?void 0:t.catalogItems)||void 0===i?void 0:i.features)||!(null==t?void 0:t.catalogItemVisibilities))return null;const a=e.objectIdField;for(let e=0;e<t.catalogItems.features.length;e++)t.catalogItemVisibilities[e]>0&&o.push(t.catalogItems.features[e].attributes[a]);if(0===o.length)return null;const l=`${e.objectIdField} in (${o.map((e=>`${e}`)).join(",")})`;n.where=`${n.where} AND ${l}`,n.outFields=["*"],n.returnGeometry=!0;const u=await e.queryRasters(n);return(null===(r=null==u?void 0:u.features)||void 0===r?void 0:r.length)?u:null}}async function _(e,t){const[n]=await(0,a.l)(["esri/layers/support/MosaicRule"]);if(t.length){const i=new n;i.method="lock-raster",i.lockRasterIds=t,e.definitionExpression&&(i.where=e.definitionExpression),e.mosaicRule=i}}function C(e,t){t&&(e.mosaicRule=t.clone())}function F(e,t,n){const{title:i}=e,r=t.name;let o="";const s=n.map((e=>e.attributes[r]));s.sort();const a=s.map((e=>"date"===t.type?f(e):e));return 1===a.length&&(o=`(${a[0]})`),a.length>1&&(o=`(${a[0]} - ${a[a.length-1]})`),`${i} - ${r} ${o}`}!function(e){e.Visible="visible",e.DisplayExtent="displayExtent",e.All="all"}(i||(i={})),function(e){e.All="all",e.Select="select"}(r||(r={})),function(e){e.Asc="ASC",e.Desc="DESC"}(o||(o={})),function(e){e.Brand="brand",e.Danger="danger",e.Info="info",e.Success="success",e.Warning="warning"}(s||(s={}))}}]);