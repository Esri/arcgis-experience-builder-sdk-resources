/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c78b38.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c78b38"],{38299:(t,e,i)=>{i.r(e),i.d(e,{arcgis_workflow:()=>r});var o=i(35110),n=i(88703),s=i(1984),a=i(7803);i(63280),i(86587),i(21104),i(73838),i(23505);const r=class{constructor(t){(0,o.r)(this,t),this.arcgisWorkflowUpdatePage=(0,o.c)(this,"arcgisWorkflowUpdatePage",7),this.workflowCancel=(0,o.c)(this,"workflowCancel",7),this.workflowComplete=(0,o.c)(this,"workflowComplete",7),this.showBackButton=!1,this.workflowCompleted=!1,this.toggleFooterVisibility=t=>{var e;const i=null===(e=this.modalRef)||void 0===e?void 0:e.shadowRoot;if(i){const e=i.querySelector(".footer"),o=i.querySelector(".content");e&&o&&(e.style.display=t?"flex":"none")}},this.closeDialog=()=>{!this.workflowCompleted&&this.handleCancel(),this.workflowCompleted=!1,this.pageHistory=[this.firstPage]},this.handleCancel=async()=>{this.workflowCancel.emit()},this.firstPage=void 0,this.isActive=!0,this.headerText="",this.primaryButtonText=void 0,this.loadingText=void 0,this.pageHistory=[],this.navEnabled=!0,this.transition=void 0,this.isLoading=!1,this.padded=!0,this.error=null}handleRedirect(){this.isActive=!1}handleWorkflowComplete(){this.workflowCompleted=!0}toggleNavigationEnabled(t){this.navEnabled=t.detail}configureModal(t){const{padded:e,footerVisible:i}=t.detail;this.padded=e,this.toggleFooterVisibility(i)}async goToNextPage(t){this.pageHistory=[...this.pageHistory,t.detail],await this.transitionPage("forward")}async goToPreviousPage(){await this.transitionPage("back")}reportError({detail:t}){this.error=t}triggerPageTransition(t){var e;const i=new CustomEvent(t,{cancelable:!0});(null===(e=this.currentPageEl)||void 0===e?void 0:e.dispatchEvent(i))&&"arcgisWorkflowPagePrevious"===t&&this.goToPreviousPage()}async transitionPage(t){var e,i;null!==(e=this.primaryButtonText)&&void 0!==e||(this.primaryButtonText=this.i18n.next),this.transition=t,await(0,n.t)(200),this.transition=null,"back"===t&&(this.pageHistory=this.pageHistory.slice(0,-1));const o=new CustomEvent("arcgisTransitionComplete");null===(i=this.currentPageEl)||void 0===i||i.dispatchEvent(o),await(0,n.t)(200),this.focusFirstElement()}updateActive(t){t&&this.firstPage&&(this.pageHistory=[this.firstPage])}updateFirstPage(t){this.pageHistory=[t]}focusFirstElement(){var t,e;const i=this.currentPageEl;i&&!i.managedFocus&&(null===(e=null===(t=this.modalRef)||void 0===t?void 0:t.setFocus)||void 0===e||e.call(t))}displayPage(){const{transition:t,pageHistory:e,padded:i}=this,n="forward"===t,s="back"===t,a=s?e[e.length-2]:e[e.length-1];if(!this.isActive||!a)return;const r=`${a.element}`,l=this.currentScreen;return l&&e.length>1&&t?[(0,o.h)(l,{class:{stage:!0,"stage-anim":!0,"stage-anim--left":n,"stage-anim--right":s,padded:i}}),(0,o.h)(r,{class:{stage:!0,"stage-anim":!0,"stage-anim--left":s,"stage-anim--right":n,padded:i},ref:t=>{this.currentPageEl=t}})]:(this.currentScreen=r,(0,o.h)(r,Object.assign({},a.props,{class:{stage:!0,padded:i},ref:t=>{this.currentPageEl=t}})))}disconnectedCallback(){this.closeDialog()}async componentWillLoad(){var t;const{firstPage:e}=this,i=await(0,s.g)(this.el);a.w.i18n=i[0],a.w.lang=i[1],this.i18n=i[0],null!==(t=this.primaryButtonText)&&void 0!==t||(this.primaryButtonText=this.i18n.next),this.loadingText=this.i18n.loading,e&&(this.pageHistory=[this.firstPage])}componentWillRender(){this.showBackButton=this.pageHistory.length>1}componentDidRender(){var t;const e=null===(t=this.modalRef)||void 0===t?void 0:t.shadowRoot;if(e){const t=e.querySelector(".header");t&&(t.style.zIndex="3")}}componentDidLoad(){var t,e,i;null===(e=null===(t=this.modalRef)||void 0===t?void 0:t.setFocus)||void 0===e||e.call(t);const o=null===(i=this.modalRef)||void 0===i?void 0:i.shadowRoot.querySelector(".content");o&&(o.style.overflowX="hidden")}render(){const{i18n:t,isLoading:e,loadingText:i,isActive:n,error:s}=this;return(0,o.h)(o.H,null,(0,o.h)("calcite-modal",{ref:t=>this.modalRef=t,open:n,onCalciteModalClose:this.closeDialog,outsideCloseDisabled:!0,escapeDisabled:!0},(0,o.h)("div",{slot:"header",class:"header"},(0,o.h)("h3",{id:"modal-title",class:"header__title"},this.headerText)),(0,o.h)("div",{slot:"content",class:"content"},e?(0,o.h)("div",{class:"stage"},(0,o.h)("arcgis-workflow-loader",{active:e,text:i})):this.displayPage()),(0,o.h)("div",{slot:"back"},this.showBackButton&&(0,o.h)("calcite-button",{appearance:"outline-fill",kind:"neutral","data-id":"backButton",onClick:()=>{this.triggerPageTransition("arcgisWorkflowPagePrevious")},width:"full",disabled:!this.navEnabled},t.back)),(0,o.h)("calcite-button",{slot:"secondary",appearance:"outline-fill","data-id":"cancelButton",onClick:()=>{this.isActive=!1},width:"full"},t.cancel),(0,o.h)("calcite-button",{id:"primary-button",slot:"primary",appearance:"solid","data-id":"nextButton",onClick:()=>{this.triggerPageTransition("arcgisWorkflowPageNext")},width:"full",disabled:!this.navEnabled},this.primaryButtonText)),(0,o.h)("arcgis-new-item-alert",{heading:null==s?void 0:s.title,description:null==s?void 0:s.description,active:!!s,link:null==s?void 0:s.link,onAlertDismiss:()=>this.error=null}))}get el(){return(0,o.d)(this)}static get watchers(){return{isActive:["updateActive"],firstPage:["updateFirstPage"]}}};r.style="calcite-modal{--calcite-modal-content-padding:0;--calcite-modal-content-background:var(--calcite-color-background);--calcite-modal-width:1080px;--calcite-modal-height:min(922px, 75vh)}:host{border:10px solid black;overflow-x:hidden}.content{height:100%;overflow-y:auto;overflow-x:hidden}.padded{padding:1rem}.stage{box-sizing:border-box;display:block;opacity:1;transition:all 200ms ease-in-out}.stage--fullscreen{overflow:auto;padding-bottom:0}.stage-anim{position:absolute;transform:translate3d(0, 0, 0)}.stage-anim--left{opacity:0;transform:translate3d(-24px, 0, 0)}.stage-anim--right{opacity:0;transform:translate3d(24px, 0, 0)}.header{display:flex;align-items:center;position:relative}.header>.icon{border-style:none;margin-left:0.5rem;margin-right:0.5rem;padding:0px;display:flex;background-color:transparent}@media screen and (max-width: 480px){.stage{padding-bottom:6rem}}.header__title{font-size:1.125rem;margin:0px;padding:0px;font-weight:500}@media screen and (max-width: 1080px){.content{height:100%}}.onboarding{--arcgis-information-min-width:0}.onboarding__scroll{overflow:auto;max-height:min(700px, 60vh)}.onboarding__section{padding-bottom:1rem;padding-top:0.5rem;width:255px}.onboarding__title{margin:0px;padding-top:0px;font-size:0.875rem;color:var(--calcite-color-text-1);font-weight:600}.onboarding__description{margin-top:0.5rem;margin-bottom:0.75rem;font-size:0.75rem;color:var(--calcite-color-text-1)}.modal--grey{--calcite-modal-content-padding:0;--calcite-modal-content-background:var(--calcite-color-background)}"},88703:(t,e,i)=>{i.d(e,{a:()=>c,b:()=>g,c:()=>n,d:()=>o,e:()=>s,f:()=>d,g:()=>u,i:()=>a,m:()=>r,t:()=>l,u:()=>h});const o=(t,e)=>{let i,o="idle";const n=(...n)=>new Promise((s=>{switch(o){case"flushed":o="idle",i?(clearTimeout(i),s(t(...n))):s(null);break;case"invoked":clearTimeout(i),o="idle",s(t(...n));break;case"cancelled":clearTimeout(i),o="idle",s(null);break;default:i&&clearTimeout(i),o="pending",i=setTimeout((()=>(o="idle",s(t(...n)))),e)}}));return n.flush=function(...t){return o="flushed",n(...t)},n.invoke=function(...t){return o="invoked",n(...t)},n.cancel=function(...t){return o="cancelled",n(...t)},n.getStatus=function(){return o},n},n=(t,e)=>{let i;return(...o)=>new Promise((n=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,n(t(...o))}),e))}))};function s(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(t){return null!=t}async function r(t,e){return await Promise.all([t,l(e)]),t}function l(t){return new Promise((e=>setTimeout(e,t)))}const c=(t,e)=>Object.fromEntries((t||[]).map((t=>{const{key:i,data:o}=e(t);return[i,o]}))),d=(t,e)=>t.length===e.length&&t.reduce(((t,i)=>t&&e.indexOf(i)>-1),!0);function h(t,e){const i=[],o={};return t.forEach((t=>{const n=e(t);null==o[n]&&(o[n]=t,i.push(t))})),i}function g(t){const e={boolean:{},number:{},string:{}},i=[];return t.filter((t=>{let o=typeof t;return o in e?!e[o].hasOwnProperty(t)&&(e[o][t]=!0):!(i.indexOf(t)>=0)&&i.push(t)}))}const u=(t,e)=>[...Array(Math.ceil(t.length/e))].map(((i,o)=>t.slice(e*o,e+e*o)))},23505:(t,e,i)=>{i.d(e,{c:()=>r});var o=i(35110);const n=t=>!("isConnected"in t)||t.isConnected,s=((t,e)=>{let i;return(...t)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,(t=>{for(let e of t.keys())t.set(e,t.get(e).filter(n))})(...t)}),2e3)}})(),a=t=>"function"==typeof t?t():t,r=(t,e)=>{const i=((t,e=((t,e)=>t!==e))=>{const i=a(t);let o=new Map(Object.entries(null!=i?i:{}));const n={dispose:[],get:[],set:[],reset:[]},s=()=>{var e;o=new Map(Object.entries(null!==(e=a(t))&&void 0!==e?e:{})),n.reset.forEach((t=>t()))},r=t=>(n.get.forEach((e=>e(t))),o.get(t)),l=(t,i)=>{const s=o.get(t);e(i,s,t)&&(o.set(t,i),n.set.forEach((e=>e(t,i,s))))},c="undefined"==typeof Proxy?{}:new Proxy(i,{get:(t,e)=>r(e),ownKeys:t=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>o.has(e),set:(t,e,i)=>(l(e,i),!0)}),d=(t,e)=>(n[t].push(e),()=>{((t,e)=>{const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.length--)})(n[t],e)});return{state:c,get:r,set:l,on:d,onChange:(e,i)=>{const o=d("set",((t,o)=>{t===e&&i(o)})),n=d("reset",(()=>i(a(t)[e])));return()=>{o(),n()}},use:(...t)=>{const e=t.reduce(((t,e)=>(e.set&&t.push(d("set",e.set)),e.get&&t.push(d("get",e.get)),e.reset&&t.push(d("reset",e.reset)),e.dispose&&t.push(d("dispose",e.dispose)),t)),[]);return()=>e.forEach((t=>t()))},dispose:()=>{n.dispose.forEach((t=>t())),s()},reset:s,forceUpdate:t=>{const e=o.get(t);n.set.forEach((i=>i(t,e,e)))}}})(t,e);return i.use((()=>{if("function"!=typeof o.g)return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const i=(0,o.g)();i&&((t,e,i)=>{const o=t.get(e);o?o.includes(i)||o.push(i):t.set(e,[i])})(t,e,i)},set:e=>{const i=t.get(e);i&&t.set(e,i.filter(o.f)),s(t)},reset:()=>{t.forEach((t=>t.forEach(o.f))),s(t)}}})()),i}},7803:(t,e,i)=>{i.d(e,{w:()=>o});const o=(0,i(23505).c)({portal:null,user:null,i18n:null,scale:"m",api:4,nextText:null,uploadProgress:0}).state}}]);