"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-c735ac"],{59498:(t,e,n)=>{n.d(e,{D:()=>o,S:()=>i,a:()=>l,b:()=>c,f:()=>h,g:()=>u});const i={Arabic:"ar",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Hindi:"hi",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},r=["ar","de","es","fr","it","ja","ko","ru","pl","pt-br","zh-cn"],a={"ar-BH":"ar","en-AU":"en","en-CA":"en","en-GB":"en","en-US":"en","es-ES":"es","es-MX":"es","de-CH":"de","de-AT":"de","de-DE":"de","fr-CA":"fr","fr-CH":"fr","fr-FR":"fr","it-CH":"it","it-IT":"it",ind:"id",ukr:"uk"},s=[i.Arabic,i.Hebrew],o=i.English;function l(t){return!0===t?"rtl":"ltr"}function u(t=document.documentElement){const e=("[lang]",function t(e){let n;return n=void 0===e||e===document||e===window?null:e.closest("[lang]")||t(e.getRootNode().host),n}(t));const n=e?.lang??window.navigator.language,r=Object.values(i),l=o,u=function(t,e){const n=o;let i=t?.toLowerCase();if(void 0!==i&&-1!==i.indexOf("-")){const[t,e]=i.split("-");i=`${t}-${e.toUpperCase()}`}return i?!0===Object.keys(a).includes(i)?e[i]:i:n}(n,a);return{locale:r.includes(u)?u:l,rtl:s.includes(n)}}async function c(t,e){const n=t.tagName.toLowerCase(),{locale:i,rtl:r}=u(t),a=await async function(t){const{path:e,locale:n,baseURL:i}=t;let r={};try{const t=await fetch(`${i}t9n/${e}.t9n.${n}.json`);r=await t.json()}catch(t){const n=await fetch(`${i}t9n/${e}.t9n.${o}.json`);r=await n.json()}return r}({path:n,locale:i,baseURL:e});return{strings:a,dir:l(r),locale:i}}function h(t,e,n="en"){let i=n;!0===Object.keys(a).includes(n)&&(i=a[n]);const s=i.toLocaleLowerCase();return!0===r.includes(s)&&(e=e.replace(/^https?:\/\/[^/]+\/en/,(t=>t.replace("en",s)))),`${e}analyze/${t}`}},31633:(t,e,n)=>{n.r(e),n.d(e,{rfx_cte_gamma_editor:()=>d});var i=n(14947),r=n(59498),a=(n(34319),n(92123)),s=n(90949),o=(n(46574),n(46717),n(55139),n(57098),n(74656),n(91123),n(78979),n(46869),n(83345),n(99248),n(16888),n(95323),n(43278),n(60));n(86944);const l=1;function u(t){if(t<=0||t>=255)return l;let e=0;150!==t&&(e=t<=150?45*Math.cos(.01047*t):17*Math.sin(.021*t));const n=t+e,i=Math.log(t/255),r=Math.log(n/255);if(0===r)return l;const a=i/r;return isNaN(a)?l:Math.min(9.9,Math.max(.01,a))}function c(t){const e=t.rasterInfo,n=e?.statistics,i=e?.pixelType;if(0===n?.length||!i)return;const r=function(t,e,n){const i=[];for(let n=0;n<e.length;n++){let r=0,a=0,s=0;"min"in e[n]?({min:r,max:a,avg:s}=e[n]):[r,a,s]=e[n];let o=s;"u8"!==t&&(o=255*(o-r)/(a-r)),i.push(u(o))}return i}(i,n);return r}const h="inputArgHelpClickHandler",d=class{constructor(t){(0,i.r)(this,t),this.rfxArgumentChange=(0,i.c)(this,"rfxArgumentChange",7),this.defaultMin=-1,this.defaultMax=10,this.bandCount=1,this.defaultValue=1,this.helpActionClickEventHandlers=new Map,this.handleSliderChange=(t,e)=>{const n=t.target.value;this.value[e]=n,this.rfxArgumentChange.emit({value:this.value})},this.value=void 0,this.widgetArgs=void 0}connectedCallback(){this.processWidgetArgs()}async componentWillLoad(){({strings:this.strings,dir:this.direction}=await(0,r.b)(this.hostElement,(0,i.g)("."))),this.setInitialState()}componentDidLoad(){this.attachHelpClickEventHandlers()}processWidgetArgs(){Object.keys(this.widgetArgs.inputArgs).forEach((t=>{const e=this.widgetArgs.inputArgs[t];this.inputArg=e,e.input=this.hostElement}));const{triggerArgs:t}=this.widgetArgs,e=t?.Raster;void 0===e&&console.error("Invalid Schema: Raster is not passed in TriggerArgs"),this.rasterArg=e,e?.input?.addEventListener("rfxArgumentChange",(()=>{this.handleRasterChange()}))}async setInitialState(){const t=this.inputArg.value;!0!==(0,a.m)(t)&&(this.value=t);const e=this.rasterArg?.input;if((0,a.m)(e?.value))return void(this.value=[]);const n=await(e?.getSelectedLayer?.()),i=n?.rasterInfo;this.bandCount=i?.bandCount,this.value=c(n)}attachHelpClickEventHandlers(){const t=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.inputArg?.helpTextID});this.helpActionClickEventHandlers.set(h,t)}async handleRasterChange(){const t=this.rasterArg?.input,e=await(t?.getSelectedLayer?.()),n=e?.rasterInfo;this.bandCount=n.bandCount,this.value=c(e)}render(){const t=this.bandCount,e=this.value;return(0,i.h)("div",null,(0,i.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default",ref:t=>{this.widgetContainer=t}},(0,i.h)("rfx-label",{label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(h)()}),Array.from({length:t}).map(((t,n)=>(0,i.h)("rfx-dtex-arg-slider",{min:this.defaultMin,max:this.defaultMax,value:(0,o.f)(e?.[n]??this.defaultValue,3),step:.01,onRfxArgumentChange:t=>{this.handleSliderChange(t,n)}})))))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,i.a)(this)}};n(25829)},60:(t,e,n)=>{n.d(e,{a:()=>u,f:()=>l,i:()=>a,p:()=>o,s:()=>s});var i=n(59498),r=n(92123);function a(t){return null!=t&&!1===Number.isNaN(t)&&!0===Number.isFinite(t)}function s(t,e){let n;if(null!==t){const i="string"==typeof t?Number.parseFloat(t):t;a(i)?n=i:a(e)&&(n=e)}return void 0===n?"":`${n}`}function o(t){if(""!==t)return Number.parseFloat(t)}function l(t,e=3){if(!(0,r.m)(t))return Number.parseFloat(t.toFixed(e))}function u(t,e){let n="";if(!(0,r.m)(t)&&!Number.isNaN(t)){const r=(0,i.g)().locale;n=Intl.NumberFormat(r,e).format(Number(t))}return n}},92123:(t,e,n)=>{n.d(e,{A:()=>c,C:()=>f,D:()=>d,F:()=>h,R:()=>o,T:()=>l,a:()=>u,b:()=>p,c:()=>m,e:()=>b,f:()=>C,g:()=>v,i:()=>g,k:()=>y,l:()=>w,m:()=>x});var i=n(25829),r="[object Map]",a="[object Set]",s=Object.prototype.hasOwnProperty;const o="RasterFunctionTemplate",l="type",u="RasterFunctionVariable",c="arguments",h="function",d="distanceLegacy",f={MIN_VALUE:"minValue",MAX_VALUE:"maxValue",LESS_THAN:"lessThan",GREATER_THAN:"greaterThan"};function g(t){return!!t&&null!=t._object_ref_id}function p(t){return""!==(t=String(t).trim())&&/^[+-]?(\d+)?(\.\d+)?$/.test(t)}function m(t){return t=String(t).trim(),["true","false"].indexOf(t)>=0}function b(t){return t.type&&t.type.toLowerCase().indexOf("recordset")>=0}function C(t){if(!t)return!1;const e=t.type;return[o,u].indexOf(e)>=0||!(!(n=t)||!(n.type&&n.type.toLowerCase().indexOf("colorramp")>=0||n.value&&n.value.type&&n.value.type.toLowerCase().indexOf("colorramp")>=0))||b(t);var n}function v(t){return"feature"===t.type}function A(t){return"imagery-tile"===t.type&&t.sourceJSON.capabilities.toLowerCase().indexOf("tilesonly")<0}function y(t){return"imagery"===t.type||A(t)}function w(t){return"imagery-tile"===t.type&&!A(t)}function x(t){return null==t||"string"==typeof t&&""===t||(0,i.h)(t)&&function(t){if(null==t)return!0;if((0,i.i)(t)&&((0,i.a)(t)||"string"==typeof t||"function"==typeof t.splice||(0,i.b)(t)||(0,i.c)(t)||(0,i.d)(t)))return!t.length;var e=(0,i.g)(t);if(e==r||e==a)return!t.size;if((0,i.e)(t))return!(0,i.f)(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}(t)||Array.isArray(t)&&t.length<1||"object"==typeof t&&!1===(0,i.a)(t)&&function(t){let e=!0;if("object"==typeof t&&!1===(0,i.a)(t))for(const n in t){const i=t?.[n];if(!0===t.hasOwnProperty(n)&&null!=i&&""!==i){e=!1;break}}return e}(t)}},90949:(t,e,n)=>{n.d(e,{C:()=>r,U:()=>i,a:()=>a});const i={Scale:"s",PopoverTimer:60},r={s:"s",m:"m",l:"l"},a={absolute:"absolute",fixed:"fixed"}}}]);