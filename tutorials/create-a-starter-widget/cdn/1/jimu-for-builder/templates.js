System.register(["jimu-core"],(function(e,t){var n={};return{setters:[function(e){n.appActions=e.appActions,n.getAppStore=e.getAppStore,n.i18n=e.i18n,n.moduleLoader=e.moduleLoader,n.portalUrlUtils=e.portalUrlUtils,n.translatedLocales=e.translatedLocales}],execute:function(){e((()=>{"use strict";var e={9244:e=>{e.exports=n}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{TemplateType:()=>i,getAnchoredWindowTemplates:()=>v,getAppTemplates:()=>p,getBlockTemplates:()=>y,getFixedModalWindowTemplates:()=>m,getFixedNonModalWindowTemplates:()=>h,getFooterTemplates:()=>T,getFullScreenGridPageTemplates:()=>f,getFullScreenPageTemplates:()=>d,getGridTemplates:()=>w,getHeaderTemplates:()=>b,getScreenGroupTemplates:()=>L,getScreenTemplates:()=>x,getScrollingPageTemplates:()=>g,getTemplateConfig:()=>A,getWindowTemplates:()=>S,init:()=>u,loadI18nMessage:()=>P});var i,l=r(9244);!function(e){e.Block="block",e.Grid="grid-widget",e.Header="header",e.Footer="footer",e.FullScreenPage="full-screen-page",e.FullScreenGridPage="full-screen-grid-page",e.ScrollingPage="scrolling-page",e.Window="window",e.ScreenGroup="screen-group",e.Screen="screen",e.App="app"}(i||(i={}));var a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function l(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((r=r.apply(e,t||[])).next())}))};let c=null,s={};function u(){return a(this,void 0,void 0,(function*(){return yield P(),yield function(){if(c)return c;const e=(0,l.getAppStore)().getState().appContext.translatedLocale,t=l.moduleLoader.resolveModuleFullPath("templates/");return c=fetch(`${t}templates-info.json`).then((e=>e.json())).then((n=>(s=n,Object.keys(s).forEach((n=>{s[n]=s[n].filter((e=>{const t=(0,l.getAppStore)().getState().portalUrl;return!l.portalUrlUtils.isAGOLDomain(t)||!e.notSupportAGOL})),s[n].forEach((n=>{const r=`${t}${n.type}/${n.name}`;n.label=n.i18nLabel[e]||n.label||n.name,n.description=n.i18nDescription[e]||n.description||"",n.thumbnail=`${r}/${n.thumbnail}`,n.gifThumbnail&&(n.gifThumbnail=`${r}/${n.gifThumbnail}`),n.configUrl=`${r}/config.json`}))})),s))),c}()}))}function p(e){const t=s.app||[];if(!e||0===(null==e?void 0:e.length))return t;return t.filter((t=>{const n=(null==t?void 0:t.tags)||[];return e.filter((e=>n.includes(e))).length>0}))}function d(e=!0){const t=s["full-screen-page"]||[];return e?t:t.filter((e=>!e.name.startsWith("blank")))}function f(e=!0){const t=s["full-screen-grid-page"]||[];return e?t:t.filter((e=>!e.name.startsWith("blank")))}function g(e=!0){const t=s["scrolling-page"]||[];return e?t:t.filter((e=>!e.name.startsWith("blank")))}function m(e=!0){const t=s["fixed-modal-window"]||[];return e?t:t.filter((e=>!e.name.startsWith("blank")))}function h(){return s["fixed-non-modal-window"]||[]}function v(){return s["anchored-window"]||[]}function S(e=!0){return m(e).concat(h()).concat(v())}function b(){return s.header||[]}function T(){return s.footer||[]}function y(){return s.block||[]}function w(){return s["grid-widget"]||[]}function L(){return s["screen-group"]||[]}function x(){return s.screen||[]}function A(e,t){return a(this,void 0,void 0,(function*(){return yield fetch(`../templates/${e}/${t}/config.json`).then((e=>a(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>e))}))}function P(){return a(this,void 0,void 0,(function*(){const e=(0,l.getAppStore)().getState().appContext.locale;return yield function(e,t){return a(this,void 0,void 0,(function*(){if(e=l.i18n.getLocaleToLoad(e,t)){const t=l.moduleLoader.resolveModuleFullPath("templates/");return yield l.i18n.loadLocaleMessages(`${t}/translations`,e).then((e=>e))}return Promise.resolve({})}))}(e,l.translatedLocales).then((e=>(e&&(0,l.getAppStore)().dispatch(l.appActions.i18nMessagesLoaded("templates",e)),l.i18n.resetIntls(),e)))}))}return o})())}}}));