/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-noteboo-60aa31.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-noteboo-60aa31"],{82669:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>s,c:()=>r,d:()=>i});const i=(0,n(23505).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),o=i.state,r=i.state,s=i.state},49853:(e,t,n)=>{n.r(t),n.d(t,{arcgis_notebook_runtime_select:()=>h});var i=n(35110),o=n(1984),r=n(82669),s=n(56086),l=n(46710),a=n(66913),c=n(91659);function u(e){return{10.7:"1.0","10.7.0":"1.0","10.7.1":"2.0",10.8:"3.0","10.8.0":"3.0","10.8.1":"4.0"}[e]||e}function d(){const{user:e}=l.c;return function(){var e,t,n,i,o;const{config:r,portal:s}=l.c;if(s.isPortal)return!(!r.notebookServerEnabled||!s.supportsHostedNotebooks&&!(null===(e=s.sourceJSON)||void 0===e?void 0:e.supportsHostedNotebooks));{const e=-1!==["Trial Developer","Trial","Trial Press","Developer Subscription"].indexOf((null===(t=s.subscriptionInfo)||void 0===t?void 0:t.type)||(null===(i=null===(n=s.sourceJSON)||void 0===n?void 0:n.subscriptionInfo)||void 0===i?void 0:i.type));return r.notebookServerEnabled&&(!e||-1!==(s.allowedBetaFeatures||(null===(o=s.sourceJSON)||void 0===o?void 0:o.allowedBetaFeatures)||[]).indexOf("notebooks"))}}()&&(0,c.E)(e)}n(63280),n(86587),n(21104),n(73838),n(23505),n(70392);const h=class{constructor(e){(0,i.r)(this,e),this.handleRuntimeChange=e=>{const t=e.currentTarget.selectedOption.value,n=parseInt(t,10)||0;this.selectedRuntimeIndex=n,this.updateProperties(this.runtimes[n])},this.i18n=void 0,this.runtimes=void 0,this.loading=!0,this.error=!1,this.selectedRuntimeIndex=0}async componentWillLoad(){const e=await(0,o.g)(this.el);this.i18n=e[0]}async componentDidLoad(){try{if(!d())return;const e=await async function(){var e;const t=await async function(){const{config:e,portal:t,user:n}=l.c;return new Promise((async(i,o)=>{var r,l;if(t.isPortal){const e=await(0,s.b)(n,t);if(null==e?void 0:e.length){const t=e.filter((({serverType:e,serverFunction:t})=>"ARCGIS_NOTEBOOK_SERVER"===e&&"NotebookServer"===t));if(t.length)return i(t[0].url);o()}}else{const t=await(0,a.r)(`${e.restBaseUrl}/portals/self/urls`),n=null===(l=null===(r=null==t?void 0:t.urls)||void 0===r?void 0:r.notebooks)||void 0===l?void 0:l.https;if(n)return i(`https://${n}`);o()}}))}(),n=await async function(e){return(await(0,a.r)(`${e}/rest/info`,{},{})).currentRuntimeVersion}(t),i=await function(e){return(0,a.r)(`${e}/admin/notebooks/runtimes`,{},{})}(t);return(null===(e=null==i?void 0:i.runtimes)||void 0===e?void 0:e.length)?function(e=[],t){const{user:n}=l.c,i=(0,c.F)(n);return e.sort(((e,t)=>e.esriProvidedRuntime===t.esriProvidedRuntime?0:e.esriProvidedRuntime?-1:1)).filter((e=>!(!i&&e.requiresAdvancedPrivileges||u(t)!==u(e.version)&&e.esriProvidedRuntime)))}(i.runtimes,n):null}();if(this.runtimes=e,!e||!e.length)throw new Error;this.updateProperties(e[0])}catch(e){this.error=!0}this.loading=!1}updateProperties(e){r.a.properties={notebookRuntimeName:e.name,notebookRuntimeVersion:u(e.version)}}render(){const{i18n:e,selectedRuntimeIndex:t}=this;return d()?(0,i.h)("calcite-label",null,(0,i.h)("span",{class:"label"},e.selectRuntime),(0,i.h)("calcite-notice",{icon:!0,open:this.error,scale:"s",kind:"danger"},(0,i.h)("div",{slot:"title"},e.error.title),(0,i.h)("div",{slot:"message"},e.error.runtimes)),this.loading?(0,i.h)("span",null,(0,i.h)("calcite-loader",{class:"loader",inline:!0,label:e.loadingRuntimes})," ",e.loadingRuntimes):!this.error&&(0,i.h)("calcite-select",{label:e.selectRuntime,onCalciteSelectChange:this.handleRuntimeChange},this.runtimes.map(((e,n)=>(0,i.h)("calcite-option",{value:n,selected:t===n},e.name," - ",e.version))))):null}get el(){return(0,i.d)(this)}};h.style=":host{--arcgis-label-font-weight:400}.label{margin-top:0px;margin-bottom:0px;font-weight:var(--arcgis-label-font-weight)}.label--bold{--arcgis-label-font-weight:500}.loader{color:var(--calcite-color-brand)}.leader-text{font-size:0.875rem;color:var(--calcite-color-text-1)}"}}]);