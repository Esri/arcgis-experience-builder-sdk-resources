/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c0311a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c0311a"],{73838:(e,t,r)=>{r.d(t,{a:()=>a,c:()=>i,g:()=>n});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}},77257:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_from_scratch:()=>f});var a=r(35110),n=r(46710),i=r(88703),o=r(15059),l=r(91306),s=r(84873),c=r(53040),d=r(73208),u=r(28709),p=r(92848);r(23505),r(70392),r(35105),r(66913),r(21104),r(73838),r(16082),r(67148),r(56086),r(79233),r(64307),r(76743),r(63280),r(9657),r(12856),r(91659),r(82669),r(17752);const f=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.layerNameInputRefs={},this.nameFieldChangedByUser={},this.getDuplicateLayerNameId=()=>{const{layerInfos:e}=this,t={};for(let r=0;r<e.length;r++){const{name:a,id:n}=e[r];if(t[a])return n;t[a]=!0}return null},this.getDefaultName=e=>{const{layerInfos:t}=this,r=t.reduce(((t,r)=>{const a=(n=r.name,parseInt(n.split("_")[1]));var n;return!r.name.startsWith(e)||isNaN(a)?t:t<=a?a+1:t}),1);return`${e}_${r}`},this.addLayer=()=>{const{i18n:e,layerInfos:t,getDefaultName:r,layerNameInputRefs:a}=this,n=e.layer,l=(0,o.g)(),s=r(n);this.layerInfos=[...t,{id:l,type:"point",name:s}],(0,i.t)(100).then((()=>{var e;null===(e=a[l])||void 0===e||e.setFocus()}))},this.deleteLayer=(e,t)=>{const{layerNameInputRefs:r,layerInfos:a,nameFieldChangedByUser:n}=this;1!==a.length&&(this.layerInfos=function(e,t){const r=[...e];return r.splice(t,1),r}(a,t),delete r[e],delete n[e])},this.changeLayerName=(e,t)=>{const{layerInfos:r,nameFieldChangedByUser:a}=this,n=r[e];n.name=t,a[n.id]=!0},this.changeLayerType=(e,t,r)=>{const{layerInfos:a,nameFieldChangedByUser:n,i18n:i,getDefaultName:o}=this,l=Object.assign({},a[e]);n[l.id]||("table"===t&&"table"!==r?l.name=o(i.layer):"table"!==t&&"table"===r&&(l.name=o(i.table))),l.type=r,this.layerInfos=[...a.slice(0,e),l,...a.slice(e+1)]},this.setAlertMessage=e=>{this.alertInfo=this.i18n.error[e]},this.alertInfo=void 0,this.layerInfos=[],this.layerPreference={captureGPS:!1,enableZDefaults:!1,enableMDefaults:!1}}async componentWillLoad(){this.addCreateI18n=s.u.i18n,this.i18n=this.addCreateI18n.featureLayerFromScratch;const{layerPreference:e,newLayerInfos:t}=(0,d.a)();this.layerPreference=e,t.length<=0?this.addLayer():this.layerInfos=[...t]}async handleNext(){var e,t,r;const{layerInfos:a,layerNameInputRefs:i,setAlertMessage:o,getDuplicateLayerNameId:s,newItemUpdatePage:c,layerPreference:p}=this,{portal:f}=n.c,y=null===(e=a.find((e=>!e.name.trim())))||void 0===e?void 0:e.id;if(y)return(0,u.f)("Missing layer name"),null===(t=i[y])||void 0===t||t.setFocus(),void o("emptyName");const m=s();if(m)return(0,u.f)("Layer names must be unique"),null===(r=i[m])||void 0===r||r.setFocus(),void o("duplicateTitle");1===this.layerInfos.length&&(l.i.title=this.layerInfos[0].name),(0,d.b)(this.layerInfos,p,f),c.emit("itemProperties")}render(){const{i18n:e,alertInfo:t,addCreateI18n:r,addLayer:n,layerInfos:i,layerNameInputRefs:o,deleteLayer:l,layerPreference:s,changeLayerName:d,changeLayerType:f}=this;return(0,a.h)(a.H,null,(0,a.h)("arcgis-new-item-description",{header:e.header}),(0,a.h)("div",{class:"add-new-container"},(0,a.h)("div",{class:"layer-container"},i.map((({id:e,name:t,type:n},s)=>{const u=i[s];return(0,a.h)("li",{class:"info-card",key:e,value:e},(0,a.h)("calcite-input",{value:t,class:"layer-name-input",placeholder:r.featureLayer.placeholders[n],onCalciteInputInput:e=>{const t=e.target;d(s,t.value)},ref:t=>o[e]=t}),(0,a.h)("calcite-combobox",{label:r.featureLayer.type[u.type],class:"layer-type",selectionMode:"single",clearDisabled:!0,onCalciteComboboxChange:e=>{const t=e.target;f(s,u.type,t.selectedItems[0].value)}},c.f.filter((e=>"multipatch"!==e)).map((e=>(0,a.h)("calcite-combobox-item",{textLabel:r.featureLayer.type[e],icon:p.a[e],selected:u.type===e,value:e})))),i.length>1&&(0,a.h)("calcite-button",{appearance:"transparent",kind:"danger",scale:"m",href:"","icon-start":"trash",onClick:()=>l(e,s)}))}))),(0,a.h)("calcite-button",{appearance:"transparent",scale:"m","icon-start":"plus",class:"add-layer",onClick:n},e.add)),(0,a.h)("arcgis-new-item-layer-preference",{i18n:e,defaultPreference:s,onLayerPreferenceChange:e=>{const{layerPreference:t}=this,r=e.detail;!t.captureGPS&&r.captureGPS&&(0,u.e)("captureGPS"),!t.enableZDefaults&&r.enableZDefaults&&(0,u.e)("enableZDefaults"),!t.enableMDefaults&&r.enableMDefaults&&(0,u.e)("enableMDefaults"),this.layerPreference=e.detail}}),(0,a.h)("arcgis-new-item-alert",{heading:null==t?void 0:t.title,description:null==t?void 0:t.description,active:!!t,onAlertDismiss:()=>this.alertInfo=null}))}get el(){return(0,a.d)(this)}};f.style="p{margin-top:0px;margin-bottom:0px}button{cursor:pointer;transition-duration:200ms;border:none;box-shadow:none;background:transparent;line-height:16px}label{margin-bottom:0px}.add-new-container{margin-top:1rem;margin-bottom:1.5rem;padding:1.5rem;padding-bottom:2.5rem;background-color:var(--calcite-color-background)}.add-layer{margin-top:1rem;width:-moz-fit-content;width:fit-content}.info-card{--calcite-font-size--2:0.875rem;display:flex;flex-grow:1;align-items:center;border-width:1px;border-style:solid;background-color:var(--calcite-color-foreground-1);border-color:var(--calcite-color-border-1);padding:1rem}.info-card:not(:last-of-type){border-bottom-width:0px}.info-card:first-child{border-top-left-radius:var(--calcite-border-radius);border-top-right-radius:var(--calcite-border-radius)}.info-card:last-child{border-bottom-right-radius:var(--calcite-border-radius);border-bottom-left-radius:var(--calcite-border-radius)}.layer-icon{margin-inline-end:1rem}.layer-name-input,.layer-type{flex-grow:1;margin-inline-end:1rem;flex-basis:100%}.layer-type:last-child{margin-inline-end:0px}"},28709:(e,t,r)=>{r.d(t,{a:()=>p,b:()=>d,c:()=>u,e:()=>s,f:()=>f,i:()=>c});var a=r(46710),n=r(82669);const i="create feature layer",o="my content",l=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},s=e=>{const t=a.c.telemetry;null==t||t.stepWorkflow(i,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:i,attribute:l(n.a.addFeatureLayerType),pageName:o})},c=e=>{const t=a.c.telemetry;null==t||t.stepWorkflow(i,`expand ${e} details`,{category:i,attribute:l(n.a.addFeatureLayerType),pageName:o})},d=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(i,"filter",{category:i,attribute:l(n.a.addFeatureLayerType),pageName:o})},u=e=>{const t=l(e),r=a.c.telemetry;null==r||r.stepWorkflow(i,"from option",{category:i,attribute:t,pageName:o})},p=()=>{const{addFeatureLayerType:e,serviceInfo:t}=n.a,r=t,s=a.c.telemetry;null==s||s.endWorkflow(i,{category:i,attribute:l(e),pageName:o,count:r.layers.length,number:r.tables.length})},f=e=>{var t;null===(t=a.c.telemetry)||void 0===t||t.logError({category:i,error:e})}},21104:(e,t,r)=>{r.d(t,{l:()=>i});var a=r(73838),n=(0,a.c)((function(e,t){a.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function n(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function o(e){return!e||n(e)?function(e){void 0===e&&(e=r);var t=i(e),o=n(e);if(o!==a&&3===o.major){var l=o.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function l(e,t){var r=o(e),a=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return a||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(a=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),a}var s={};function c(e,t,r){var a;r&&(a=function(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",n,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var r={};[s,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,n=r.url||i(a);return new t.Promise((function(e,t){var i=d();if(i){var o=i.getAttribute("src");o!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):u()?e(i):c(i,e,t)}else if(u())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=r.css;s&&l(!0===s?a:s,r.insertCssBefore),c(i=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(n),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function f(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),u())return f(e);var r=d(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),p(t).then((function(){return f(e)}))},e.getScript=d,e.isLoaded=u,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),s=e},e.loadCss=l,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const i=async(e,t)=>(await n.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},92848:(e,t,r)=>{r.d(t,{a:()=>a,e:()=>n,f:()=>i});const a={point:"point",line:"line",polygon:"polygon",multipatch:"cube",table:"table",multipoint:"layer-points"},n={esriGeometryPoint:"point",esriGeometryPolyline:"line",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"cube",esriGeometryMultipoint:"point",none:"table"},i={esriFieldTypeOID:"key",esriFieldTypeBoolean:"boolean",esriFieldTypeString:"string",esriFieldTypeSingle:"number",esriFieldTypeDouble:"number",esriFieldTypeInteger:"integer",esriFieldTypeSmallInteger:"integer",esriFieldTypeGlobalID:"key",esriFieldTypeDate:"date-time",esriFieldTypeBigInteger:"integer",esriFieldTypeDateOnly:"calendar",esriFieldTypeTimeOnly:"clock",esriFieldTypeTimestampOffset:"time-zone"}}}]);