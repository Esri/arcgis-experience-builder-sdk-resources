/*! For license information please see ba-infographic_node_modules_arcgis_business-analyst-components_dis-2cd253.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-2cd253"],{40571:(t,e,i)=>{i.r(e),i.d(e,{ba_accordion:()=>u,calcite_dropdown:()=>m,calcite_dropdown_group:()=>f,calcite_dropdown_item:()=>g});var n=i(30396),o=i(41520),s=i(68695),r=i(19296),a=i(31964),c=i(32544),l=i(56758),d=i(77041),h=i(60131),p=i(29340);const u=class{constructor(t){(0,n.r)(this,t),this.accordionOpened=(0,n.c)(this,"accordionOpened",7),this.accordionWillOpen=(0,n.c)(this,"accordionWillOpen",7),this.accordionItemClicked=(0,n.c)(this,"accordionItemClicked",7),this.accordionItemsChecked=(0,n.c)(this,"accordionItemsChecked",7),this.debugContent=[],this.ignoreClick=0,this._idPrefix="ba-accordion-",this._idItemPrefix="ba-item-",this._idIconPrefix="ba-accordion-icon-",this._idContentPrefix="ba-content-",this._isReport=!1,this._dbg=!1,this.hideOnEmpty="true",this.displayCount=!0,this.isOpen=!1,this.contentInline="true",this.stSourceCountry="US",this.toggleCheckState=(t,e)=>{if(t&&t.length>0&&e)for(let i=0;i<t.length;i++)if(t[i].id===e){const e=t[i].isChecked;return t[i].isChecked=!e,!e}return!1},this.onCheckAllChanged=t=>{const e=this,i=t.srcElement?.checked,n=!i;setTimeout((function(){e.notifyCheckedItems(n)}),0)},this.langCode="en-us",this.sourceCountry="US"}onDefaultReportChanged(){if(o.a.Log("ACCORDION updating defaultReport",this.defaultReport),"string"==typeof this.defaultReport){if(this.defaultReport&&o.A.hasText(this.defaultReport)){const t=JSON.parse(this.defaultReport);t&&t.id&&t.name?this.stDefaultReport=t:this.stDefaultReport=void 0}}else void 0===this.defaultReport?this.stDefaultReport=void 0:this.defaultReport?.id&&this.defaultReport?.name&&o.A.hasText(this.defaultReport?.id)&&o.A.hasText(this.defaultReport?.name)?this.stDefaultReport=this.defaultReport:this.stDefaultReport=void 0}async setDefaultReport(t){o.a.Log("ACCORDION setDefaultReport",t),t&&t.id&&o.A.hasText(t.id)&&t.name&&o.A.hasText(t.name)?this.stDefaultReport=t:this.stDefaultReport=void 0}async setSelectedId(t){this.selectedId=t,this.stSelectedId=t}onSourceCountryChanged(){this.stSourceCountry=this.sourceCountry}onIsOpenChanged(){this.stIsOpen=this.isOpen,this.stIsOpen&&this.showContent()}onSugliteChanged(){this.stSuglite=!1,void 0!==typeof this.suglite&&"true"===this.suglite&&(this.stSuglite=!0)}onContentChanged(){try{this.content&&o.A.hasText(this.content)&&(this.stContent=JSON.parse(this.content))}catch(t){o.a.Error("ba-accordion content error",t)}}onAccordionTextChanged(){this.stDisplayName=this.displayname}onSelectedIdChanged(){this.stSelectedId=this.selectedId}onGroupIdChanged(){this.stGroupId=this.groupid}onContentInlineChanged(){this.stContentInline="true"==this.contentInline}accordionCheckboxChanged(){this.stShowCheckboxes=this.showCheckboxes}accordionOpenedEventHandler(t){let e=t.detail.groupid,i=t.detail.instanceId;null!=i&&i!=this._instanceId&&null!=e&&(!this.stGroupId&&this.groupid&&(this.stGroupId=this.groupid),this.stGroupId&&this.stGroupId==e&&this.closeAccordion(null))}async openAccordion(){}async setShowCheckbox(t){this.stShowCheckboxes=t}async setColorTheme(t){if(t&&o.A.hasText(t)&&this.el){this.stColorTheme=t.trim().toLowerCase();const e=t.trim().toLowerCase();"light"===e?(this.el.style.setProperty("--calcite-color-brand","#007ac2"),this.el.style.setProperty("--calcite-color-brand-hover","#00619b"),this.el.style.setProperty("--calcite-color-brand-press","#004874"),this.el.style.setProperty("--calcite-color-background","#f8f8f8"),this.el.style.setProperty("--calcite-color-foreground-1","#ffffff"),this.el.style.setProperty("--calcite-color-foreground-2","#f3f3f3"),this.el.style.setProperty("--calcite-color-foreground-3","#eaeaea"),this.el.style.setProperty("--calcite-color-text-1","#151515"),this.el.style.setProperty("--calcite-color-text-2","#4a4a4a"),this.el.style.setProperty("--calcite-color-text-3","#6a6a6a"),this.el.style.setProperty("--calcite-color-text-inverse","#ffffff"),this.el.style.setProperty("--calcite-color-text-link","#00619b"),this.el.style.setProperty("--calcite-color-border-1","#cacaca"),this.el.style.setProperty("--calcite-color-border-2","#d4d4d4"),this.el.style.setProperty("--calcite-color-border-3","#dfdfdf"),this.el.style.setProperty("--calcite-color-border-input","#949494"),this.el.style.setProperty("--calcite-color-info","#00619b"),this.el.style.setProperty("--calcite-color-success","#35ac46")):"dark"===e&&(this.el.style.setProperty("--calcite-color-brand","#009af2"),this.el.style.setProperty("--calcite-color-brand-hover","#007ac2"),this.el.style.setProperty("--calcite-color-brand-press","#00619b"),this.el.style.setProperty("--calcite-color-background","#353535"),this.el.style.setProperty("--calcite-color-foreground-1","#2b2b2b"),this.el.style.setProperty("--calcite-color-foreground-2","#202020"),this.el.style.setProperty("--calcite-color-foreground-3","#151515"),this.el.style.setProperty("--calcite-color-text-1","#ffffff"),this.el.style.setProperty("--calcite-color-text-2","#bfbfbf"),this.el.style.setProperty("--calcite-color-text-3","#9f9f9f"),this.el.style.setProperty("--calcite-color-text-inverse","#151515"),this.el.style.setProperty("--calcite-color-text-link","#00a0ff"),this.el.style.setProperty("--calcite-color-border-1","#555555"),this.el.style.setProperty("--calcite-color-border-2","#4a4a4a"),this.el.style.setProperty("--calcite-color-border-3","#404040"),this.el.style.setProperty("--calcite-color-border-input","#757575"),this.el.style.setProperty("--calcite-color-info","#00a0ff"),this.el.style.setProperty("--calcite-color-success","#36da43"))}}componentWillLoad(){if(o.a.Log("ACCORDION: will load"),this.stLangCode=this.langCode,this.stSourceCountry=this.sourceCountry,this.stShowCheckboxes=this.showCheckboxes,this.stIsOpen=this.isOpen,this.defaultReport&&o.A.hasText(this.defaultReport)&&(this.stDefaultReport=JSON.parse(this.defaultReport)),this._instanceId||(this._instanceId=o.E.generateId(this._idPrefix).id),this._instanceContentId||(this._instanceContentId=o.E.generateId(this._idContentPrefix).id),this._instanceIconId||(this._instanceIconId=o.E.generateId(this._idIconPrefix).id),this.stSuglite=!1,void 0!==typeof this.suglite&&"true"===this.suglite&&(this.stSuglite=!0),(!this.stDisplayName||this.stDisplayName.length<=0)&&(this.displayname&&this.displayname.length>0?this.stDisplayName=this.displayname:this.stDisplayName="?"),!this.stGroupId&&this.groupid&&(this.stGroupId=this.groupid),!this.stContentInline&&this.contentInline&&(this.stContentInline="true"==this.contentInline),!this.stContent&&this.content&&o.A.hasText(this.content))try{this.stContent=JSON.parse(this.content)}catch(t){this.stContent={}}this.stSelectedId=this.selectedId}componentDidLoad(){const t=this;this.el&&this.el.addEventListener("click",(e=>{t.onClickAccordion.call(t,e)})),t.applyStyles()}componentDidRender(){const t=this;setTimeout((()=>{t.applyStyles()}),10)}applyStyles(){if(o.a.Log("ACCORDION applyStyles"),this.stShowCheckboxes){const t=o.A.queryElement.call(this,"calcite-accordion");if(t){const e=t.querySelector("calcite-accordion-item");if(e){const i=e.shadowRoot;if(i){const t=i.querySelector("div.header-content");t&&(t.style.position="relative",t.style.top="2px",t.style.left="1px",t.style.padding="8px 12px 10px 12px")}const n=e.querySelector("calcite-checkbox");if(n){const t=o.A.queryElement.call(n,"div.toggle");t&&(t.style.position="relative",t.style.left="-3px",t.style.width="16px",t.style.height="14px",t.style.border="solid 1px var(--calcite-color-border-2)")}const s=t.querySelector("calcite-list");if(s){const t=s.querySelectorAll("calcite-list-item");if(t&&t.length>0)for(let e=0;e<t.length;e++){const i=t[e],n=o.A.queryElement.call(i,"div.label");n&&(n.style.position="relative",n.style.left="1px",n.style.padding="0");const s=i.querySelector("calcite-checkbox");if(s){const t=o.A.queryElement.call(s,"div.toggle");t&&(t.style.position="relative",t.style.left="5px",t.style.width="15px",t.style.height="13px",t.style.border="solid 1px var(--calcite-color-border-2)")}}}const r=o.A.queryElement.call(e,"div.actions-start");r&&(r.style.width="24px")}}}}onCheckboxChanged(t){o.a.Log("ACCORDION: onCheckboxChanged");const e=t,i=this.toggleCheckState(this.stContent,e);return this.notifyCheckedItems(i,e),this.updateCheckboxes(),!1}closeAccordion(t){let e=t?t.elem:o.A.queryElementById.call(this,this._instanceId),i=t?t.content:o.A.queryElementById.call(this,this._instanceContentId),n=t?t.icon:o.A.queryElementById.call(this,this._instanceIconId);e.classList.remove("accordion__active"),i.style.maxHeight=null,n.setAttribute("icon-end","caret-down"),this.hideContent(i)}isDefaultId(t){let e=!1;return null!=this.stDefaultReport&&(e=this.stDefaultReport.id==t),e}showContent(t){t||(t=o.A.queryElementById.call(this,this._instanceContentId)),t&&t.classList.contains("ba-content-hidden")&&(t.classList.remove("ba-content-hidden"),this.accordionOpened.emit({accordion:this,groupid:this.stGroupId,instanceId:this._instanceId}),this.isOpen=this.stIsOpen=!0)}hideContent(t){t||(t=o.A.queryElementById.call(this,this._instanceContentId)),t.classList.contains("ba-content-hidden")||(t.classList.add("ba-content-hidden"),this.isOpen=this.stIsOpen=!1)}onClickAccordionItem(t,e,i){if(this.stShowCheckboxes){const t=i.id,e=this.toggleCheckState(this.stContent,t);this.notifyCheckedItems(e,t),this.updateCheckboxes()}else this.accordionItemClicked.emit({context:e,item:i});return t.stopPropagation(),t.preventDefault(),!1}onClickAccordion(t){if(t.target.classList.contains("ba-target-check"))return!1;if(this.ignoreClick>0)return this.ignoreClick--,!1;const e=t.currentTarget,i=o.A.queryElementById.call(this,this._instanceContentId),n=o.A.queryElementById.call(this,this._instanceIconId);if(i)if(i.style.maxHeight)this.stIsOpen||this.closeAccordion({elem:e,content:i,icon:n});else{function s(){i.style.overflow="auto"}e.classList.add("accordion__active"),i.style.maxHeight="100%",n.setAttribute("icon-end","caret-up"),this.showContent(i),setTimeout(s,500)}return!0}_getContent(){if(!this.stContent)if(this.content)this.stContent=JSON.parse(this.content);else if(!this.showDebug){let t=o.A.queryElementById.call(this,this._instanceId);if(t){let e=t.getAttribute("content");e&&e.length>0&&(this.content=e,this.stContent=JSON.parse(this.content))}}return this.stContent}_getContentItem(t){for(let e=0;e<this.stContent.length;e++){let i=this.stContent[e];if(i.id==t)return i}return null}_setContentItem(t,e,i){for(let n=0;n<this.stContent.length;n++)if(this.stContent.stContenttent[n].id==t){this.stContent[n][e]=i;break}}_toggleContentItem(t,e){let i=this._getContentItem(t);if(i){const n=!i[e];this._setContentItem(t,e,n)}}updateCheckboxes(){this.stTimestamp=(new Date).getTime()}notifyCheckedItems(t,e){const i=!e||!o.A.hasText(e),n=this.el.shadowRoot?.querySelectorAll("calcite-checkbox[data-group]");if(n){const s=[];for(let r=0;r<n.length;r++){const a=n[r];let c=a.checked;const l=a.getAttribute("guid");if(l&&o.A.hasText(l)){(i||e==l)&&(c=t);const n={id:l,isChecked:c};s.push(n)}}s.length>0&&this.accordionItemsChecked.emit({accordion:this,reports:s})}}getAccordion(){try{const t=this;let e=t._getContent();const i=t.stDisplayName,o=t.calciteicon||"",s={"text-decoration":"underline"};if(t.stShowCheckboxes){let o=[];t.stContent?.length>0&&(o=t.stContent.some((t=>t.isChecked)));const r={margin:"-2px -4px 0px 5px",width:"16px",height:"16px",position:"relative",left:"5px",top:"2px"},a={margin:"-4px 0px 0px -4px",width:"15px",height:"13px"};return(0,n.h)("calcite-accordion",{appearance:"solid","icon-position":"end"},(0,n.h)("calcite-accordion-item",{scale:"s",heading:i},(0,n.h)("calcite-checkbox",{slot:"actions-start",style:r,name:"Select All",value:"all",checked:o,onClick:t.onCheckAllChanged}),(0,n.h)("calcite-list",null,e?e.map((({id:e,name:i,subText:o})=>{const r=e+"-acc-item",c=this.isDefaultId(e)?s:"";return(0,n.h)("calcite-list-item",{id:r,label:i,data:e,description:o||"",onclick:e=>t.onCheckboxChanged(e.target.attributes.data.value),style:c},(0,n.h)("calcite-checkbox",{style:a,name:i,"data-group":t.reportsGroupId,value:e,id:e,slot:"actions-start",checked:t.stContent&&t.stContent.some((t=>t.id===e&&t.isChecked)),onClick:e=>t.onCheckboxChanged(e.target.value)}))})):"")))}{const s={padding:"8px 0",whiteSpace:"wrap",overflowX:"hidden",lineHeight:"1.25rem"},r={padding:"8px 0",whiteSpace:"wrap",overflowX:"hidden",lineHeight:"1.25rem","text-decoration":"underline"},a=!(!t.isOpen&&!e.some((e=>e.id===t.stSelectedId)));return(0,n.h)("calcite-accordion",{appearance:"solid","icon-position":"end"},e?(0,n.h)("calcite-accordion-item",{"icon-start":o,scale:"s",heading:i,expanded:a},(0,n.h)("calcite-tree",null,e?e.map((({id:e,name:i})=>{const o=this.isDefaultId(e)?r:s;return(0,n.h)("calcite-tree-item",{style:o,data:e,label:i,selected:e===t.stSelectedId,onclick:n=>t.onClickAccordionItem(n,t,{id:e,name:i})},i)})):"")):"")}}catch(t){o.a.Error("ba-accordion",t)}}render(){if(this._getContent())return this._isReport=this.el.classList.contains("reportList"),o.a.Log("ACCORDION RENDER def rep=",this.stDefaultReport,this.displayname),this.getAccordion()}get el(){return(0,n.g)(this)}static get watchers(){return{defaultReport:["onDefaultReportChanged"],sourceCountry:["onSourceCountryChanged"],isOpen:["onIsOpenChanged"],suglite:["onSugliteChanged"],content:["onContentChanged"],displayname:["onAccordionTextChanged"],selectedId:["onSelectedIdChanged"],groupid:["onGroupIdChanged"],contentInline:["onContentInlineChanged"],showCheckboxes:["accordionCheckboxChanged"]}}};u.style="calcite-list-item{margin-block-end:unset !important;--tw-shadow:unset !important;--tw-shadow-colored:unset !important;box-shadow:unset !important}";const m=class{constructor(t){(0,n.r)(this,t),this.calciteDropdownSelect=(0,n.c)(this,"calciteDropdownSelect",6),this.calciteDropdownBeforeClose=(0,n.c)(this,"calciteDropdownBeforeClose",6),this.calciteDropdownClose=(0,n.c)(this,"calciteDropdownClose",6),this.calciteDropdownBeforeOpen=(0,n.c)(this,"calciteDropdownBeforeOpen",6),this.calciteDropdownOpen=(0,n.c)(this,"calciteDropdownOpen",6),this.items=[],this.groups=[],this.mutationObserver=(0,d.c)("mutation",(()=>this.updateItems())),this.resizeObserver=(0,d.c)("resize",(t=>this.resizeObserverCallback(t))),this.openTransitionProp="opacity",this.guid=`calcite-dropdown-${(0,a.g)()}`,this.defaultAssignedElements=[],this.slotChangeHandler=t=>{this.defaultAssignedElements=t.target.assignedElements({flatten:!0}),this.updateItems()},this.setFilteredPlacements=()=>{const{el:t,flipPlacements:e}=this;this.filteredFlipPlacements=e?(0,r.f)(e,t):null},this.updateTriggers=t=>{this.triggers=t.target.assignedElements({flatten:!0}),this.reposition(!0)},this.updateItems=()=>{this.items=this.groups.map((t=>Array.from(t?.querySelectorAll("calcite-dropdown-item")))).reduce(((t,e)=>[...t,...e]),[]),this.updateSelectedItems(),this.reposition(!0)},this.updateGroups=t=>{const e=t.target.assignedElements({flatten:!0}).filter((t=>t?.matches("calcite-dropdown-group")));this.groups=e,this.updateItems()},this.resizeObserverCallback=t=>{t.forEach((t=>{const{target:e}=t;e===this.referenceEl?this.setDropdownWidth():e===this.scrollerEl&&this.setMaxScrollerHeight()}))},this.setDropdownWidth=()=>{const{referenceEl:t,scrollerEl:e}=this,i=t?.clientWidth;i&&e&&(e.style.minWidth=`${i}px`)},this.setMaxScrollerHeight=()=>{const{scrollerEl:t}=this;if(!t)return;this.reposition(!0);const e=this.getMaxScrollerHeight();t.style.maxHeight=e>0?`${e}px`:"",this.reposition(!0)},this.setScrollerAndTransitionEl=t=>{this.resizeObserver.observe(t),this.scrollerEl=t,this.transitionEl=t,(0,h.c)(this)},this.setReferenceEl=t=>{this.referenceEl=t,(0,r.c)(this,this.referenceEl,this.floatingEl),this.resizeObserver.observe(t)},this.setFloatingEl=t=>{this.floatingEl=t,(0,r.c)(this,this.referenceEl,this.floatingEl)},this.keyDownHandler=t=>{if(t.target!==this.referenceEl)return;const{defaultPrevented:e,key:i}=t;if(!e){if(this.open){if("Escape"===i)return this.closeCalciteDropdown(),void t.preventDefault();if(t.shiftKey&&"Tab"===i)return this.closeCalciteDropdown(),void t.preventDefault()}(0,l.i)(i)?(this.openCalciteDropdown(),t.preventDefault()):"Escape"===i&&(this.closeCalciteDropdown(),t.preventDefault())}},this.focusOnFirstActiveOrFirstItem=()=>{this.getFocusableElement(this.items.find((t=>t.selected))||this.items[0])},this.toggleOpenEnd=()=>{this.focusOnFirstActiveOrFirstItem(),this.el.removeEventListener("calciteDropdownOpen",this.toggleOpenEnd)},this.openCalciteDropdown=()=>{this.open=!this.open,this.open&&this.el.addEventListener("calciteDropdownOpen",this.toggleOpenEnd)},this.open=!1,this.closeOnSelectDisabled=!1,this.disabled=!1,this.flipPlacements=void 0,this.maxItems=0,this.overlayPositioning="absolute",this.placement=r.d,this.scale="m",this.selectedItems=[],this.type="click",this.width=void 0}openHandler(t){this.disabled?(t||(0,r.u)(this.floatingEl),this.open=!1):t?this.reposition(!0):(0,r.u)(this.floatingEl)}handleDisabledChange(t){t||(this.open=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}maxItemsHandler(){this.setMaxScrollerHeight()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}connectedCallback(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),this.reposition(!0),this.open&&this.openHandler(this.open),(0,h.c)(this)}componentDidLoad(){this.reposition(!0)}componentDidRender(){(0,c.u)(this)}disconnectedCallback(){this.mutationObserver?.disconnect(),(0,r.a)(this,this.referenceEl,this.floatingEl),this.resizeObserver?.disconnect(),(0,h.d)(this)}render(){const{open:t,guid:e}=this;return(0,n.h)(n.H,null,(0,n.h)("div",{class:"calcite-trigger-container",id:`${e}-menubutton`,onClick:this.openCalciteDropdown,onKeyDown:this.keyDownHandler,ref:this.setReferenceEl},(0,n.h)("slot",{"aria-controls":`${e}-menu`,"aria-expanded":(0,s.t)(t),"aria-haspopup":"menu",name:"trigger",onSlotchange:this.updateTriggers})),(0,n.h)("div",{"aria-hidden":(0,s.t)(!t),class:"calcite-dropdown-wrapper",ref:this.setFloatingEl},(0,n.h)("div",{"aria-labelledby":`${e}-menubutton`,class:{"calcite-dropdown-content":!0,[r.F.animation]:!0,[r.F.animationActive]:t},id:`${e}-menu`,ref:this.setScrollerAndTransitionEl,role:"menu"},(0,n.h)("slot",{onSlotchange:this.updateGroups}))))}async reposition(t=!1){const{floatingEl:e,referenceEl:i,placement:n,overlayPositioning:o,filteredFlipPlacements:s}=this;return(0,r.r)(this,{floatingEl:e,referenceEl:i,overlayPositioning:o,placement:n,flipPlacements:s,type:"menu"},t)}closeCalciteDropdownOnClick(t){(0,s.i)(t)&&this.open&&!t.composedPath().includes(this.el)&&this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(t){this.closeCalciteDropdown(),t.stopPropagation()}closeCalciteDropdownOnOpenEvent(t){t.composedPath().includes(this.el)||(this.open=!1)}mouseEnterHandler(){"hover"===this.type&&this.openCalciteDropdown()}mouseLeaveHandler(){"hover"===this.type&&this.closeCalciteDropdown()}calciteInternalDropdownItemKeyEvent(t){const{keyboardEvent:e}=t.detail,i=e.target;switch(e.key){case"Tab":this.items.indexOf(i)!==this.items.length-1||e.shiftKey?0===this.items.indexOf(i)&&e.shiftKey&&this.closeCalciteDropdown():this.closeCalciteDropdown();break;case"ArrowDown":(0,s.p)(this.items,i,"next");break;case"ArrowUp":(0,s.p)(this.items,i,"previous");break;case"Home":(0,s.p)(this.items,i,"first");break;case"End":(0,s.p)(this.items,i,"last")}t.stopPropagation()}handleItemSelect(t){this.updateSelectedItems(),t.stopPropagation(),this.calciteDropdownSelect.emit(),this.closeOnSelectDisabled&&"none"!==t.detail.requestedDropdownGroup.selectionMode||this.closeCalciteDropdown(),t.stopPropagation()}onBeforeOpen(){this.calciteDropdownBeforeOpen.emit()}onOpen(){this.calciteDropdownOpen.emit()}onBeforeClose(){this.calciteDropdownBeforeClose.emit()}onClose(){this.calciteDropdownClose.emit()}updateSelectedItems(){this.selectedItems=this.items.filter((t=>t.selected))}getMaxScrollerHeight(){const{maxItems:t,items:e}=this;let i,n=0,o=0;return this.groups.forEach((e=>{t>0&&n<t&&Array.from(e.children).forEach(((e,s)=>{0===s&&(isNaN(i)&&(i=e.offsetTop),o+=i),n<t&&(o+=e.offsetHeight,n+=1)}))})),e.length>t?o:0}closeCalciteDropdown(t=!0){this.open=!1,t&&(0,s.h)(this.triggers[0])}getFocusableElement(t){if(!t)return;const e=t.attributes.isLink?t.shadowRoot.querySelector("a"):t;(0,s.h)(e)}static get delegatesFocus(){return!0}get el(){return(0,n.g)(this)}static get watchers(){return{open:["openHandler"],disabled:["handleDisabledChange"],flipPlacements:["flipPlacementsHandler"],maxItems:["maxItemsHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"]}}};m.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-flex;flex:0 1 auto}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host .calcite-dropdown-wrapper{--calcite-floating-ui-z-index:600;display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.calcite-dropdown-wrapper .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}.calcite-dropdown-wrapper[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.calcite-dropdown-wrapper[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.calcite-dropdown-wrapper[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.calcite-dropdown-wrapper[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.calcite-dropdown-wrapper[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([open]) .calcite-dropdown-wrapper{visibility:visible}:host .calcite-dropdown-content{max-block-size:45vh;inline-size:auto;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.calcite-trigger-container{position:relative;display:flex;flex:1 1 auto}@media (forced-colors: active){:host([open]) .calcite-dropdown-wrapper{border:1px solid canvasText}}:host([width=s]){--calcite-dropdown-width:12rem}:host([width=m]){--calcite-dropdown-width:14rem}:host([width=l]){--calcite-dropdown-width:16rem}";const f=class{constructor(t){(0,n.r)(this,t),this.calciteInternalDropdownItemChange=(0,n.c)(this,"calciteInternalDropdownItemChange",6),this.groupTitle=void 0,this.selectionMode="single",this.scale=void 0}componentWillLoad(){this.groupPosition=this.getGroupPosition()}render(){const t=this.scale||(0,s.f)(this.el,"scale","m"),e=this.groupTitle?(0,n.h)("span",{"aria-hidden":"true",class:"dropdown-title"},this.groupTitle):null,i=this.groupPosition>0?(0,n.h)("div",{class:"dropdown-separator",role:"separator"}):null;return(0,n.h)(n.H,{"aria-label":this.groupTitle,role:"group"},(0,n.h)("div",{class:{container:!0,"container--s":"s"===t,"container--m":"m"===t,"container--l":"l"===t},title:this.groupTitle},i,e,(0,n.h)("slot",null)))}updateActiveItemOnChange(t){this.requestedDropdownGroup=t.detail.requestedDropdownGroup,this.requestedDropdownItem=t.detail.requestedDropdownItem,this.calciteInternalDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}getGroupPosition(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-dropdown-group"),this.el)}static get delegatesFocus(){return!0}get el(){return(0,n.g)(this)}};f.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:block}.container{text-align:start}.container--s{font-size:var(--calcite-font-size--2);line-height:1rem}.container--s .dropdown-title{padding:0.5rem}.container--m{font-size:var(--calcite-font-size--1);line-height:1rem}.container--m .dropdown-title{padding:0.75rem}.container--l{font-size:var(--calcite-font-size-0);line-height:1.25rem}.container--l .dropdown-title{padding:1rem}.dropdown-title{margin-block-end:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.dropdown-separator{display:block;block-size:1px;background-color:var(--calcite-ui-border-3)}";const g=class{constructor(t){(0,n.r)(this,t),this.calciteDropdownItemSelect=(0,n.c)(this,"calciteDropdownItemSelect",6),this.calciteInternalDropdownItemSelect=(0,n.c)(this,"calciteInternalDropdownItemSelect",6),this.calciteInternalDropdownItemKeyEvent=(0,n.c)(this,"calciteInternalDropdownItemKeyEvent",6),this.calciteInternalDropdownCloseRequest=(0,n.c)(this,"calciteInternalDropdownCloseRequest",6),this.scale="m",this.selected=!1,this.iconFlipRtl=void 0,this.iconStart=void 0,this.iconEnd=void 0,this.href=void 0,this.label=void 0,this.rel=void 0,this.target=void 0}async setFocus(){await(0,p.c)(this),this.el?.focus()}componentWillLoad(){(0,p.a)(this),this.initialize()}componentDidLoad(){(0,p.s)(this)}connectedCallback(){this.initialize()}render(){const t=(0,s.f)(this.el,"scale",this.scale),e=(0,n.h)("calcite-icon",{class:"dropdown-item-icon-start",flipRtl:"start"===this.iconFlipRtl||"both"===this.iconFlipRtl,icon:this.iconStart,scale:"l"===t?"m":"s"}),i=(0,n.h)("span",{class:"dropdown-item-content"},(0,n.h)("slot",null)),o=(0,n.h)("calcite-icon",{class:"dropdown-item-icon-end",flipRtl:"end"===this.iconFlipRtl||"both"===this.iconFlipRtl,icon:this.iconEnd,scale:"l"===t?"m":"s"}),r=this.iconStart&&this.iconEnd?[e,i,o]:this.iconStart?[e,i]:this.iconEnd?[i,o]:i,a=this.href?(0,n.h)("a",{"aria-label":this.label,class:"dropdown-link",href:this.href,ref:t=>this.childLink=t,rel:this.rel,tabIndex:-1,target:this.target},r):r,c=this.href?null:"single"===this.selectionMode?"menuitemradio":"multiple"===this.selectionMode?"menuitemcheckbox":"menuitem",l="none"!==this.selectionMode?(0,s.t)(this.selected):null;return(0,n.h)(n.H,{"aria-checked":l,role:c,tabindex:"0"},(0,n.h)("div",{class:{container:!0,"container--link":!!this.href,"container--s":"s"===t,"container--m":"m"===t,"container--l":"l"===t,"container--multi-selection":"multiple"===this.selectionMode,"container--single-selection":"single"===this.selectionMode,"container--none-selection":"none"===this.selectionMode}},"none"!==this.selectionMode?(0,n.h)("calcite-icon",{class:"dropdown-item-icon",icon:"multiple"===this.selectionMode?"check":"bullet-point",scale:"l"===t?"m":"s"}):null,a))}onClick(){this.emitRequestedItem()}keyDownHandler(t){switch(t.key){case" ":case"Enter":this.emitRequestedItem(),this.href&&this.childLink.click(),t.preventDefault();break;case"Escape":this.calciteInternalDropdownCloseRequest.emit(),t.preventDefault();break;case"Tab":this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:t});break;case"ArrowUp":case"ArrowDown":case"Home":case"End":t.preventDefault(),this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:t})}}updateActiveItemOnChange(t){t.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=t.detail.requestedDropdownGroup,this.requestedDropdownItem=t.detail.requestedDropdownItem,this.determineActiveItem()),t.stopPropagation()}initialize(){this.selectionMode=(0,s.f)(this.el,"selection-mode","single"),this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),"none"===this.selectionMode&&(this.selected=!1)}determineActiveItem(){switch(this.selectionMode){case"multiple":this.el===this.requestedDropdownItem&&(this.selected=!this.selected);break;case"single":this.el===this.requestedDropdownItem?this.selected=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.selected=!1);break;case"none":this.selected=!1}}emitRequestedItem(){this.calciteDropdownItemSelect.emit(),this.calciteInternalDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}get el(){return(0,n.g)(this)}};g.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}.container--s{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-inline-end:0.5rem;padding-inline-start:1.5rem}.container--m{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-inline-end:0.75rem;padding-inline-start:2rem}.container--l{padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;padding-inline-end:1rem;padding-inline-start:2.5rem}.container--s.container--none-selection{padding-inline-start:0.25rem}.container--s.container--none-selection .dropdown-link{padding-inline-start:0px}.container--m.container--none-selection{padding-inline-start:0.5rem}.container--m.container--none-selection .dropdown-link{padding-inline-start:0px}.container--l.container--none-selection{padding-inline-start:0.75rem}.container--l.container--none-selection .dropdown-link{padding-inline-start:0px}:host{position:relative;display:flex;flex-grow:1;align-items:center}.container{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);text-align:start}.dropdown-item-content{flex:1 1 auto;padding-block:0.125rem;padding-inline-end:auto;padding-inline-start:0.25rem}:host,.container--link a{outline-color:transparent}:host(:focus){outline:2px solid transparent;outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.container--link{padding:0px}.container--link a{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.container--s .dropdown-link{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-inline-end:0.5rem;padding-inline-start:1.5rem}.container--m .dropdown-link{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-inline-end:0.75rem;padding-inline-start:2rem}.container--l .dropdown-link{padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;padding-inline-end:1rem;padding-inline-start:2.5rem}:host(:hover) .container,:host(:active) .container{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);text-decoration-line:none}:host(:hover) .container--link .dropdown-link,:host(:active) .container--link .dropdown-link{color:var(--calcite-ui-text-1)}:host(:focus) .container{color:var(--calcite-ui-text-1);text-decoration-line:none}:host(:active) .container{background-color:var(--calcite-ui-foreground-3)}:host(:hover) .container:before,:host(:active) .container:before,:host(:focus) .container:before{opacity:1}:host([selected]) .container:not(.container--none-selection),:host([selected]) .container--link .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selected]) .container:not(.container--none-selection):before,:host([selected]) .container--link .dropdown-link:before{opacity:1;color:var(--calcite-ui-brand)}:host([selected]) .container:not(.container--none-selection) calcite-icon,:host([selected]) .container--link .dropdown-link calcite-icon{color:var(--calcite-ui-brand)}.container--multi-selection:before,.container--none-selection:before{display:none}.container--s:before{inset-inline-start:0.5rem}.container--m:before{inset-inline-start:0.75rem}.container--l:before{inset-inline-start:1rem}.dropdown-item-icon{position:absolute;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:scale(0.9)}.container--s .dropdown-item-icon{inset-inline-start:0.25rem}.container--m .dropdown-item-icon{inset-inline-start:0.5rem}.container--l .dropdown-item-icon{inset-inline-start:0.75rem}:host(:hover) .dropdown-item-icon{color:var(--calcite-ui-border-1);opacity:1}:host([selected]) .dropdown-item-icon{color:var(--calcite-ui-brand);opacity:1}.container--s .dropdown-item-icon-start{margin-inline-end:0.5rem;margin-inline-start:0.25rem}.container--s .dropdown-item-icon-end{margin-inline-start:0.5rem}.container--m .dropdown-item-icon-start{margin-inline-end:0.75rem;margin-inline-start:0.25rem}.container--m .dropdown-item-icon-end{margin-inline-start:0.75rem}.container--l .dropdown-item-icon-start{margin-inline-end:1rem;margin-inline-start:0.25rem}.container--l .dropdown-item-icon-end{margin-inline-start:1rem}"},68695:(t,e,i)=>{i.d(e,{a:()=>w,b:()=>d,c:()=>f,d:()=>D,e:()=>l,f:()=>h,g:()=>x,h:()=>b,i:()=>P,j:()=>v,k:()=>a,l:()=>r,m:()=>O,n:()=>c,o:()=>E,p:()=>_,q:()=>m,r:()=>I,s:()=>A,t:()=>S,u:()=>p});var n=i(54344),o=i(31964),s=i(90770);const r={getShadowRoot:!0};function a(t){return t?t.id=t.id||`${t.tagName.toLowerCase()}-${(0,o.g)()}`:""}function c(t){return Array.isArray(t)?t:Array.from(t)}function l(t){const e=f(t,`.${s.C.darkMode}, .${s.C.lightMode}`);return e?.classList.contains("calcite-mode-dark")?"dark":"light"}function d(t){const e=f(t,"[dir]");return e?e.getAttribute("dir"):"ltr"}function h(t,e,i){const n=`[${e}]`,o=t.closest(n);return o?o.getAttribute(e):i}function p(t){return t.getRootNode()}function u(t){return t.host||null}function m(t,{selector:e,id:i}){return function t(n){if(!n)return null;n.assignedSlot&&(n=n.assignedSlot);const o=p(n),s=i?"getElementById"in o?o.getElementById(i):null:e?o.querySelector(e):null,r=u(o);return s||(r?t(r):null)}(t)}function f(t,e){return function t(i){return i?i.closest(e)||t(u(p(i))):null}(t)}function g(t,e){return y(t,e)}function y(t,e){if(!t)return;const i=e(t);if(void 0!==i)return i;const{parentNode:n}=t;return y(n instanceof ShadowRoot?n.host:n,e)}function w(t,e){return!!g(e,(e=>e===t||void 0))}async function b(t){if(t)return function(t){return"function"==typeof t?.setFocus}(t)?t.setFocus():t.focus()}function v(t){((0,n.t)(t,r)[0]||t).focus()}const C=":not([slot])";function x(t,e,i){e&&!Array.isArray(e)&&"string"!=typeof e&&(i=e,e=null);const n=e?Array.isArray(e)?e.map((t=>`[slot="${t}"]`)).join(","):`[slot="${e}"]`:C;return i?.all?function(t,e,i){let n=e===C?k(t,C):Array.from(t.querySelectorAll(e));n=i&&!1===i.direct?n:n.filter((e=>e.parentElement===t)),n=i?.matches?n.filter((t=>t?.matches(i.matches))):n;const o=i?.selector;return o?n.map((t=>Array.from(t.querySelectorAll(o)))).reduce(((t,e)=>[...t,...e]),[]).filter((t=>!!t)):n}(t,n,i):function(t,e,i){let n=e===C?k(t,C)[0]||null:t.querySelector(e);n=i&&!1===i.direct||n?.parentElement===t?n:null,n=i?.matches?n?.matches(i.matches)?n:null:n;const o=i?.selector;return o?n?.querySelector(o):n}(t,n,i)}function k(t,e){return t?Array.from(t.children||[]).filter((t=>t?.matches(e))):[]}function I(t,e){return Array.from(t.children).filter((t=>t.matches(e)))}function D(t,e,i){return"string"==typeof e&&""!==e?e:""===e?t[i]:void 0}function E(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function S(t){return Boolean(t).toString()}function A(t){return!!O(t).length}function O(t){return t.target.assignedElements({flatten:!0})}function P(t){return!(!t.isPrimary||0!==t.button)}const _=(t,e,i)=>{const n=t.indexOf(e),o=0===n,s=n===t.length-1;let r;switch(i="previous"===i&&o?"last":"next"===i&&s?"first":i){case"first":r=t[0];break;case"last":r=t[t.length-1];break;case"next":r=t[n+1]||t[0];break;case"previous":r=t[n-1]||t[t.length-1]}return b(r),r}},31964:(t,e,i)=>{i.d(e,{g:()=>n});const n=()=>[2,1,1,1,3].map((t=>{let e="";for(let i=0;i<t;i++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e})).join("-")},56758:(t,e,i)=>{function n(t){return"Enter"===t||" "===t}i.d(e,{i:()=>n,n:()=>o});const o=["0","1","2","3","4","5","6","7","8","9"]},29340:(t,e,i)=>{i.d(e,{a:()=>s,c:()=>a,s:()=>r});const n=new WeakMap,o=new WeakMap;function s(t){o.set(t,new Promise((e=>n.set(t,e))))}function r(t){n.get(t)()}function a(t){return o.get(t)}},77041:(t,e,i)=>{function n(t,e,i){const n=function(t){class e extends window.MutationObserver{constructor(t){super(t),this.observedEntry=[],this.callback=t}observe(t,e){return this.observedEntry.push({target:t,options:e}),super.observe(t,e)}unobserve(t){const e=this.observedEntry.filter((e=>e.target!==t));this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),e.forEach((t=>this.observe(t.target,t.options)))}}return"intersection"===t?window.IntersectionObserver:"mutation"===t?e:window.ResizeObserver}(t);return new n(e,i)}i.d(e,{c:()=>n})}}]);