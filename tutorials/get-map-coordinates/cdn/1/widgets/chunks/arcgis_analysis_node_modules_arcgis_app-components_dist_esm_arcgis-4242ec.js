/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-4242ec.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-4242ec"],{73838:(e,i,r)=>{r.d(i,{a:()=>t,c:()=>o,g:()=>n});var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,i,r){return e(r={path:i,exports:{},require:function(e,i){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}},91177:(e,i,r)=>{r.r(i),r.d(i,{arcgis_new_item_pages_data_store_select_database:()=>c});var t=r(35110),n=r(82669),o=r(77429),s=r(84873),l=r(46710),a=r(57983);r(23505),r(70392),r(67148),r(66913),r(21104),r(73838),r(52299),r(91306),r(73208),r(35105),r(16082),r(56086),r(79233),r(64307),r(76743),r(63280),r(9657),r(12856),r(91659),r(17752),r(53040),r(51287),r(20982),r(37526),r(7803);const c=class{constructor(e){(0,t.r)(this,e),this.newItemUpdatePage=(0,t.c)(this,"newItemUpdatePage",7),this.missingHostingServer=!1,this.handlePublisherFileDropEvent=e=>{const i=e.detail,r=(0,a.i)()?this.hostingServer.adminPublicUrl:this.hostingServer.adminUrl,t=`${r}/admin/uploads/upload`,n=new FormData;n.append("itemFile",i),this.resetPublisherFile(),this.importingPublisherFile=!0,(0,o.h)(t,n,r||"").then((e=>{this.publisherFileName=e.result.itemName,this.publisherFileProps=e.result.connectionStringProps,this.publisherConnectionString=e.result.connectionString,this.importingPublisherFile=!1}))},this.handleServerFileDropEvent=e=>{const i=e.detail,r=(0,a.i)()?this.hostingServer.adminPublicUrl:this.hostingServer.adminUrl,t=`${r}/admin/uploads/upload`,n=new FormData;n.append("itemFile",i),this.resetServerFile(),this.importingServerFile=!0,(0,o.h)(t,n,r||"").then((e=>{this.serverFileName=e.result.itemName,this.serverFileProps=e.result.connectionStringProps,this.serverConnectionString=e.result.connectionString,this.importingServerFile=!1}))},this.error=null,this.allowedExtensions=["sde"],this.serverDatabaseOption=null,this.publisherFiles=void 0,this.publisherFileName=void 0,this.serverFiles=void 0,this.serverFileName=void 0,this.publisherConnectionString="",this.serverConnectionString="",this.importingPublisherFile=!1,this.importingServerFile=!1,this.hostingServer=void 0,this.publisherFileProps=void 0,this.serverFileProps=void 0}async componentWillLoad(){this.i18n=s.u.i18n.dataStoreSelectDatabase,this.hostingServer=n.a.hostingServer,this.hostingServer||(this.missingHostingServer=!0),this.publisherConnectionString=n.a.publisherConnectionString,this.publisherFileName=n.a.publisherFileName,this.publisherFileProps=n.a.publisherFileProps,this.serverDatabaseOption=n.a.serverDatabaseOption||null,this.serverConnectionString=n.a.serverConnectionString,this.serverFileName=n.a.serverFileName,this.serverFileProps=n.a.serverFileProps}validFileInputs(){const{publisherConnectionString:e,serverConnectionString:i,serverDatabaseOption:r}=this;return e?!("newConnection"===r&&!i&&(this.error="invalidServerConnectionFile",1)):(this.error="invalidPublisherConnectionFile",!1)}handleNext(){if(this.validFileInputs()){const{publisherConnectionString:e,serverConnectionString:i,serverDatabaseOption:r}=this;n.a.publisherConnectionString=e,n.a.publisherFileName=this.publisherFileName,n.a.publisherFileProps=this.publisherFileProps,n.a.serverDatabaseOption=r,"newConnection"===r?(n.a.serverConnectionString=i,n.a.serverFileName=this.serverFileName,n.a.serverFileProps=this.serverFileProps):(n.a.serverConnectionString=null,n.a.serverFileName=null,n.a.serverFileProps=null),this.newItemUpdatePage.emit("dataStoreSelectServerList")}}propIsNotPassword(e){return["ENCRYPTED_PASSWORD_UTF8","ENCRYPTED_PASSWORD"].indexOf(e.key)<=-1}resetPublisherFile(){this.publisherFiles=null,this.publisherFileProps=null,this.publisherConnectionString=null,this.publisherFileName=null}resetServerFile(){this.serverFiles=null,this.serverFileProps=null,this.serverConnectionString=null,this.serverFileName=null}renderErrorItem(){var e,i;const{i18n:r,error:n}=this;return(0,t.h)("arcgis-new-item-alert",{heading:null===(e=r.errors[n])||void 0===e?void 0:e.heading,description:null===(i=r.errors[n])||void 0===i?void 0:i.description,active:null!==n,onAlertDismiss:()=>{this.error=null}})}render(){const{i18n:e,missingHostingServer:i,allowedExtensions:r,publisherFileProps:n,serverFileProps:o,importingPublisherFile:s,importingServerFile:a,serverFileName:c,publisherFileName:d}=this,{config:h}=l.c;return(0,t.h)("div",null,(0,t.h)("arcgis-new-item-description",{header:i?e.errors.hostingServerError:e.heading}),!i&&(0,t.h)("div",null,(0,t.h)("div",{class:"input-label"},(0,t.h)("calcite-label",null,e.publisherDatabaseConnection," ",e.sdeFile,!s&&!n&&(0,t.h)("arcgis-drag-and-drop",{files:this.publisherFiles,allowedExtensions:r,insideModal:!0,fullHeight:!0,config:h,onArcgisDropSuccess:this.handlePublisherFileDropEvent},(0,t.h)("div",{class:"file-input"},(0,t.h)("input",{class:"hidden-file-input",onChange:e=>{this.publisherFiles=Object.assign({},e.target.files)},ref:e=>this.publisherInputElement=e,accept:null==r?void 0:r.map((e=>`.${e}`)).join(","),tabIndex:-1,type:"file"}),(0,t.h)("svg",{width:"42",height:"54",viewBox:"0 0 42 54",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,t.h)("path",{d:"M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z",fill:"#6A6A6A"}),")",(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z",fill:"#6A6A6A"})),(0,t.h)("div",{class:"text-container"},(0,t.h)("h3",{class:"device-select"},e.dragAndDropOrSelectFile)),(0,t.h)("button",{class:"file-browser-button",onClick:()=>{var e;return null===(e=this.publisherInputElement)||void 0===e?void 0:e.click()}},(0,t.h)("span",{class:"file-browser-button__icon"},(0,t.h)("calcite-icon",{icon:"desktop"})),(0,t.h)("span",{class:"file-browser-button__text"},e.selectFile)))),s&&(0,t.h)("div",{class:"loader-container"},(0,t.h)("calcite-loader",{inline:!0,label:"importing-publisher-file-loader"}),e.importingConnectionFile),n&&(0,t.h)("div",null,(0,t.h)("table",{class:"database-connection-table"},(0,t.h)("thead",null,(0,t.h)("tr",null,(0,t.h)("th",{colSpan:2},e.fileChosen,":"," ",(0,t.h)("span",{class:"server-file-name"},d)))),(0,t.h)("tbody",null,n.map((e=>this.propIsNotPassword(e)&&(0,t.h)("tr",null,(0,t.h)("td",null,e.key),(0,t.h)("td",{class:"value-cell"},e.value)))))),(0,t.h)("div",{class:"change-file"},(0,t.h)("span",{class:"change-file-btn",onClick:()=>{this.resetPublisherFile()}},e.chooseDifferentFile))))),(0,t.h)("div",{class:"input-label"},(0,t.h)("calcite-label",null,e.serverDatabaseConnection," ",e.sdeFile)),(0,t.h)("calcite-tile-select-group",{layout:"vertical",key:"server-database-connection-select",class:"server-database-connection-select"},(0,t.h)("calcite-tile-select",{class:"tile-select",key:"publisher-database-connection-select",checked:null===this.serverDatabaseOption,description:e.sameAsPublisher,name:"same-as-publisher-database-connection","input-enabled":!0,width:"full",type:"radio",value:null,onCalciteTileSelectChange:()=>{this.serverDatabaseOption=null}}),(0,t.h)("calcite-tile-select",{class:"tile-select",key:"new-server-database-connection-select",checked:"newConnection"===this.serverDatabaseOption,description:e.newConnection,name:"new-server-database-connection","input-enabled":!0,width:"full",type:"radio",value:"newConnection",onCalciteTileSelectChange:()=>{this.serverDatabaseOption="newConnection"}})),"newConnection"===this.serverDatabaseOption&&(0,t.h)("calcite-label",null,!a&&!o&&(0,t.h)("arcgis-drag-and-drop",{files:this.serverFiles,allowedExtensions:r,insideModal:!0,fullHeight:!0,config:h,onArcgisDropSuccess:this.handleServerFileDropEvent},(0,t.h)("div",{class:"file-input"},(0,t.h)("input",{class:"hidden-file-input",onChange:e=>{this.serverFiles=Object.assign({},e.target.files)},ref:e=>this.serverInputElement=e,accept:null==r?void 0:r.map((e=>`.${e}`)).join(","),tabIndex:-1,type:"file"}),(0,t.h)("svg",{width:"42",height:"54",viewBox:"0 0 42 54",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,t.h)("path",{d:"M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z",fill:"#6A6A6A"}),")",(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z",fill:"#6A6A6A"})),(0,t.h)("div",{class:"text-container"},(0,t.h)("h3",{class:"device-select"},e.dragAndDropOrSelectFile)),(0,t.h)("button",{class:"file-browser-button",onClick:()=>{var e;return null===(e=this.serverInputElement)||void 0===e?void 0:e.click()}},(0,t.h)("span",{class:"file-browser-button__icon"},(0,t.h)("calcite-icon",{icon:"desktop"})),(0,t.h)("span",{class:"file-browser-button__text"},e.selectFile)))),a&&(0,t.h)("div",{class:"loader-container"},(0,t.h)("calcite-loader",{inline:!0,label:"importing-publisher-file-loader"}),e.importingConnectionFile),o&&(0,t.h)("div",null,(0,t.h)("table",{class:"database-connection-table"},(0,t.h)("thead",null,(0,t.h)("tr",null,(0,t.h)("th",{colSpan:2},e.fileChosen,":"," ",(0,t.h)("span",{class:"server-file-name"},c)))),(0,t.h)("tbody",null,o.map((e=>this.propIsNotPassword(e)&&(0,t.h)("tr",null,(0,t.h)("td",null,e.key),(0,t.h)("td",{class:"value-cell"},e.value)))))),(0,t.h)("div",{class:"change-file"},(0,t.h)("span",{class:"change-file-btn",onClick:()=>{this.resetServerFile()}},e.chooseDifferentFile)))),this.renderErrorItem()))}};c.style=".input-label{margin-top:1.25rem}.hidden-file-input{display:none}.device-select{margin-top:0.5rem;margin-bottom:0.5rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.server-database-connection-select{padding-bottom:0.5rem}.tile-select{margin-bottom:0.125rem}.server-file-name{font-weight:700}.file-input{margin-bottom:2rem;box-sizing:border-box;width:100%;border-width:2px;border-style:dashed;border-color:var(--calcite-color-border-1);background-color:var(--calcite-color-background);padding-top:2rem;padding-bottom:2rem;text-align:center}.file-browser-button{margin-top:0px;margin-bottom:0px;margin-left:0.75rem;margin-right:0.75rem;box-sizing:border-box;display:inline-flex;width:auto;cursor:pointer;align-items:center;border-radius:0;padding:0px;font-size:0.875rem;color:var(--calcite-color-text-1);border:1px solid var(--calcite-color-border-1);background-color:white;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.file-browser-button:hover{border-color:var(--calcite-color-brand)}.file-browser-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.file-browser-button__icon{background-color:#f8f8f8;color:var(--calcite-color-text-link);box-sizing:border-box;display:flex;height:2rem;width:2rem;align-items:center;justify-content:center;padding:0.25rem}.file-browser-button__icon svg{width:100%}.file-browser-button__text{padding:0.5rem}.change-file{padding-top:0.5rem}.change-file-btn{cursor:pointer;color:#0079c1}.database-connection-table{width:100%;border-collapse:collapse;text-align:left}.database-connection-table tr{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}.database-connection-table td{padding:0.5rem;font-size:0.875rem;font-weight:300;border-left:1px solid #ccc;border-right:1px solid #ccc}.database-connection-table th{padding:0.5rem;font-size:1rem;font-weight:300;background-color:#efefef}tbody tr:nth-child(even){background-color:var(--calcite-color-background)}.text-container{margin-top:2rem;margin-bottom:2rem}.loader-container{display:flex}"},21104:(e,i,r)=>{r.d(i,{l:()=>o});var t=r(73838),n=(0,t.c)((function(e,i){t.a,function(e){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",t="next";function n(e){if(e.toLowerCase()===t)return t;var i=e&&e.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function s(e){return!e||n(e)?function(e){void 0===e&&(e=r);var i=o(e),s=n(e);if(s!==t&&3===s.major){var l=s.minor<=10?"js/":"";return"".concat(i).concat(l,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}(e):e}function l(e,i){var r=s(e),t=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return t||function(e,i){if(i){var r=document.querySelector(i);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(t=function(e){var i=document.createElement("link");return i.rel="stylesheet",i.href=e,i}(r),i),t}var a={};function c(e,i,r){var t;r&&(t=function(e,i){var r=function(t){i(t.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var n=function(){i(e),e.removeEventListener("load",n,!1),t&&e.removeEventListener("error",t,!1)};e.addEventListener("load",n,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function h(){var e=window.require;return e&&e.on}function u(e){void 0===e&&(e={});var r={};[a,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}));var t=r.version,n=r.url||o(t);return new i.Promise((function(e,i){var o=d();if(o){var s=o.getAttribute("src");s!==n?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):h()?e(o):c(o,e,i)}else if(h())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=r.css;a&&l(!0===a?t:a,r.insertCssBefore),c(o=function(e){var i=document.createElement("script");return i.type="text/javascript",i.src=e,i.setAttribute("data-esri-loader","loading"),i}(n),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),i),document.body.appendChild(o)}}))}function p(e){return new i.Promise((function(i,r){var t=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.remove(),i(e)}))}))}e.utils=i,e.loadModules=function(e,i){if(void 0===i&&(i={}),h())return p(e);var r=d(),t=r&&r.getAttribute("src");return!i.url&&t&&(i.url=t),u(i).then((function(){return p(e)}))},e.getScript=d,e.isLoaded=h,e.loadScript=u,e.setDefaultOptions=function(e){void 0===e&&(e={}),a=e},e.loadCss=l,Object.defineProperty(e,"__esModule",{value:!0})}(i)}));const o=async(e,i)=>(await n.loadModules(e,i)).map((e=>e.__esModule&&e.default?e.default:e))}}]);