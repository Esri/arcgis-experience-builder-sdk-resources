/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-fcf71c.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-fcf71c"],{51287:(e,t,i)=>{i.d(t,{a:()=>r,i:()=>s});const r={FeatureServer:"Feature Service",GeocodeServer:"Geocoding Service",GeoDataServer:"Geodata Service",GeometryServer:"Geometry Service",GeoenrichmentServer:"Geoenrichment Service",GPServer:"Geoprocessing Service",GlobeServer:"Globe Service",ImageServer:"Image Service",MapServer:"Map Service",NAServer:"Network Analysis Service",ElevationServer:"Image Service",VectorTileServer:"Vector Tile Service",SceneServer:"Scene Service",StreamServer:"Stream Service",WMServer:"Workflow Manager Service",TiledImageServer:"Image Service",VideoServer:"Video Service"},s=e=>!!Object.values(r).includes(e)},39828:(e,t,i)=>{i.r(t),i.d(t,{arcgis_group_badge:()=>v,arcgis_group_thumbnail:()=>y,arcgis_item_badges:()=>x,arcgis_item_favorite:()=>C,arcgis_item_share_summary:()=>U,arcgis_tunnel:()=>P,arcgis_user_avatar:()=>A,arcgis_user_popup:()=>L,arcgis_user_popup_popover:()=>M});var r=i(35110),s=i(1984),o=i(88703),n=i(66913),a=i(70392),l=i(63280),c=i(32720),u=i(46710),p=i(51772),h=i(86587),d=i(91659),m=i(20982);i(21104),i(73838),i(17752),i(58144),i(23505),i(56086),i(51287);const g={Collaboration:{icon:"collaboration"},FeaturedContent:{icon:"home"},Gallery:{icon:"images"},OpenData:{image:function(){return(0,r.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",fill:"currentColor"}))}},SharedUpdate:{icon:"pencil"},Partnered:{image:function(){return(0,r.h)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",fill:"currentColor"}))}},AnyOrg:{icon:"zoom-to-object"}},v=class{constructor(e){(0,r.r)(this,e),this.openTooltip=()=>{this.tooltipOpen=!0},this.closeTooltip=async()=>{await(0,o.t)(200),this.tooltipOpen=!1,this.tooltip=null},this.width="full",this.scale="m",this.badgeType=void 0,this.appearance=void 0,this.showTooltip=!0,this.tooltipText="",this.tooltipOpen=void 0}async componentWillLoad(){const{el:e}=this,t=await(0,s.g)(e);this.i18n=t[0]}renderImage(e){return(0,r.h)("span",{slot:"image",class:"image"},e())}render(){const{badgeType:e,width:t,scale:i,showTooltip:s,appearance:o}=this,n=this.i18n[e],{icon:a,image:l}=g[this.badgeType],c="narrow"===t,u={badge:!0,"badge--red":"SharedUpdate"===e,narrow:c,[`narrow--${i}`]:c};return(0,r.h)(r.H,null,(0,r.h)("div",Object.assign({class:"wrapper"},s?{onMouseLeave:this.closeTooltip,onMouseEnter:this.openTooltip,onFocusout:this.closeTooltip,onFocusin:this.openTooltip}:{}),c?(0,r.h)("calcite-chip",Object.assign({class:u,value:e,ref:e=>this.chip=e,tabIndex:0,scale:i,appearance:o},a?{icon:a}:{}),!a&&this.renderImage(l)):(0,r.h)("calcite-chip",{class:u,value:e,icon:a,ref:e=>this.chip=e,tabIndex:0,scale:i,appearance:o},l&&this.renderImage(l),n.title),this.tooltipOpen&&(0,r.h)("arcgis-tunnel",{reference:this.el},(0,r.h)("calcite-tooltip",{ref:e=>{e&&(e.referenceElement=this.chip,this.tooltip||(this.tooltip=e,this.tooltip.open=!0))},closeOnClick:!0,label:n.title,placement:"bottom-start",offsetDistance:6,offsetSkidding:0,style:{pointerEvents:"none",zIndex:"calc(var(--calcite-z-index-modal) + 1)"}},c&&(0,r.h)("h3",{class:"tooltip__title",style:{fontSize:"var(--calcite-font-size--1)",color:"var(--calcite-color-text-1)",margin:"0 0 .25rem 0",padding:"0"}},n.title),(0,r.h)("p",{class:"tooltip__text",style:{fontSize:"var(--calcite-font-size--2)",color:"var(--calcite-color-text-1)",margin:"0",padding:"0"}},n.tooltip)))))}get el(){return(0,r.d)(this)}};v.style=".badge{--calcite-ui-icon-color:var(--calcite-color-brand);display:inline-block;border-width:0px}.badge--red{--calcite-ui-icon-color:var(--calcite-color-status-danger)}.narrow{box-sizing:border-box;width:2rem;--calcite-chip-spacing-unit-l:0}.icon{margin-top:0.25rem;margin-inline-start:0.375rem}.image{align-items:center;justify-content:center;border-radius:0;margin-inline-start:0.5rem}.image svg{color:var(--calcite-ui-icon-color)}.narrow--s{width:1.5rem}.narrow--s .icon{margin:0.25rem}.narrow--s .image{margin-inline-start:0px}.narrow--m .icon{margin:0.3125rem 0.5rem}.narrow--m .image{margin-inline-start:0px}.narrow--l{width:2.75rem}.narrow--l .icon{margin:0.5rem 0.8rem}.narrow--l .image{margin-inline-start:0.25rem}";const f=/^#[0-9A-F]{3}$/i,w=/^#[0-9A-F]{6}$/i;function b(e){return function(e){return e&&4===e.length&&f.test(e)}(e)||function(e){return e&&7===e.length&&w.test(e)}(e)}const y=class{constructor(e){(0,r.r)(this,e),this.openTooltip=()=>{this.tooltipElement&&(this.tooltipElement.open=!0)},this.closeTooltip=()=>{this.tooltipElement&&(this.tooltipElement.open=!1)},this.group=void 0,this.portal=void 0,this.tooltip=void 0,this.scale="m",this.error=!1}render(){const{group:e,error:t,openTooltip:i,closeTooltip:s}=this;if((null==e?void 0:e.thumbnail)&&!t)return(0,r.h)(r.H,null,(0,r.h)("img",{alt:"",class:"thumbnail",onError:()=>this.error=!0,ref:e=>this.thumbnailElement=e,src:this.getThumbnailURI(),onMouseLeave:s,onMouseEnter:i,onFocusout:s,onFocusin:i}),this.renderTooltip());const o=this.generateInitials(),n=this.generateFillColor();return(0,r.h)(r.H,null,(0,r.h)("span",{class:"background",ref:e=>this.thumbnailElement=e,style:{backgroundColor:n},onMouseLeave:s,onMouseEnter:i,onFocusout:s,onFocusin:i},o?(0,r.h)("span",{"aria-hidden":"true",class:"initials"},o):(0,r.h)("calcite-icon",{class:"icon",icon:"users",scale:"xl"===this.scale?"l":this.scale})),this.renderTooltip())}renderTooltip(){return this.tooltip?(0,r.h)("calcite-tooltip",{ref:e=>{e.referenceElement=this.thumbnailElement,this.tooltipElement=e},closeOnClick:!0,label:this.group.title,placement:"bottom-start",offsetDistance:6,offsetSkidding:0,class:"tooltip"},(0,r.h)("p",{class:"tooltip-text"},this.group.title)):null}getThumbnailURI(){const{group:e}=this;if(!(null==e?void 0:e.thumbnail))return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const t=(0,n.g)(this.portal),i=t?`?token=${t}`:"";return`${(0,a.g)(this.portal)}community/groups/${e.id}/info/${e.thumbnail}${i}`}generateFillColor(){const{group:{title:e,id:t},el:i}=this,r=(0,l.g)(i),s=`#${null==t?void 0:t.substr(t.length-6)}`,o=t&&b(s)?s:function(e){let t=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);let i="#";for(let e=0;e<3;e++)i+=("00"+(t>>8*e&255).toString(16)).substr(-2);return i}(e);return(t||e)&&b(o)?`hsl(${function(e){return function(e){let{r:t,g:i,b:r}=e;t/=255,i/=255,r/=255;const s=Math.max(t,i,r),o=Math.min(t,i,r),n=s-o;if(s===o)return 0;let a=(s+o)/2;switch(s){case t:a=(i-r)/n+(i<r?6:0);break;case i:a=(r-t)/n+2;break;case r:a=(t-i)/n+4}return Math.round(60*a)}(function(e){if(!b(e))return null;if(3===(e=e.replace("#","")).length){const[t,i,r]=e.split("");return{r:parseInt(`${t}${t}`,16),g:parseInt(`${i}${i}`,16),b:parseInt(`${r}${r}`,16)}}return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}(e))}(o)}, 60%, ${"dark"===r?20:90}%)`:"var(--calcite-color-foreground-2)"}generateInitials(){var e,t;const i=null===(t=null===(e=this.group)||void 0===e?void 0:e.title)||void 0===t?void 0:t.trim().charAt(0);return!!(null==i?void 0:i.match(/^\w+$/))&&i}get el(){return(0,r.d)(this)}};y.style=":host{display:inline-block}:host([scale=s]){height:1.5rem;width:1.5rem;font-size:0.625rem}:host([scale=m]){height:2rem;width:2rem;font-size:0.75rem}:host([scale=l]){font-size:1rem;height:2.75rem;width:2.75rem}:host([scale=xl]){font-size:1.25rem;height:4rem;width:4rem}.icon{display:flex;color:var(--calcite-color-text-3)}.background{position:relative;display:flex;height:100%;width:100%;align-items:center;justify-content:center}.initials{position:absolute;font-weight:700;text-transform:uppercase;color:var(--calcite-color-text-2)}.thumbnail{height:100%;width:100%}.tooltip-text{margin:0px;padding:0px;font-size:0.75rem;color:var(--calcite-color-text-2)}calcite-tooltip{pointer-events:none}";const x=class{constructor(e){(0,r.r)(this,e),this.item=void 0,this.portal=void 0,this.user=void 0,this.api=void 0,this.width="full",this.showTooltips=!1,this.empty=!1,this.scale="m",this.badges=[]}componentWillLoad(){this.item&&this.updateBadges(this.item),this.api&&(u.c.api=this.api)}updateBadges(e){var t;this.badges=(0,c.a)(e,this.portal,this.user),(null===(t=this.badges)||void 0===t?void 0:t.length)||(this.empty=!0)}render(){const{item:e,width:t,scale:i,badges:s,user:o,portal:n,showTooltips:a}=this;return(0,r.h)(r.H,null,s.map((s=>(0,r.h)("arcgis-item-badge",{class:"badge",item:e,portal:n,user:o,badgeType:s,width:t,scale:i,showTooltip:a}))))}get el(){return(0,r.d)(this)}static get watchers(){return{item:["updateBadges"]}}};x.style=":host{display:flex;align-items:center}.badge{display:inline-block;margin-inline-end:0.25rem}.badge:last-of-type{margin-inline-end:0px}";let k=[],S=[];const I=(0,o.d)((async(e,t)=>{var i;const r=[...k],s=[...S];k=[],S=[];const o=`(group:${$(t)} AND id:(${r.join(" OR ")}))`,l=await(0,n.r)(`${(0,a.g)(e)}search`,{num:100,q:o}),c=null===(i=null==l?void 0:l.results)||void 0===i?void 0:i.map((e=>e.id));s.forEach((({id:e,resolve:t})=>{t(c.includes(e))}))}),300);function $(e){var t,i;return null!==(t=e.favGroupId)&&void 0!==t?t:null===(i=e.sourceJSON)||void 0===i?void 0:i.favGroupId}function O({item:e,portal:t,user:i},r){const{access:s,id:o}=e,l=`${(0,a.g)(t)}content/items/${o}/${r?"share":"unshare"}`,c={everyone:"public"===s,org:"org"===s,groups:$(i),items:o};return(0,n.r)(l,c,{},"post")}const C=class{constructor(e){(0,r.r)(this,e),this.arcgisItemFavoriteUpdate=(0,r.c)(this,"arcgisItemFavoriteUpdate",7),this.item=void 0,this.portal=void 0,this.user=void 0,this.width="full",this.iconOnly=!1,this.scale="m",this.showTooltip=void 0,this.isFavorite=void 0}async setFocus(){var e;null===(e=this.button)||void 0===e||e.setFocus()}updateFavorite(e){const{id:t,favorite:i}=e.detail;t===this.item.id&&(this.isFavorite=i)}async componentWillLoad(){const{el:e,item:t,portal:i,user:r}=this,o=await(0,s.g)(e);this.i18n=o[0],this.isFavorite=await async function(e,t,i){if(!i)return!1;const r=new Promise((t=>{S.push({id:e,resolve:t})}));return k.includes(e)||k.push(e),I(t,i),r}(t.id,i,r)}async toggleFavorite(){const{user:e,portal:t,item:i,isFavorite:r}=this;this.isFavorite=!r;const s={user:e,portal:t,item:i};await(r?function(e){return O(e,!1)}(s):function(e){return O(e,!0)}(s)),this.arcgisItemFavoriteUpdate.emit({id:i.id,favorite:this.isFavorite})}render(){const{i18n:e,isFavorite:t,width:i,scale:s,iconOnly:o}=this,n=t?e.remove:e.add;return(0,r.h)(r.H,null,(0,r.h)("calcite-button",Object.assign({width:o?"auto":i,scale:s,appearance:o?"transparent":"outline-fill",kind:"neutral",iconStart:t?"star-f":"star",onClick:()=>{this.toggleFavorite()},ref:e=>this.button=e},o?{ariaLabel:n}:{}),!o&&n),this.showTooltip&&(0,r.h)("calcite-tooltip",{ref:e=>{e.referenceElement=this.button}},t?e.remove:e.add))}get el(){return(0,r.d)(this)}},U=class{constructor(e){(0,r.r)(this,e),this.item=void 0,this.portal=void 0,this.config=void 0,this.groups=void 0,this.showText=!0,this.user=void 0,this.scale="m",this.isSharing=!1,this.sharingActive=!1}async setFocus(){var e;null===(e=this.wrapper)||void 0===e||e.focus()}async componentWillLoad(){const{el:e}=this,t=await(0,s.g)(e);this.i18n=t[0]}getIcon(e){return{private:"user",shared:"user",org:"organization",public:"globe"}[e]||"globe"}getFormattedStrings(){const{item:e,i18n:t,groups:i}=this;if(!(null==i?void 0:i.length))return{tooltip:t[e.access],access:t[e.access],groups:"shared"===e.access?t.shared:""};const r=`${(null==i?void 0:i.length)||0}`;return{access:"shared"===e.access?t.private:t[e.access],tooltip:t[`${e.access}Groups`].replace("${num}",r),groups:t.groups.replace("${num}",r)}}renderIcons(e,t){const{item:i,showText:s}=this;return(0,r.h)(r.F,null,(0,r.h)("calcite-icon",{class:"icon",icon:this.getIcon(i.access),scale:"s",key:"access"}),s&&(0,r.h)("span",{class:"text"},e),t&&(0,r.h)(r.F,null,(0,r.h)("calcite-icon",{class:"icon",icon:"plus",scale:"s"}),(0,r.h)("calcite-icon",{class:"icon",icon:"group",scale:"s"}),s&&(0,r.h)("span",{class:"text"},t)))}render(){const{showText:e,i18n:t}=this,{tooltip:i,access:s,groups:o}=this.getFormattedStrings();return(0,r.h)(r.H,null,(0,r.h)("div",{class:"wrapper",ref:e=>{this.wrapper=e}},this.renderIcons(s,o)),!e&&(0,r.h)("calcite-tooltip",{referenceElement:this.wrapper,closeOnClick:!0,label:t.updateSharing.replace("${level}",i),placement:"bottom-start",offsetDistance:6,offsetSkidding:0,ref:e=>{e.referenceElement=this.wrapper},style:{pointerEvents:"none",zIndex:"calc(var(--calcite-z-index-modal) + 1)"}},i))}get el(){return(0,r.d)(this)}};U.style=":host{display:inline-flex;align-items:center;justify-content:center;min-width:var(--arcgis-item-share-summary-spacing)}:host([scale=s]){--arcgis-item-share-summary-text-size:0.75rem;--arcgis-item-share-summary-spacing:1rem;--arcgis-item-share-summary-padding:3px}:host([scale=s][show-text]){--arcgis-item-share-summary-padding:3px 8px}:host([scale=m]){--arcgis-item-share-summary-text-size:0.875rem;--arcgis-item-share-summary-spacing:1rem;--arcgis-item-share-summary-padding:7px}:host([scale=m][show-text]){--arcgis-item-share-summary-padding:7px 12px}:host([scale=l]){--arcgis-item-share-summary-text-size:1rem;--arcgis-item-share-summary-spacing:1rem;--arcgis-item-share-summary-padding:9px}:host([scale=l][show-text]){--arcgis-item-share-summary-padding:9px 16px}.wrapper{display:flex;align-items:center;background-color:var(--calcite-color-foreground-1);padding:var(--arcgis-item-share-summary-padding);border:1px solid var(--calcite-color-border-1);border-radius:calc(var(--arcgis-item-share-summary-spacing) + 0.5rem);font-size:var(--arcgis-item-share-summary-text-size)}.wrapper--button{cursor:pointer;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;font-family:inherit;line-height:1}.wrapper--button:hover{background-color:var(--calcite-color-foreground-2)}.wrapper--button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.icon{display:block;flex-shrink:0;flex-grow:0;width:var(--arcgis-item-share-summary-spacing);height:var(--arcgis-item-share-summary-spacing)}.text{font-weight:400;color:var(--calcite-color-text-1);font-size:var(--arcgis-item-share-summary-text-size);line-height:1;margin-inline-start:calc(var(--arcgis-item-share-summary-spacing) / 4)}";const _={elements:new Map};function T(e){if(e.find((e=>{var t;return(null===(t=e.removedNodes)||void 0===t?void 0:t.length)&&"childList"===e.type})))for(const e of _.elements.keys())if(!e.parentNode||!(0,l.i)(e)){const t=_.elements.get(e);null==t||t.forEach((e=>e())),_.elements.delete(e)}}const P=class{constructor(e){(0,r.r)(this,e),this.moved=!1,this.cleanUp=()=>{var e;null===(e=this.tunnel)||void 0===e||e.remove()},this.reference=void 0,this.destination=document.body}createTunnel(){var e,t,i;this.tunnel=document.createElement("div"),this.destination.append(this.tunnel),this.tunnel.appendChild(this.element),e=this.reference,t=this.cleanUp,e&&t&&(_.observer||(_.observer=new MutationObserver(T),_.observer.observe(document.querySelector("body"),{childList:!0,subtree:!0})),_.elements.set(e,[...null!==(i=_.elements.get(e))&&void 0!==i?i:[],t]),_.observer)}componentDidLoad(){this.createTunnel()}disconnectedCallback(){this.moved?this.tunnel.remove():this.moved=!0}render(){return(0,r.h)(r.H,{ref:e=>this.element=e},(0,r.h)("slot",null))}},A=class{constructor(e){(0,r.r)(this,e),this.user=void 0,this.portal=void 0,this.scale="m",this.showName=void 0,this.showAvatar=!0,this.heading=void 0,this.description=void 0,this.underline=void 0,this.username=void 0,this.wrap=void 0,this.checkOnline=void 0}async componentWillLoad(){const{el:e,portal:t,username:i}=this;this.lang=await(0,s.a)(e),i&&(this.user=await(0,p.f)(i,t))}renderSkeleton(){return(0,r.h)("div",{class:"skeleton"},this.showAvatar&&(0,r.h)("div",{class:"skeleton-avatar"}),this.showName&&(0,r.h)("div",{class:"skeleton-name"}))}renderUser(){const{user:e,lang:t,portal:i,showAvatar:s,showName:o,description:a,scale:l,underline:c,heading:u}=this,{fullName:h,username:d}=e,m=(0,n.d)(e),g=!!a,v=((null==h?void 0:h.split(" "))||[]).slice(0,2).join(" "),f=this.wrap?"text--clamp":"text--ellipsis";return[s&&(0,r.h)("calcite-avatar",Object.assign({class:"avatar",scale:"xs"===l?"s":l,fullName:v,username:d,userId:m,thumbnail:(0,p.b)(e,i,this.checkOnline)},o||g?{inert:!0}:{})),(o||g)&&(0,r.h)("span",{class:{text:!0,"text--underline":c,"text--no-avatar":!s}},o&&(0,r.h)("span",{class:{title:!0,"has-description":g,[f]:!0}},u||(0,p.g)(e,t)),g&&(0,r.h)("span",{class:{description:!0,[f]:!0}},a))]}render(){return(0,r.h)(r.H,null,this.user&&this.lang?this.renderUser():this.renderSkeleton())}get el(){return(0,r.d)(this)}};A.style=":host{max-width:100%}.skeleton{display:flex}@keyframes pulse{50%{opacity:.5}}.skeleton{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;align-items:center}.skeleton-avatar{border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.skeleton-name{border-radius:var(--calcite-border-radius);background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-skeleton-width);border-radius:var(--arcgis-user-avatar-spacing);height:var(--arcgis-user-avatar-spacing);margin-inline-start:var(--arcgis-user-avatar-spacing)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.avatar{display:block;flex-shrink:0;flex-grow:0;border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.text{display:flex;min-width:0px;flex-direction:column;justify-content:center;color:var(--calcite-color-text-2);text-align:start;margin-inline-start:var(--arcgis-user-avatar-spacing);line-height:calc(var(--arcgis-user-avatar-size) / 2)}.text--no-avatar{margin-inline-start:0px}.-text-underline .title{text-decoration-line:underline}.text--clamp{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.text--ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-description{font-weight:500}.description{font-weight:400;color:var(--calcite-color-text-2)}:host{display:flex;min-width:0px;align-items:center}:host([scale=xs]){font-size:0.75rem;--arcgis-user-avatar-size:18px;--arcgis-user-avatar-spacing:0.25rem}:host([scale=xs]) .description{font-size:0.625rem;margin-top:-0.125rem}:host([scale=xs]) .text{line-height:1.35}:host([scale=s]){font-size:0.75rem;--arcgis-user-avatar-size:1.5rem;--arcgis-user-avatar-spacing:0.5rem;--arcgis-user-avatar-skeleton-width:4rem}:host([scale=s]) .description{font-size:0.625rem}:host([scale=m]){font-size:0.875rem;--arcgis-user-avatar-size:2rem;--arcgis-user-avatar-spacing:0.75rem;--arcgis-user-avatar-skeleton-width:5rem}:host([scale=m]) .description{font-size:0.75rem}:host([scale=l]){font-size:1rem;--arcgis-user-avatar-size:2.5rem;--arcgis-user-avatar-spacing:1rem;--arcgis-user-avatar-skeleton-width:6rem}:host([scale=l]) .description{font-size:0.875rem}";const L=class{constructor(e){(0,r.r)(this,e),this.arcgisUserPopupInternalUIAction=(0,r.c)(this,"arcgisUserPopupInternalUIAction",7),this.user=void 0,this.username=void 0,this.item=void 0,this.api=void 0,this.scale="m",this.portal=void 0,this.baseUrl=void 0,this.underline=void 0,this.showAvatar=!0,this.showName=!0,this.wrap=void 0,this.checkOnline=void 0,this.itemUserInfo=void 0,this.groups=void 0,this.total=void 0,this.showPopover=void 0,this.privateUser=void 0}async componentWillLoad(){this.init()}async init(){const{el:e,item:t,username:i,portal:r}=this,o=await(0,s.g)(e);if(this.i18n=o[0],this.lang=o[1],t)this.fetchItemUserInfo();else if(i)try{const e=await(0,p.f)(i,r);this.itemUserInfo=e}catch(e){this.privateUser=!0}}async setFocus(){var e;null===(e=this.button)||void 0===e||e.focus()}async fetchItemUserInfo(){const{portal:e,item:t,lang:i,checkOnline:r}=this;this.itemUserInfo=await(0,p.a)(t,e,i,r)}async fetchItemsAndGroups(){const{user:e,itemUserInfo:t,item:i,portal:r,total:s,username:o,checkOnline:a}=this,l=o||(null==e?void 0:e.username)||(null==i?void 0:i.owner);(0,c.i)(i)||(this.groups||(this.groups=await(0,n.f)((()=>(0,p.c)(l,r,a)),"userGroups",l)),isNaN(s)&&(this.total=await(0,n.f)((()=>(0,p.d)((e||t).username,r,a)),"userItemsTotal",l)))}render(){const{user:e,itemUserInfo:t,portal:i,item:s,baseUrl:o,button:n,i18n:a,scale:l}=this,c=e||t;return c&&a?(0,r.h)(r.H,null,(0,r.h)("button",{class:"button",ref:e=>this.button=e,onClick:async()=>{this.showPopover||(this.showPopover=!0),this.fetchItemsAndGroups()}},(0,r.h)("slot",null,(0,r.h)("arcgis-user-avatar",{user:c,scale:"m"===l?"m":"s",portal:i,showName:this.showName,showAvatar:this.showAvatar,underline:this.underline,checkOnline:this.checkOnline,wrap:this.wrap}))),this.showPopover&&(0,r.h)("arcgis-tunnel",{reference:this.el},(0,r.h)("arcgis-user-popup-popover",{onArcgisUserPopupInternalUIAction:e=>{e.stopPropagation(),this.arcgisUserPopupInternalUIAction.emit(e.detail)},onArcgisUserPopupPopoverClose:()=>{this.showPopover=!1,this.popoverNode=null},onArcgisUserPopupPopoverKeyDown:e=>{"Escape"===e.detail.key&&setTimeout((()=>{this.button.focus()}),200)},user:e,item:s,portal:i,baseUrl:o,itemUserInfo:t,i18n:a,groups:this.groups,total:this.total,checkOnline:this.checkOnline,ref:e=>{e&&(e.referenceElement=n,this.popoverNode||(this.popoverNode=e,e.open()))}}))):(0,r.h)("arcgis-user-avatar",{scale:"s",showName:!0,checkOnline:this.checkOnline})}get el(){return(0,r.d)(this)}static get watchers(){return{item:["fetchItemUserInfo"]}}};function z({baseUrl:e,portal:t,user:i,type:r}){var s,o;const n=(0,m.r)(e),{username:a,orgId:l}=i,c=encodeURIComponent(a),u=(null===(s=t.user)||void 0===s?void 0:s.username)===i.username;return("groups"===r&&(0,d.P)(t.user)||"content"===r&&(0,d.Q)(t.user)||(0,d.f)(t.user)||u)&&l===(null===(o=t.user)||void 0===o?void 0:o.orgId)?`${n}/${r}.html${u?"":`?user=${c}`}`:`${n}/search.html?q=owner:%22${c}%22&restrict=false#${r}`}L.style=":host{display:flex}.button{display:flex;align-items:center;max-width:100%;cursor:pointer;white-space:normal;border-style:none;padding:0px;font-size:0.75rem;color:var(--calcite-color-text-2);outline:2px solid transparent;outline-offset:2px;transition-property:all;outline-color:transparent;background:transparent;font-family:inherit;line-height:1.5}.button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.name{overflow:hidden;white-space:nowrap;margin-inline-start:0.5rem;text-overflow:ellipsis}";const M=class{constructor(e){(0,r.r)(this,e),this.arcgisUserPopupPopoverClose=(0,r.c)(this,"arcgisUserPopupPopoverClose",7),this.arcgisUserPopupPopoverKeyDown=(0,r.c)(this,"arcgisUserPopupPopoverKeyDown",7),this.arcgisUserPopupInternalUIAction=(0,r.c)(this,"arcgisUserPopupInternalUIAction",7),this.numberFormatOptions={api:u.c.api,places:0,type:"decimal"},this.user=void 0,this.item=void 0,this.portal=void 0,this.baseUrl=void 0,this.referenceElement=void 0,this.itemUserInfo=void 0,this.groups=void 0,this.total=void 0,this.i18n=void 0,this.checkOnline=void 0,this.groupsText="",this.itemsText="",this.expanded=void 0}async close(){this.togglePopover(!1)}async open(){this.togglePopover(!0)}async updateGroupsText(e){const t=await(0,h.f)(e.total,this.numberFormatOptions);this.groupsText=this.i18n.groups.replace("${number}",t)}async updateItemsText(e){const t=await(0,h.f)(e,this.numberFormatOptions);this.itemsText=this.i18n.items.replace("${number}",t)}componentWillLoad(){this.groups&&this.updateGroupsText(this.groups),isNaN(this.total)||this.updateItemsText(this.total)}async togglePopover(e){if(this.popoverNode)return this.popoverNode.open=e,void await(0,o.t)(150)}openLink(e){var t;e.preventDefault();const i=null===(t=e.target)||void 0===t?void 0:t.href;window.open(i,"_blank")}renderOrgButtons(){const{i18n:e,baseUrl:t,itemUserInfo:i}=this,s=(0,m.r)((null==i?void 0:i.url)||t);return(0,r.h)(r.F,null,(0,r.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",href:s,target:"_blank",onClick:e=>this.openLink(e)},e.homepage),(0,r.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",href:`${s}/gallery.html`,target:"_blank",onClick:e=>this.openLink(e)},e.gallery))}renderUserButtons(e){const{i18n:t,baseUrl:i,portal:s,total:o,groups:n}=this,a=!this.groupsText||!this.itemsText,{username:l}=e;return a?(0,r.h)("calcite-loader",{label:t.loadingUserInformation,scale:"s",class:"loader"}):(0,r.h)(r.F,null,!!(null==n?void 0:n.total)&&(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${z({baseUrl:i,portal:s,user:e,type:"groups"})}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view all groups"})}},this.groupsText),!!o&&(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${z({baseUrl:i,portal:s,user:e,type:"content"})}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view all content"})}},this.itemsText),(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${(0,m.r)(i)}/user.html?user=${encodeURIComponent(l)}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view profile"})}},t.profile))}render(){const{i18n:e,user:t,item:i,itemUserInfo:s,lang:n,portal:a,expanded:l,referenceElement:u}=this,h=t||s,d=(0,c.i)(i),{username:m,description:g}=h,v=(0,p.g)(h,n),f=function(e){return null==e?void 0:e.replace(/&#10;&#13;|&#10;|&#13;|\r\n|\r|\n/g,"<br>")}(function(e){return null==e?void 0:e.replace(/(?:\r)/g,"&#10;").replace(/(?:\n)/g,"&#13;")}(function(e){return null==e?void 0:e.replace(/(https?:\/\/[^\s]+)/g,(e=>`<a href="${e}" target="_blank">${e}</a>`))}(null==(w=g)?void 0:w.replace(/(?:&#10;)/g,"\r").replace(/(?:&#13;)/g,"\n"))))||"";var w;const b=f.replace(/<br>/g," ".repeat(40)),y=!l&&b.length>=240,x=y?`${b.substring(0,240).trim().replace(/\s{5,40}/g,"<br>")}...`:f,k=d?this.i18n.itemManagedBy.replace("${username}",m):m;return(0,r.h)(r.H,null,(0,r.h)("calcite-popover",{class:"popover",label:v,pointerDisabled:!0,referenceElement:u,placement:"bottom-start",id:`${m}-popover`,ref:e=>this.popoverNode=e,autoClose:!0,onCalcitePopoverOpen:(0,o.d)((()=>{this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"open profile popup"})}),100),onCalcitePopoverClose:()=>this.arcgisUserPopupPopoverClose.emit(),onKeyDown:e=>this.arcgisUserPopupPopoverKeyDown.emit(e)},(0,r.h)("div",{class:"wrapper"},(0,r.h)("div",{class:"header"},(0,r.h)("arcgis-user-avatar",{class:"user-avatar",user:h,scale:"l",portal:a,showName:!0,description:k,checkOnline:this.checkOnline})),(0,r.h)("div",{class:"content"},x&&(0,r.h)("p",{class:{content__description:!0,"content__description--expanded":l},innerHTML:x}),l&&(0,r.h)("div",{class:"content__fade"}),y&&(0,r.h)("calcite-link",{class:"content__link",onClick:()=>this.expanded=!0},e.expand),l&&(0,r.h)("calcite-link",{class:"content__link",onClick:()=>this.expanded=!1},e.showLess),(0,r.h)("div",{class:"buttons"},d?this.renderOrgButtons():this.renderUserButtons(h))))))}get el(){return(0,r.d)(this)}static get watchers(){return{groups:["updateGroupsText"],total:["updateItemsText"]}}};M.style='.wrapper{background-color:var(--calcite-color-foreground-1);width:20rem}.header{padding-left:1rem;padding-right:1rem;padding-top:1.25rem;padding-bottom:1.25rem}.user-avatar{max-width:100%}.content{padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:1.25rem}.content__description{margin:0px;overflow:auto;padding:0px;padding-bottom:0.25rem;font-size:0.875rem;color:var(--calcite-color-text-2);max-height:15.5rem}.content__description--expanded:after{content:"";display:block;height:1rem}.content__fade{position:relative;z-index:10;margin-bottom:0.25rem;display:block;height:1rem;width:100%;background:linear-gradient(to bottom, transparent, var(--calcite-color-foreground-1) 74%);margin-top:-1rem}.content__link{font-size:0.875rem}.buttons{display:grid;grid-auto-flow:column;padding-top:1rem;grid-gap:0.5rem}.button{min-width:0px}.loader{--calcite-loader-padding:0}'},32720:(e,t,i)=>{i.d(t,{a:()=>p,b:()=>h,g:()=>c,i:()=>u});var r=i(91659),s=i(17752),o=i(58144);const n=["3DInsetMap","3DScene","3DViz","AttachmentViewer","CapacityAnalysis","Compare/storytelling_compare","Compare/storytelling_tabbed","Compare/storytelling_sidepanel","Compare/Multiviewer","Compare/Search","Compare/Configure","Compare/SideBySideViewer_Configure","Compare3d","CompareAnalysis","CompareMaps","Directions","Edit","Editor","Elevations","ElevationsProfile","Embed","Filter","FilterGallery","GeoList","GeoTour","HeaderFooter","Identify","ImageInterpretation","ImageryViewer","ImpactSummary","InformationLookup","InteractiveFilter","InteractiveLegend","LayerShowcase","Legend","LiveMaps","LocalPerspective","MapAndAppGallery","MapCarousel","MapTools","Media","MinimalGallery","Minimalist","Nearby","OnePane","Panels","PanelsLegend","Profile","PublicGallery","PublicInformation","ServiceLookup","SimpleMapViewer","SimpleViewer","SocialMedia","Solutions/s2.html?app=apps2/FindEditFilter","Solutions/s2.html?app=apps2/Finder","StorytellingTextLegend","StoryMapBasic","Styler","SummaryViewer","Time","TimeAware","TwoPane","Viewer","ZoneLookup"];function a(e,t){var i;return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Story Map"))}function l(e,t){const i=n.some((t=>{var i;const r=t.includes(".html"),s=`/apps/${t}${r?"":"/"}`;return null===(i=e.url)||void 0===i?void 0:i.includes(s)}));return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&e.url&&i}function c(e){var t;return(null==e?void 0:e.contentStatus)||(null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.contentStatus)}function u(e){return"public_authoritative"===c(e)}function p(e,t,i){var o,n,p,h,d,m,g;const v=[],f=null===(n=e.groupDesignations||(null===(o=e.sourceJSON)||void 0===o?void 0:o.groupDesignations))||void 0===n?void 0:n.split(", ");var w;return(function(e){return"org_authoritative"===c(e)}(e)||u(e))&&v.push("Authoritative"),"deprecated"===c(e)&&v.push("Deprecated"),"Solution"===e.type&&(null===(p=e.typeKeywords)||void 0===p?void 0:p.includes("ArcGIS Solution"))&&v.push("Solution"),(null===(h=e.typeKeywords)||void 0===h?void 0:h.includes("Public Data Collection"))&&i&&v.push("Public Data Collection"),w=e.type,(s.r.includes(w)||a(e,t)||l(e,t))&&v.push("Retired"),(null==f?void 0:f.includes("livingatlas"))&&v.push("Living Atlas"),f&&f.includes("opendata")&&v.push("Open Data"),(0,r.b)(e)&&v.push("Premium"),(0,r.a)(e)&&v.push("Subscriber"),(e.origin||(null===(d=e.sourceJSON)||void 0===d?void 0:d.origin))&&v.push("Collaboration"),!e.listed&&!(null===(m=e.sourceJSON)||void 0===m?void 0:m.listed)||(null==t?void 0:t.isPortal)||v.push("Marketplace"),!(null===(g=e.typeKeywords)||void 0===g?void 0:g.includes("Registered App"))||"API Key"===e.type||(null==t?void 0:t.isPortal)&&"esri_apps"===e.owner||v.push("Registered"),v}async function h(e,t,i,s,n,u){const p=!s||(0,r.d)(s);switch(e){case"Authoritative":if("public_authoritative"===c(t)){const e=await(0,o.f)(t,u),r=(null==i?void 0:i.isPortal)?null==i?void 0:i.name:null==e?void 0:e.name;return n.Authoritative.tooltip.public.replace("${name}",r)}return n.Authoritative.tooltip.org;case"Retired":const r=n.Retired.tooltip;return a(t,i)?r.storyMap:function(e){return"CityEngine Web Scene"===e.type}(t)?r.cityEngine:l(t,i)?r.app:r.general;case"Subscriber":return p?n.Subscriber.tooltip.public:n.Subscriber.tooltip.org;case"Premium":return p?n.Premium.tooltip.public:n.Premium.tooltip.org;case"Registered":return(null==i?void 0:i.isPortal)?n.Registered.tooltip.enterprise:n.Registered.tooltip.online;default:return n[e].tooltip}}},58832:(e,t,i)=>{i.d(t,{H:()=>r});const r='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")'},22250:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>u,c:()=>o,d:()=>s,g:()=>a,r:()=>l,s:()=>n});var r=i(88703);function s(e,t,i,r){!function(e,t,i){let r=null==(i=i||{})?void 0:i.expires;if("number"==typeof r){const e=new Date,t=24*r*60*60*1e3;e.setTime(Date.now()+t),r=i.expires=e}"string"!=typeof r&&(null==r?void 0:r.toUTCString)&&(i.expires=r.toUTCString());let s,o=`${e}=${encodeURIComponent(t)}`;for(s in i){o+=`; ${s}`;const e=i[s];!0!==e&&(o+=`=${e}`)}document.cookie=o}(e,r?JSON.stringify(t):t,i)}function o(e,t){const i=function(e){const t=document.cookie,i=new RegExp(`(?:^|; )${(0,r.e)(e)}=([^;]*)`),s=t.match(i);return s?decodeURIComponent(s[1]):void 0}(e);return i&&t?JSON.parse(i):i}function n(e,t,i){window.localStorage.setItem(e,i?JSON.stringify(t):t)}function a(e,t){const i=window.localStorage.getItem(e);return i&&t?JSON.parse(i):i}function l(e){window.localStorage.removeItem(e)}function c(e,t,i){window.sessionStorage.setItem(e,i?JSON.stringify(t):t)}function u(e,t){const i=window.sessionStorage.getItem(e);return i&&t?JSON.parse(i):i}},20982:(e,t,i)=>{i.d(t,{a:()=>d,b:()=>h,c:()=>c,d:()=>g,e:()=>m,f:()=>v,g:()=>f,i:()=>w,r:()=>l,s:()=>p,u:()=>u});var r=i(70392),s=i(46710),o=i(21104),n=i(22250),a=i(51287);function l(e){return"/"===(null==e?void 0:e.slice(-1))?e.slice(0,e.length-1):e}async function c(e){var t;const i=null!==(t=null===s.c||void 0===s.c?void 0:s.c.api)&&void 0!==t?t:4,[r]=await(0,o.l)([4===i?"esri/core/urlUtils":"esri/urlUtils"]);let n=r.urlToObject(e);n.query=n.query||{};for(let e in n.query||{})n.query.hasOwnProperty(e)&&(Array.isArray(n.query[e])||(n.query[e]=n.query[e].replace(/(&lt;|&gt;|<|>|%3C|%3E)/g,"")));return n}function u(e){return(null==e?void 0:e.replace(/^.*\//,"").replace(/.[^.]*$/,""))||""}function p(e){return["WFS","GeoJson","CSV","GeoRSS","KML","OGCFeatureServer","WMS","WMTS"].includes(e)}function h(e){const{config:t,portal:i}=s.c;let r=!1;if(!e)return!1;if((t.httpsDomains||[]).forEach((t=>{(e.indexOf(`.${t}/`)>-1||e.indexOf(`/${t}/`)>-1)&&(r=!0)})),!r){let t=i.portalHostname;t.indexOf("/")>-1&&(t=t.substring(0,t.indexOf("/"))),e.indexOf(t)>-1&&(r=!0)}return r}function d(e){if(!e)return!1;const{config:t,portal:i}=s.c,o=(0,r.g)(i),n=new URL(o).hostname,a=!1===t.isMultiTenant,l=-1!==e.indexOf(".arcgis.com/"),c=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features")||-1!==e.indexOf("//locationservices"),u=i.supportsHostedServices&&-1!==e.indexOf(n)&&!a;return l&&c||!l&&u}function m(){var e;if(-1===window.location.protocol.toLowerCase().indexOf("https")){const t=(0,n.c)("esri_auth",!0);return"web"!==(null===(e=null==t?void 0:t.auth_tier)||void 0===e?void 0:e.toLowerCase())}return!0}function g(e){let t=e.toLowerCase();-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&(t=(e="https://"+e).toLowerCase());let i=t.indexOf("//");i=t.indexOf("/",i+2),-1==i?t=(e+="/arcgis/rest/services").toLowerCase():i==t.length-1&&(t=(e+="arcgis/rest/services").toLowerCase());let r=t.indexOf("/arcgis",i);r==t.length-7?t=(e+="/rest/services").toLowerCase():r==t.length-8&&(t=(e+="rest/services").toLowerCase()),r=t.indexOf("/server",i),t.endsWith("/server")?t=(e+="/rest/services").toLowerCase():t.endsWith("/server/")&&(t=(e+="rest/services").toLowerCase());const s=t.indexOf("/rest/services",i),o=t.indexOf("/services",i),n=t.indexOf("/rest",i);return-1==s&&o>-1?t=(e=`${e.substring(0,o)}/rest/services${e.substring(o+9)}`).toLowerCase():-1==s&&n>-1&&(t=(e=`${e.substring(0,n)}/rest/services${e.substring(n+5)}`).toLowerCase()),t.indexOf("/rest/services"),e}const v=(e,t=!1)=>(e=l(e),/(http|https|ftp):\/\/?/.exec(e)||(e=`https://${e}`),!t&&"https:"!==location.protocol||!d(e)&&!h(e)||(e=e.replace("http:/","https:/")),e.indexOf("/dynamicLayer?")>-1?e.substring(0,e.indexOf("/dynamicLayer?")):e),f=(e,t=!1)=>{var i,s,o;if(!e)return{error:{code:"invalidUrl"}};if(w(e,t))return{error:{code:"httpWarning"}};const n=decodeURIComponent(e),l=n.replace(r.v,"").match(/((\.|\/)*(kml|kmz))/gi),c=n.replace(r.v,"").match(/((\/|\=)(wmts|wms|wfs))/gi),u=n.replace(r.v,"").match(/((\/|\=)(OGC|OGCFeatureServer))/gi),p=n.replace(r.v,"").match(/((\.|\/)*(rss))/gi),h=null===(i=n.replace(r.v,"").match(r.r))||void 0===i?void 0:i[1],d=n.replace(r.v,"").match(r.f),m=n.replace(r.v,"").match(/((\.|\/)*(csv))/gi),g=n.replace(r.v,"").match(/(\.|\/)((\$?{(z|level)})\/*(\$?{(x|col)})\/*(\$?{(y|row)}))/gi);let v=null;if(n.match(r.e))v="GeoJson";else if(!u||c||h)if(h&&!c)v=a.a[h];else if(d)v="Map Service";else if(c){const e="/"===(null==c?void 0:c[0].charAt(0))?"/":"=";v=null===(o=null===(s=null==c?void 0:c[0])||void 0===s?void 0:s.split(e)[1])||void 0===o?void 0:o.toUpperCase()}else l?v="KML":p?v="GeoRSS":m?v="CSV":g?v="Tile Layer":n.endsWith("KnowledgeGraphServer")&&(v="Knowledge Graph");else v="OGCFeatureServer";return{result:v}},w=(e,t)=>!t&&e.includes("http://")},51772:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>h,c:()=>u,d:()=>p,f:()=>l,g:()=>d});var r=i(70392),s=i(58832),o=i(66913),n=i(63280),a=i(58144);async function l(e,t,i){const s=i?"https://www.arcgis.com/sharing/rest/":(0,r.g)(t),n=`${null!=s?s:(0,r.g)(t)}community/users/${e}`,a=(null==n?void 0:n.includes("www.arcgis.com"))&&t.isPortal?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,o.f)((async()=>{try{return await(0,o.r)(n,{},a)}catch(t){return{username:e}}}),"user",n)}async function c(e,t,i,r){var s,o;if("public_authoritative"===(null==e?void 0:e.contentStatus)||"public_authoritative"===(null===(s=e.sourceJSON)||void 0===s?void 0:s.contentStatus)){const s=await(0,a.f)(e,i,t,r);if(!s)return l(e.owner,t,r);const{description:c,name:u,thumbnail:p,url:h}=s;return{description:c?(0,n.s)(c):"",fullName:u,username:e.owner,thumbnail:p,id:e.orgId||(null===(o=e.portal)||void 0===o?void 0:o.id),url:h}}return l(e.owner,t,r)}async function u(e,t,i){const s=i?"https://www.arcgis.com/sharing/rest/":(0,r.g)(t),n=i?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,o.f)((async()=>(0,o.r)(`${s}community/groups`,{q:`(owner:"${e}")`,num:100},n)),"userGroups",e)}async function p(e,t,i){const n=i?"https://www.arcgis.com/sharing/rest/":(0,r.g)(t),a=i?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,o.f)((async()=>(await(0,o.r)(`${n}search`,{q:`(owner:"${e}") ${s.H}`,num:1},a)).total),"userItemsTotal",e)}function h(e,t,i=!1){if(e.thumbnailUrl)return e.thumbnailUrl;if(!e.thumbnail)return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const s=(0,o.g)(t);return`${(0,r.g)(t)}community/users/${e.username}/info/${e.thumbnail}${s&&!i?`?token=${s}`:""}`}function d(e,t){const{fullName:i,firstName:r,lastName:s,username:o}=e;return i||(r&&s?"ja"===t?`${s} ${r}`:`${r} ${s}`:o)}},58144:(e,t,i)=>{i.d(t,{f:()=>o});var r=i(66913),s=i(63280);async function o(e,t,i,o){var n,a,l;const c=null!==(l=null!==(n=e.orgId)&&void 0!==n?n:null===(a=e.portal)||void 0===a?void 0:a.id)&&void 0!==l?l:null==i?void 0:i.id;return(0,r.f)((()=>async function(e,t,i,o,n){var a,l;const c=(null===(a=e.portal)||void 0===a?void 0:a.portalHostname)||(null==o?void 0:o.portalHostname)||(null===(l=null==o?void 0:o.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),u=n?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!n)return null;const p=n?{disableIdentityLookup:!0,addTokenManually:!1}:{},h=await(0,r.r)(u,{},p),{urlKey:d,thumbnail:m,customBaseUrl:g}=h,v=`https://${d}.${g}/`,f=m?`${v}sharing/rest/portals/self/resources/${m}`:null;let w,b;try{const e=await(0,r.r)(`${u}/resources/localizedOrgProperties`,{start:1,num:100},p);if(e){const t=e[i]||e.default;w=t.name,b=t.description||e.description}}catch(e){}return{name:w||h.name,description:(0,s.a)(b||h.description),url:`${v}home/`,thumbnail:f}}(e,c,t,i,o)),"verified",c)}}}]);