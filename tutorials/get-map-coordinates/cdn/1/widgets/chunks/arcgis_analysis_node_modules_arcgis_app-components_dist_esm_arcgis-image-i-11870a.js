/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a"],{68305:(e,t,r)=>{r.r(t),r.d(t,{arcgis_image_item_sort_popover:()=>a});var s=r(35110),o=r(1984),i=r(86587),l=r(68132);r(63280),r(21104),r(73838);const a=class{constructor(e){(0,s.r)(this,e),this.arcgisImageItemSortChangeSaved=(0,s.c)(this,"arcgisImageItemSortChangeSaved",7),this.arcgisImageItemSortPopoverClosed=(0,s.c)(this,"arcgisImageItemSortPopoverClosed",7),this.renderSortFieldList=()=>{const{fields:e,selectedSortField:t}=this,r=(0,l.h)(e).map((e=>(0,s.h)("calcite-list-item",{label:e.name,value:e,selected:e.name===(null==t?void 0:t.name)})));return(0,s.h)("calcite-list",{"selection-mode":"single-persist",class:"field-list-wrapper",onCalciteListChange:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortField=t[0]}},r)},this.renderSortOrderChipGroup=()=>{const{strings:e,selectedSortField:t,selectedSortOrder:r}=this,{type:o}=t||{};let i=[];"string"===o?i=[{displayText:e.alphabetical,sortOrder:l.S.Asc},{displayText:e.reverseAlphabetical,sortOrder:l.S.Desc}]:"date"===o?i=[{displayText:e.mostRecent,sortOrder:l.S.Desc},{displayText:e.leastRecent,sortOrder:l.S.Asc}]:(0,l.q)(o)&&(i=[{displayText:e.highestValue,sortOrder:l.S.Desc},{displayText:e.lowestValue,sortOrder:l.S.Asc}]);const a=i.map((e=>{const{displayText:t,sortOrder:o}=e;return(0,s.h)("calcite-chip",{value:o,selected:r===o,appearance:"outline",kind:"neutral"},t)}));if(!(a.length<=0))return(0,s.h)("calcite-chip-group",{class:"sort-order-chip-group",label:e.sortOrder,"selection-mode":"single-persist",onCalciteChipGroupSelect:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortOrder=t[0]}},a)},this.handleSortChangeSaved=()=>{const{selectedSortField:e,selectedSortOrder:t}=this;this.arcgisImageItemSortChangeSaved.emit({sortField:e,sortOrder:t}),this.arcgisImageItemSortPopoverClosed.emit()},this.referenceElement=void 0,this.fields=[],this.preselectedSortField=void 0,this.preselectedSortOrder=void 0,this.open=void 0,this.selectedSortField=void 0,this.selectedSortOrder=void 0}async componentWillLoad(){[this.strings]=await(0,o.g)(this.hostElement,"arcgis-image-collection-explorer")}updateModal(e){e&&(this.selectedSortField=this.preselectedSortField,this.selectedSortOrder=this.preselectedSortOrder)}render(){const{strings:e,open:t}=this;return(0,s.h)(s.H,{class:"js-app-flyout"},(0,s.h)("calcite-popover",{dir:(0,i.g)(this.hostElement),autoClose:!0,label:e.sort,referenceElement:this.referenceElement,closable:!0,heading:e.sort,placement:"leading-start",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:130,open:t,onCalcitePopoverClose:()=>{this.arcgisImageItemSortPopoverClosed.emit()}},(0,s.h)("calcite-panel",{class:"sort-popover-wrapper"},(0,s.h)("calcite-label",{class:"label-wrapper"},e.sortByField),this.renderSortFieldList(),(0,s.h)("calcite-label",{class:"label-wrapper"},e.sortOrder),this.renderSortOrderChipGroup(),(0,s.h)("div",{class:"button-wrapper"},(0,s.h)("calcite-button",{width:"full",onClick:this.handleSortChangeSaved},e.done)))))}get hostElement(){return(0,s.d)(this)}static get watchers(){return{open:["updateModal"]}}};a.style=".sort-popover-wrapper{display:flex;padding:1rem;min-width:320px;max-height:50vh;background-color:var(--calcite-color-foreground-1) !important}.label-wrapper{background-color:var(--calcite-color-foreground-1);padding-top:0.5rem}.field-list-wrapper{overflow-y:auto}.sort-order-chip-group{padding:0 0.5rem 0.5rem;background-color:var(--calcite-color-foreground-1)}.button-wrapper{padding:1rem 0.25rem 0.25rem;background-color:var(--calcite-color-foreground-1)}"}}]);