/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a7f161.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a7f161"],{73838:(e,i,t)=>{t.d(i,{a:()=>a,c:()=>n,g:()=>o});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,i,t){return e(t={path:i,exports:{},require:function(e,i){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},t.exports),t.exports}},82669:(e,i,t)=>{t.d(i,{a:()=>o,b:()=>r,c:()=>n,d:()=>a});const a=(0,t(23505).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),o=a.state,n=a.state,r=a.state},43492:(e,i,t)=>{t.d(i,{a:()=>u,s:()=>p});var a=t(11992),o=(t(2137),t(21104),t(82669)),n=t(24147),r=t(30007),s=t(91659),l=t(70392),d=t(66913);function c(e,i,t,a){var o,n,r,s;const l=null!==(o=i.latitudeFieldName)&&void 0!==o?o:t.latitudeFieldName,d=null!==(n=i.longitudeFieldName)&&void 0!==n?n:t.longitudeFieldName,c=null!==(r=i.coordinateFieldName)&&void 0!==r?r:t.coordinateFieldName,u=null!==(s=i.coordinateFieldType)&&void 0!==s?s:t.coordinateFieldType;return a[e.name]?a[e.name]:e.name===c?null==u?void 0:u.toLowerCase():e.name===l?"latitude":e.name===d?"longitude":e.locationType||"unknown"}async function u({analyzeArgs:e,configArgs:i,itemArgs:t,initialize:u}){var y,g;const{config:m,lang:v,portal:f,user:T}=i,{itemType:b}=t;if(u&&(0,s.t)(T)){const e=(0,r.b)(null!==(g=null===(y=f.helperServices)||void 0===y?void 0:y.geocode)&&void 0!==g?g:[],T,f.isPortal);if(e&&(o.a.allowGeocode=e.allowGeocode,o.a.isAgoWorldGeocodeServer=e.isAgoWorldGeocodeServer,o.a.isServiceProxyAgoWorldGeocodeServer=e.isServiceProxyAgoWorldGeocodeServer,o.a.isWorldGeocodeServer=e.isWorldGeocodeServer,o.a.geocodeServers=e.geocodeServers,o.a.geocodeServiceUrl=e.geocodeServiceUrl),o.a.geocodeServers){o.a.sourceCountry=(0,r.d)(T.region,f.ipCntryCode);try{o.a.countryCodes=await async function(e,i,t){const a=(0,r.f)(e,t);let o;if(null==a?void 0:a.itemId){const e=`${i}/content/items/${a.itemId}`,t=await(0,d.r)(e),n=t.proxyFilter&&JSON.parse(t.proxyFilter).sourceCountry;n&&(o=n.split(",").map((e=>e.toLowerCase())),o.push("world"))}return Object.keys(r.c).map((e=>({label:r.c[e],value:e}))).filter((({value:e})=>!o||o.includes(e.toLowerCase()))).sort(((e,i)=>e.label<i.label?-1:e.label>i.label?1:0))}(o.a.geocodeServiceUrl,m.restBaseUrl,o.a.geocodeServers),o.a.standardizedFieldNames=await h(o.a.geocodeServiceUrl,v)}catch(e){return console.error("Geocoder unavailable",e),{error:{code:"unavailableGeocoder"}}}}}const{locationType:S,isWorldGeocodeServer:w,geocodeServiceUrl:F,geocodeServers:C,isServiceProxyAgoWorldGeocodeServer:L,sourceCountry:k,analyzeResults:M,analyzedLocationTypes:G}=o.a,A=`${m.restBaseUrl}content/features/analyze`,{isPortal:I}=f;let x,P=!1;"item"===(null==e?void 0:e.type)&&"append"===e.workflow?(x=n.a[b],P=!0):x="Microsoft Excel"===b?"excel":b.toLowerCase();let O={filetype:x};switch(null==e?void 0:e.type){case"url":O.sourceUrl=e.sourceUrl;break;case"item":O.itemid=e.itemid;break;case"file":O=new FormData,O.append("file",e.file),O.append("filetype",x);break;case"text":O.text=e.text}const N={enableGlobalGeocoding:!0,sourceLocale:v,locationType:S,returnEstimatedRowCount:!0,returnSize:!0};if(I&&F||!I){if((I||!I&&(null==C?void 0:C.length))&&(N.geocodeServiceUrl=encodeURI(F)),M||I){const e="address"===S?"addressTypes":"locationTypes";-1===G.indexOf(e)&&G.push(e),N.locationType=S||"coordinates"}(!f.isPortal&&w||f.isPortal&&L)&&(N.sourceCountryHint=M?"":k.toLowerCase(),N.sourceCountry=M?k.toLowerCase():"");const e=JSON.stringify(N);O instanceof FormData?O.append("analyzeParameters",e):O.analyzeParameters=e}try{return async function({response:e,analyzeSelectedLayer:i,initialize:t,geocodeServiceUrl:n,lang:s,portal:u,itemType:h}){var y,g,m,v,f,T;const b=o.a,S=u.isPortal,w="Microsoft Excel"===h?null!==(g=null===(y=e.publishParameters.layers)||void 0===y?void 0:y[b.selectedSheet])&&void 0!==g?g:null===(m=e.publishParameters.layers)||void 0===m?void 0:m[0]:e.publishParameters;let F;if(!S&&b.isWorldGeocodeServer||S&&b.isServiceProxyAgoWorldGeocodeServer){const e=(0,a.a)(w.sourceCountry);F=b.sourceCountry||w.sourceCountry||"world",F="wo"===F?"world":F,o.a.isWorldGeocodeServer=e,o.a.sourceCountry=F}b.allowGeocode||"address"!==w.locationType||(o.a.locationType="none"),function(e){var i,t,a,n,r,s;const{selectedSheet:l}=o.a,{publishParameters:d}=e,u=null!==(n=null!==(t=null===(i=d.layers)||void 0===i?void 0:i[l])&&void 0!==t?t:null===(a=d.layers)||void 0===a?void 0:a[0])&&void 0!==n?n:d.layerInfo;if(!u)return e;const p=null!==(s=null!==(r=u.addressFields)&&void 0!==r?r:d.addressFields)&&void 0!==s?s:{},h=Object.keys(p).reduce(((e,i)=>Object.assign(Object.assign({},e),{[p[i]]:i})),{});u.fields=u.fields.map((e=>Object.assign(Object.assign({},e),{locationType:c(e,u,d,h)}))),o.a.selectedFields&&(o.a.selectedFields=Object.keys(o.a.selectedFields).reduce(((e,i)=>{const t=o.a.selectedFields[i];return e[i]=Object.assign(Object.assign({},t),{locationType:c(t,u,d,h)}),e}),{}))}(e);const C=function(e){return function(e,i){var t,a,o,n;const{selectedFields:r,type:s,selectedSheet:l}=i;if(!r)return e;const d=e.publishParameters;let c=null==d?void 0:d.layerInfo;switch(s){case"Microsoft Excel":c=null!==(a=null===(t=null==d?void 0:d.layers)||void 0===t?void 0:t[l])&&void 0!==a?a:null===(o=null==d?void 0:d.layers)||void 0===o?void 0:o[0];break;case"GeoJson":c=null===(n=null==d?void 0:d.layers)||void 0===n?void 0:n[0]}return c.fields=c.fields.reduce(((e,i)=>{const t=r[i.name];return t&&(i.alias=t.alias,e.push(i)),e}),[]),e}(e,o.a)}(e);o.a.analyzeResults=C,(null===(v=null==C?void 0:C.publishParameters)||void 0===v?void 0:v.layers)&&(o.a.excelLayers=null===(f=null==C?void 0:C.publishParameters)||void 0===f?void 0:f.layers);const L=(0,r.a)(e,i);var k;t?o.a.backupLayerFields=JSON.parse(JSON.stringify(L.fields)):w.standardizedFieldNames?o.a.standardizedFieldNames=w.standardizedFieldNames:p({lang:s,geocodeServiceUrl:n,locationType:o.a.locationType}),"address"===o.a.locationType||"address"===L.locationType||"address"===(null===(T=null==e?void 0:e.publishParameters)||void 0===T?void 0:T.locationType)?o.a.geocodeCost=await(k=L.estimatedRecordCount,(0,d.r)(`${(0,l.g)()}portals/self/cost`,{geocodeCount:k})):o.a.geocodeCost=null}({response:await(O instanceof FormData?(0,d.a)(A,O,{},"post"):(0,d.r)(A,O,{},"post")),initialize:u,analyzeSelectedLayer:P,geocodeServiceUrl:F,lang:v,portal:f,itemType:b}),{}}catch(e){console.error(e);const i=(null==e?void 0:e.message)||e||"";switch(!0){case i.includes("specify data to be analyzed"):return{error:{code:"emptyFile"}};case i.includes("Duplicate field names are not allowed"):return{error:{code:"duplicateFieldNames"}};case i.toLowerCase().includes("timeout"):return{error:{code:"timeout"}}}return{error:{code:"unhandledError"}}}}async function p({lang:e,geocodeServiceUrl:i,locationType:t}){"address"===t&&(o.a.standardizedFieldNames=await h(i,e))}async function h(e,i){return(await(0,d.r)(e,{},{addTokenManually:!1})).addressFields.reduce(((e,t)=>{var a;return"unknown"!==t.name&&(e[t.name]=(null===(a=null==t?void 0:t.localizedNames)||void 0===a?void 0:a[`${i}`])||t.alias||t.name),e}),{})}},24147:(e,i,t)=>{t.d(i,{A:()=>s,N:()=>o,a:()=>r,b:()=>n,c:()=>d,d:()=>l,u:()=>a});const a=["esriFieldTypeOID","esriFieldTypeGlobalID"],o="<None>",n={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},r={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},s={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},l=["zip","csv","xls","xlsx","geojson","gpkg","json"],d=["zip","csv","xls","xlsx"]},48303:(e,i,t)=>{t.r(i),t.d(i,{arcgis_new_item_pages_csv_location_fields:()=>p});var a=t(35110),o=t(46710),n=t(86587),r=t(43492),s=t(82669),l=t(84873),d=t(30007),c=t(31522),u=t(91659);t(23505),t(21104),t(73838),t(63280),t(11992),t(2137),t(24147),t(70392),t(66913),t(17752),t(56086);const p=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.workflowComplete=(0,a.c)(this,"workflowComplete",7),this.newItemToggleNavigationEnabled=(0,a.c)(this,"newItemToggleNavigationEnabled",7),this.newItemDisableCloseButtons=(0,a.c)(this,"newItemDisableCloseButtons",7),this.userHasAssignedCredits=!1,this.orgIsRestricted=!1,this.showTotalCredits=!1,this.isAppendWorkflow=!1,this.logCSVLocationFieldsChanges=()=>{const e=o.c.telemetry,i={eventType:"other",pageName:"my content",category:"new item csv location settings",label:this.currentLocationType};"address place names"===this.currentLocationType&&(this.displayEnrichLayerSettings?i.action="GeometryOnly"===this.selectedCandidateFieldsType?"enrich with some fields":"enrich with all fields":i.action="enrich with no fields",i.facetValue="Multiple"===this.selectedLocationFieldSelectionType?"multi":"single line address",i.details=this.initialLocator===s.a.geocodeServiceUrl?"default locator":"locator changed",i.attribute=this.initialRegion===s.a.sourceCountry?"default region":"region changed"),null==e||e.logEvent(i)},this.selectedLocationType="none",this.advancedExpanded=!1,this.selectedCandidateFieldsType="GeometryOnly",this.displayEnrichLayerSettings=!1,this.selectedLocationFieldSelectionType="Single",this.error=void 0,this.i18n=void 0}async handleNext(){var e;if((this.orgIsRestricted||this.userHasAssignedCredits)&&this.hasInsufficientCredits())return this.error=this.i18n.errors.insufficientCredits,void(null===(e=this.estimate)||void 0===e||e.scrollIntoView());const i=this.validateFields();if(i)this.error=i;else{if(this.error=null,this.isAppendWorkflow&&("add"===s.a.addAppendSelectOption||"upsert"===s.a.addAppendSelectOption)&&"none"===s.a.locationType&&"esriGeometryPoint"===s.a.sourceDataLayer.geometryType)return void(this.error=this.i18n.errors.noLocationTypeForAppend);const e=s.a.analyzeResults,i=(0,d.e)(this.selectedLocationFieldSelectionType,this.isAppendWorkflow);if(s.a.analyzeResults=Object.assign(Object.assign({},e),{publishParameters:i}),this.isAppendWorkflow){const{name:e}=s.a.dataLayer;s.a.dataLayer=i,s.a.dataLayer.name=e}this.logCSVLocationFieldsChanges();let t="itemProperties";this.isAddToMapTerminalPage()?this.workflowComplete.emit({type:s.a.type,url:encodeURI(s.a.url),customParameters:s.a.customParameters,results:{analyzeResults:s.a.analyzeResults,fields:s.a.selectedFields}}):(this.isAppendWorkflow&&(t="add"!==s.a.addAppendSelectOption||s.a.backupLayerFields.some((e=>"esriFieldTypeDate"===e.type))&&!this.isEnterprise?"appendKeyPairSelect":"appendMatchFields"),this.newItemUpdatePage.emit(t))}}hasInsufficientCredits(){return"address"===this.selectedLocationType&&(0,d.i)(s.a.geocodeServiceUrl)&&s.a.geocodeCost&&s.a.geocodeCost.transactionCreditCost>s.a.geocodeCost.availableCredits}showUnrestrictedOrgCreditsNotice(){return!(this.orgIsRestricted||this.userHasAssignedCredits)&&this.hasInsufficientCredits()}isAddToMapTerminalPage(){return"map"===l.u.workflow&&"url"===s.a.newItemMode&&!s.a.enablePublishing}async analyze(){var e;const{file:i,url:t,existingItem:a,id:n,cloudProviderResource:l,type:d}=s.a,{portal:u,user:p,config:h,lang:y}=o.c;return(0,r.a)({analyzeArgs:(a||l||(0,c.a)(null!==(e=null==i?void 0:i.size)&&void 0!==e?e:0))&&n?{type:"item",itemid:n}:i?{type:"file",file:i}:{type:"url",sourceUrl:t},itemArgs:{itemType:d},configArgs:{portal:u,user:p,config:h,lang:y}})}async componentWillLoad(){var e,i,t,a,n,c;const{analyzeResults:p,type:h,selectedSheet:y,standardizedFieldNames:g,enablePublishing:m,cloudProviderResource:v,geocodeServiceUrl:f}=s.a,{portal:T,user:b,config:S,lang:w}=o.c,F=(0,d.a)();this.isAppendWorkflow="append"===l.u.workflow,this.subscriptionInfo=o.c.subscriptionInfo,this.isEnterprise=T.isPortal;const C=this.isAppendWorkflow&&S.self.isPortal,L=4===o.c.api?null===(e=b.sourceJSON)||void 0===e?void 0:e.assignedCredits:b.assignedCredits;this.userHasAssignedCredits=L>0,this.orgIsRestricted="restricted"===(null===(i=this.subscriptionInfo)||void 0===i?void 0:i.state),this.i18n=l.u.i18n.csvLocationFields,this.isAddToMapTerminalPage()&&(l.u.nextText="addToMap");let k=C?["coordinates","none"]:["coordinates","address","none","mgrs","usng"];const M=(0,u.t)(b)&&s.a.geocodeServers&&("map"!==l.u.workflow||m),G=(0,u.c)(o.c.subscriptionInfo);this.showTotalCredits=(0,u.B)(b,T);const{selectedLocationFieldSelectionType:A}=s.a;this.selectedLocationFieldSelectionType=null!=A?A:"Single";const I="map"===l.u.workflow&&!m;this.locationTypes=k.map((e=>({optionTitle:this.i18n.locationTypes[e].title,description:G&&"address"===e?this.i18n.locationTypes.address.descriptionDeveloper:this.i18n.locationTypes[e].description.replace("${type}","googlesheets"===(null==v?void 0:v.cloudFileType)?"Google Sheet":h),value:e,badge:"address"!==e||o.c.portal.isPortal||G?null:{label:this.i18n.consumesCredits,icon:"credits"},icon:"none"===e?"table":"layer-points"}))).filter((({value:e})=>("address"!==e||M)&&("coordinates"===e||!I)));const x=null==p?void 0:p.publishParameters;if(x){const e="Microsoft Excel"===h?null!==(a=null===(t=null==x?void 0:x.layers)||void 0===t?void 0:t[y])&&void 0!==a?a:null===(n=null==x?void 0:x.layers)||void 0===n?void 0:n[0]:null==p?void 0:p.publishParameters;if((e.latitudeFieldName||e.longitudeFieldName)&&(this.selectedLocationType="coordinates",s.a.locationType="coordinates",s.a.coordinateFieldType="LatitudeAndLongitude"),"coordinates"===x.locationType&&x.coordinateFieldType)switch(s.a.locationType="coordinates",x.coordinateFieldType){case"MGRS":this.selectedLocationType="mgrs",s.a.coordinateFieldType="MGRS";break;case"USNG":this.selectedLocationType="usng",s.a.coordinateFieldType="USNG";break;default:this.selectedLocationType="coordinates",s.a.coordinateFieldType="LatitudeAndLongitude"}else"address"===e.locationType&&M&&(this.selectedLocationType="address",s.a.locationType="address");null!==(c=s.a.locationType)&&void 0!==c||(s.a.locationType="none")}if(1===this.locationTypes.length){const e=this.locationTypes[0].value;this.selectedLocationType=e,s.a.locationType="mgrs"===e||"usng"===e?"coordinates":e}M||"address"!==this.selectedLocationType||(this.selectedLocationType="coordinates",s.a.locationType="coordinates"),"address"!==this.selectedLocationType||F.addressFields||(s.a.locationType="address"),g||await(0,r.s)({geocodeServiceUrl:f,locationType:s.a.locationType,lang:w}),C&&(this.selectedLocationType="coordinates",s.a.locationType="coordinates"),this.initialLocator=s.a.geocodeServiceUrl,this.initialRegion=s.a.sourceCountry,this.setLocationTypeTelemetry(this.selectedLocationType)}validateFields(){const{standardizedFieldNames:e,selectedFields:i,backupLayerFields:t}=s.a,a=this.isAppendWorkflow?t:Object.values(i),o=!a.find((({locationType:i})=>{const t=(null==i?void 0:i.toLowerCase())===this.selectedLocationType.toLowerCase(),a=!!(null==e?void 0:e[i]);return t||a}));switch(this.selectedLocationType){case"usng":case"mgrs":if(o)return this.i18n.errors.noFieldSelected;break;case"address":if("Single"===this.selectedLocationFieldSelectionType&&o)return this.i18n.errors.noFieldSelected;if("Multiple"===this.selectedLocationFieldSelectionType&&!a.find((e=>e.locationType&&"unknown"!==e.locationType)))return this.i18n.errors.noFieldSelected;break;case"coordinates":if(a.filter((({locationType:e})=>"latitude"===e||"longitude"===e)).length<2)return this.i18n.errors.coordinate}}async updateLocationType(e,i){if(this.selectedLocationType=e,"none"===e)return s.a.locationType="none",void(this.currentLocationType="none");switch(e){case"mgrs":s.a.coordinateFieldType="MGRS",s.a.locationType="coordinates";break;case"coordinates":s.a.coordinateFieldType="LatitudeAndLongitude",s.a.locationType="coordinates";break;case"usng":s.a.coordinateFieldType="USNG",s.a.locationType="coordinates";break;case"address":s.a.locationType="address"}i&&await this.analyze(),this.setLocationTypeTelemetry(e)}setLocationTypeTelemetry(e){switch(e){case"mgrs":this.currentLocationType="mgrs coordinates";break;case"coordinates":this.currentLocationType="lat lon";break;case"usng":this.currentLocationType="usng coordinates";break;case"address":this.currentLocationType="address place names";break;case"none":this.currentLocationType="none"}}async updateGeocodeServer(e){s.a.geocodeServiceUrl=e,await this.analyze()}async updateRegion(e){s.a.sourceCountry=e,await this.analyze()}handleEnrichLayerSwitchChange(e){const i=e.target.checked;this.displayEnrichLayerSettings=i,this.updateCandidateFields(i?"Minimal":"GeometryOnly")}updateCandidateFields(e){this.selectedCandidateFieldsType=e,s.a.candidateFieldsType=e}renderLocationFields(){const{standardizedFieldNames:e}=s.a,i={address:e,coordinates:{latitude:this.i18n.latitude,longitude:this.i18n.longitude},mgrs:{mgrs:"MGRS"},usng:{usng:"USNG"}}[this.selectedLocationType];if("Single"===this.selectedLocationFieldSelectionType&&"address"===this.selectedLocationType&&i){const e=Object.keys(i)[0];return(0,a.h)("div",{class:"row",role:"row"},(0,a.h)("div",{class:"cell",role:"cell"},i[e]),(0,a.h)("div",{class:"cell",role:"cell"},this.renderFieldSelect(e,i[e])))}return i&&Object.keys(i).map((e=>(0,a.h)("div",{class:"row",role:"row"},(0,a.h)("div",{class:"cell",role:"cell"},i[e]),(0,a.h)("div",{class:"cell",role:"cell"},this.renderFieldSelect(e,i[e])))))}updateFieldLocationType(e,i){(this.isAppendWorkflow?s.a.backupLayerFields:Object.values(s.a.selectedFields)).forEach((t=>{t.name===e?t.locationType=i:t.locationType===i&&(t.locationType="unknown")}))}handleLocationFieldSelectionChange(e){this.selectedLocationFieldSelectionType=e,s.a.selectedLocationFieldSelectionType=e}renderFieldSelect(e,i){const t=this.isAppendWorkflow?s.a.backupLayerFields:s.a.selectedFields,o=Object.keys(t).map((e=>t[e])),n=!o.some((i=>i.locationType===e));return(0,a.h)("calcite-select",{label:i,role:"cell",onCalciteSelectChange:i=>this.updateFieldLocationType(i.currentTarget.selectedOption.value,e)},(0,a.h)("calcite-option",{value:"unknown",selected:n},this.i18n.unknown),o.map((i=>(0,a.h)("calcite-option",{value:i.name,selected:i.locationType===e},i.alias||i.name))))}render(){var e,i,t,r,c;const{geocodeServiceUrl:p,geocodeServers:h,geocodeCost:y,sourceCountry:g,countryCodes:m,backupLayerFields:v}=s.a;if(!v)return;const{config:f}=o.c,T=null!==(i=null===(e=(0,d.a)())||void 0===e?void 0:e.estimatedRecordCount)&&void 0!==i?i:0,{helpMap:b,helpBase:S}=f,w=(0,n.g)(this.el);return(0,a.h)("div",{class:"wrapper"},(0,a.h)("arcgis-select",{class:"label--top",selectedOption:this.selectedLocationType,options:this.locationTypes,label:this.i18n.locationSettings,labelDescription:this.i18n.locationSettingsDescription,onArcgisOptionChange:e=>this.updateLocationType(e.detail,!0)}),"none"!==this.selectedLocationType&&(0,a.h)("div",null,"address"===this.selectedLocationType&&(0,a.h)("div",{class:"advanced"},(0,a.h)("button",{class:"advanced__toggle","aria-expanded":this.advancedExpanded.toString(),"aria-controls":"advanced__content",onClick:()=>this.advancedExpanded=!this.advancedExpanded},(0,a.h)("calcite-icon",{icon:"chevron-up",scale:"s",class:{advanced__icon:!0,[n.C.rtl]:"rtl"===w,"advanced__icon--open":this.advancedExpanded}}),this.i18n.advancedSettings),this.advancedExpanded&&(0,a.h)("div",{class:"advanced__content",id:"advanced__content"},(0,a.h)("div",{class:"two-up"},(0,a.h)("calcite-label",{class:"column"},this.i18n.locator,(0,a.h)("calcite-select",{label:"",onCalciteSelectChange:e=>this.updateGeocodeServer(e.currentTarget.selectedOption.value)},null==h?void 0:h.map((e=>(0,a.h)("calcite-option",{value:e.url,selected:e.url===p},e.name))))),(0,a.h)("calcite-label",{class:"column"},this.i18n.region,(0,a.h)("calcite-select",{label:"",onCalciteSelectChange:e=>this.updateRegion(e.currentTarget.selectedOption.value)},null==m?void 0:m.map((e=>(0,a.h)("calcite-option",{value:e.value,selected:e.value.toLowerCase()===g.toLowerCase()},this.i18n.countryCodes[e.value.toUpperCase()]||e.label)))))),!o.c.portal.isPortal&&!this.isAppendWorkflow&&(0,a.h)("div",{class:"enrich-layer-container"},(0,a.h)("calcite-label",{layout:"inline-space-between"},(0,a.h)("span",{class:"enrich-title"},this.i18n.enrich,(0,a.h)("arcgis-information",{label:null===(t=l.u.i18n)||void 0===t?void 0:t.moreInfo,placement:"top-start",paddedContent:!0},(0,a.h)("p",{class:"enrich-description"},this.i18n.enrichLayerDescription),(0,a.h)("calcite-link",{target:"_blank",href:`${S}${b[120002541]}`},this.i18n.enrichLayerLink))),(0,a.h)("calcite-switch",{checked:this.displayEnrichLayerSettings,onCalciteSwitchChange:this.handleEnrichLayerSwitchChange.bind(this)})),this.displayEnrichLayerSettings?(0,a.h)("calcite-radio-button-group",{layout:"vertical",name:"enrich-group",onCalciteRadioButtonGroupChange:e=>this.updateCandidateFields(e.target.selectedItem.value)},["Minimal","AllFields"].map((e=>(0,a.h)("calcite-label",{layout:"inline",key:e},(0,a.h)("calcite-radio-button",{checked:this.selectedCandidateFieldsType===e,value:e}),(0,a.h)("span",{class:"enrich-radio-text"},this.i18n.candidateFieldsTypes[e].description))))):null))),(0,a.h)("h3",{class:"header"},this.i18n.locationFields," ",(0,a.h)("span",{class:"asterisk"},"*")),"address"===this.selectedLocationType?(0,a.h)("calcite-radio-button-group",{name:"location-field-selection-group",layout:"vertical",onCalciteRadioButtonGroupChange:e=>this.handleLocationFieldSelectionChange(e.target.selectedItem.value)},["Single","Multiple"].map((e=>(0,a.h)("calcite-label",{layout:"inline",key:e},(0,a.h)("calcite-radio-button",{checked:this.selectedLocationFieldSelectionType===e,value:e}),this.i18n["Single"===e?"locationFieldSingle":"locationFieldMultiple"])))):null,(0,a.h)("div",{role:"table",class:"table"},(0,a.h)("div",{class:"row row--header",role:"row"},(0,a.h)("span",{class:"cell cell--header",role:"columnheader","aria-sort":"none"},this.i18n.locationType),(0,a.h)("span",{class:"cell cell--header",role:"columnheader","aria-sort":"none"},this.i18n.field)),this.renderLocationFields())),"address"===this.selectedLocationType&&y&&!o.c.portal.isPortal&&(0,d.i)(p)&&(0,a.h)(a.F,null,(0,u.c)(o.c.subscriptionInfo)?(0,a.h)("div",null,(0,a.h)("calcite-notice",{scale:"m",width:"full",open:!0,icon:"information"},(0,a.h)("div",{slot:"message"},this.i18n.recordCount.replace("${num}",`${T}`)))):(0,a.h)("arcgis-credit-estimate",{transactionCreditCost:y.transactionCreditCost,availableCredits:y.availableCredits,showTotal:this.showTotalCredits,class:"credit-estimate",api:o.c.api,ref:e=>this.estimate=e}),this.showUnrestrictedOrgCreditsNotice()&&(0,a.h)("calcite-notice",{class:"notice",kind:"brand",icon:"information",open:!0},(0,a.h)("div",{slot:"title"},this.i18n.unrestrictedOrgCredits.title),(0,a.h)("div",{slot:"message"},this.i18n.unrestrictedOrgCredits.description))),(0,a.h)("arcgis-new-item-alert",{heading:null===(r=this.error)||void 0===r?void 0:r.title,description:null===(c=this.error)||void 0===c?void 0:c.description,active:!!this.error,onAlertDismiss:()=>this.error=null}))}get el(){return(0,a.d)(this)}};p.style=".wrapper{padding-bottom:2rem}.table{margin-bottom:1.5rem}.row{display:flex;align-items:center;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem;box-shadow:0px -1px 0px #eaeaea}.row--header{box-shadow:none}.cell{box-sizing:border-box;width:50%;padding:0.5rem;font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-1)}.cell--header{font-weight:400}.advanced{margin-top:1rem;margin-bottom:2rem;background-color:var(--calcite-color-foreground-2)}.advanced__toggle{margin:0px;box-sizing:border-box;display:flex;width:100%;cursor:pointer;align-items:center;border-radius:0;border-style:none;padding:1.25rem;font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-2);background-color:transparent;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.advanced__toggle:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.advanced__icon{margin-inline-end:1rem;transform:rotate(90deg);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.arcgis--rtl{transform:rotate(-90deg)}.advanced__icon--open{transform:rotate(180deg)}.advanced__content{padding-left:1.25rem;padding-right:1.25rem;padding-top:0.5rem;padding-bottom:0.5rem}.two-up{margin-bottom:0.75rem;display:flex;justify-content:space-between}.column{width:calc(50% - 6px)}.header{margin:0px;margin-bottom:0.5rem;padding:0px;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.description{margin:0px;margin-bottom:1.5rem;padding:0px;font-size:1rem;color:var(--calcite-color-text-3)}.enrich-layer-container{background-color:var(--calcite-color-foreground-1);border:1px solid var(--calcite-color-border-input);padding:15px 15px 0px 15px}.enrich-switch{display:flex;justify-content:space-between}.enrich-title{display:flex;color:var(--calcite-color-text-1)}.enrich-radio-text{color:var(--calcite-color-text-3)}.radio{margin-bottom:0.75rem}.asterisk{color:var(--calcite-color-status-danger)}.notice{margin-top:0.5rem}.loader-overlay{overflow:hidden}.enrich-description{margin-bottom:0.75rem;margin-top:0px}"},11992:(e,i,t)=>{var a;function o(e){return null!=e}function n(e,i){for(;e;){if(e.nodeName===i.toUpperCase())return!0;e=e.parentElement}return!1}t.d(i,{a:()=>o,i:()=>n,s:()=>a}),function(e){e.SMALL="s",e.MEDIUM="m",e.LARGE="l"}(a||(a={}))},2137:(e,i,t)=>{var a,o,n,r,s,l;t.d(i,{L:()=>l,a:()=>s,f:()=>o,i:()=>a,l:()=>n,s:()=>r}),function(e){e.sourceUrl="sourceUrl",e.title="title",e.caption="caption",e.linkUrl="linkUrl",e.altText="altText"}(a||(a={})),function(e){e.expression="expression/",e.relationship="relationships/",e.raster="Raster."}(o||(o={})),function(e){e.feature="feature",e.cluster="cluster",e.mapNotes="mapNotes"}(n||(n={})),function(e){e.feature="feature",e.mapImage="map-image",e.scene="scene",e.ogcFeature="ogc-feature",e.imagery="imagery",e.wfs="wfs",e.wms="wms",e.csv="csv",e.geojson="geojson",e.stream="stream",e.imageryTile="imagery-tile",e.tile="tile",e.subtype="subtype",e.orientedImagery="oriented-imagery"}(r||(r={})),function(e){e.integer="integer",e.smallInteger="small-integer",e.bigInteger="big-integer",e.single="single",e.double="double",e.long="long",e.string="string",e.date="date",e.dateOnly="date-only",e.timeOnly="time-only",e.timestampOffset="timestamp-offset",e.oid="oid",e.guid="guid",e.globalId="global-id",e.number="number"}(s||(s={})),function(e){e.default="default",e.display="display",e.type="type",e.field="field"}(l||(l={}))},30007:(e,i,t)=>{t.d(i,{a:()=>d,b:()=>m,c:()=>r,d:()=>g,e:()=>s,f:()=>u,g:()=>c,i:()=>y});var a=t(88703),o=t(91659),n=t(82669);const r={WORLD:"World",EU:"Europe",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo, the Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Côte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia, the former Yugoslav Republic of",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Réunion",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands, British",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Republic of Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function s(e,i){const{sourceCountry:t,locationType:a,analyzeResults:o,candidateFieldsType:r,coordinateFieldType:s,type:c,standardizedFieldNames:u,selectedFields:p}=n.a,h=d(),y=i?n.a.backupLayerFields:Object.values(p),g=Object.assign(Object.assign({locationType:a||"address",sourceCountry:t,candidateFieldsType:r},"coordinates"===a&&function(e,i){return e.reduce(((e,t)=>{switch(t.locationType){case"latitude":e.latitudeFieldName=t.name,i||(e.coordinateFieldType="LatitudeAndLongitude");break;case"longitude":e.longitudeFieldName=t.name,i||(e.coordinateFieldType="LatitudeAndLongitude");break;case"mgrs":"MGRS"===i&&(e.coordinateFieldName=t.name,i||(e.coordinateFieldType="MGRS"));break;case"usng":"USNG"===i&&(e.coordinateFieldName=t.name,i||(e.coordinateFieldType="USNG"))}return e}),{coordinateFieldType:i})}(y,s)),"address"===a&&{addressFields:l(y,e,u)});let m;return m=i||"Microsoft Excel"!==c?Object.assign(Object.assign({},o.publishParameters),g):Object.assign(Object.assign({},o.publishParameters),{layers:[Object.assign(Object.assign({},h),g)],hasStaticData:!0,maxRecordCount:2e3,layerInfo:{capabilities:"Query"}}),m}function l(e,i,t){if("Single"===i){const i=Object.keys(t)[0]||"Address",a=e.find((({locationType:e})=>e===i||"address"===(null==e?void 0:e.toLowerCase())));return{[i]:(null==a?void 0:a.name)||""}}return e.reduce(((e,i)=>("unknown"!==i.locationType&&(e[i.locationType]=i.name),e)),{})}function d(e,i){var t,a,o,r,s,l,d;const{type:c,analyzeResults:u=e,selectedSheet:p}=n.a,h=null==u?void 0:u.publishParameters;if(i)return"CSV"===c?null==h?void 0:h.layerInfo:null!==(a=null===(t=null==h?void 0:h.layers)||void 0===t?void 0:t[p])&&void 0!==a?a:null===(o=null==h?void 0:h.layers)||void 0===o?void 0:o[0];switch(c){case"Microsoft Excel":return null!==(s=null===(r=null==h?void 0:h.layers)||void 0===r?void 0:r[p])&&void 0!==s?s:null===(l=null==h?void 0:h.layers)||void 0===l?void 0:l[0];case"GeoJson":return null===(d=null==h?void 0:h.layers)||void 0===d?void 0:d[0];default:return null==h?void 0:h.layerInfo}}function c(e){switch(e){case"esriFieldTypeBigInteger":return["esriFieldTypeBigInteger","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeSmallInteger":return["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeInteger":return["esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeSingle":return["esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeDouble":return["esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeDate":return["esriFieldTypeDate","esriFieldTypeString"];case"esriFieldTypeDateOnly":return["esriFieldTypeDateOnly","esriFieldTypeString"];case"esriFieldTypeTimeOnly":return["esriFieldTypeTimeOnly","esriFieldTypeString"];case"esriFieldTypeTimestampOffset":return["esriFieldTypeTimestampOffset","esriFieldTypeString"];case"esriFieldTypeOID":return["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeString"];default:return["esriFieldTypeString"]}}function u(e,i){const t=null==i?void 0:i.filter((i=>i.url===e));return(null==t?void 0:t.length)?t.shift():null}function p(e=""){return!!(null==e?void 0:e.match(/(arcgis\.com.*\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi))}function h(e=""){return!!(null==e?void 0:e.match(/(arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi))}function y(e){return!!e&&(h(e)||p(e))}function g(e,i,t){let a=t||e||i||"";return a="wo"===(null==a?void 0:a.toLowerCase())?"world":a,r[a.toUpperCase()]||(a="world"),a}function m(e,i,t){var n;let r=(0,o.s)(i)&&(0,o.t)(i);const s=function(e,i,t){return e.filter((e=>{const o=Object.assign({},e),n=h(null==o?void 0:o.url),r=p(null==o?void 0:o.url);return(n||r)&&((0,a.i)(o.name)?"Esri World Geocoder"===o.name&&(o.name="ArcGIS World Geocoding Service"):o.name="ArcGIS World Geocoding Service"),(!n||!t&&!i)&&((0,a.i)(o.batch)?!!o.batch:n||r)}))}(e,!r,t),l=null===(n=s[0])||void 0===n?void 0:n.url;if(null==s?void 0:s.length){r=!0;const e=u(s[0].url,s),a=h(null==e?void 0:e.url),n=p(null==e?void 0:e.url),d=a||n;let c=d||!!e.batch;return{allowGeocode:(!(0,o.u)(i)||r)&&(!t&&c||t&&(!a||n)&&c),isAgoWorldGeocodeServer:a,isServiceProxyAgoWorldGeocodeServer:n,isWorldGeocodeServer:d,geocodeServers:s,geocodeServiceUrl:l}}return null}},31522:(e,i,t)=>{t.d(i,{a:()=>l,f:()=>n,i:()=>s,m:()=>r});var a=t(88703),o=t(17752);function n(e,i){let t;t=i?i.map((e=>e.type)):Object.keys(o.a);let a=[];return t.forEach((i=>{var t;(null===(t=o.a[i].fileExt)||void 0===t?void 0:t.indexOf(e))>=0&&a.push(o.a[i])})),a}function r(e){return e?(0,a.b)(e.flatMap((e=>{var i;return null===(i=o.a[e])||void 0===i?void 0:i.fileExt})).filter((e=>!!e))):null}const s=e=>e/1024/1024>50,l=e=>e/1024/1024>20},86587:(e,i,t)=>{t.d(i,{C:()=>s,a:()=>c,b:()=>u,f:()=>l,g:()=>r,l:()=>n});var a=t(21104),o=t(63280);const n=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function r(e){return function(e,i,t){const a=(0,o.c)(e,"[dir]");return a?a.getAttribute("dir"):"ltr"}(e)}const s={rtl:"arcgis--rtl"};async function l(e,i){const{api:t,type:o,places:n}=i||{};if(4===t){const[i]=await(0,a.l)(["esri/intl"]),t=i.convertNumberFormatToIntlOptions({places:n,style:o,digitSeparator:!0});return i.formatNumber(e,Object.assign(Object.assign({},t),{style:o}))}const[r]=await(0,a.l)(["dojo/number"]);return r.format(e,{type:o,places:n,pattern:null==i?void 0:i.pattern})}const d={};function c(e){const i=document.documentElement.lang;return d[i]||(d[i]=new Intl.DateTimeFormat(document.documentElement.lang,{year:"numeric",month:"short",day:"numeric"})),d[i].format(e)}function u(e,i,t){const a=null!=e?e:"en";return 1===t||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(a)?i.single.replace("${number}","1"):1!==t&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(a)?i.multiple.replace("${number}",`${t}`):i.unknown.replace("${number}",`${t}`)}},21104:(e,i,t)=>{t.d(i,{l:()=>n});var a=t(73838),o=(0,a.c)((function(e,i){a.a,function(e){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",a="next";function o(e){if(e.toLowerCase()===a)return a;var i=e&&e.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function n(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function r(e){return!e||o(e)?function(e){void 0===e&&(e=t);var i=n(e),r=o(e);if(r!==a&&3===r.major){var s=r.minor<=10?"js/":"";return"".concat(i).concat(s,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}(e):e}function s(e,i){var t=r(e),a=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(t);return a||function(e,i){if(i){var t=document.querySelector(i);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(a=function(e){var i=document.createElement("link");return i.rel="stylesheet",i.href=e,i}(t),i),a}var l={};function d(e,i,t){var a;t&&(a=function(e,i){var t=function(a){i(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}(e,t));var o=function(){i(e),e.removeEventListener("load",o,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",o,!1)}function c(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var t={};[l,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}));var a=t.version,o=t.url||n(a);return new i.Promise((function(e,i){var n=c();if(n){var r=n.getAttribute("src");r!==o?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(r,")."))):u()?e(n):d(n,e,i)}else if(u())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=t.css;l&&s(!0===l?a:l,t.insertCssBefore),d(n=function(e){var i=document.createElement("script");return i.type="text/javascript",i.src=e,i.setAttribute("data-esri-loader","loading"),i}(o),(function(){n.setAttribute("data-esri-loader","loaded"),e(n)}),i),document.body.appendChild(n)}}))}function h(e){return new i.Promise((function(i,t){var a=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.remove(),i(e)}))}))}e.utils=i,e.loadModules=function(e,i){if(void 0===i&&(i={}),u())return h(e);var t=c(),a=t&&t.getAttribute("src");return!i.url&&a&&(i.url=a),p(i).then((function(){return h(e)}))},e.getScript=c,e.isLoaded=u,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),l=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(i)}));const n=async(e,i)=>(await o.loadModules(e,i)).map((e=>e.__esModule&&e.default?e.default:e))},84873:(e,i,t)=>{t.d(i,{a:()=>a,u:()=>o});const a=(0,t(23505).c)({nextText:"next",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),o=a.state}}]);