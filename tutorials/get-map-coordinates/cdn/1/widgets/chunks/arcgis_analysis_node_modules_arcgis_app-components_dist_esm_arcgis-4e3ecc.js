/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-4e3ecc.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-4e3ecc"],{73838:(e,r,t)=>{t.d(r,{a:()=>n,c:()=>i,g:()=>o});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,r,t){return e(t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},t.exports),t.exports}},47113:(e,r,t)=>{t.r(r),t.d(r,{arcgis_new_item_pages_feature_layer_from_url:()=>p});var n=t(35110),o=t(70392),i=t(46710),a=t(91306),s=t(52299),c=t(82669),l=t(84873),u=t(73208),d=t(28709);t(23505),t(12856),t(91659),t(56086),t(66913),t(21104),t(73838),t(17752),t(51287),t(20982),t(37526),t(7803),t(35105),t(16082),t(67148),t(79233),t(64307),t(76743),t(63280),t(9657),t(53040);const p=class{constructor(e){(0,n.r)(this,e),this.newItemUpdatePage=(0,n.c)(this,"newItemUpdatePage",7),this.url=void 0,this.error=void 0,this.loading=void 0}async componentWillLoad(){this.i18n=l.u.i18n.featureLayerFromUrl,this.commonI18n=l.u.i18n.common,this.url=c.a.serviceInfoUrl}async handleNext(){var e,r,t,n,l;const{url:p}=this;if(!p)return(0,d.f)("Empty URL"),this.inputRef.setFocus(),void(this.error="missingUrl");const{error:f}=(0,u.g)(p);if(f)return(0,d.f)("Invalid URL"),this.inputRef.setFocus(),void(this.error=f.code);this.loading=!0;const v=p.toLowerCase().indexOf("/featureserver"),m=p.substring(0,v)+"/FeatureServer";try{const{result:u}=await(0,s.A)({url:m});(null==u?void 0:u.isSecured)&&(c.a.checkAuth=!0);const{layers:d,serviceInfo:f,tables:v}=await(0,s.n)(p,(0,o.g)(i.c.portal),!1,null==u?void 0:u.isSecured);c.a.serviceInfo=Object.assign(Object.assign({},f),{layers:d,tables:v});let h=null===(e=f.documentInfo)||void 0===e?void 0:e.title;const g=null!==(r=f.layers)&&void 0!==r?r:[],y=null!==(t=f.tables)&&void 0!==t?t:[];h||(1===g.length&&0===y.length?h=g[0].name:1===y.length&&0===g.length&&(h=y[0].name)),a.i.title=h,a.i.snippet=null!==(n=f.serviceDescription)&&void 0!==n?n:"",c.a.description=null!==(l=f.description)&&void 0!==l?l:"",c.a.serviceInfoUrl=p,this.loading=!1,this.newItemUpdatePage.emit("featureLayerSummary")}catch(e){(0,d.f)("Service doesn't exist"),this.error="serviceNotExist"}}handleInputChange(e){this.url=e.target.value}render(){const{loading:e,i18n:r,commonI18n:t,error:o,url:a}=this,{title:s,description:c}=r.error[o]||{},{portal:u}=i.c;return(0,n.h)(n.H,null,(0,n.h)("arcgis-new-item-loader",{active:e,text:l.u.i18n.urlType.getServiceInfo}),(0,n.h)("calcite-label",{class:"label"},(0,n.h)("arcgis-new-item-description",{header:t.url,content:r.description}),(0,n.h)("calcite-input",{placeholder:u.isPortal?"https://webadaptorhost.domain.com/webadaptorname/rest/services/service/servicetype":"https://myserver.com/arcgis/rest/services/folder/service/FeatureServer",onCalciteInputInput:e=>this.handleInputChange(e),class:"input",scale:"l",ref:e=>this.inputRef=e,value:a})),(0,n.h)("arcgis-new-item-alert",{heading:s,description:c,active:!!o,onAlertDismiss:()=>this.error=null}))}get el(){return(0,n.d)(this)}};p.style=".input{margin-top:1rem}.label{margin-top:1rem;display:block}"},28709:(e,r,t)=>{t.d(r,{a:()=>p,b:()=>u,c:()=>d,e:()=>c,f:()=>f,i:()=>l});var n=t(46710),o=t(82669);const i="create feature layer",a="my content",s=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},c=e=>{const r=n.c.telemetry;null==r||r.stepWorkflow(i,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:i,attribute:s(o.a.addFeatureLayerType),pageName:a})},l=e=>{const r=n.c.telemetry;null==r||r.stepWorkflow(i,`expand ${e} details`,{category:i,attribute:s(o.a.addFeatureLayerType),pageName:a})},u=()=>{const e=n.c.telemetry;null==e||e.stepWorkflow(i,"filter",{category:i,attribute:s(o.a.addFeatureLayerType),pageName:a})},d=e=>{const r=s(e),t=n.c.telemetry;null==t||t.stepWorkflow(i,"from option",{category:i,attribute:r,pageName:a})},p=()=>{const{addFeatureLayerType:e,serviceInfo:r}=o.a,t=r,c=n.c.telemetry;null==c||c.endWorkflow(i,{category:i,attribute:s(e),pageName:a,count:t.layers.length,number:t.tables.length})},f=e=>{var r;null===(r=n.c.telemetry)||void 0===r||r.logError({category:i,error:e})}},21104:(e,r,t)=>{t.d(r,{l:()=>i});var n=t(73838),o=(0,n.c)((function(e,r){n.a,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",n="next";function o(e){if(e.toLowerCase()===n)return n;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function i(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function a(e){return!e||o(e)?function(e){void 0===e&&(e=t);var r=i(e),a=o(e);if(a!==n&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(r).concat(s,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}(e):e}function s(e,r){var t=a(e),n=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(t);return n||function(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(n=function(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}(t),r),n}var c={};function l(e,r,t){var n;t&&(n=function(e,r){var t=function(n){r(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}(e,t));var o=function(){r(e),e.removeEventListener("load",o,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",o,!1)}function u(){return document.querySelector("script[data-esri-loader]")}function d(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var t={};[c,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var n=t.version,o=t.url||i(n);return new r.Promise((function(e,r){var i=u();if(i){var a=i.getAttribute("src");a!==o?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):d()?e(i):l(i,e,r)}else if(d())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=t.css;c&&s(!0===c?n:c,t.insertCssBefore),l(i=function(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}(o),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),r),document.body.appendChild(i)}}))}function f(e){return new r.Promise((function(r,t){var n=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.remove(),r(e)}))}))}e.utils=r,e.loadModules=function(e,r){if(void 0===r&&(r={}),d())return f(e);var t=u(),n=t&&t.getAttribute("src");return!r.url&&n&&(r.url=n),p(r).then((function(){return f(e)}))},e.getScript=u,e.isLoaded=d,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),c=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(r)}));const i=async(e,r)=>(await o.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))}}]);