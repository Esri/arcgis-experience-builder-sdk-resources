/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-55b0a4.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-55b0a4"],{73838:(e,t,r)=>{r.d(t,{a:()=>o,c:()=>n,g:()=>i});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}},10755:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_locator_select:()=>p});var o=r(35110),i=r(46710),n=r(91306),s=r(91659),a=r(52299),c=r(82669),l=r(84873),u=r(70392),d=r(20982);r(23505),r(56086),r(66913),r(21104),r(73838),r(73208),r(35105),r(16082),r(67148),r(79233),r(64307),r(76743),r(63280),r(9657),r(12856),r(17752),r(53040),r(51287),r(37526),r(7803);const h=["locator-view","locator"],p=class{constructor(e){(0,o.r)(this,e),this.newItemUpdatePage=(0,o.c)(this,"newItemUpdatePage",7),this.handleAuthSwitchChange=e=>{this.storeAuth=e.detail},this.handleNewUrl=async e=>{const{type:t,url:r}=e;this.type=t,this.locatorUrl=r,this.isSecured=null,this.error=null,r&&(this.allowStoredAuth=!1,this.storeAuth=!1,this.loading=!0,await this.getServiceInfo(!1),this.loading=!1)},this.selectedLocatorType="locator-view",this.locatorUrl="",this.type=void 0,this.loading=!1,this.error=null,this.canPublishLocatorView=!0,this.allowStoredAuth=!1,this.storeAuth=!1,this.isSecured=null,this.serviceInfo=null,this.itemType=void 0}async componentWillLoad(){var e;const t=l.u.i18n;this.i18n=t.locatorSelect,this.urlTypeI18n=t.urlType,this.urlI18n=t.url,this.allowStoredAuth=c.a.allowStoredAuth,this.storeAuth=c.a.storeAuth,this.isSecured=c.a.isSecured,this.itemType=c.a.type;const{user:r,portal:o}=i.c;this.canPublishLocatorView=(0,s.p)(r,o),this.selectedLocatorType=null!==(e=c.a.locatorType)&&void 0!==e?e:"locator-view",this.canPublishLocatorView||(this.selectedLocatorType="locator"),"locator"===this.selectedLocatorType&&(this.locatorUrl=c.a.url)}async handleNext(){const{selectedLocatorType:e,urlI18n:t,locatorUrl:r,allowStoredAuth:o}=this;if(c.a.locatorType=e,"locator-view"===e){const e=await(0,s.D)();c.a.newItemMode="create",c.a.type="Geocoding Service",c.a.typeKeywords=["Geocoding filter"],c.a.thumbnailURL="https://static.arcgis.com/images/desktopapp.png",c.a.createAsServiceProxy=!0,c.a.url=e}else{if(!r)return this.inputRef.focusMainInput(),void(this.error=t.invalidUrl);const{portal:e}=i.c,{error:n,result:s}=(0,d.g)((0,d.f)(r,e.allSSL),e.isPortal);if(n)return void(this.error=t[n.code]);if("Geocoding Service"!==s)return void(this.error=t.invalidUrl);if(c.a.url=r,c.a.type="Geocoding Service",c.a.newItemMode="url",c.a.allowStoredAuth=o,c.a.storeAuth=this.storeAuth,c.a.isSecured=this.isSecured,c.a.serviceInfo=this.serviceInfo,this.storeAuth&&(c.a.checkAuth=!0),this.allowStoredAuth&&!this.storeAuth){this.loading=!0;const e=await this.getServiceInfo(!0);if(this.loading=!1,!e)return}}this.allowStoredAuth&&this.storeAuth?this.newItemUpdatePage.emit("auth"):this.newItemUpdatePage.emit("itemProperties")}async getServiceInfo(e=!1){const{urlTypeI18n:t,locatorUrl:r,type:o}=this,{error:i,result:s}=await(0,a.l)({url:r,customParameters:c.a.customParameters,type:o,checkAuth:e,storeAuth:c.a.storeAuth});if(i||!s)return"does not point to a GIS server"===(null==i?void 0:i.message)?this.error=t.serviceNotGIS:"serviceNotExist"===(null==i?void 0:i.code)?this.error=t.serviceNotExist:"unsupportedWFSVersion"===(null==i?void 0:i.code)?this.error=t.unsupportedWFSVersion:this.error=t[null==i?void 0:i.code]||t.serviceNotExist,!1;const{tags:l,title:d,isSecured:h,allowStoredAuth:p,serviceInfo:v}=s;return this.allowStoredAuth=p,this.isSecured=h,this.serviceInfo=v,l&&(n.i.tags=l),n.i.title=(null==d?void 0:d.replace(u.s,""))||"",!0}render(){const{error:e,i18n:t,urlTypeI18n:r,loading:n,selectedLocatorType:s,locatorUrl:a,canPublishLocatorView:l,isSecured:u,allowStoredAuth:d,itemType:p}=this,{config:{helpBase:v,helpMap:f}}=i.c;return(0,o.h)("div",null,l&&(0,o.h)(o.F,null,(0,o.h)("arcgis-new-item-description",{header:t.heading}),(0,o.h)("calcite-tile-select-group",{layout:"vertical",class:"tile-select"},h.map((e=>(0,o.h)("calcite-tile-select",{checked:s===e,heading:t.options[e].title,description:t.options[e].description,name:"tile-layer-type","input-enabled":!0,width:"full",type:"radio",value:e,onCalciteTileSelectChange:()=>this.selectedLocatorType=e}))))),"locator"===s&&(0,o.h)(o.F,null,(0,o.h)("arcgis-new-item-description",{header:t.url.heading,content:t.url.description}),(0,o.h)("arcgis-new-item-url",{url:a,inputTitle:" ",placeholder:"https://myserver.com/arcgis/rest/services/folder/service/GeocodeServer",onNewItemUrlChange:e=>this.handleNewUrl(e.detail),ref:e=>this.inputRef=e}),(0,o.h)("div",{class:"custom-parameter-container"},(0,o.h)("arcgis-new-item-custom-parameters",{itemType:p})),d&&!!u&&(0,o.h)("arcgis-new-item-switch-card",{onSwitchChange:this.handleAuthSwitchChange,header:r.storeAuth,headerLink:{text:r.learnMore,href:`${v}${f[120000597]}`},defaultChecked:c.a.storeAuth})),(0,o.h)("arcgis-new-item-loader",{active:n,text:r.getServiceInfo}),(0,o.h)("arcgis-new-item-alert",{active:!!e,description:e,onAlertDismiss:()=>this.error=null}))}get el(){return(0,o.d)(this)}};p.style=".tile-select:not(:last-child){margin-bottom:1.5rem}.custom-parameter-container{margin-top:1.5rem}"},21104:(e,t,r)=>{r.d(t,{l:()=>n});var o=r(73838),i=(0,o.c)((function(e,t){o.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",o="next";function i(e){if(e.toLowerCase()===o)return o;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function n(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function s(e){return!e||i(e)?function(e){void 0===e&&(e=r);var t=n(e),s=i(e);if(s!==o&&3===s.major){var a=s.minor<=10?"js/":"";return"".concat(t).concat(a,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function a(e,t){var r=s(e),o=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(r);return o||function(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}(o=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(r),t),o}var c={};function l(e,t,r){var o;r&&(o=function(e,t){var r=function(o){t(o.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}(e,r));var i=function(){t(e),e.removeEventListener("load",i,!1),o&&e.removeEventListener("error",o,!1)};e.addEventListener("load",i,!1)}function u(){return document.querySelector("script[data-esri-loader]")}function d(){var e=window.require;return e&&e.on}function h(e){void 0===e&&(e={});var r={};[c,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var o=r.version,i=r.url||n(o);return new t.Promise((function(e,t){var n=u();if(n){var s=n.getAttribute("src");s!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):d()?e(n):l(n,e,t)}else if(d())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=r.css;c&&a(!0===c?o:c,r.insertCssBefore),l(n=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(i),(function(){n.setAttribute("data-esri-loader","loaded"),e(n)}),t),document.body.appendChild(n)}}))}function p(e){return new t.Promise((function(t,r){var o=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),d())return p(e);var r=u(),o=r&&r.getAttribute("src");return!t.url&&o&&(t.url=o),h(t).then((function(){return p(e)}))},e.getScript=u,e.isLoaded=d,e.loadScript=h,e.setDefaultOptions=function(e){void 0===e&&(e={}),c=e},e.loadCss=a,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const n=async(e,t)=>(await i.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);