/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_loadMo-646934.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_loadMo-646934"],{73838:(e,r,t)=>{t.d(r,{a:()=>o,c:()=>i,g:()=>n});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,r,t){return e(t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},t.exports),t.exports}},24147:(e,r,t)=>{t.d(r,{A:()=>s,N:()=>n,a:()=>a,b:()=>i,c:()=>d,d:()=>l,u:()=>o});const o=["esriFieldTypeOID","esriFieldTypeGlobalID"],n="<None>",i={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},a={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},s={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},l=["zip","csv","xls","xlsx","geojson","gpkg","json"],d=["zip","csv","xls","xlsx"]},21104:(e,r,t)=>{t.d(r,{l:()=>i});var o=t(73838),n=(0,o.c)((function(e,r){o.a,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",o="next";function n(e){if(e.toLowerCase()===o)return o;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function i(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function a(e){return!e||n(e)?function(e){void 0===e&&(e=t);var r=i(e),a=n(e);if(a!==o&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(r).concat(s,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}(e):e}function s(e,r){var t=a(e),o=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(t);return o||function(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}(o=function(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}(t),r),o}var l={};function d(e,r,t){var o;t&&(o=function(e,r){var t=function(o){r(o.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}(e,t));var n=function(){r(e),e.removeEventListener("load",n,!1),o&&e.removeEventListener("error",o,!1)};e.addEventListener("load",n,!1)}function c(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var t={};[l,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var o=t.version,n=t.url||i(o);return new r.Promise((function(e,r){var i=c();if(i){var a=i.getAttribute("src");a!==n?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):u()?e(i):d(i,e,r)}else if(u())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=t.css;l&&s(!0===l?o:l,t.insertCssBefore),d(i=function(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}(n),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),r),document.body.appendChild(i)}}))}function f(e){return new r.Promise((function(r,t){var o=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.remove(),r(e)}))}))}e.utils=r,e.loadModules=function(e,r){if(void 0===r&&(r={}),u())return f(e);var t=c(),o=t&&t.getAttribute("src");return!r.url&&o&&(r.url=o),p(r).then((function(){return f(e)}))},e.getScript=c,e.isLoaded=u,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),l=e},e.loadCss=s,Object.defineProperty(e,"__esModule",{value:!0})}(r)}));const i=async(e,r)=>(await n.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))},64031:(e,r,t)=>{t.d(r,{a:()=>c,b:()=>p,c:()=>m,f:()=>u,g:()=>w,p:()=>d,r:()=>v,u:()=>y});var o=t(82669),n=t(52299),i=t(74504),a=t(12856),s=t(24147),l=t(66913);const d=async(e,r,t,o)=>{var n,a;const s=await c(e,t,o),l=null===(a=null===(n=(await(0,i.p)({itemId:e.sourceData.id,user:o,title:r,itemOwnerUrl:e.itemOwner.userContentUrl},s)).result)||void 0===n?void 0:n.services)||void 0===a?void 0:a[0];return{id:null==l?void 0:l.serviceItemId,jobId:null==l?void 0:l.jobId,serviceType:null==l?void 0:l.type,serviceUrl:null==l?void 0:l.serviceurl,overwriteStatus:""}},c=async(e,r,t,o)=>{const{result:n}=await f(e,r,!1,t);return await((e,r,t)=>{var o,n,i;let a;const l=null==r?void 0:r.publishParameters,d=null!==(o=null==r?void 0:r.sourceData)&&void 0!==o?o:r;if(null==r?void 0:r.cloudProviderInfo){const e=null==r?void 0:r.cloudProviderInfo;a="zip"===(null==e?void 0:e.mimeType)?null==e?void 0:e.zipItemType:s.A[null==e?void 0:e.mimeType]}else a=null===(n=null==r?void 0:r.sourceData)||void 0===n?void 0:n.type;const c={itemId:null!=t?t:d.id,filetype:s.b[a.toLowerCase()],overwrite:!0,deleteSourceItemUponCompletion:!!t};let u;switch(a){case"CSV":{const r=Object.assign(Object.assign({},null===(i=e.layers)||void 0===i?void 0:i[0]),{fields:l.layerInfo.fields});u=Object.assign(Object.assign({layerInfo:r,name:l.name||d.title.replace(/ /g,"_")},l),e);break}case"Microsoft Excel":u=((e,r)=>{const t=Object.assign({},r);t.name=e.name,t.sourceSR=e.sourceSR,t.targetSR=e.targetSR;for(let e=0;e<t.tables.length;e++)"Review"!=t.tables[e].name&&(t.layers[t.layers.length]=t.tables[e]);for(let r of t.layers){const{excelSheetId:o,locationType:n,latitudeFieldName:i,longitudeFieldName:a,geocodeServiceUrl:s,sourceLocale:l,sourceCountry:d,standardizedFieldNames:c,addressFields:u,coordinateFieldName:p,coordinateFieldType:f,fields:v,dateFieldsTimeReference:m}=e.layers[r.id],y={excelSheetId:o,locationType:n,latitudeFieldName:i,longitudeFieldName:a,geocodeServiceUrl:s,sourceLocale:l,sourceCountry:d,standardizedFieldNames:c,addressFields:u,coordinateFieldName:p,coordinateFieldType:f,fields:v,dateFieldsTimeReference:m};t.layers[r.id]=Object.assign({},y)}return t})(l,e);break;default:u=Object.assign(Object.assign(Object.assign({},l),e),{name:d.title?d.title.replace(/ /g,"_"):r.title.replace(/ /g,"_")})}return c.publishParameters=JSON.stringify(u),c})(n,e,o)},u=async(e,r,t)=>{var o;const a=e.sourceData,s=(null===(o=t.file)||void 0===o?void 0:o.size)>n.M;try{return await p(a,r,{file:t.file,overwrite:t.overwrite,keepDescription:t.keepDescription,fileName:t.fileName,multipart:s,existingItemId:t.existingItemId}),await(0,i.c)({id:a.id,folder:"",success:!0}),{}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},p=async(e,r,t)=>{var i;const a=`${r}/items/${e.id}/update`,s=(null===(i=t.file)||void 0===i?void 0:i.size)>n.M,d=((e,r)=>{const t=!!r.overwrite,o=(e=>{const{name:r,title:t,tags:o,type:n,typeKeywords:i,accessInformation:a,licenseInfo:s,description:l,snippet:d,extent:c}=e;return{name:r,title:t,tags:o,type:n,typeKeywords:i,accessInformation:a,licenseInfo:s,description:l,snippet:d,extent:c}})(e),n=new FormData;return Object.keys(o).forEach((e=>{var t;"description"===e||"snippet"===e||"extent"===e?n.append(e,r.keepDescription?o[e]:""):n.append(e,null!==(t=o[e])&&void 0!==t?t:"")})),n.set("filename",r.fileName),n.set("multipart",String(r.multipart)),n.set("overwrite","true"),n.set("async","true"),n.set("file",r.file,e.title),t&&n.set("overwriteService","on"),n.set("useDescription","on"),n})(e,{file:t.file,overwrite:t.overwrite,keepDescription:t.keepDescription,fileName:t.fileName,multipart:s});return s?(o.a.id=e.id,await(0,n.x)({updateUrl:a,updateFormData:d,updateSourceDataId:e.id})):await(0,l.a)(a,d,{},"post")},f=async(e,r,t,o)=>{try{const{url:r}=e,t=await(0,l.r)(r),o=await(0,l.r)(r+"/layers"),n=null==o?void 0:o.layers.map((e=>(delete e.fields,e)));return t.tables=[...null==o?void 0:o.tables],t.layers=[...n],{result:t}}catch(n){return!t&&(499===(null==n?void 0:n.code)&&"Token Required"===(null==n?void 0:n.message)||403===n.code)&&o?f(e,r,!0,o):(console.error(n),{error:{code:"unhandledError"}})}},v=async e=>{let r=e.typeKeywords.toString();const t={title:e.title||"",tags:e.tags.toString()||""};-1!==e.typeKeywords.indexOf("Involved Lookup")&&(r+=",showUnmatchedAddresses",t.typeKeywords=r);try{const r=await(0,a.u)(e.id,t),o=await(0,n.v)(e.id,{success:null==r?void 0:r.success});return"failed"===o.status?{error:{code:"unhandledError"}}:{result:o}}catch(e){return console.error("error:",e),{error:{code:"unhandledError"}}}},m=async(e,r,t)=>{const o=`${r}/${e.folderId||e.ownerFolder||""}/items/${e.id}/updateResources`,n=new FormData;n.set("file",t.file),n.set("resourcesPrefix","styles"),n.set("filename","root.json");try{return{result:await(0,l.a)(o,n,{},"post")}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},y=async(e,r,t)=>{let o=["Cloud Drive"];const n=JSON.parse(e);"address"===n.locationType||n.layers[0]&&"address"===n.layers[0].locationType?(o.push("showUnmatchedAddresses"),o.push("Involved Lookup")):("none"===n.locationType||n.layers[0]&&"none"===n.layers[0].locationType)&&o.push("Table");const i=o.join(",");return await(0,a.u)(r.id,{folderId:(null==r?void 0:r.folderId)||r.ownerFolder,id:t,typeKeywords:i})};async function w(e){try{return{result:await e.connect()}}catch(e){return{error:{code:"unhandledError"}}}}}}]);