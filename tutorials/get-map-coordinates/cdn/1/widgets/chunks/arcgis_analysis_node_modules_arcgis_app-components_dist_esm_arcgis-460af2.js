/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-460af2.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-460af2"],{73838:(e,t,n)=>{n.d(t,{a:()=>o,c:()=>r,g:()=>a});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}},91133:(e,t,n)=>{n.r(t),n.d(t,{arcgis_new_item_pages_data_store_select:()=>d});var o=n(35110),a=n(56086),r=n(46710),i=n(82669),l=n(84873),s=n(57983),c=n(30694);n(66913),n(21104),n(73838),n(70392),n(23505),n(79233),n(91306),n(17752),n(38477),n(52299),n(73208),n(35105),n(16082),n(67148),n(64307),n(76743),n(63280),n(9657),n(12856),n(91659),n(53040),n(51287),n(20982),n(37526),n(7803),n(70566);const d=class{constructor(e){(0,o.r)(this,e),this.newItemUpdatePage=(0,o.c)(this,"newItemUpdatePage",7),this.options={folder:{page:"dataStoreSelectFolder",enabled:!0},database:{page:"dataStoreSelectDatabaseType",enabled:!0},cloud:{page:"dataStoreSelectCloud",enabled:!0},bdfs:{page:"dataStoreSelectBdfs",enabled:!1}},this.cloudOptions=["amazon","azure"],this.databaseOptions=["bigQuery","snowflake"],this.selected="folder",this.pipelineCloudSelection="amazon",this.pipelineDatabaseSelection="bigQuery",this.serverList=[]}async componentWillLoad(){const e=r.c.portal,t=r.c.user;(0,c.a)({portal:r.c.portal}),this.i18n=l.u.i18n.dataStoreSelect,this.isPortal=r.c.portal.isPortal,this.isPortal?this.selected="folder":this.selected="database",this.tileStrings=l.u.i18n.dataStoreSelectDatabase.pipelineProviders,this.serverList=await(0,a.b)(t,e),this.filterServers()}filterServers(){if(!r.c.portal.isPortal)return this.options.folder.enabled=!1,this.options.database.enabled=!0,this.options.cloud.enabled=!0,void(this.options.bdfs.enabled=!1);const e=this.serverList.filter((function(e){return"HOSTING_SERVER"===e.serverRole.toUpperCase()}));e.length&&(i.a.hostingServer=e[0]);const t=this.serverList.filter((function(e){return e.serverFunction.toUpperCase().indexOf("GEOANALYTICS")>-1})),n=r.c.config.bdfsEnabled;this.options.bdfs.enabled=!!(null==t?void 0:t.length)&&n;const o=this.serverList.filter((function(e){return e.serverFunction.toUpperCase().indexOf("KNOWLEDGE")>-1})),a=r.c.config.noSQLEnabled;i.a.noSqlEnabled=!!(null==o?void 0:o.length)&&a&&!(0,s.i)()}handleNext(){let e;const t=this.selected;i.a.addDataStoreType=t,i.a.dataStoreSelectServerList=this.serverList,this.isPortal?e=this.options[t].page:"cloud"===this.selected?(i.a.addDataStoreType="cloud",i.a.provider=this.pipelineCloudSelection,e="dataStoreSelectCloudCredentials"):(i.a.addDataStoreType="database",i.a.databaseProvider=this.pipelineDatabaseSelection,e="dataStoreDatabaseCredentials"),this.newItemUpdatePage.emit(e)}render(){const{i18n:e,options:t,cloudOptions:n,databaseOptions:a,tileStrings:r}=this;let l="cloud"===this.selected?n:a;return(0,o.h)("div",null,(0,o.h)("arcgis-new-item-description",{header:e.heading}),(0,o.h)("calcite-tile-select-group",{layout:"vertical",class:"tile-select-group"},Object.keys(t).map((n=>{let a;return a=this.isPortal?i.a.noSqlEnabled?e.options.database.descriptionNoSql:e.options.database.description:e.databaseDescriptionForOnline,t[n].enabled&&(0,o.h)("calcite-tile-select",{key:n,class:"tile-select",checked:this.selected===n,heading:e.options[n].title,description:"database"===n?a:e.options[n].description,name:"data-store-selection","input-enabled":!0,width:"full",type:"radio",value:n,onCalciteTileSelectChange:e=>{this.selected=e.target.value}})}))),!this.isPortal&&(0,o.h)("div",{class:"dynamic-select"},(0,o.h)("arcgis-new-item-description",{class:"dynamic-header",header:"cloud"===this.selected?e.subOptionsCloudDescription:e.subOptionsDatabaseDescription}),(0,o.h)("calcite-tile-select-group",{layout:"vertical"},l.map((e=>(0,o.h)("calcite-tile-select",{key:e,"input-enabled":!0,checked:l[0]===e,width:"full",type:"radio",value:e,heading:r[e].title,description:r[e].description,onCalciteTileSelectChange:e=>{"cloud"===this.selected?this.pipelineCloudSelection=e.target.value:this.pipelineDatabaseSelection=e.target.value}}))))))}};d.style=".tile-select-group{margin-top:1.25rem}.tile-select{margin-bottom:0.125rem}.dynamic-header{margin-bottom:1.5rem;margin-top:1.5rem;display:block}"},57983:(e,t,n)=>{n.d(t,{a:()=>p,b:()=>v,c:()=>u,d:()=>d,e:()=>r,f:()=>i,g:()=>b,h:()=>c,i:()=>m,j:()=>h,k:()=>w,l:()=>l,m:()=>s});var o=n(66913),a=n(46710);function r(e,t){const n={type:"folder",path:`/fileShares/${t}`,info:{datastoreConnectionType:"shared",path:e.publisherFolderPath,hostName:e.publisherFolderPathHostname}};return"newPath"===e.serverFolderPath?(n.clientPath=e.publisherFolderPath,n.info.path=e.newServerFolderPath,n.info.datastoreConnectionType="replicated"):"nfsHostAndPath"===e.serverFolderPath&&(n.clientPath=e.publisherFolderPath,n.provider="UserManaged",n.info.datastoreConnectionType="replicated",n.info.fileServerPath=e.nfsSharePath,n.info.fileServerHost=e.nfsHostName,n.info.fileServerType="nfs"),n}function i(e,t){const n={type:"egdb",path:"/enterpriseDatabases/"+t,info:{dataStoreConnectionType:"shared"}};return"newConnection"===e.serverDatabaseOption?(n.info.connectionString=e.serverConnectionString,n.info.clientConnectionString=e.publisherConnectionString,n.info.dataStoreConnectionType="replicated"):"bigQuery"===e.databaseProvider||"snowflake"===e.databaseProvider?n.info.JDBCConnection=e.jdbcConnection:n.info.connectionString=e.publisherConnectionString,n}const l=async(e,t,n,o)=>{let a,r;if((null==n?void 0:n.length)>0){try{r=JSON.parse(n)}catch(e){return{error:{code:"invalidJSON"}}}a=function(e,t){const{type:n,project_id:o,private_key_id:a,private_key:r,client_email:i,client_id:l,auth_uri:s,token_uri:c,auth_provider_x509_cert_url:d,client_x509_cert_url:u}=t;return{oAuthType:0,projectId:e,url:"jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443",oAuthPvtKeyFile:{type:n,project_id:o,private_key_id:a,private_key:r,client_email:i,client_id:l,auth_uri:s,token_uri:c,auth_provider_x509_cert_url:d,client_x509_cert_url:u}}}(e,r)}else(null==o?void 0:o.length)>0&&(a=function(e,t,n){return{name:"BigqueryArcgisPlatform_RefreshToken",className:"com.esri.sds.bigquery.jdbc.GBQDataSource",oAuthType:2,projectId:e,defaultDataset:t,url:"jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443",oAuthRefreshToken:n}}(e,t,o));return{result:{type:"egdb",path:"/enterpriseDatabases/bigQuerySvrDevDataJdbc",id:null,clientPath:null,info:{JDBCConnection:a}}}};function s(e){const{user:t,password:n,database:o,role:a,server:r,warehouse:i,schema:l}=e;return{path:"/enterpriseDatabases/snowflakeJdbc",type:"egdb",info:{JDBCConnection:{user:t,password:n,database:o,role:a,connectionUrl:`jdbc:snowflake://${r}`,warehouse:i,schema:l}}}}function c(e,t){if("Arango"===e.noSqlProvider){const t={type:"nosql",path:"/nosqlDatabases/Arango_enterprise",info:{systemManaged:!1,dsFeature:"graphStore",isManagedData:!1,category:"database",factory:"nosql",provider:"ArangoDB",implementation:"ArangoDB",purposes:["knowledge-graph"],connectionProperties:{hosts:[],useSsl:e.useSsl,username:e.username,password:e.password,database:e.database}}};return""!==e.hosts?t.info.connectionProperties.hosts=e.hosts.split(","):delete t.info.connectionProperties.hosts,t}const n={type:"nosql",path:`/nosqlDatabases/${t}`,info:{provider:"Neo4J",isManaged:!1,dsFeature:"graphStore",factory:"nosql",implementation:"Neo4j",category:"database",systemManaged:!1,isManagedData:!1,purposes:["knowledge-graph"],connectionProperties:{connectionUri:e.connectionUri,username:e.username,password:e.password,database:e.database,fallbackServerAddresses:[]}}};return""!==e.fallBackServers?n.info.connectionProperties.fallbackServerAddresses.push(e.fallBackServers.split(",")):delete n.info.connectionProperties.fallbackServerAddresses,n}function d(e,t){const n="bdfs"===e.addDataStoreType?e.bdfsCloudProvider:e.provider,o={info:{}},a={credentialType:"accesskey"};return"amazon"===n&&("accessKey"===e.credentialType?(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey):a.credentialType=e.credentialType,"custom"===e.selectedRegion.id?a.regionEndpointUrl=e.storageURL:(a.regionEndpointUrl=f(e.regions,e.selectedRegion),a.region=e.selectedRegion.id),o.info.objectStore=e.bucketName,o.provider="amazon"),"google"===n&&(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey,a.regionEndpointUrl="https://storage.googleapis.com",o.info.objectStore=e.bucketName,o.provider="Google"),"azure"===n&&("sharedKey"===e.azureAuthenticationType?(a.credentialType="accessKey",a.accountKey=e.accountKey):"activeDirectory"===e.azureAuthenticationType?(a.credentialType=e.azureIdentityType,"servicePrincipal"===e.azureIdentityType?(a.tenantId=e.tenantId,a.clientId=e.clientId,a.clientSecret=e.clientSecret):"userAssignedIdentity"===e.azureIdentityType&&(a.managedIdentityClientId=e.clientId)):"sasToken"===e.azureAuthenticationType?(a.credentialType=e.azureAuthenticationType,a.sasToken=e.token):"anonymous"===e.azureAuthenticationType&&(a.credentialType=e.azureAuthenticationType),"other"===e.environment.id||"anonymous"===e.azureAuthenticationType?a.regionEndpointUrl=e.endpoint:a.accountEndpoint=f(e.regions,e.environment),a.accountName=e.accountName,o.info.objectStore=e.containerName,o.provider="azure"),"azuredatalakegen2store"===n&&("other"===e.environment.id?a.regionEndpointUrl=e.endpoint:a.accountEndpoint=f(e.regions,e.environment),a.credentialType="accessKey",a.accountKey=e.accountKey,o.info.folder=e.cloudFolder?`${e.containerName}/${e.cloudFolder}`:e.containerName,a.accountName=e.accountName,o.provider="azureDataLakeStore"),"alibaba"===n&&(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey,o.info.objectStore=e.bucketName,o.provider="Alibaba",a.regionEndpointUrl="custom"===e.selectedRegion.id?e.storageURL:f(e.regions,e.selectedRegion)),a.defaultEndpointsProtocol="https",e.cloudFolder&&"azuredatalakegen2store"!==n&&(o.info.objectStore=o.info.objectStore+"/"+e.cloudFolder),o.type="cloudStore",o.path="/cloudStores/"+t,o.info.connectionString=JSON.stringify(a),o}function u(e,t){return{type:"bigDataFileShare",path:`/bigDataFileShares/${t}`,info:{connectionString:JSON.stringify({path:e.bdfsFilesharePath}),connectionType:"fileShare"}}}function p(e,t){return{type:"bigDataFileShare",path:`/bigDataFileShares/${t}`,info:{connectionString:JSON.stringify({path:e.bdfsHdfsPath,username:e.bdfsHdfsUsername}),connectionType:"hdfs"}}}function v(e,t){const n={type:"bigDataFileShare",path:"/bigDataFileShares/"+t,info:{connectionString:"",connectionType:"hive"}},o=e.useNonDefaultDatabase;return n.info.connectionString=JSON.stringify({metaStoreUris:e.metastoreUris,database:o&&e.nonDefaultDatabaseName||"default"}),n}function h(e,t){return JSON.stringify({info:{connectionString:JSON.stringify({path:t}),connectionType:"dataStore"},path:`/bigDataFileShares/${e}`,type:"bigDataFileShare"})}function f(e,t){let n;return e.forEach((function(e){e.id===t.id&&(n=e.blobStoreEndpoint||e.storageEndpointSuffix)})),n}const b=async(e,t)=>{const n=e.results.out_connectionString.paramUrl,a=`${t}/Get%20Database%20Connection%20String/jobs/${e.jobId}/${n}`,r=await(0,o.r)(a);return g(r)},g=e=>{const t=e.value;return{connectionStringProps:y(t),connectionString:t}},y=e=>{let t=[];return e&&e.split(";").forEach((e=>{const n=e.split("=");2!==n.length||S(t,n[0])||t.push({key:n[0],value:n[1]})})),t},S=(e,t)=>e.some((e=>e.key===t)),m=()=>{var e;const t=a.c.portal,n=t.portalDeploymentType||(null===(e=t.sourceJSON)||void 0===e?void 0:e.portalDeploymentType);return t.isPortal&&"ArcGISEnterpriseOnKubernetes"===n},w=e=>e?`${e}/rest/services/System/PublishingTools/GPServer`:""},21104:(e,t,n)=>{n.d(t,{l:()=>r});var o=n(73838),a=(0,o.c)((function(e,t){o.a,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",o="next";function a(e){if(e.toLowerCase()===o)return o;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function r(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function i(e){return!e||a(e)?function(e){void 0===e&&(e=n);var t=r(e),i=a(e);if(i!==o&&3===i.major){var l=i.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}(e):e}function l(e,t){var n=i(e),o=function(e){return document.querySelector('link[href*="'.concat(e,'"]'))}(n);return o||function(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}(o=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(n),t),o}var s={};function c(e,t,n){var o;n&&(o=function(e,t){var n=function(o){t(o.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}(e,n));var a=function(){t(e),e.removeEventListener("load",a,!1),o&&e.removeEventListener("error",o,!1)};e.addEventListener("load",a,!1)}function d(){return document.querySelector("script[data-esri-loader]")}function u(){var e=window.require;return e&&e.on}function p(e){void 0===e&&(e={});var n={};[s,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}));var o=n.version,a=n.url||r(o);return new t.Promise((function(e,t){var r=d();if(r){var i=r.getAttribute("src");i!==a?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):u()?e(r):c(r,e,t)}else if(u())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=n.css;s&&l(!0===s?o:s,n.insertCssBefore),c(r=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(a),(function(){r.setAttribute("data-esri-loader","loaded"),e(r)}),t),document.body.appendChild(r)}}))}function v(e){return new t.Promise((function(t,n){var o=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o.remove(),t(e)}))}))}e.utils=t,e.loadModules=function(e,t){if(void 0===t&&(t={}),u())return v(e);var n=d(),o=n&&n.getAttribute("src");return!t.url&&o&&(t.url=o),p(t).then((function(){return v(e)}))},e.getScript=d,e.isLoaded=u,e.loadScript=p,e.setDefaultOptions=function(e){void 0===e&&(e={}),s=e},e.loadCss=l,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));const r=async(e,t)=>(await a.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},38477:(e,t,n)=>{n.d(t,{D:()=>r,T:()=>l,a:()=>d,b:()=>p,c:()=>v,d:()=>i,e:()=>s,f:()=>o,g:()=>c,p:()=>u,t:()=>a});const o=["standard","custom"],a=["IntegratedMesh","3DObject"],r=a[0],i=["vector","raster","3dTiles"],l=147914382,s=0,c=[{level:0,label:"1:591,657,528",scale:591657527.591555},{level:1,label:"1:295,828,764",scale:295828763.795777},{level:2,label:"1:147,914,382",scale:147914381.897889},{level:3,label:"1:73,957,191",scale:73957190.948944},{level:4,label:"1:36,978,595",scale:36978595.474472},{level:5,label:"1:18,489,298",scale:18489297.737236},{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],d={spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-20037508.342787,y:20037508.342787},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:591657527.591555},{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},u={spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-20037508.342787,y:20037508.342787},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:295828763.795777},{level:1,resolution:39135.75848200009,scale:147914381.897889},{level:2,resolution:19567.87924099992,scale:73957190.948944},{level:3,resolution:9783.93962049996,scale:36978595.474472},{level:4,resolution:4891.96981024998,scale:18489297.737236},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},p={format:"indexedVector",compressionQuality:0,antialiasing:!1},v={format:"PNG32",compressionQuality:0,antialiasing:!0}}}]);