System.register(["jimu-arcgis","jimu-arcgis/arcgis-data-source","jimu-core","jimu-theme","jimu-ui","jimu-ui/advanced/map","jimu-ui/basic/color-picker"],(function(e,t){var i={},s={},o={},a={},n={},l={},r={};return{setters:[function(e){i.JimuMapViewComponent=e.JimuMapViewComponent,i.MapViewManager=e.MapViewManager,i.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules,i.portalUtils=e.portalUtils},function(e){s.DataSourceTypes=e.DataSourceTypes},function(e){o.APP_FRAME_NAME_IN_BUILDER=e.APP_FRAME_NAME_IN_BUILDER,o.AppMode=e.AppMode,o.DataSourceComponent=e.DataSourceComponent,o.DataSourceManager=e.DataSourceManager,o.DataSourceSelectionMode=e.DataSourceSelectionMode,o.ErrorBoundary=e.ErrorBoundary,o.ExtentChangeMessage=e.ExtentChangeMessage,o.Immutable=e.Immutable,o.MessageManager=e.MessageManager,o.React=e.React,o.ReactDOM=e.ReactDOM,o.ReactRedux=e.ReactRedux,o.ReactResizeDetector=e.ReactResizeDetector,o.SessionManager=e.SessionManager,o.appActions=e.appActions,o.classNames=e.classNames,o.css=e.css,o.esri=e.esri,o.getAppStore=e.getAppStore,o.hooks=e.hooks,o.injectIntl=e.injectIntl,o.jsx=e.jsx,o.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules,o.lodash=e.lodash,o.polished=e.polished,o.portalUrlUtils=e.portalUrlUtils,o.useIntl=e.useIntl,o.utils=e.utils},function(e){a.registerStyles=e.registerStyles,a.useTheme=e.useTheme,a.withStyles=e.withStyles,a.withTheme=e.withTheme},function(e){n.AlertPopup=e.AlertPopup,n.Button=e.Button,n.FOCUSABLE_CONTAINER_CLASS=e.FOCUSABLE_CONTAINER_CLASS,n.Icon=e.Icon,n.Label=e.Label,n.MobilePanelManager=e.MobilePanelManager,n.Nav=e.Nav,n.NavItem=e.NavItem,n.NavLink=e.NavLink,n.NumericInput=e.NumericInput,n.Option=e.Option,n.Popper=e.Popper,n.Radio=e.Radio,n.SVG=e.SVG,n.Select=e.Select,n.Slider=e.Slider,n.Switch=e.Switch,n.defaultMessages=e.defaultMessages,n.getButtonIconSizeNumber=e.getButtonIconSizeNumber,n.getFocusableElements=e.getFocusableElements,n.hooks=e.hooks},function(e){l.DrawingElevationMode3D=e.DrawingElevationMode3D,l.JimuSymbolType=e.JimuSymbolType,l.SymbolList=e.SymbolList},function(e){r.ColorPicker=e.ColorPicker}],execute:function(){e((()=>{var e={53720:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0"></path></svg>'},23163:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m7.973 5 4.274-3.205L11.65 1 7.974 3.758 4.296 1l-.596.795zM14 8H2V7h12zM3.753 13.205 8.027 10l4.273 3.205-.597.795-3.676-2.758L4.349 14z" clip-rule="evenodd"></path></svg>'},11001:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="m7.973 1 4.274 3.205L11.65 5 7.974 2.242 4.296 5 3.7 4.205zM14 8H2V7h12zM3.753 10.795 8.027 14l4.273-3.205-.597-.795-3.676 2.758L4.349 10z" clip-rule="evenodd"></path></svg>'},74904:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.793 1.14a.984.984 0 0 1 1.32-.085l.094.085 5.5 5.624c.36.368.388.948.083 1.35l-.083.096-6.5 6.646a.992.992 0 0 1-.576.291l-.131.009h-4a.986.986 0 0 1-.608-.21l-.099-.09-3.5-3.579a1.04 1.04 0 0 1-.083-1.35l.083-.096zm.707.706-8.492 8.685c-.007.007-.01.02-.007.032l.007.015 3.497 3.577h3.989l6.498-6.644c.007-.008.01-.022.007-.033l-.007-.015zM3.006 10.19l1.838-1.85 3.922 4.107.005.01c.002.01 0 .02-.005.025l-.413.358h-2.85l-2.497-2.615L3 10.214c-.002-.009 0-.019.005-.024" clip-rule="evenodd"></path></svg>'},12818:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="M.1 6.9h6.8V.1H.1zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 0 0 1.609.805zm0-1.128a3.758 3.758 0 0 1-1.006-.523c.31-.203.65-.358 1.006-.459zM6.1.9v2.266a4.229 4.229 0 0 0-1.613.73 6.038 6.038 0 0 1-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 0 1 2.99.9zM.9.9h1.266a8.7 8.7 0 0 0 .359 1.249A1.93 1.93 0 0 1 .9 3.188zm0 3.09a2.828 2.828 0 0 0 2.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 0 0 3.17 6.1H.9zM9.1.1v6.8h6.8V.1zm.8.8h4.063a.373.373 0 0 1-.045.2.594.594 0 0 1-.438.176 1.637 1.637 0 0 0-1.175.49.91.91 0 0 0-.203.708c-.001.007-.114.736-.607.742a.74.74 0 0 0-.719.384.828.828 0 0 0-.026.6H9.9zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 0 1-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 0 1 .028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 0 0 .16-.625h.344zm-15 9.8h6.8V9.1H.1zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089zm0 4.01 4 .112v-1.355l1.2-1.182V15.1H.9zm8.2 1.99h6.8V9.1H9.1zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605zm0-5.2v2.628L12.49 9.9zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9z"></path></svg>'},91055:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><g fill="none" fill-rule="nonzero"><path fill="#000" d="m7.745 7 4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746z"></path><path d="M1 1h12v12H1z"></path></g></svg>'},42247:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39 32"><path d="M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z"></path></svg>'},90438:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="M1 11v4.001L5 15v1H0v-5zm15 0v5h-5v-1l4 .001V11zM5 0v1L1 .999V5H0V0zm11 0v5h-1V.999L11 1V0z"></path></svg>'},41273:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="m14.376 10.573 1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353zm-.999-2.414.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915zM8.023 1.023l-8 4.5 8 4.5 8-4.5zm-5.96 4.5 5.96-3.352 5.96 3.352-5.96 3.353z"></path></svg>'},62263:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16"><g fill="#000" fill-rule="nonzero"><path d="M4 8h1v3H4zM2 9h1v2H2zm6-1h1v3H8zm4 0h1v3h-1z"></path><path d="M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1zm-3-9h1v1h-1zm-8-.92L11 4v1h1v1H3V3h1zM2 1h1v1H2zm1 14H2v-1h1zm8-1H4v-1H3v-1h9v1h-1zm2 1h-1v-1h1zM1 11V7h13v4z"></path><path d="M6 9h1v2H6zm4 0h1v2h-1z"></path></g></svg>'},83149:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 10"><path fill="#000" fill-rule="nonzero" d="M0 10h15V4H0zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1zm11-5v1H3V0H0v3h3V2h9v1h3V0zM2 2H1V1h1zm12 0h-1V1h1z"></path></svg>'},38317:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="M0 9v6h16V9zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14zm.18-7.5-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7zM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7z"></path></svg>'},50516:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="M7 1a6 6 0 1 0 0 12A6 6 0 0 0 7 1m0 13a7 7 0 1 1 5.621-2.828l-.222.284 3.405 3.404a.668.668 0 0 1-.944.944L11.456 12.4A6.974 6.974 0 0 1 7 14"></path></svg>'},33630:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 5"><path fill="#000" fill-rule="evenodd" d="M4.128 4.587.751.834A.5.5 0 0 1 1.123 0h6.754a.5.5 0 0 1 .372.834L4.872 4.587a.5.5 0 0 1-.744 0"></path></svg>'},80435:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g fill="#363636" fill-rule="nonzero"><path d="m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48z"></path><path d="M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 0 1-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0"></path></g></svg>'},98775:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#363636" fill-rule="nonzero" d="M16 0v16H0V0zM7.077 1H1v14h10.561L7.078 7.616zM15 6.391 9.56 9.779 12.73 15H15zM15 1H8.077v6.335l.965 1.589L15 5.213z"></path></svg>'},35076:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16"><g fill="#363636" fill-rule="nonzero"><path d="m.75 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48z"></path><path d="M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0"></path></g></svg>'},88155:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g fill="#363636" fill-rule="nonzero"><path d="m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z"></path></g></svg>'},78363:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#363636" fill-rule="nonzero" d="m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg>'},46638:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#363636" fill-rule="nonzero" d="m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48zM16 0v11H8.5v-1H15V1H6v2.5H5V0z"></path></svg>'},85277:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M20.889 1.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556h-6.222a3.556 3.556 0 0 1-3.556-3.556V4.889a3.556 3.556 0 0 1 3.556-3.556M20 4v8h8V4zM4.889 17.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556H4.889a3.556 3.556 0 0 1-3.556-3.556v-6.222a3.556 3.556 0 0 1 3.556-3.556M4 20v8h8v-8zm20 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8m0 2.667a6.667 6.667 0 1 1 0-13.334 6.667 6.667 0 0 1 0 13.334M4.981 12h6.037L7.999 5.963zm4.212-9.615 5.176 10.352a1.334 1.334 0 0 1-1.192 1.93H2.825a1.333 1.333 0 0 1-1.192-1.929L6.809 2.386a1.332 1.332 0 0 1 2.385 0z"></path></svg>'},85021:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjEzMiIgdmlld0JveD0iMCAwIDE4MCAxMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUwLjM4OTUgMTMuMjU1NkM1Mi45NDU0IDEzLjI1NTYgNTUuMDE3MyAxMS4xODM2IDU1LjAxNzMgOC42Mjc3OEM1NS4wMTczIDYuMDcxOTMgNTIuOTQ1NCA0IDUwLjM4OTUgNEM0Ny44MzM3IDQgNDUuNzYxNyA2LjA3MTkzIDQ1Ljc2MTcgOC42Mjc3OEM0NS43NjE3IDExLjE4MzYgNDcuODMzNyAxMy4yNTU2IDUwLjM4OTUgMTMuMjU1NlpNNTAuMzg5NSAxMS45MzMzQzUyLjIxNTEgMTEuOTMzMyA1My42OTUxIDEwLjQ1MzQgNTMuNjk1MSA4LjYyNzc4QzUzLjY5NTEgNi44MDIxNyA1Mi4yMTUxIDUuMzIyMjIgNTAuMzg5NSA1LjMyMjIyQzQ4LjU2MzkgNS4zMjIyMiA0Ny4wODQgNi44MDIxNyA0Ny4wODQgOC42Mjc3OEM0Ny4wODQgMTAuNDUzNCA0OC41NjM5IDExLjkzMzMgNTAuMzg5NSAxMS45MzMzWiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNTQuNzY3IDEwMy43OTlDMTU0Ljc2NyAxMDYuMzU1IDE1Mi42OTYgMTA4LjQyNyAxNTAuMTQgMTA4LjQyN0MxNDcuNTg0IDEwOC40MjcgMTQ1LjUxMiAxMDYuMzU1IDE0NS41MTIgMTAzLjc5OUMxNDUuNTEyIDEwMS4yNDMgMTQ3LjU4NCA5OS4xNzEyIDE1MC4xNCA5OS4xNzEyQzE1Mi42OTYgOTkuMTcxMiAxNTQuNzY3IDEwMS4yNDMgMTU0Ljc2NyAxMDMuNzk5Wk0xNTMuNDQ1IDEwMy43OTlDMTUzLjQ0NSAxMDUuNjI1IDE1MS45NjUgMTA3LjEwNSAxNTAuMTQgMTA3LjEwNUMxNDguMzE0IDEwNy4xMDUgMTQ2LjgzNCAxMDUuNjI1IDE0Ni44MzQgMTAzLjc5OUMxNDYuODM0IDEwMS45NzMgMTQ4LjMxNCAxMDAuNDkzIDE1MC4xNCAxMDAuNDkzQzE1MS45NjUgMTAwLjQ5MyAxNTMuNDQ1IDEwMS45NzMgMTUzLjQ0NSAxMDMuNzk5WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTE4LjM3ODggMTguNTc4QzE2Ljc3IDE4LjE1MDQgMTUuMTg0NiAxNy43NzM0IDEzLjYzNTIgMTcuNDQzTDEzLjkxMSAxNi4xNDk4QzE1LjQ4MSAxNi40ODQ3IDE3LjA4NzggMTYuODY2NyAxOC43MTg0IDE3LjMwMDJMMTguMzc4OCAxOC41NzhaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNMjMuMDYwMiAxOS45NTE2QzI0LjU4ODIgMjAuNDQzNSAyNi4xMjUyIDIwLjk4MjYgMjcuNjYxIDIxLjU3MkwyOC4xMzQ3IDIwLjMzNzZDMjYuNTc1MyAxOS43MzkgMjUuMDE1MyAxOS4xOTIgMjMuNDY1NCAxOC42OTNMMjMuMDYwMiAxOS45NTE2WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTguODMyMTUgMTYuNTQyMkM3LjE0NzQ2IDE2LjI2OTQgNS41MzAwNiAxNi4wNTMyIDQgMTUuODg3M0w0LjE0MjU5IDE0LjU3MjhDNS42OTU1OCAxNC43NDEyIDcuMzM1ODkgMTQuOTYwNSA5LjA0MzQ1IDE1LjIzNjlMOC44MzIxNSAxNi41NDIyWiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTMyLjE1ODcgMjMuNDUxM0MzMy42Mjg5IDI0LjExODQgMzUuMDg4MiAyNC44MzUzIDM2LjUyNzIgMjUuNjA0OEwzNy4xNTA3IDI0LjQzODhDMzUuNjg1IDIzLjY1NTEgMzQuMiAyMi45MjU2IDMyLjcwNTEgMjIuMjQ3M0wzMi4xNTg3IDIzLjQ1MTNaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNNDQuNzQxNiAzMC43OTk0QzQzLjQ0MDQgMjkuODI3MiA0Mi4xMDE4IDI4LjkxMTIgNDAuNzM0NCAyOC4wNDg4TDQxLjQzOTggMjYuOTMwNUM0Mi44MzUgMjcuODEwNSA0NC4yMDI1IDI4Ljc0NjEgNDUuNTMzMSAyOS43NDAyTDQ0Ljc0MTYgMzAuNzk5NFoiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGQ9Ik00OC41MDMgMzMuODY4OUM0OS43MDU1IDM0Ljk0MTkgNTAuODYzIDM2LjA3MjMgNTEuOTY3IDM3LjI2MjhMNTIuOTM2NSAzNi4zNjM4QzUxLjgwMjkgMzUuMTQxNCA1MC42MTU2IDMzLjk4MTkgNDkuMzgzMyAzMi44ODI0TDQ4LjUwMyAzMy44Njg5WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTU2LjQ4NzEgNDIuOTQ2N0M1Ni4wMzMyIDQyLjI3NDUgNTUuNTYzNiA0MS42MTc3IDU1LjA3OTIgNDAuOTc1OEw1Ni4xMzQ2IDQwLjE3OTRDNTYuNjMyNyA0MC44Mzk0IDU3LjExNTggNDEuNTE1MSA1Ny41ODI5IDQyLjIwNjhDNTguMDk5MSA0Mi45NzEzIDU4LjU5MDQgNDMuNzM3NSA1OS4wNTg0IDQ0LjUwNDlMNTcuOTI5NSA0NS4xOTMzQzU3LjQ3MjEgNDQuNDQzMiA1Ni45OTE4IDQzLjY5NDIgNTYuNDg3MSA0Mi45NDY3WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTYwLjQ5MjQgNDkuODY4NUM2MS4yOTA3IDUxLjQ5NzUgNjEuOTk2NCA1My4xMjc5IDYyLjYyNDQgNTQuNzU1MUw2My44NTc5IDU0LjI3OUM2My4yMTY5IDUyLjYxODEgNjIuNDk1OSA1MC45NTIzIDYxLjY3OTcgNDkuMjg2N0w2MC40OTI0IDQ5Ljg2ODVaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNMTUxLjYxMyA4Mi45NzYyQzE1MC43ODggODIuNzU1MiAxNDkuOTY1IDgyLjYxMTggMTQ5LjE0MyA4Mi41MzkyTDE0OS4yNTkgODEuMjIyMUMxNTAuMTU3IDgxLjMwMTQgMTUxLjA1NSA4MS40NTggMTUxLjk1NSA4MS42OTkxQzE1Mi44MzcgODEuOTM1NCAxNTMuNjczIDgyLjIwMjIgMTU0LjQ2NSA4Mi40OTc5TDE1NC4wMDMgODMuNzM2N0MxNTMuMjUyIDgzLjQ1NjQgMTUyLjQ1NiA4My4yMDIyIDE1MS42MTMgODIuOTc2MloiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGQ9Ik02NC4zNDU0IDU5LjgwNzVDNjQuODYzNSA2MS41NDIzIDY1LjMwOTYgNjMuMjY4MiA2NS43MDIyIDY0Ljk3OTZMNjYuOTkxIDY0LjY4NEM2Ni41OTI5IDYyLjk0ODYgNjYuMTM5NiA2MS4xOTQ5IDY1LjYxMjMgNTkuNDI5Mkw2NC4zNDU0IDU5LjgwNzVaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNMTYyLjA2OSA4OS4yOTQyQzE2MS4wNDIgODguMDY2NCAxNTkuODQgODYuOTU1NSAxNTguNDE0IDg1Ljk4NkwxNTkuMTU3IDg0Ljg5MjZDMTYwLjY4OCA4NS45MzMzIDE2MS45ODEgODcuMTI3NiAxNjMuMDg0IDg4LjQ0NTdMMTYyLjA2OSA4OS4yOTQyWiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTEzOS4zNCA4NC42MDIzQzE0MC45NTMgODMuODUzMiAxNDIuNTUyIDgzLjI3NjUgMTQ0LjE0MiA4Mi45MTUxTDE0My44NDggODEuNjI1OEMxNDIuMTUgODIuMDExOSAxNDAuNDYyIDgyLjYyMzMgMTM4Ljc4MyA4My40MDMxTDEzOS4zNCA4NC42MDIzWiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTE2Ni41ODkgOTguMTMyNkMxNjYuMDc0IDk2LjQ5MjIgMTY1LjQ3NiA5NC45MjcgMTY0Ljc1IDkzLjQ2MDJMMTY1LjkzNSA5Mi44NzM3QzE2Ni42OTkgOTQuNDE2MyAxNjcuMzIgOTYuMDQ4IDE2Ny44NSA5Ny43MzY0TDE2Ni41ODkgOTguMTMyNloiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGQ9Ik0xMzAuNTMxIDkwLjAyNDRDMTMxLjk3IDg4Ljk3MzQgMTMzLjM5NyA4Ny45ODY2IDEzNC44MTggODcuMDk0N0wxMzQuMTE0IDg1Ljk3NUMxMzIuNjYxIDg2Ljg4NzcgMTMxLjIwNyA4Ny44OTMxIDEyOS43NTEgODguOTU2N0wxMzAuNTMxIDkwLjAyNDRaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNNjcuNjM3OSA3NS41MzE5QzY3LjM3MjQgNzMuNzkyOSA2Ny4wODk5IDcyLjAyNDIgNjYuNzY3NCA3MC4yMzEzTDY4LjA2ODggNjkuOTk3M0M2OC4zOTQxIDcxLjgwNjMgNjguNjc4NiA3My41ODc3IDY4Ljk0NSA3NS4zMzIzTDY3LjYzNzkgNzUuNTMxOVoiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGQ9Ik0xNjcuODg1IDEwMy4wMzRDMTY4LjIzMSAxMDQuNTU1IDE2OC41NDggMTA2LjEwNyAxNjguODY5IDEwNy42NzdMMTY4Ljk0MiAxMDguMDM1TDE3MC4yMzggMTA3Ljc3TDE3MC4xNjMgMTA3LjQwNUwxNzAuMTYzIDEwNy40MDRMMTcwLjE2MiAxMDcuNDAzTDE3MC4xNjIgMTA3LjQwMUwxNzAuMTYyIDEwNy4zOTlDMTY5Ljg0MiAxMDUuODM1IDE2OS41MjMgMTA0LjI3MyAxNjkuMTc0IDEwMi43NEwxNjcuODg1IDEwMy4wMzRaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNMTIyLjI2NCA5Ni40MzgxTDEyMS40NDMgOTUuNDAxOEwxMjIuNTc2IDk0LjUwMzFDMTIzLjU3MyA5My43MTEgMTI0LjU2OSA5Mi45MjA1IDEyNS41NiA5Mi4xNDQ4TDEyNi4zNzUgOTMuMTg1N0MxMjUuMzkxIDkzLjk1NjMgMTI0LjQwNCA5NC43Mzk5IDEyMy40MSA5NS41Mjg3TDEyMy40MDUgOTUuNTMzMkwxMjIuMjY0IDk2LjQzODFaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNNjguNDM4MiA4MC44NjQzQzY4LjcxNzEgODIuNjkzIDY5LjAwNDMgODQuNDc4NSA2OS4zMjk2IDg2LjIwNzZMNzAuNjI5IDg1Ljk2MzFDNzAuMzA3OSA4NC4yNTYyIDcwLjAyMzQgODIuNDg4MSA2OS43NDUzIDgwLjY2NUw2OC40MzgyIDgwLjg2NDNaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNMTcxLjM3MyAxMTguMDYzQzE3MC44NTIgMTE2LjQxOCAxNzAuNDE1IDExNC43NDQgMTcwLjAyMyAxMTMuMDY2TDE3MS4zMSAxMTIuNzY1QzE3MS42OTcgMTE0LjQyMiAxNzIuMTI2IDExNi4wNjEgMTcyLjYzNCAxMTcuNjY0TDE3MS4zNzMgMTE4LjA2M1oiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGQ9Ik0xMTMuODYgMTAyLjc4NEMxMTUuMjk0IDEwMS43OSAxMTYuNzE0IDEwMC43NDQgMTE4LjExOSA5OS42NzI5TDExNy4zMTggOTguNjIxMkMxMTUuOTIzIDk5LjY4NCAxMTQuNTIgMTAwLjcxOCAxMTMuMTA3IDEwMS42OTdMMTEzLjg2IDEwMi43ODRaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNNzIuMzQ4NyA5Ni42OTA1QzcxLjYyMDYgOTUuMDU2NCA3MS4wMjk3IDkzLjMyNDcgNzAuNTMwNyA5MS41MTMyTDcxLjgwNTQgOTEuMTYyQzcyLjI5MTEgOTIuOTI1IDcyLjg2MTEgOTQuNTkxOCA3My41NTY1IDk2LjE1MjNMNzIuMzQ4NyA5Ni42OTA1WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTEwNC42OCAxMDguMDc1QzEwNi4yNzggMTA3LjM3NSAxMDcuODUzIDEwNi41NTQgMTA5LjQwNyAxMDUuNjQ0TDEwOC43MzggMTA0LjUwM0MxMDcuMjIxIDEwNS4zOTIgMTA1LjY5MiAxMDYuMTg5IDEwNC4xNSAxMDYuODY0TDEwNC42OCAxMDguMDc1WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTE3NS44NTUgMTI3LjQ2M0MxNzQuODMyIDEyNi4wMTYgMTczLjk3NSAxMjQuNDk1IDE3My4yNDIgMTIyLjkyNEwxNzQuNDQgMTIyLjM2NUMxNzUuMTQ0IDEyMy44NzQgMTc1Ljk2MyAxMjUuMzI2IDE3Ni45MzQgMTI2LjY5OUwxNzUuODU1IDEyNy40NjNaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNNzUuMTI4MiAxMDEuNDY3Qzc2LjIxODcgMTAyLjkxNCA3Ny41MDA3IDEwNC4yMzUgNzkuMDIwMyAxMDUuNDE1TDc5LjgzMTEgMTA0LjM3Qzc4LjQwNjcgMTAzLjI2NSA3Ny4yMDY0IDEwMi4wMjcgNzYuMTg0IDEwMC42NzFMNzUuMTI4MiAxMDEuNDY3WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTk5LjYyMjcgMTA5LjgyNEM5Ny44NzcxIDExMC4yNTkgOTYuMTAyNiAxMTAuNTE4IDk0LjI5OCAxMTAuNTYxTDk0LjI2NjYgMTA5LjIzOUM5NS45NjQ2IDEwOS4xOTkgOTcuNjQyMiAxMDguOTU1IDk5LjMwMzEgMTA4LjU0MUw5OS42MjI3IDEwOS44MjRaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNODMuNzY5MiAxMDguMjU4Qzg0LjU3ODIgMTA4LjYyOCA4NS40MzI0IDEwOC45NzEgODYuMzM0NyAxMDkuMjg3Qzg3LjIwNTUgMTA5LjU5MiA4OC4wNzEgMTA5LjgzOSA4OC45MzEyIDExMC4wMzFMODkuMjIwMyAxMDguNzQxQzg4LjQxMDggMTA4LjU2IDg3LjU5NDYgMTA4LjMyNyA4Ni43NzE1IDEwOC4wMzlDODUuOTA1NCAxMDcuNzM2IDg1LjA4OSAxMDcuNDA4IDg0LjMxODcgMTA3LjA1Nkw4My43NjkyIDEwOC4yNThaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNMTE3LjgwNSAxMjAuNjU5TDExNC4zNzYgMTI0LjA4OEwxMTcuNjQ5IDEyNy4zNkwxMTYuNzE0IDEyOC4yOTVMMTEzLjQ0MSAxMjUuMDIzTDExMC4xNjkgMTI4LjI5NUwxMDkuMjM0IDEyNy4zNkwxMTIuNTA3IDEyNC4wODhMMTA5LjA3OCAxMjAuNjU5TDExMC4wMTMgMTE5LjcyNEwxMTMuNDQxIDEyMy4xNTNMMTE2Ljg3IDExOS43MjRMMTE3LjgwNSAxMjAuNjU5WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZD0iTTEzNy45NDYgNjQuNDY0TDE0MC43NTEgNjcuMjY4OUwxMzcuOTQ2IDcwLjA3MzdMMTM4Ljg4MSA3MS4wMDg3TDE0MS42ODYgNjguMjAzOEwxNDQuNDkxIDcxLjAwODdMMTQ1LjQyNiA3MC4wNzM3TDE0Mi42MjEgNjcuMjY4OUwxNDUuNDI2IDY0LjQ2NEwxNDQuNDkxIDYzLjUyOTFMMTQxLjY4NiA2Ni4zMzM5TDEzOC44ODEgNjMuNTI5MUwxMzcuOTQ2IDY0LjQ2NFoiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGQ9Ik0xMi4wNzggNzMuNjU5MkwxNS41NzcyIDc3LjE1ODRMMTIuMDc4IDgwLjY1NzZMMTMuMDEyOSA4MS41OTI1TDE2LjUxMjEgNzguMDkzM0wyMC4wMTEzIDgxLjU5MjVMMjAuOTQ2MyA4MC42NTc2TDE3LjQ0NzEgNzcuMTU4NEwyMC45NDYzIDczLjY1OTJMMjAuMDExMyA3Mi43MjQzTDE2LjUxMjEgNzYuMjIzNEwxMy4wMTI5IDcyLjcyNDNMMTIuMDc4IDczLjY1OTJaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBkPSJNNzcuMjM4MyAzMi44MTk1TDczLjA3OCAyOC42NTkyTDc0LjAxMjkgMjcuNzI0M0w3OC4xNzMyIDMxLjg4NDZMODIuMzMzNSAyNy43MjQzTDgzLjI2ODUgMjguNjU5Mkw3OS4xMDgyIDMyLjgxOTVMODMuMjY4NSAzNi45Nzk4TDgyLjMzMzUgMzcuOTE0OEw3OC4xNzMyIDMzLjc1NDVMNzQuMDEyOSAzNy45MTQ4TDczLjA3OCAzNi45Nzk4TDc3LjIzODMgMzIuODE5NVoiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNODUuMDc4MSA3OS43MjQzVjkxLjYyNDNMOTYuOTc4MSA5MS42MjQzVjc5LjcyNDNIODUuMDc4MVpNOTUuNjU1OCA4MS4wNDY1SDg2LjQwMDNWOTAuMzAySDk1LjY1NThWODEuMDQ2NVoiIGZpbGw9IiNDNUM1QzUiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTguMDc4MSAzOC43MjQzVjQ3Ljk3OThIMjcuMzMzNlYzOC43MjQzTDE4LjA3ODEgMzguNzI0M1pNMjYuMDExNCA0MC4wNDY1SDE5LjQwMDNWNDYuNjU3NkgyNi4wMTE0VjQwLjA0NjVaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ1LjUzMzEgNzUuNTg5NUM0OC4wODg5IDc1LjU4OTUgNTAuMTYwOCA3My41MTc2IDUwLjE2MDggNzAuOTYxN0M1MC4xNjA4IDY4LjQwNTkgNDguMDg4OSA2Ni4zMzM5IDQ1LjUzMzEgNjYuMzMzOUM0Mi45NzcyIDY2LjMzMzkgNDAuOTA1MyA2OC40MDU5IDQwLjkwNTMgNzAuOTYxN0M0MC45MDUzIDczLjUxNzYgNDIuOTc3MiA3NS41ODk1IDQ1LjUzMzEgNzUuNTg5NVpNNDUuNTMzMSA3NC4yNjczQzQ3LjM1ODcgNzQuMjY3MyA0OC44Mzg2IDcyLjc4NzMgNDguODM4NiA3MC45NjE3QzQ4LjgzODYgNjkuMTM2MSA0Ny4zNTg3IDY3LjY1NjEgNDUuNTMzMSA2Ny42NTYyQzQzLjcwNzUgNjcuNjU2MSA0Mi4yMjc1IDY5LjEzNjEgNDIuMjI3NSA3MC45NjE3QzQyLjIyNzUgNzIuNzg3MyA0My43MDc0IDc0LjI2NzMgNDUuNTMzMSA3NC4yNjczWiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Mi43MTE0IDk4LjE1NDdWMTA3LjQxSDUxLjk2N1Y5OC4xNTQ3SDQyLjcxMTRaTTUwLjY0NDggOTkuNDc2OUg0NC4wMzM3VjEwNi4wODhINTAuNjQ0OFY5OS40NzY5WiIgZmlsbD0iI0M1QzVDNSIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMjQuOTQ2IDU0LjUyOTFDMTI0Ljk0NiA2NC40NzAyIDExNi44ODggNzIuNTI5MSAxMDYuOTQ2IDcyLjUyOTFDOTcuMDA1MyA3Mi41MjkxIDg4Ljk0NjQgNjQuNDcwMiA4OC45NDY0IDU0LjUyOTFDODguOTQ2NCA0NC41ODc5IDk3LjAwNTMgMzYuNTI5MSAxMDYuOTQ2IDM2LjUyOTFDMTE2Ljg4OCAzNi41MjkxIDEyNC45NDYgNDQuNTg3OSAxMjQuOTQ2IDU0LjUyOTFaTTEyMy43NDYgNTQuNTI5MUMxMjMuNzQ2IDYzLjgwNzQgMTE2LjIyNSA3MS4zMjkxIDEwNi45NDYgNzEuMzI5MUM5Ny42NjggNzEuMzI5MSA5MC4xNDY0IDYzLjgwNzQgOTAuMTQ2NCA1NC41MjkxQzkwLjE0NjQgNDUuMjUwNyA5Ny42NjggMzcuNzI5MSAxMDYuOTQ2IDM3LjcyOTFDMTE2LjIyNSAzNy43MjkxIDEyMy43NDYgNDUuMjUwNyAxMjMuNzQ2IDU0LjUyOTFaIiBmaWxsPSIjQzVDNUM1Ii8+DQo8L3N2Zz4NCg=="},3568:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMi42ODY3IDkuMDc0NDdMMTIuNzYwMSA4Ljk0MTAxQzEyLjc3MzQgOC45MTY3NCAxMi43Nzg3IDguODg5NzggMTIuNzc3NCA4Ljg2MjgxTDEyLjc2NTQgOC43MjEyNkMxMi43NjI3IDguNjg3NTUgMTIuNzIyNyA4LjY3MDAzIDEyLjY5NzQgOC42OTI5NUwxMi40OTIgOC44NjgyMUMxMi40ODY1IDguODcyNjYgMTIuNDgwMSA4Ljg3NTg4IDEyLjQ3MzMgOC44Nzc2NEwxMi4zODEyIDguODk1MTdDMTIuMzU3MiA4Ljg5OTIxIDEyLjM0MjYgOC45MjM0OCAxMi4zNDc5IDguOTQ2NEwxMi4zNjY2IDkuMDIzMjRDMTIuMzcyMyA5LjA0NjMxIDEyLjM4MzkgOS4wNjc0NCAxMi40MDAzIDkuMDg0NDhDMTIuNDE2NyA5LjEwMTUzIDEyLjQzNzMgOS4xMTM4OSAxMi40NTk5IDkuMTIwMzFMMTIuNTMwNiA5LjE0MDUzQzEyLjU5MiA5LjE1ODA2IDEyLjY1NiA5LjEzMTEgMTIuNjg2NyA5LjA3NDQ3WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTEzLjc5OTIgOS4zODg2QzEzLjgxOTIgOS4zODg2IDEzLjgzOTIgOS4zODQ1NSAxMy44NTc5IDkuMzc1MTFMMTMuOTk5MiA5LjMwNjM2QzE0LjAwMDYgOS4zMDYzNiAxNC4wMDA2IDkuMzA2MzYgMTQuMDAxOSA5LjMwNzcxTDE0LjEwNiA5LjQzNzEzQzE0LjExMTMgOS40NDM4NyAxNC4xMTkzIDkuNDQ3OTEgMTQuMTI4NiA5LjQ0NzkxSDE0LjE5OEMxNC4yMjIgOS40NDc5MSAxNC4yMzUzIDkuNDIwOTUgMTQuMjIwNyA5LjQwMjA4TDE0LjExMjYgOS4yNjA1MkwxNC4wNjU5IDkuMjIxNDJMMTMuNjg0NSA5LjAyOTk5SDEzLjY4MzFMMTMuNTkyNCA5LjA2NjM5SDEzLjUyM0MxMy41MjI0IDkuMDY2MzkgMTMuNTIyMSA5LjA2NjM5IDEzLjUyMTkgOS4wNjYyMkMxMy41MjE4IDkuMDY2MTUgMTMuNTIxOSA5LjA2NjM3IDEzLjUyMTkgOS4wNjYyMkMxMy41MjE5IDkuMDY2MDIgMTMuNTIxNyA5LjA2NTQyIDEzLjUyMTcgOS4wNjUwNEwxMy40OTY0IDguOTgxNDVDMTMuNDk0NiA4Ljk3NjA0IDEzLjQ5MTIgOC45NzEzMiAxMy40ODY3IDguOTY3OTNDMTMuNDgyMSA4Ljk2NDU1IDEzLjQ3NjcgOC45NjI2OCAxMy40NzEgOC45NjI1OEgxMy4zNzc3QzEzLjM3MDYgOC45NjI1OCAxMy4zNjM4IDguOTY1NDIgMTMuMzU4OCA4Ljk3MDQ3QzEzLjM1MzggOC45NzU1MyAxMy4zNTEgOC45ODIzOSAxMy4zNTEgOC45ODk1NFY5LjA3MTc4SDEzLjQxMVY5LjA5NjA1QzEzLjQxMSA5LjEyNTcgMTMuNDMzNyA5LjE1MTMyIDEzLjQ2MyA5LjE1NTM2TDEzLjU5OTEgOS4xNzE1NEMxMy41OTkxIDkuMTcxNTQgMTMuNjAwNCA5LjE3MTU0IDEzLjYwMDQgOS4xNzI4OUwxMy42NzM4IDkuMjY0NTZDMTMuNjk2NSA5LjI5Mjg4IDEzLjY5MjUgOS4zNjE2MyAxMy42Njg0IDkuMzg5OTRMMTMuNjY3MSA5LjM5MTI5SDEzLjc5OTJWOS4zODg2WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTEzLjg3NzkgNi43NzQ1MUwxMy44Mjk4IDYuODE3NjVDMTMuNzc2NSA2Ljg2NjE5IDEzLjc0NDUgNi45MzIyNSAxMy43MzY1IDcuMDA1MDVDMTMuNzI5OCA3LjA3MjQ2IDEzLjcwMDUgNy4xMzQ0NyAxMy42NTM4IDcuMTgzMDFDMTMuNTg1NyA3LjI1MTc2IDEzLjUwMDQgNy4yOTg5NSAxMy40MDgzIDcuMzE5MTdMMTMuMzg5NyA3LjMyMzIxTDEzLjMxMzYgNy4zODUyM0MxMy4zMTM2IDcuMzg1MjMgMTMuMjkyMyA3LjQ5NDQzIDEzLjMxMzYgNy41MjAwNUMxMy4zMjMgNy41MzIxOCAxMy4zNjMgNy41Mjk0OCAxMy4zNzUgNy41MjAwNUMxMy4zOTEgNy41MDc5MSAxMy4zOTIzIDcuNDQwNSAxMy4zOTIzIDcuNDQwNUwxMy42MzM4IDcuMzUyODdDMTMuNjMzOCA3LjM1Mjg3IDEzLjY5MzggNy40MzI0MiAxMy43MjMxIDcuNDM2NDZDMTMuNzM2NSA3LjQzNzgxIDEzLjc2NTggNy40MjI5OCAxMy43NzM4IDcuNDEwODRDMTMuODA1OCA3LjM2NjM2IDEzLjg0MTggNy4yMDMyMyAxMy44NDE4IDcuMjAzMjNDMTMuODUzOSA3LjE2NjgzIDEzLjg2MTkgNy4xMjc3MyAxMy44NjU5IDcuMDg5OThMMTMuODc5MiA2Ljk0NzA4TDEzLjk4NzIgNi45NDAzNEwxNC4wMjk5IDYuODUyNzFMMTMuOTE3OSA2Ljg0MTkyTDEzLjg3NzkgNi43NzQ1MVoiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik05LjQyNjY3IDEwLjExOTNDOS40MjY2NyAxMC4xMTkzIDkuNDYyNjkgMTAuMTkwOCA5LjU0OTM5IDEwLjE5MDhDOS42MzYwOSAxMC4xOTA4IDkuNjcyMTEgMTAuMTE5MyA5LjY3MjExIDEwLjExOTNWOS43ODYzQzkuNjcyMTEgOS42ODkyNCA5LjU2NjczIDkuNjI5OTIgOS40ODUzNiA5LjY4MTE1QzkuNDQ5MzUgOS43MDQwNyA5LjQyNjY3IDkuNzQzMTYgOS40MjY2NyA5Ljc4NjNWMTAuMTE5M1oiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik02LjY5NzUzIDQuMzE1NDdMNi44NDE1OSA0LjIzMDU0TDYuODQ0MjYgNC4yMjUxNEM2Ljg0OTIgNC4yMTUzMSA2Ljg1MTU0IDQuMjA0MzYgNi44NTEwNyA0LjE5MzM1QzYuODUwNTkgNC4xODIzNCA2Ljg0NzMxIDQuMTcxNjQgNi44NDE1NCA0LjE2MjI4QzYuODM1NzcgNC4xNTI5MyA2LjgyNzcxIDQuMTQ1MjQgNi44MTgxNCA0LjEzOTk1QzYuODA4NTcgNC4xMzQ2NyA2Ljc5NzgxIDQuMTMxOTcgNi43ODY5IDQuMTMyMTJINi40NTg3N0w2LjQyNDA5IDQuMDk0MzdDNi4zODQwNyA0LjA0ODUzIDYuMzI2NzEgNC4wMjE1NyA2LjI2NjY5IDQuMDIwMjJMNS43Nzg0OCA0QzUuNzYyNDggNC4wMDI3IDUuNzQ2NDcgNC4wMDU3MyA1LjczMDQ2IDQuMDA4NzZDNS43MTQ0NiA0LjAxMTggNS42OTg0NSA0LjAxNDgzIDUuNjgyNDQgNC4wMTc1M0w1LjM5Mjk5IDQuMTQwMjFDNS4zNjg5OCA0LjE1MDk5IDUuMzQzNjQgNC4xNTYzOSA1LjMxNjk2IDQuMTU3NzNMNC44NTI3NiA0LjE4MDY1QzQuODE4MDggNC4xODIgNC43ODQ3NCA0LjE5Mjc5IDQuNzU0MDYgNC4yMDg5N0w0LjQ5Mzk1IDQuMzU3MjZDNC40ODk2NyA0LjM1OTcyIDQuNDg2MDYgNC4zNjMyMiA0LjQ4MzQ3IDQuMzY3NDVDNC40ODA4OCA0LjM3MTY4IDQuNDc5MzggNC4zNzY1IDQuNDc5MTEgNC4zODE0N0M0LjQ3ODg1IDQuMzg2NDMgNC40Nzk4MiA0LjM5MTM5IDQuNDgxOTUgNC4zOTU4OEM0LjQ4NDA4IDQuNDAwMzYgNC40ODcyOCA0LjQwNDI0IDQuNDkxMjggNC40MDcxNEM0LjUxMTI5IDQuNDIxOTcgNC41MDQ2MiA0LjQ1NDMzIDQuNDgwNjEgNC40NTk3Mkw0LjI3Nzg2IDQuNTEwOTVDNC4yNTc4NSA0LjUxNjM1IDQuMjQ5ODUgNC41MzkyNiA0LjI1OTE4IDQuNTU1NDRMNC4zMjcyMSA0LjY2NzM0QzQuMzMxMjEgNC42NzQwOCA0LjMzOTIyIDQuNjc5NDcgNC4zNDcyMiA0LjY4MDgyTDQuNzExMzcgNC43NDQxOEM0Ljc2NzQgNC43NTM2MiA0LjgxNjc1IDQuNzg0NjMgNC44NTE0MyA0LjgzMDQ3TDUuMTAyMiA1LjE2MzQ2TDUuMTc1NTcgNS4yNjQ1N0M1LjIwMjI0IDUuMzAwOTcgNS4xOTgyNCA1LjM1MDg2IDUuMTY4OSA1LjM4MzIxTDUuMTEyODcgNS40NDI1M0M1LjA4NjIgNS40NzA4NCA1LjA4MDg2IDUuNTEyNjQgNS4wOTgyIDUuNTQ3NjlMNS4yODA5NCA1LjkxNzA4QzUuMjk2OTUgNS45NTA3OSA1LjMyNzYzIDUuOTc1MDUgNS4zNjIzMSA1Ljk4NTg0QzUuNDc1NjkgNi4wMTk1NCA1LjU5NTc0IDUuOTU3NTMgNS42MzU3NiA1Ljg0NDI4TDUuNjgzNzggNS43MDY3N0M1LjY5MDQ1IDUuNjg2NTUgNS43MDUxMiA1LjY2OTAyIDUuNzIzNzkgNS42NTY4OUw1LjkyNzg4IDUuNDgxNjNDNS45NTMyMiA1LjQ2MDA2IDUuOTgyNTcgNS40NDUyMyA2LjAxMzI1IDUuNDM1NzlMNi4zMzMzOCA1LjM0ODE2QzYuNDAxNDEgNS4zMjkyOSA2LjQ1NjEgNS4yODA3NSA2LjQ4MTQ0IDUuMjE0NjlMNi42MzIxNyA0LjgzNzIxQzYuNjU0ODUgNC43ODE5MyA2LjY1MzUyIDQuNzE5OTIgNi42MzA4NCA0LjY2NDY0TDYuNjAxNDkgNC41OTQ1NEM2LjU2MDE0IDQuNDkzNDMgNi42MDAxNiA0LjM3MzQ0IDYuNjk3NTMgNC4zMTU0N1oiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik00LjAyOTc1IDQuNjQzMDdMNC4wOTExMSA0LjUzMzg3QzQuMTEyNDYgNC40OTYxMiA0LjE0MTggNC40NjY0NiA0LjE3OTE1IDQuNDQ2MjRMNC42ODMzNiA0LjE2NDQ4TDQuNjI2IDQuMDk4NDJMNC4wNTM3NiA0LjA2MzM2QzQuMDM3NzYgNC4wNjIwMiA0LjAyMDQyIDQuMDYzMzYgNC4wMDQ0MSA0LjA2NjA2TDMuNDQ2ODQgNC4xNTYzOUMzLjQxMzUgNC4xNjE3OCAzLjM4MTQ4IDQuMTczOTEgMy4zNTM0NyA0LjE5NDE0QzMuMjQxNDMgNC4yNzA5OCAzLjIyMTQyIDQuNDMwMDYgMy4zMDk0NSA0LjUzMzg3TDMuNDM0ODQgNC42ODA4MkMzLjQ3NzUyIDQuNzMyMDUgMy41NDE1NSA0Ljc2MDM2IDMuNjA2OTEgNC43NjAzNkgzLjgzMTAxQzMuOTEzNzEgNC43NjAzNiAzLjk4OTc0IDQuNzE1ODcgNC4wMjk3NSA0LjY0MzA3WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTQuNjY2MDIgNS42NzE3Mkw0LjcxODA0IDUuNjExMDVDNC43MzEzOCA1LjU5NDg3IDQuNzI4NzEgNS41NzA2MSA0LjcxMTM3IDUuNTU5ODJMNC41NDg2NCA1LjQ0Mzg4TDMuOTgwNCA1LjAxOTIxQzMuOTU2MzkgNS4wMDE2OCAzLjkyODM4IDQuOTkyMjUgMy44OTkwMyA0Ljk5MjI1SDMuNjc0OTRDMy42Mzg5MiA0Ljk5MjI1IDMuNjA1NTggNS4wMDU3MyAzLjU4MDIzIDUuMDMxMzRMMy40NjE1MiA1LjE0NzI4QzMuNDU1MDQgNS4xNTMyMiAzLjQ1MTEzIDUuMTYxNSAzLjQ1MDYzIDUuMTcwMzNDMy40NTAxMyA1LjE3OTE1IDMuNDUzMDggNS4xODc4MiAzLjQ1ODg1IDUuMTk0NDdMMy41MjU1NCA1LjI3OTRDMy41MzIyMSA1LjI4ODg0IDMuNTQ0MjIgNS4yOTQyMyAzLjU1NjIyIDUuMjkyODlMMy42MjAyNSA1LjI4NzQ5QzMuNjQwMjYgNS4yODYxNSAzLjY1NjI3IDUuMzAwOTcgMy42NTc2IDUuMzE5ODVMMy42NjAyNyA1LjM1NzZDMy42NjAyNyA1LjM2Mjk5IDMuNjYwMjcgNS4zNjgzOCAzLjY1NzYgNS4zNzM3OEwzLjYyODI1IDUuNDQ2NThDMy42MjI5MiA1LjQ1ODcxIDMuNjI1NTkgNS40NzM1NCAzLjYzMzU5IDUuNDgyOThMMy43MDQyOSA1LjU2NjU2QzMuNzEwOTUgNS41NzQ2NSAzLjcyMTYzIDUuNTgwMDQgMy43MzIzIDUuNTc4N0wzLjgwMDMzIDUuNTc2QzMuODE5IDUuNTc0NjUgMy44MzM2NyA1LjU1OTgyIDMuODMzNjcgNS41NDA5NVY1LjM5NEMzLjgzMzY3IDUuMzc1MTIgMy44NDgzNSA1LjM2MDI5IDMuODY1NjkgNS4zNTg5NUwzLjk2MDM5IDUuMzUyMkMzLjk2ODQgNS4zNTIyIDMuOTc3NzMgNS4zNTM1NSAzLjk4NDQgNS4zNTg5NUw0LjE1NzgxIDUuNDkyNDFDNC4xNzExNSA1LjUwMzIgNC4xNzUxNSA1LjUyMDczIDQuMTY4NDggNS41MzU1NUw0LjExMTEyIDUuNjUxNUM0LjEwNTc5IDUuNjYyMjggNC4wOTUxMSA1LjY3MDM3IDQuMDgxNzggNS42NzAzN0w0LjAyNzA5IDUuNjc0NDJDNC4wMTEwOCA1LjY3NTc2IDMuOTk5MDggNS42ODY1NSAzLjk5NTA3IDUuNzAxMzhDMy45OTEwNyA1LjcyMjk1IDQuMDA1NzQgNS43NDMxNyA0LjAyNzA5IDUuNzQ0NTJMNC4xNDQ0NyA1Ljc1Mzk2QzQuMTY4NDggNS43NTUzIDQuMTkyNDkgNS43NjQ3NCA0LjIxMjUgNS43NzgyMkw0LjQxOTI1IDUuOTIzODJDNC40MzI1OSA1LjkzMzI2IDQuNDQ5OTMgNS45MzE5MSA0LjQ2MTk0IDUuOTIxMTNMNC41MjczIDUuODY1ODVDNC41MzI2MyA1Ljg2MTgxIDQuNTM2NjMgNS44NTUwNyA0LjUzNzk3IDUuODQ4MzNMNC41NTkzMSA1Ljc2NDc0QzQuNTYxOTggNS43NTUzIDQuNTYwNjQgNS43NDQ1MiA0LjU1NTMxIDUuNzM2NDNMNC40ODQ2MSA1LjYyNTg4TDQuNTA3MjkgNS42MjE4NEM0LjUxNTI5IDUuNjIwNDkgNC41MjQ2MyA1LjYyMTg0IDQuNTMxMyA1LjYyNTg4TDQuNjIyIDUuNjc5ODFDNC42MzUzNCA1LjY4NzkgNC42NTQwMiA1LjY4NTIgNC42NjYwMiA1LjY3MTcyWiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTIuMDc5NjEgNS4xMzY1SDIuMTUwM0wyLjI1NDM1IDUuMjgzNDVDMi4yNjc2OSA1LjMwMDk3IDIuMjgzNjkgNS4zMTU4IDIuMzAzNyA1LjMyNjU5TDIuNDM5NzYgNS4zOTUzNUMyLjQ1ODQzIDUuNDA0NzggMi40Nzk3NyA1LjQxMDE4IDIuNTAxMTIgNS40MTAxOEgyLjkyMjYzVjUuMjY4NjJMMi43NjY1NiA1LjIxMzM0TDIuNTg2NDkgNS4xMTYyOEMyLjU2MjQ4IDUuMTE2MjggMi41Mzk4IDUuMTA5NTQgMi41MTk3OSA1LjA5ODc1TDIuMjMxNjcgNC45MzI5M0MyLjIxMTM4IDQuOTIxMTggMi4xODgzNiA0LjkxNTEzIDIuMTY0OTggNC45MTU0SDEuOTkxNTdDMS45MzI4OCA0LjkxNTQgMS44ODA4NiA0Ljk1MzE1IDEuODYyMTggNS4wMDk3N0wxLjg0NzUxIDUuMDU2OTZDMS44MzE1IDUuMTA1NDkgMS44NDQ4NCA1LjE2MDc3IDEuODgwODYgNS4xOTcxN0wxLjk0MjIyIDUuMjU5MThIMi4wNzk2MVY1LjEzNjVaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMi42Nzg1MiA1LjAyMTkxTDIuNzg5MjQgNC45NjM5M0MyLjgwNzkxIDQuOTU0NSAyLjgyOTI1IDQuOTQ5MSAyLjg1MTkzIDQuOTQ5MUgyLjkxMTk1QzIuOTYzOTggNC45NDkxIDMuMDEyIDQuOTc4NzYgMy4wMzQ2NyA1LjAyNzNMMy4wNzg2OSA1LjExODk3VjUuMjEzMzRIMi44Nzg2MVY1LjA5MzM2TDIuNzk0NTcgNS4wNTAyMkwyLjY5NDUzIDUuMDUyOTFMMi42Nzg1MiA1LjAyMTkxWiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTMuMDYxMzUgNC45NDkxTDMuMTYxMzkgNS4xMTM1OEwzLjI0MDA5IDUuMTYwNzdIMy4zNTYxNEwzLjQ3MjE5IDUuMDM2NzRMMy4zODQxNSA0LjkyMDc5TDMuMTU4NzIgNC45NDkxSDMuMDYxMzVaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMi40MTQ0MSA0LjY5ODM1TDIuNTcxODEgNC43NTQ5N0MyLjU4MjQ4IDQuNzU5MDEgMi41OTE4MiA0Ljc2MzA2IDIuNjAxMTYgNC43Njk4TDIuNzEwNTQgNC44NDI2QzIuNzI5MjEgNC44NTQ3MyAyLjc0OTIyIDQuODYyODIgMi43NzE5IDQuODY0MTdMMi45NzA2NSA0Ljg4NDM5TDIuOTQ2NjQgNC43NjAzNkwyLjcwOTIgNC42MjgyNEMyLjY4OTE5IDQuNjE3NDYgMi42NjY1MiA0LjYxMDcyIDIuNjQzODQgNC42MTA3MkgyLjUyMjQ2TDIuNDE0NDEgNC42OTgzNVoiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik03LjQ2MDUyIDUuNzEyMTZMNy41MTc4OCA1LjgwMzg0QzcuNTIzMjEgNS44MTE5MyA3LjUyMzIxIDUuODI0MDYgNy41MTY1NCA1LjgzMjE1TDcuNDcyNTIgNS44OTI4MkM3LjQ2ODUyIDUuODk5NTYgNy40NjU4NiA1LjkwNzY1IDcuNDY4NTIgNS45MTQzOUw3LjQ4NTg2IDUuOTc1MDVDNy40ODcyIDUuOTgwNDUgNy40ODk4NiA1Ljk4NDQ5IDcuNDkzODcgNS45ODcxOUw3LjU4NTkgNi4wNTg2NEM3LjY0ODYgNi4xMDcxNyA3LjY1NjYgNi4yMDAyIDcuNjAzMjUgNi4yNTk1Mkw3LjYwMTkxIDYuMjYwODZDNy41NzY1NyA2LjI4OTE4IDcuNTM5MjIgNi4zMDY3IDcuNTAwNTQgNi4zMDY3SDcuMzkxMTZDNy4zNzUxNSA2LjMwNjcgNy4zNjMxNSA2LjI5MTg3IDcuMzY3MTUgNi4yNzU2OUw3LjM5NTE2IDYuMTY1MTVDNy4zOTY0OSA2LjE1ODQgNy40MDE4MyA2LjE1MTY2IDcuNDA4NSA2LjE0ODk3TDcuNDU3ODUgNi4xMjQ3QzcuNDY3MTkgNi4xMjA2NiA3LjQ3MjUyIDYuMTA5ODcgNy40NzExOSA2LjA5OTA5TDcuNDY4NTIgNi4wNjk0M0M3LjQ2Nzc4IDYuMDY0MTkgNy40NjU0NyA2LjA1OTMxIDcuNDYxODkgNi4wNTU0NUM3LjQ1ODMxIDYuMDUxNTkgNy40NTM2NCA2LjA0ODk0IDcuNDQ4NTEgNi4wNDc4Nkw3LjM3NzgyIDYuMDMzMDNDNy4zNzI1MiA2LjAzMTkzIDcuMzY3MDEgNi4wMzI2NiA3LjM2MjE3IDYuMDM1MUM3LjM1NzM0IDYuMDM3NTUgNy4zNTM0NSA2LjA0MTU2IDcuMzUxMTQgNi4wNDY1MUw3LjMzNTEzIDYuMDgxNTZDNy4zMzUxMyA2LjA4MjIzIDcuMzM0OCA2LjA4MjkxIDcuMzM0NDcgNi4wODM1OEM3LjMzNDEzIDYuMDg0MjYgNy4zMzM4IDYuMDg0OTMgNy4zMzM4IDYuMDg1Nkw3LjI5OTEyIDYuMjA0MjRDNy4yOTY0NSA2LjIxNTAzIDcuMjg1NzggNi4yMjE3NyA3LjI3NTExIDYuMjIxNzdMNy4xNjQ0IDYuMjE5MDdDNy4xNTgwMyA2LjIxOTA3IDcuMTUxOTIgNi4yMTY1MSA3LjE0NzQyIDYuMjExOTZDNy4xNDI5MiA2LjIwNzQxIDcuMTQwMzkgNi4yMDEyNCA3LjE0MDM5IDYuMTk0OFY2LjA2ODA4QzcuMTQwMzkgNi4wNTQ2IDcuMTUxMDYgNi4wNDM4MSA3LjE2NDQgNi4wNDM4MUw3LjIyMTc1IDYuMDQyNDZDNy4yMjk3NiA2LjA0MjQ2IDcuMjM2NDMgNi4wMzg0MiA3LjI0MTc2IDYuMDMxNjhMNy4yOTUxMiA1Ljk1MzQ4QzcuMjk3NzggNS45NDk0NCA3LjI5OTEyIDUuOTQ0MDUgNy4yOTkxMiA1LjkzODY1VjUuODIwMDJDNy4yOTkxMiA1LjgxMTkzIDcuMzAzMTIgNS44MDUxOSA3LjMwODQ2IDUuODAxMTRMNy40MjQ1IDUuNzA2NzdDNy40MzUxOCA1LjY5NzMzIDcuNDUyNTIgNS43MDAwMyA3LjQ2MDUyIDUuNzEyMTZaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjA3MzIgNS4wOTk3MUgxNC42OTk3QzE0LjY4MTEgNS4wOTk3MSAxNC42NjUxIDUuMDg3NTggMTQuNjU5NyA1LjA3MDA1TDE0LjMwMjIgNS4wMDEyOUMxNC4yNzE2IDUuMDAxMjkgMTQuMjQwOSA0Ljk5MTg2IDE0LjIxNDIgNC45NzQzM0wxNC4xMzI4IDQuOTE5MDZDMTQuMTA2MiA0LjkwMTUzIDE0LjA3NTUgNC44OTIwOSAxNC4wNDQ4IDQuODkyMDlDMTQuMDQ0OCA0Ljg5MjA5IDEzLjIxMjUgNC40NjIwMyAxMi4xMjI3IDQuNTAzODJDMTEuNzEzMiA0LjUyIDExLjM1MyA0LjcyNjI3IDExLjM1MyA0LjcyNjI3QzExLjM0MjMgNC43MzAzMSAxMS4zMzQzIDQuNzQxMSAxMS4zMzMgNC43NTE4OEwxMS4zMjkgNC43ODU1OUMxMS4zMjYzIDQuODAxNzcgMTEuMzEzIDQuODEzOSAxMS4yOTU3IDQuODEzOUwxMS4xMzE2IDQuODA5ODVDMTEuMTEyOSA0LjgwOTg1IDExLjA5ODIgNC44MjQ2OCAxMS4wOTgyIDQuODQyMjFMMTAuNjM5NCA0Ljg1ODM5QzEwLjU5OTQgNC44NTgzOSAxMC41NjIgNC44Nzg2MSAxMC41MzkzIDQuOTEwOTdMMTAuNDk4IDQuOTcxNjNDMTAuNDY3MyA1LjAxNjEyIDEwLjA1NjUgNS4wMzA5NSAxMC4wNTY1IDUuMDMwOTVDMTAuMDQ1OCA1LjAyNjI1IDEwLjAzNjcgNS4wMTg1MyAxMC4wMzA0IDUuMDA4NzJDMTAuMDI0IDQuOTk4OSAxMC4wMjA1IDQuOTg3NDMgMTAuMDIwNSA0Ljk3NTY4VjQuOTI3MTRDMTAuMDIwNSA0LjkwOTYyIDEwLjAyNzEgNC44OTQ3OSAxMC4wNDA1IDQuODgyNjZMMTAuMjU5MiA0LjY4MzEzQzEwLjI4MzIgNC42NjE1NiAxMC4zMTM5IDQuNjQ2NzMgMTAuMzQ1OSA0LjY0MjY4TDEwLjQ4MiA0LjYyNTE2QzEwLjQ4OTkgNC42MjQwMiAxMC40OTc2IDQuNjIxMjggMTAuNTA0NCA0LjYxNzExQzEwLjUxMTMgNC42MTI5NSAxMC41MTczIDQuNjA3NDMgMTAuNTIyIDQuNjAwODlMMTAuNTM4IDQuNTc2NjJDMTAuNTYwNyA0LjU0NDI3IDEwLjU0NiA0LjQ5OTc4IDEwLjUxIDQuNDg2M0wxMC41MDA3IDQuNDgyMjVDMTAuNDkyOCA0LjQ3OTU1IDEwLjQ4NDUgNC40Nzg1MiAxMC40NzYyIDQuNDc5MjFDMTAuNDY4IDQuNDc5OTEgMTAuNDU5OSA0LjQ4MjMyIDEwLjQ1MjYgNC40ODYzTDEwLjM0ODYgNC41NDY5NkMxMC4zMzkzIDQuNTUyMzYgMTAuMzI5OSA0LjU1NTA1IDEwLjMxOTMgNC41NTUwNUgxMC4yMTc5QzEwLjE3NTIgNC41NTUwNSAxMC4xMzUyIDQuNTcyNTggMTAuMTA0NSA0LjYwMzU5TDkuODYwMzkgNC44NTU2OUM5LjgzOTA1IDQuODc3MjYgOS44MjQzOCA0LjkwNTU3IDkuODE3NzEgNC45MzUyM0w5Ljc5NTAzIDUuMDQ1NzhMOS44MTEwNCA1LjA5Mjk3TDkuNzE1IDUuMjI3NzhMOS42MjgzIDUuMzE1NDFIOS41NDY5M1Y1LjIyNzc4SDkuNDQ5NTZMOS40MjE1NCA1LjMzODMzQzkuNDA4MjEgNS4zODk1NiA5LjM3MjE5IDUuNDMwMDEgOS4zMjQxNyA1LjQ0ODg4TDkuMjQyOCA1LjQ3OTg5QzkuMTkwNzggNS41MDAxMSA5LjEzMDc2IDUuNDkwNjggOS4wODY3NCA1LjQ1NDI4TDguOTgxMzYgNS4zNjc5OUw5LjI2NTQ4IDUuMzgyODJMOS4yOTc0OSA1LjMyMDgxQzkuMjk3NDkgNS4zMjA4MSA5LjAwMDA0IDUuMTgxOTUgOC44Mjc5NiA1LjA4MzUzQzguNjg3OTEgNS4wMDM5OSA4LjUwMzgzIDUuMDcxNCA4LjQzOTggNS4wOTk3MUM4LjQyMzc5IDUuMTA2NDUgOC40MTA0NiA1LjExNTg5IDguMzk4NDUgNS4xMjY2N0w3Ljc3ODE5IDUuNjkxNTVDNy43MTE1IDUuNzUyMjIgNy43MDc1IDUuODU4NzIgNy43NzE1MiA1LjkyMzQzTDcuODMwMjEgNS45ODQxTDcuOTEyOTEgNS45MTUzNUM3LjkzNTU5IDUuODk2NDcgNy45Njc2IDUuODk3ODIgNy45ODg5NSA1LjkxODA0TDguMTQzNjggNi4wNjM2NEg4LjE4MzY5TDguMzMwNDIgNS44ODgzOEM4LjM0Nzc2IDUuODY2ODEgOC4zNDkxIDUuODM3MTUgOC4zMzE3NiA1LjgxNTU4TDguMzEzMDggNS43ODk5N0M4LjMwNTk4IDUuNzgwNjEgOC4zMDE4IDUuNzY5MzMgOC4zMDEwOSA1Ljc1NzU2QzguMzAwMzggNS43NDU3OSA4LjMwMzE2IDUuNzM0MDcgOC4zMDkwOCA1LjcyMzkxTDguNTEzMTcgNS4zODk1NkM4LjUyMzg0IDUuMzcyMDQgOC41NDY1MSA1LjM2NTMgOC41NjUxOSA1LjM3MzM5TDguNjAxMiA1LjM5MDkxQzguNjIyNTUgNS40MDAzNSA4LjYzMDU1IDUuNDI1OTYgOC42MTk4OCA1LjQ0NzUzTDguNDc5ODIgNS43MTU4MkM4LjQ2MjQ4IDUuNzQ4MTcgOC40NTk4MSA1Ljc4NTkyIDguNDcwNDggNS44MTk2M0w4LjQ5MzE2IDUuODkxMDhDOC41MDM4MyA1Ljk0MjMxIDguNDk0NDkgNS45OTYyNCA4LjQ2MzgxIDYuMDM2NjhMOC4zNzU3NyA2LjE1NjY3QzguMzQ1MDkgNi4xOTg0NiA4LjI5NDQxIDYuMjIyNzMgOC4yNDIzOSA2LjIyMTM4TDcuOTg3NjEgNi4yMTE5NEM3Ljk3NTkyIDYuMjExMyA3Ljk2NDg5IDYuMjA2MjMgNy45NTY3MyA2LjE5NzczQzcuOTQ4NTcgNi4xODkyMyA3Ljk0Mzg4IDYuMTc3OTQgNy45NDM1OSA2LjE2NjFWNi4xMjQzMUM3Ljk0MzU5IDYuMDk4NyA3LjkyMzU5IDYuMDc4NDcgNy44OTgyNCA2LjA3ODQ3QzcuODc1NTcgNi4wNzg0NyA3Ljg1NTU2IDYuMDk2IDcuODUyODkgNi4xMjAyN0w3Ljg0NjIyIDYuMTk0NDJDNy44NDM1NSA2LjIxNzMzIDcuODI0ODggNi4yMzYyMSA3LjgwMDg3IDYuMjM2MjFINy43NzY4NkM3Ljc2NDg1IDYuMjM2MjEgNy43NTQxOCA2LjI0MDI1IDcuNzQ2MTggNi4yNDgzNEw3LjMzMjY3IDYuNjMzOTJMNy4zOTI3IDYuNzIxNTVWNi44MTQ1N0M3LjM5MjcgNi44NDU1OCA3LjM2NzM1IDYuODcxMTkgNy4zMzY2NyA2Ljg3MTE5SDcuMjA0NjJDNy4xMzM5MiA2Ljg3MTE5IDcuMDc3OSA2LjkzMTg2IDcuMDgxOSA3LjAwMzMxTDcuMDgzMjMgNy4wMjA4NEM3LjA4NzI0IDcuMDg0MiA3LjEzNzkzIDcuMTM0MDggNy4yMDE5NSA3LjEzNjc4TDcuMzQzMzQgNy4xNDA4MkM3LjM5NjcgNy4xNDIxNyA3LjQ0NjA1IDcuMTE3OTEgNy40NzgwNyA3LjA3MzQyTDcuNTc5NDQgNi45MjkxNkM3LjYwODc5IDYuODg3MzcgNy42NTY4MSA2Ljg2MTc1IDcuNzA4ODMgNi44NjE3NUg3LjgwNjJDNy44MzgyMiA2Ljg2MTc1IDcuODcwMjMgNi44NzExOSA3Ljg5NjkxIDYuODkwMDdMOC4wNTI5NyA3LjAwMDYyQzguMDgzNjUgNy4wMjIxOSA4LjA4NjMyIDcuMDY4MDIgOC4wNTY5OCA3LjA5MjI5TDcuOTY4OTQgNy4xNjkxNEM3LjkzOTU5IDcuMTk0NzUgNy45MDM1OCA3LjIwODIzIDcuODY0ODkgNy4yMDgyM0g3LjMxNTMzQzcuMjY1OTggNy4yMDgyMyA3LjIxNzk2IDcuMjMyNSA3LjE4ODYxIDcuMjcyOTRMNi43NjQ0MyA3Ljg0NTkxQzYuNzQ0NDMgNy44NzQyMiA2LjczMjQyIDcuOTA3OTMgNi43MzI0MiA3Ljk0MTYzVjguMzIxODFDNi43MzI0MiA4LjM1Njg2IDYuNzQzMDkgOC4zOTA1NyA2Ljc2NDQzIDguNDE4ODhMNi45MTI1IDguNjE3MDZDNi45MjQ1IDguNjMzMjQgNi45MzI1MSA4LjY1MzQ2IDYuOTM5MTcgOC42NzIzM0M2Ljk0ODUxIDguNzA0NjkgNi45NzUxOSA4Ljc1MTg4IDcuMDM5MjIgOC43NTE4OEg3LjcyNDg0QzcuNzI0ODQgOC43NTE4OCA3Ljg5NjkxIDguNzU3MjcgNy44OTY5MSA4Ljg3MTg2QzcuODk2OTEgOC45MTIzMSA3Ljg5NTU3IDguOTUyNzUgNy44OTQyNCA4Ljk4NzhDNy44OTE1NyA5LjA0OTgyIDcuOTIzNTkgOS4xMDUwOSA3Ljk3Njk0IDkuMTM2MUM4LjAyNDk2IDkuMTY0NDEgOC4wNzU2NSA5LjIxMjk1IDguMDc1NjUgOS4yOTExNFY5LjUwMTQ1QzguMDc1NjUgOS41MTc2MyA4LjA3Mjk4IDkuNTMzODEgOC4wNjg5OCA5LjU0OTk5QzguMDU2OTcgOS41ODkwOCA4LjAyODk2IDkuNjY4NjIgNy45OTAyOCA5LjcyNzk0QzcuOTU0MjcgOS43ODE4NyA4LjAwNDk1IDkuODYyNzYgOC4wNDIzIDkuOTA5OTRDOC4wNjQ5OCA5LjkzOTYgOC4wNzY5OCA5Ljk3NiA4LjA3Njk4IDEwLjAxMjRWMTAuMjIxNEM4LjA3Njk4IDEwLjIyMTQgOC4wOTI5OSAxMC4yOTgyIDguMTY1MDIgMTAuMzMwNkM4LjIzNzA1IDEwLjM2MjkgOC4yNjIzOSAxMC4zODE4IDguMjYyMzkgMTAuMzgxOFYxMC40NjU0QzguMjYyMzkgMTAuNTU0NCA4LjMzMzA5IDEwLjYyNTggOC40MjExMyAxMC42MjU4SDguNjI5MjFDOC42MjkyMSAxMC42MjU4IDguNzIyNTkgMTAuNjMyNiA4Ljc4Mzk1IDEwLjUzODJDOC44NDUzIDEwLjQ0MzggOS4wNjQwNiAxMC4xMDE0IDkuMDY0MDYgMTAuMTAxNEM5LjA2NDA2IDEwLjEwMTQgOS4xMDQwOCAxMC4wNTgyIDkuMDY0MDYgOS45ODE0QzkuMDI0MDQgOS45MDQ1NSA5LjA0MjcyIDkuODM1OCA5LjA0MjcyIDkuODM1OEw5LjIzMzQ3IDkuNzI1MjVDOS4yMzM0NyA5LjcyNTI1IDkuMzIyODQgOS43MTA0MiA5LjMyMjg0IDkuNTg1MDRWOS40NDg4N0M5LjMyMjg0IDkuNDI3MyA5LjMxNzUgOS40MDU3MyA5LjMwNTUgOS4zODY4Nkw5LjI3MjE1IDkuMzMwMjRDOS4yMzYxMyA5LjI2ODIyIDkuMjQ1NDcgOS4xOTEzNyA5LjI5MzQ5IDkuMTM4OEw5LjY4ODMyIDguNzE1NDdDOS42ODgzMiA4LjcxNTQ3IDkuNzkyMzcgOC41NTkwOSA5Ljc5MjM3IDguNDc5NTVIOS40ODk1N0M5LjQzMzU1IDguNDc5NTUgOS4zODI4NiA4LjQ0OTg5IDkuMzUzNTIgOC40MDI3TDkuMDA4MDQgNy44MjcwNEM5LjAwMTk0IDcuODE2OTYgOC45OTc5NiA3LjgwNTczIDguOTk2MzUgNy43OTQwM0M4Ljk5NDczIDcuNzgyMzQgOC45OTU1MSA3Ljc3MDQzIDguOTk4NjQgNy43NTkwNUM5LjAwMTc2IDcuNzQ3NjcgOS4wMDcxNyA3LjczNzA2IDkuMDE0NTMgNy43Mjc4OUM5LjAyMTg4IDcuNzE4NzEgOS4wMzEwMiA3LjcxMTE2IDkuMDQxMzkgNy43MDU3QzkuMDgxNCA3LjY4NDEzIDkuMTMwNzYgNy42OTg5NiA5LjE1MzQzIDcuNzM2NzFMOS40ODgyNCA4LjI4ODExTDkuNDg2OTEgOC4zMzc5OUM5LjQ4NjkxIDguMzU0MTcgOS40OTg5MSA4LjM2NjMgOS41MTQ5MiA4LjM2NjNDOS41OTc2MiA4LjM2NjMgOS44NDE3MiA4LjM1Njg2IDkuOTc3NzggOC4yMzY4OEMxMC4wNDk4IDguMTczNTEgMTAuMDkzOCA4LjEwODggMTAuMTIwNSA4LjA1NDg4QzEwLjE1MjUgNy45OTAxNiAxMC4xMzY1IDcuOTExOTcgMTAuMDgzMiA3Ljg2NDc5TDkuOTk3NzggNy43ODkyOUw5Ljg4NzA3IDcuODEzNTZMOS42OTA5OSA3LjYxNTM4QzkuNjYxNjQgNy41ODU3MiA5LjY2OTY1IDcuNTM0NDkgOS43MDcgNy41MTU2MUM5LjcxNzQgNy41MTAzNiA5LjcyOTA3IDcuNTA4MiA5Ljc0MDY1IDcuNTA5NEM5Ljc1MjIyIDcuNTEwNTkgOS43NjMyMiA3LjUxNTA4IDkuNzcyMzYgNy41MjIzNUwxMC4wNzkyIDcuNzU5NjNDMTAuMDc5MiA3Ljc1OTYzIDEwLjE0MTggNy44MTYyNSAxMC4yMDU5IDcuODE2MjVIMTAuMzg1OUMxMC40NDIgNy44MTYyNSAxMC40OTQgNy44NDU5MSAxMC41MjIgNy44OTQ0NUwxMC45MjM1IDguNTc2NjFDMTAuOTIzNSA4LjU3NjYxIDEwLjk4MzUgOC42MzMyNCAxMS4wMTgyIDguNjMwNTRDMTEuMDUyOSA4LjYyNzg0IDExLjA5OTYgOC40ODA5IDExLjA5OTYgOC40ODA5QzExLjA5OTYgOC4zNDQ3MyAxMS4xNjQ5IDguMjE1MzEgMTEuMjc1NyA4LjEzNzExTDExLjQxNDQgOC4wMzg3QzExLjQ3NzEgNy45OTQyMSAxMS41NjExIDguMDAwOTUgMTEuNjE1OCA4LjA1MzUzTDExLjcwMTIgOC4xMzcxMVY4LjIyNjA5QzExLjcwMTIgOC4yNDA5MiAxMS43MTMyIDguMjU0NCAxMS43MjkyIDguMjU0NEgxMS43NjY1TDExLjgwMjUgOC4yMThIMTEuODQ1MlY4LjU3NjYxQzExLjg0NTIgOC42MTcwNiAxMS44NTk5IDguNjU2MTYgMTEuODg3OSA4LjY4NTgxTDEyLjE1NDcgOC45NzQzMlY4Ljg3MDUxQzEyLjE1NDcgOC44MzQxMSAxMi4xNDI3IDguNzk5MDYgMTIuMTIgOC43NzA3NUwxMS45OTQ2IDguNjEzMDJDMTEuOTcxOSA4LjU4NDcgMTEuOTU5OSA4LjU0OTY1IDExLjk1OTkgOC41MTMyNVY4LjQwNDA1QzExLjk1OTkgOC4zODY1MiAxMS45ODEzIDguMzc4NDQgMTEuOTkzMyA4LjM5MDU3TDEyLjE1NDcgOC41NTc3NEwxMi4xNTg3IDguNjYyOUMxMi4xNiA4LjY4MzEyIDEyLjE4NCA4LjY5MjU2IDEyLjE5NzQgOC42Nzc3M0wxMi40MjU1IDguNDI4MzJDMTIuNDI1NSA4LjQyODMyIDEyLjQ5MjIgOC4zNDQ3MyAxMi40MjU1IDguMjc1OThDMTIuMzc3NCA4LjIyNjA5IDEyLjMxMDggOC4xNjI3MyAxMi4yNjgxIDguMTIyMjhDMTIuMjYyNyA4LjExNzM1IDEyLjI1ODUgOC4xMTEzIDEyLjI1NTcgOC4xMDQ1NkMxMi4yNTI5IDguMDk3ODIgMTIuMjUxNiA4LjA5MDU0IDEyLjI1MTkgOC4wODMyNEMxMi4yNTIxIDguMDc1OTQgMTIuMjUzOSA4LjA2ODc3IDEyLjI1NzIgOC4wNjIyNUMxMi4yNjA1IDguMDU1NzIgMTIuMjY1MSA4LjA0OTk5IDEyLjI3MDcgOC4wNDU0NEwxMi4zMTQ4IDguMDA3NjlMMTIuNDI1NSA4LjAxMDM5QzEyLjQyNTUgOC4wMTAzOSAxMi40MDIzIDguMDYyMjUgMTIuMzY3MiA4LjEyMjI4QzEyLjM2NzIgOC4xMjIyOCAxMi4zODQ1IDguMjE4IDEyLjQ5IDguMDM4N0MxMi40OTg0IDguMDMxNTUgMTIuNTI2IDguMDM1OTkgMTIuNTU2OCA4LjA0MDkzQzEyLjU5NjQgOC4wNDczIDEyLjY0MTEgOC4wNTQ1IDEyLjY1NjIgOC4wMzg3QzEyLjcxNzEgNy45NzUzMiAxMi45NjU3IDcuNjMxNTUgMTIuOTY1NyA3LjYzMTU1QzEyLjk2NTcgNy42MzE1NSAxMi45OTc3IDcuNTA2MTggMTIuOTIzIDcuNDQwMTJDMTIuODQ3IDcuMzc0MDYgMTIuODgwMyA3LjI5MzE3IDEyLjg4MDMgNy4yOTMxN0wxMi45NzM3IDcuMjEwOTNWNy4xNTI5NkgxMi43Mjk2QzEyLjcyOTYgNy4xNTI5NiAxMi43NTA5IDcuMDIyMTkgMTIuOTI0MyA3LjAxNDFDMTIuOTM1IDcuMDEzNDYgMTIuOTQ1MyA3LjAxMzEzIDEyLjk1NTEgNy4wMTI4MUMxMi45NjYyIDcuMDEyNDUgMTIuOTc2NSA3LjAxMjEyIDEyLjk4NTcgNy4wMTE0QzEzLjAwMzUgNy4wMTA5NSAxMy4wMjExIDcuMDE0MTEgMTMuMDM3NyA3LjAyMDY5QzEzLjA1NDIgNy4wMjcyNyAxMy4wNjkzIDcuMDM3MTQgMTMuMDgyIDcuMDQ5NzFDMTMuMDk0NiA3LjA2MjI5IDEzLjEwNDcgNy4wNzczMSAxMy4xMTE1IDcuMDkzODhDMTMuMTE4NCA3LjExMDQ2IDEzLjEyMTkgNy4xMjgyNiAxMy4xMjE4IDcuMTQ2MjJWNy4zODg4OUwxMy4xNTc4IDcuMzkyOTNDMTMuMTU3OCA3LjM5MjkzIDEzLjIyNTggNy4zOTk2NyAxMy4yNTExIDcuMzA5MzRDMTMuMjUxMSA3LjMwOTM0IDEzLjI5NjUgNy4yOTU4NiAxMy4yOTY1IDcuMjQwNTlWNy4xNzQ1M0wxMy4yMzExIDcuMDk0OTlMMTMuMzM3OCA2Ljk1NzQ3QzEzLjM1NjUgNi45MzMyMSAxMy4zODMyIDYuOTE3MDMgMTMuNDEyNSA2LjkxMTY0TDEzLjQ2NzIgNi45MDA4NUMxMy40OTk3IDYuODk0NjggMTMuNTI4NSA2Ljg3NTc4IDEzLjU0NzMgNi44NDgyN0wxMy43OTQgNi40NzQ4M0MxMy44MTE0IDYuNDQ3ODcgMTMuODIwNyA2LjQxNjg2IDEzLjgyMDcgNi4zODU4NVY2LjI4MzM5QzEzLjgyMDcgNi4yNzAxNiAxMy44MTU1IDYuMjU3NDggMTMuODA2MyA2LjI0ODEyQzEzLjc5NyA2LjIzODc3IDEzLjc4NDQgNi4yMzM1MSAxMy43NzE0IDYuMjMzNTFIMTMuNjI3M0MxMy42MjczIDYuMjMzNTEgMTMuNTY3MyA2LjE2MjA2IDEzLjY0ODYgNi4xMTM1M0MxMy43MDYgNi4wNzg0NyAxMy44MTggNS45ODU0NSAxMy44ODA3IDUuOTMyODdDMTMuOTA4NyA1LjkwODYxIDEzLjk0NDggNS44OTUxMiAxMy45ODIxIDUuODk1MTJIMTQuMjcyOUMxNC4zMDYyIDUuODk1MTIgMTQuMzM4MyA1Ljg4NDM0IDE0LjM2NDkgNS44NjU0NkwxNC41NTU3IDUuNzI3OTVDMTQuNTYyNiA1LjcyMjcgMTQuNTcxIDUuNzE5ODYgMTQuNTc5NyA1LjcxOTg2QzE0LjY2MjQgNS43MTk4NiAxNC43MDUxIDUuODE5NjMgMTQuNjQ5MSA1Ljg4MTY0TDE0LjQ1MTYgNi4wOTZDMTQuNDI1IDYuMTI0MzEgMTQuNDA5IDYuMTYzNDEgMTQuNDA5IDYuMjAyNUwxNC40MDYzIDYuMzc1MDdDMTQuNDA2MyA2LjQwNzQyIDE0LjQzMTYgNi40MzQzOSAxNC40NjUgNi40MzQzOUgxNC41MTNMMTQuNzcxOCA2LjE2NzQ1QzE0Ljc4OTEgNi4xNDk5MyAxNC44MDExIDYuMTI1NjYgMTQuODA1MSA2LjEwMTM5TDE0LjgxNDUgNi4wNDQ3N0MxNC44Mjc4IDUuOTY3OTIgMTQuODkzMiA1LjkxMTMgMTQuOTcwNSA1LjkxMTNIMTUuMDgzOUMxNS4xMjI2IDUuOTExMyAxNS4xNTk5IDUuODk3ODIgMTUuMTg4IDUuODcyMjFMMTUuMzQ2NyA1LjczMkMxNS4zNTQ3IDUuNzI1MjYgMTUuMzY0IDUuNzIxMjEgMTUuMzc0NyA1LjcyMTIxSDE1LjQ1NzRDMTUuNDgxNCA1LjcyMTIxIDE1LjUwMDEgNS43MDIzNCAxNS41MDAxIDUuNjc4MDdWNS41OTcxOEMxNS41MDAxIDUuNTg1MDUgMTUuNTA1NCA1LjU3NDI2IDE1LjUxMzQgNS41NjYxN0wxNS41NzQ4IDUuNTA4MkMxNS42MjQxIDUuNDYyMzYgMTUuNjk2MiA1LjQ1MTU4IDE1Ljc1NjIgNS40ODM5M0wxNS44NjAyIDUuNTM5MjFDMTUuODg1NiA1LjU1MjY5IDE1LjkxNzYgNS41NDU5NSAxNS45MzYzIDUuNTIzMDNMMTUuOTg3IDUuNDU4MzJDMTUuOTkyNyA1LjQ1MTA0IDE1Ljk5NjcgNS40NDI1NSAxNS45OTg3IDUuNDMzNDlDMTYuMDAwOCA1LjQyNDQyIDE2LjAwMDggNS40MTUwMSAxNS45OTg3IDUuNDA1OTVDMTUuOTk2NyA1LjM5Njg5IDE1Ljk5MjYgNS4zODg0MSAxNS45ODY5IDUuMzgxMTRDMTUuOTgxMiA1LjM3Mzg3IDE1Ljk3MzkgNS4zNjggMTUuOTY1NiA1LjM2Mzk1TDE1LjQ2MjcgNS4xMTQ1NEMxNS40MzYxIDUuMTA1MSAxNS4wOTcyIDUuMDk5NzEgMTUuMDczMiA1LjA5OTcxWk04LjE0MDczIDcuMDIzOTFMOC4yMzEwOCA2Ljk0NjAyTDguMTQxMDEgNy4wMjQ4OEw4LjAwNzYyIDYuODYxNzVDOC4wMDMwNiA2Ljg1NiA3Ljk5OTkgNi44NDk2MiA3Ljk5ODA3IDYuODQzMDRDNy45OTk5NCA2Ljg0OTI4IDguMDAzMDEgNi44NTUzMSA4LjAwNzM0IDYuODYwNzhMOC4xNDA3MyA3LjAyMzkxWk04Ljg5NTk5IDcuNTE2OTZIOC44MTQ2MkM4LjgwMzk1IDcuNTE2OTYgOC43OTMyOCA3LjUxNTYxIDguNzgyNjEgNy41MTI5MkM4LjY5NDU3IDcuNDg4NjUgOC4yNTQzOSA3LjM2NDYyIDguMTczMDIgNy4zMjY4N0M4LjE2NDAxIDcuMzIyODMgOC4xNTYwOCA3LjMxNjY3IDguMTQ5OTEgNy4zMDg5QzguMTQzNzMgNy4zMDExMyA4LjEzOTQ5IDcuMjkxOTggOC4xMzc1MyA3LjI4MjIxQzguMTM1NTcgNy4yNzI0NCA4LjEzNTk2IDcuMjYyMzQgOC4xMzg2NSA3LjI1Mjc2QzguMTQxMzQgNy4yNDMxNyA4LjE0NjI3IDcuMjM0MzcgOC4xNTMwMiA3LjIyNzExTDguMjYyMzkgNy4xMDk4MkM4LjI5OTc0IDcuMDc2MTEgOC4zNTg0MyA3LjA3ODgxIDguMzkzMTIgNy4xMTUyMUw4LjQ5MzE2IDcuMjIxNzFMOC41Nzk4NiA3LjIwNTU0TDguNTU1ODUgNy4xNDIxN0M4LjU1NTg1IDcuMTQyMTcgOC41NDUxOCA3LjExMjUxIDguNTM0NTEgNy4wODU1NUM4LjUyMzg0IDcuMDU4NTkgOC41ODI1MyA3LjAyNDg4IDguNTgyNTMgNy4wMjQ4OEM4LjU4MjUzIDcuMDI0ODggOC42NDI1NSA3LjAxOTQ5IDguNjQyNTUgNy4xMTI1MUM4LjY0MjU1IDcuMjA1NTQgOC43Mzk5MyA3LjI3NTY0IDguNzM5OTMgNy4yNzU2NEg5LjA3MjA3QzkuMDkzNDEgNy4yNzU2NCA5LjEwNjc1IDcuMjk4NTYgOS4wOTYwOCA3LjMxNjA4TDkuMDM3MzggNy40MjkzM0M5LjAwOTM3IDcuNDgzMjYgOC45NTQ2OCA3LjUxNjk2IDguODk1OTkgNy41MTY5NlpNOS4zMTM1IDcuMDE0MUg5LjIwMDEyTDkuMTE3NDIgNi45NDkzOEM5LjEwODA1IDYuOTQyNjMgOS4wOTY5IDYuOTM4ODggOS4wODU0IDYuOTM4Nkg4Ljk3NzM2QzguOTYxMzUgNi45Mzg2IDguOTQ1MzUgNi45NDUzNCA4LjkzMzM0IDYuOTU2MTNMOC44NTQ2NCA3LjAyNjIzTDguNzc3MjggNy4wMzgzNkM4Ljc3MDA3IDcuMDM5NjIgOC43NjI2OSA3LjAzOTM5IDguNzU1NTcgNy4wMzc2N0M4Ljc0ODQ2IDcuMDM1OTYgOC43NDE3NyA3LjAzMjc5IDguNzM1OSA3LjAyODM4QzguNzMwMDQgNy4wMjM5NiA4LjcyNTEyIDcuMDE4MzkgOC43MjE0NiA3LjAxMTk5QzguNzE3NzkgNy4wMDU2IDguNzE1NDUgNi45OTg1MiA4LjcxNDU4IDYuOTkxMThMOC43MDM5MSA2LjkwNDlDOC43MDEyNCA2Ljg3OTI4IDguNzA5MjUgNi44NTUwMSA4LjcyNTI1IDYuODM2MTRMOC44NTMzMSA2LjY5MDU0TDguOTEwNjYgNi42ODY0OUw4LjkwOCA2LjcxMjExQzguOTA0IDYuNzQzMTIgOC45MjgwMSA2Ljc3MDA4IDguOTU4NjggNi43NzAwOEg4Ljk4NjdDOS4wMTQ3MSA2Ljc3MDA4IDkuMDQwMDUgNi43NTM5IDkuMDUwNzIgNi43MjgyOUw5LjA3NzQgNi42NzAzMkw5LjE5NjEyIDYuNjkwNTRMOS4yMDY3OSA2Ljc3NjgyQzkuMjA5NDYgNi43OTU2OSA5LjIxODc5IDYuODEzMjIgOS4yMzM0NyA2LjgyNTM1TDkuMzY1NTIgNi45MzcyNVY2Ljk2MTUyQzkuMzY1NTIgNi45OTExOCA5LjM0Mjg0IDcuMDE0MSA5LjMxMzUgNy4wMTQxWk05Ljg4NzA3IDcuMTA3MTJWNy4yMDU1NEg5LjY4MTY1TDkuNjY0MzEgNy4xMDcxMkM5LjY2MTY0IDcuMDkzNjQgOS42NjQzMSA3LjA3ODgxIDkuNjcyMzIgNy4wNjgwMkw5LjY4Mjk5IDcuMDUzMTlDOS42OTc2NiA3LjAzMTYyIDkuNjk0OTkgNy4wMDE5NiA5LjY3NDk4IDYuOTg0NDRMOS41Nzg5NCA2Ljg5NTQ2VjYuNzMyMzNMOS43MTkgNi42NzE2Nkg5Ljc5MTAzQzkuODE5MDQgNi42NzE2NiA5Ljg0MzA1IDYuNjkwNTQgOS44NTEwNiA2LjcxNzVMOS44NTIzOSA2LjcyMTU1QzkuODU3NzMgNi43NDE3NyA5Ljg1MjM5IDYuNzYxOTkgOS44MzkwNSA2Ljc3ODE3QzkuODMxMzEgNi43ODY4NiA5LjgyNjIxIDYuNzk3NjMgOS44MjQzOCA2LjgwOTE4TDkuODExMDQgNi44OTQxMUw5LjkyNDQyIDYuOTk5MjdMOS44NDMwNSA3LjA1MzE5TDkuODg3MDcgNy4xMDcxMloiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xMi45NDQ4IDcuODAwMjdDMTIuOTM5NCA3Ljc4NTQ4IDEyLjkzNTEgNy43NzgyNSAxMi45MjgxIDcuNzc4NTlDMTIuOTIwNyA3Ljc3OTA5IDEyLjkxMDQgNy43ODc3MSAxMi44OTIyIDcuODA0MjZDMTIuODY3MSA3LjgyNzM0IDEyLjg1NDIgNy44NTM2OSAxMi44NTMxIDcuODg0MTFDMTIuODUyNCA3LjkwMzExIDEyLjg1NjQgNy45MjM3IDEyLjg2NDggNy45NDYxQzEyLjg3MTcgNy45NjQgMTIuODg0MyA3Ljk3ODQ2IDEyLjg5MzMgNy45Nzg0NkMxMi45MTg0IDcuOTc4NDYgMTIuOTU4OSA3LjgzNzYzIDEyLjk0NDggNy44MDAyN1oiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xMi44OTQgOC4xMDc1NkMxMi45MDIzIDguMTA4NTcgMTIuOTEwNSA4LjExMDQ2IDEyLjkxODQgOC4xMTMyNEwxMi45MzE2IDguMTE3MzFDMTIuOTUwMiA4LjEyMjk3IDEyLjk1OTIgOC4xMjU3NSAxMi45NjUgOC4xMzE2QzEyLjk3MDUgOC4xMzcyMSAxMi45NzMgOC4xNDU2MyAxMi45Nzc4IDguMTYyMTFMMTIuOTgxOSA4LjE3NTczQzEyLjk5MDIgOC4yMDMwOSAxMi45ODM3IDguMjI4NzIgMTIuOTY0MiA4LjI0NTA3QzEyLjkxODQgOC4yODM0OCAxMi45MjY0IDguMzAyNTYgMTIuOTk0MiA4LjMxNzczQzEzLjA0MSA4LjMyODA3IDEzLjA1NTEgOC4zNDIzNiAxMy4wNTUxIDguMzc5NTFDMTMuMDU1MSA4LjQyNTY1IDEzLjA1MjMgOC40MjYzMyAxMy4wMDAyIDguMzk4OTdDMTIuOTcgOC4zODMxMiAxMi45NDA2IDguMzc2MDYgMTIuOTM0NiA4LjM4Mjk2QzEyLjkyODUgOC4zODk2OCAxMi45MzUgOC4zOTkzIDEyLjk0OSA4LjQwNDQ3QzEzLjAwMzYgOC40MjQxIDEzLjAzNDcgOC40NzUwNyAxMy4wMjI1IDguNTI0NDVDMTMuMDA4NSA4LjU4MDc3IDEzLjAzNjYgOC41ODk4OSAxMy4wODIgOC41NDM5MUMxMy4xMjk4IDguNDk1MzcgMTMuMTcwNiA4LjU2NjY1IDEzLjE1OTkgOC42ODAwOEMxMy4xNTY0IDguNzE4NDQgMTMuMTIyMSA4LjczNDc5IDEzLjA3MDIgOC43MjMxMUMxMy4wNjE5IDguNzIxMyAxMy4wNTQzIDguNzE3MDIgMTMuMDQ4MyA4LjcxMTM0QzEzLjA0MDEgOC43MDM2NSAxMy4wMzQ5IDguNjkzNDQgMTMuMDM0OSA4LjY4MzUyQzEzLjAzNDkgOC42NjAxMSAxMy4wMjE3IDguNjU1NDUgMTIuOTgzOSA4LjY2NDk1QzEyLjk0NjIgOC42NzQ1NyAxMi45MzMyIDguNjY5NTcgMTIuOTMzMiA4LjY0NTgyQzEyLjkzMzIgOC42MzM1MSAxMi45NDAxIDguNjIwMjcgMTIuOTQ5OSA4LjYxMTI4QzEyLjk1NDEgOC42MDc0MSAxMi45NTg5IDguNjA0MzUgMTIuOTYzOCA4LjYwMjQ1QzEyLjk3NzIgOC41OTcyNCAxMi45ODM4IDguNTkzIDEyLjk4MzcgOC41ODUxQzEyLjk4MzYgOC41NzczNiAxMi45NzcgOC41NjYxIDEyLjk2MzggOC41NDcwMkMxMi45NDcxIDguNTIyOSAxMi45MzMyIDguNDg3MDkgMTIuOTMzMiA4LjQ2Njk2QzEyLjkzMzIgOC40NDY4MyAxMi45MjU1IDguNDMwMzIgMTIuOTE1MyA4LjQzMDMyQzEyLjg4NzcgOC40MzAzMiAxMi44MjY4IDguMjM3IDEyLjg1MTggOC4yMjg1NUMxMi44NTY0IDguMjI3MDQgMTIuODYwNyA4LjIyMTI0IDEyLjg2NDIgOC4yMTI2N0MxMi44Njk0IDguMTk5NzcgMTIuODcyOSA4LjE4MDY0IDEyLjg3MjkgOC4xNjAzOUMxMi44NzI5IDguMTE5NzUgMTIuODc1NSA4LjEwNjM0IDEyLjg5NCA4LjEwNzU2WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTEyLjgwMDYgOC41NjY4MkMxMi44NDY5IDguNTIzNDUgMTIuODcxNyA4LjQ1MTEyIDEyLjg0MDQgOC40NTExMkMxMi44MjU5IDguNDUxMTIgMTIuNzU4MiA4LjUyOTYyIDEyLjcyOTYgOC41Nzk1NUMxMi42OTkzIDguNjMxODcgMTIuNzM4NyA4LjYyNDgxIDEyLjgwMDYgOC41NjY4MloiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xMi45MTIxIDguNjk3NjRDMTIuOTI0MSA4LjY5NzY0IDEyLjkzMzIgOC43MDY3NiAxMi45MzMyIDguNzE4MTFDMTIuOTMzMiA4LjcyOTI5IDEyLjkyOTUgOC43Mzg2MiAxMi45MjQ2IDguNzM4NjJDMTIuOTI0NiA4LjczODYyIDEyLjkyMDMgOC43Mzc0IDEyLjkxNzYgOC43MzUyNUMxMi45MTI5IDguNzMxNiAxMi45MDczIDguNzI1MjUgMTIuOTAzIDguNzE3OTRDMTIuODk1OSA4LjcwNjc2IDEyLjkwMDIgOC42OTc2NCAxMi45MTIxIDguNjk3NjRaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMTMuMjU0MyA4LjkxMjgxQzEzLjI0MDggOC44ODI1MSAxMy4yMjQyIDguODY4MzkgMTMuMjEwNCA4Ljg2OTc4QzEzLjE5NjUgOC44NzExNyAxMy4xODUyIDguODg3ODUgMTMuMTgwNiA4LjkxOTg3QzEzLjE3OTMgOC45MjkyOSAxMy4xNzU3IDguOTM4MjggMTMuMTcwMSA4Ljk0NjAxQzEzLjE4MjkgOC45OTc3NiAxMy4yMjE4IDkuMDA2MTkgMTMuMjM0MSA5LjAwODg0QzEzLjIzNjIgOS4wMDkzIDEzLjIzNzggOS4wMDk4OSAxMy4yMzc4IDkuMDA5ODlDMTMuMjQ1MSA4Ljk5OTMgMTMuMjUzOSA4Ljk4OTg5IDEzLjI2MzIgOC45ODAwNUMxMy4yNjc2IDguOTc1MzUgMTMuMjcyNyA4Ljk2OTg5IDEzLjI3NzIgOC45NjQ4TDEzLjI1NDMgOC45MTI4MVoiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xMy4wODIyIDguODkzODZDMTMuMTA4IDguODkwNDEgMTMuMTE2NiA4LjkwODY1IDEzLjA5MzIgOC45MzcyM0MxMy4wODk0IDguOTQxNDcgMTMuMDg2NSA4Ljk0NjM5IDEzLjA4NDYgOC45NTE2OUwxMy4wMjggOC45NjE1MkMxMy4wMTY1IDguOTYzODcgMTMuMDA0NSA4Ljk2NTYxIDEyLjk5MjQgOC45NjczNUMxMi45NTQgOC45NzI4OCAxMi45MTUxIDguOTc4NDkgMTIuODkyNiA5LjAwMzg4QzEyLjg5MjYgOS4wMDgxNyAxMi44OTU4IDkuMDExMjggMTIuOTAxMiA5LjAxM0MxMi45MDg3IDkuMDE1NCAxMi45MjA1IDkuMDE1MTQgMTIuOTMzNiA5LjAxMTYxQzEyLjkzNzMgOS4wMTA2NiAxMi45Mzg4IDkuMDA5NzEgMTIuOTQwNCA5LjAwODczQzEyLjk0MTcgOS4wMDc5NCAxMi45NDMgOS4wMDcxMiAxMi45NDU1IDkuMDA2MjhMMTIuOTY1NyA5LjAwMzg4TDEzLjAyOTEgOS4wMTI0NUwxMy4wMjUyIDkuMDE3NjJMMTMuMDIzIDkuMDE4OTJMMTMuMDE3NyA5LjAyMTc0QzEzLjAxMzIgOS4wMjQwOSAxMy4wMDg1IDkuMDI2NTMgMTMuMDA1IDkuMDI5NjlDMTIuOTc1MSA5LjA1NTg3IDEyLjk2MSA5LjA4MzU2IDEyLjk3MDcgOS4wOTY2M0MxMi45Nzk1IDkuMTA4ODYgMTIuOTg2NSA5LjEzNzEgMTIuOTg1OCA5LjE1OTQ2QzEyLjk4NCA5LjIxMTk5IDEyLjkxOTcgOS4yMjU3MyAxMi45MDcgOS4xNzYzNUMxMi45MDEgOS4xNTI3OCAxMi44OTY4IDkuMTYwMTcgMTIuODk1NCA5LjE5NzE2QzEyLjg5MzcgOS4yNDA3NCAxMi44ODQgOS4yNTM2NCAxMi44NTcyIDkuMjQ4M0MxMi44Mzc5IDkuMjQ0MzUgMTIuODIxOSA5LjIyMyAxMi44MjE5IDkuMjAwNkMxMi44MjE5IDkuMTc4MjUgMTIuODE0OSA5LjE0OTE2IDEyLjgwNjQgOS4xMzYwNUMxMi43OTggOS4xMjI4MSAxMi44MDAzIDkuMDg3NTEgMTIuODExNyA5LjA1NzU5QzEyLjgxODcgOS4wMzkwMSAxMi44MjA3IDkuMDMwMzEgMTIuODIyNiA5LjAyMjEyTDEyLjgyNCA5LjAxNTlMMTIuODM1NyA4Ljk4MzkzQzEyLjg0MzkgOC45NjE3NyAxMi44NTMgOC45MzY5IDEyLjg1MzYgOC45MzQ2N0wxMi44NTA3IDguOTM1MzRDMTIuODc5MSA4LjkwOTM3IDEyLjkwNyA4LjkwMjk4IDEyLjk1MSA4LjkxMjgxQzEyLjk2MSA4LjkxNSAxMi45NzIgOC45MTYyMiAxMi45ODMxIDguOTE2NTVDMTMuMDA5NCA4LjkxNzM1IDEzLjAzNjIgOC45MTMxNSAxMy4wNTEyIDguOTA1MDRDMTMuMDYwOCA4Ljg5OTUzIDEzLjA3MTIgOC44OTU3NSAxMy4wODIyIDguODkzODZaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMTMuMzU5NSA5LjEzNjIyQzEzLjM1OTUgOS4xMDg2OSAxMy4zMjU1IDkuMDkzOSAxMy4yNjg0IDkuMDk0MjRDMTMuMjQ2NyA5LjA5NDQ5IDEzLjIyNTEgOS4wOTYzNCAxMy4yMDM3IDkuMDk5NzRDMTMuMTI0NSA5LjExMTggMTMuMTAwOCA5LjEyNjkzIDEzLjEyNDUgOS4xNTEwNkMxMy4xNDQ5IDkuMTcxODYgMTMuMzU5NSA5LjE1ODI4IDEzLjM1OTUgOS4xMzYyMloiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik01Ljg2NjQ1IDkuMzYxNjJMNS41MTU2NCA5LjE3NjkyQzUuNDg0OTYgOS4xNjA3NCA1LjQ0ODk0IDkuMTUxMzEgNS40MTQyNiA5LjE1MTMxSDUuMzEyODhDNS4zMDM3MiA5LjE1MTA3IDUuMjk0OTMgOS4xNDc1NiA1LjI4ODA5IDkuMTQxMzhDNS4yODEyNSA5LjEzNTIxIDUuMjc2OCA5LjEyNjc4IDUuMjc1NTMgOS4xMTc2QzUuMjY0ODYgOS4wMDQzNiA1LjE3MDE2IDguOTE2NzMgNS4wNTgxMSA4LjkxNjczSDUuMDI2MUM0Ljk1ODA3IDguOTE2NzMgNC44OTQwNCA4Ljg4NDM3IDQuODUyNjkgOC44MjkwOUw0LjgwNDY3IDguNzY0MzhDNC43NjczMiA4LjcxNDUgNC43MTEzIDguNjgzNDkgNC42NDk5NCA4LjY3ODFMNC4zODg1IDguNjU1MThDNC4zODIxMyA4LjY1NDk5IDQuMzc2MDEgOC42NTI2MiA0LjM3MTE2IDguNjQ4NDRMNC4zMjg0NyA4LjYxODc4QzQuMzE2NDcgOC42MTA2OSA0LjMwMTggOC42MDkzNCA0LjI4OTc5IDguNjE3NDNMNC4xMDMwNSA4LjcyMzk0QzQuMDY5NyA4Ljc0MjgxIDQuMDMzNjggOC43NTIyNSAzLjk5NSA4Ljc1MjI1SDMuODAyOTJDMy43OTYyNSA4Ljc1MjI1IDMuNzkwOTIgOC43NTA5IDMuNzg1NTggOC43NDgyMUMzLjc2NDI0IDguNzM2MDcgMy43MTQ4OCA4LjY5ODMyIDMuNzE0ODggOC42MTQ3NFY4LjUwMjg0QzMuNzE0ODggOC40OTc4OCAzLjcxMzkyIDguNDkyOTcgMy43MTIwNCA4LjQ4ODM5QzMuNzEwMTYgOC40ODM4MSAzLjcwNzQxIDguNDc5NjUgMy43MDM5NCA4LjQ3NjE1QzMuNzAwNDggOC40NzI2NCAzLjY5NjM2IDguNDY5ODYgMy42OTE4MyA4LjQ2Nzk3QzMuNjg3MyA4LjQ2NjA3IDMuNjgyNDQgOC40NjUwOSAzLjY3NzUzIDguNDY1MDlIMy41NTYxNUMzLjU0OTYyIDguNDY1MDMgMy41NDMyMiA4LjQ2MzI1IDMuNTM3NTkgOC40NTk5MUMzLjUzMTk2IDguNDU2NTcgMy41MjcyOSA4LjQ1MTggMy41MjQwNSA4LjQ0NjA3QzMuNTIwODEgOC40NDAzNCAzLjUxOTEyIDguNDMzODYgMy41MTkxMyA4LjQyNzI2QzMuNTE5MTUgOC40MjA2NiAzLjUyMDg3IDguNDE0MTggMy41MjQxNCA4LjQwODQ3TDMuNTgxNDkgOC4zMDczNkMzLjU4NDE2IDguMzAxOTYgMy41ODY4MyA4LjI5NTIyIDMuNTg2ODMgOC4yODg0OFY4LjE5OTVDMy41ODY4MyA4LjE4OTQ5IDMuNTgyOSA4LjE3OTg5IDMuNTc1ODkgOC4xNzI4MUMzLjU2ODg5IDguMTY1NzMgMy41NTkzOSA4LjE2MTc2IDMuNTQ5NDggOC4xNjE3NkgzLjQ4Mjc5QzMuNDcwNzggOC4xNjE3NiAzLjQ1ODc4IDguMTY4NSAzLjQ1MjExIDguMTc5MjhMMy40MTQ3NiA4LjIzODZDMy4zNzQ3NCA4LjMwMTk2IDMuMzA1MzggOC4zMzk3MSAzLjIzMDY4IDguMzM5NzFIMy4xNzczM0MzLjE3NzMzIDguMzM5NzEgMy4wOTA2MiA4LjMyMzUzIDMuMDkwNjIgOC4yMzA1MVY3Ljg5MjEyQzMuMDkxOTYgNy44ODEzNCAzLjA5OTk2IDcuODQ3NjMgMy4xMzU5OCA3LjgyNDcyQzMuMTY3OTkgNy44MDQ0OSAzLjI0MjY4IDcuNzY0MDUgMy4yODAwMyA3Ljc0MzgzQzMuMjkzMzcgNy43MzcwOSAzLjMxMDcxIDcuNzM4NDMgMy4zMjI3MiA3Ljc0OTIyTDMuMzkzNDIgNy44MTUyOEMzLjQwMDA5IDcuODIyMDIgMy40MDgwOSA3LjgyNDcyIDMuNDE3NDMgNy44MjQ3MkwzLjQzMTc5IDcuODI0ODFDMy40NTQ0MiA3LjgyNTAzIDMuNDgyOTUgNy44MjUzMSAzLjQ4OTQ2IDcuODIyMDJDMy40OTI1NSA3LjgyMDQ2IDMuNDkyNSA3LjgxNTI2IDMuNDkyNDQgNy44MDgxOEMzLjQ5MjI4IDcuNzkwODUgMy40OTIwMiA3Ljc2MjIzIDMuNTM3NDggNy43NDc4N0MzLjYwMjg0IDcuNzI5IDMuNjQ1NTIgNy43ODgzMiAzLjY0NTUyIDcuNzg4MzJMMy44MTA5MiA3Ljk4NjVDMy44MjI5MyA4LjAwMTMyIDMuODQ0MjcgOC4wMDQwMiAzLjg2MDI4IDcuOTkzMjRMMy44ODQyOSA3Ljk3NzA2QzMuOTAwMjkgNy45NjYyNyAzLjkwNTYzIDcuOTQ0NyAzLjg5NjI5IDcuOTI3MThMMy44OTM2MiA3LjkyMTc4QzMuODQwMjcgNy44Mjg3NiAzLjg2MDI4IDcuNzEwMTIgMy45NDE2NCA3LjY0MTM3TDQuMDc5MDQgNy41MjQwOEM0LjA3OTA0IDcuNTI0MDggNC4wOTUwNCA3LjUxMzI5IDQuMTAzMDUgNy40NTI2MkM0LjEwODM4IDcuNDE2MjIgNC4xMTc3MiA3LjM2MjMgNC4xMjQzOSA3LjMyNDU1QzQuMTMxNzIgNy4zMTI0MiA0LjEzODM4IDcuMzAwNjMgNC4xNDUwNSA3LjI4ODg1QzQuMTUxNzEgNy4yNzcwNiA0LjE1ODQxIDcuMjY1MjIgNC4xNjU3NCA3LjI1MzFMNC40NjE4NiA3LjAwMDk5QzQuNDc5MiA2Ljk4NjE2IDQuNTA0NTUgNi45OTAyIDQuNTE2NTUgNy4wMDkwOEM0LjUzMTIyIDcuMDMwNjUgNC41NTUyMyA3LjA1NDkyIDQuNTg1OTEgNy4wNTM1N0M0LjYzMjYgNy4wNTA4NyA0Ljc0ODY1IDYuOTg3NTEgNC43OTQgNi45NjA1NUM0Ljc5OTcyIDYuOTU3MzcgNC44MDQ0OCA2Ljk1MjY4IDQuODA3NzcgNi45NDY5OEM0LjgxMTA2IDYuOTQxMjggNC44MTI3NiA2LjkzNDc5IDQuODEyNjcgNi45MjgxOVY2Ljg4MUw0LjY2OTk1IDYuOTEwNjZDNC42NDk5NCA2LjkxNDcxIDQuNjI5OTMgNi45MDEyMyA0LjYyNTkzIDYuODc5NjZMNC42MDk5MiA2Ljc4NTI4QzQuNjA4NDMgNi43NzY2OCA0LjYwNDAyIDYuNzY4ODggNC41OTc0NCA2Ljc2MzIyQzQuNTkwODcgNi43NTc1NiA0LjU4MjU1IDYuNzU0NCA0LjU3MzkxIDYuNzU0MjhMNC40MzExOCA2Ljc3MDQ1TDQuNDQ4NTIgNi43MjczMUM0LjQ1Mzg2IDYuNzEyNDggNC40NjcyIDYuNzAzMDUgNC40ODMyIDYuNzAwMzVMNC44MzUzNSA2LjY2MjZDNC44NTEzNiA2LjY1NTg2IDQuODcxMzcgNi42NDc3NyA0Ljg5MTM3IDYuNjM5NjhDNC45MTEzOCA2LjYzMTU5IDQuOTMxMzkgNi42MjM1IDQuOTQ3NCA2LjYxNjc2TDUuMDE4MDkgNi41NjE0OUM1LjAzNTQzIDYuNTQ4MDEgNS4wMzY3NyA2LjUyMjM5IDUuMDIyMSA2LjUwNjIxTDQuNjI1OTMgNi4wOTYzN0M0LjYyMDQzIDYuMDkwODYgNC42MTM0MyA2LjA4NzE1IDQuNjA1ODIgNi4wODU3QzQuNTk4MjEgNi4wODQyNiA0LjU5MDM0IDYuMDg1MTYgNC41ODMyNSA2LjA4ODI5TDQuNDY0NTMgNi4xNDQ5MUM0LjQ1MjUyIDYuMTUwMyA0LjQzNzg1IDYuMTQ4OTUgNC40MjcxOCA2LjE0MjIxTDQuMDk5MDQgNS45MDg5OEM0LjA5NTE5IDUuOTA2MTUgNC4wOTA4MiA1LjkwNDExIDQuMDg2MTkgNS45MDI5OEM0LjA4MTU2IDUuOTAxODUgNC4wNzY3NSA1LjkwMTY2IDQuMDcyMDQgNS45MDI0MUM0LjA2NzM0IDUuOTAzMTYgNC4wNjI4MiA1LjkwNDg1IDQuMDU4NzYgNS45MDczNkM0LjA1NDY5IDUuOTA5ODcgNC4wNTExNiA1LjkxMzE3IDQuMDQ4MzYgNS45MTcwN0wzLjk5NzY3IDUuOTg3MTdDMy45OTM2NyA1Ljk5MjU3IDMuOTkxIDUuOTk5MzEgMy45OTEgNi4wMDc0TDMuOTgxNjYgNi4xODEzMUMzLjk4MTY2IDYuMTkyMDkgMy45ODQzMyA2LjIwMTUzIDMuOTkyMzMgNi4yMDk2Mkw0LjA0MDM1IDYuMjU5NUM0LjA1NjM2IDYuMjc1NjggNC4wNTM2OSA2LjMwMjY0IDQuMDM1MDIgNi4zMTYxMkwzLjk2NDMyIDYuMzY3MzVDMy45NTk1NyA2LjM3MDg0IDMuOTU0MDggNi4zNzMxNCAzLjk0ODI5IDYuMzc0MDhDMy45NDI0OSA2LjM3NTAxIDMuOTM2NTYgNi4zNzQ1NiAzLjkzMDk3IDYuMzcyNzVMMy43NzA5MSA2LjM5OTcxQzMuNzQ4MjMgNi4zMzkwNCAzLjY5ODg4IDYuMjkxODYgMy42Mzc1MiA2LjI3MDI5TDMuNTU3NDggNi4yNDE5OEMzLjQxMjA5IDYuMTkyMDkgMy4zNjI3NCA2LjAxMDA5IDMuNDYwMTEgNS44OTE0NUwzLjYxNjE4IDUuNzAxMzZDMy42MjAxOSA1LjY5NjA3IDMuNjIyODkgNS42ODk4NyAzLjYyNDA1IDUuNjgzMzFDMy42MjUyMSA1LjY3Njc0IDMuNjI0NzkgNS42Njk5OSAzLjYyMjg1IDUuNjYzNjFMMy41Nzg4MyA1LjU0OTAyTDMuNTcwODIgNS41MzY4OUwzLjM5NDc1IDUuMzQ2OEMzLjMyNTM5IDUuMjcyNjUgMy4yMDEzNCA1LjMxMDQgMy4xODUzMyA1LjQxMTUxTDMuMTg0IDUuNDIyMjlDMy4xNzQ2NiA1LjQ4MTYxIDMuMTIyNjQgNS41MjYxIDMuMDYzOTUgNS41MjYxSDIuNTM5NzNDMi41MjM0MSA1LjUyMjM1IDIuNTA3MDggNS41MTkwMiAyLjQ5MDUzIDUuNTE1NjRDMi40NzczMyA1LjUxMjk1IDIuNDYzOTYgNS41MTAyMiAyLjQ1MDM2IDUuNTA3MjNMMi4wOTE1NCA1LjM0NTQ1QzIuMDc4ODggNS4zNDIwOCAyLjA2NjU2IDUuMzM5MDUgMi4wNTQyNCA1LjMzNjAyQzIuMDQxOTEgNS4zMzI5OSAyLjAyOTUxIDUuMzI5OTQgMi4wMTY4NCA1LjMyNjU3TDEuNjg3MzcgNS4zMDVDMS42NzIwMyA1LjMwNzcgMS42NTY2OSA1LjMxMDA2IDEuNjQxMzUgNS4zMTI0MkMxLjYyNjAxIDUuMzE0NzggMS42MTA2NyA1LjMxNzE0IDEuNTk1MzMgNS4zMTk4M0wxLjQ0NzI3IDUuMzc3OEMxLjQwNzI1IDUuMzkyNjMgMS4zNjQ1NyA1LjM5NjY4IDEuMzIzMjIgNS4zODcyNEwwLjU5MDkxMyA1LjIyOTUxQzAuNTQ2ODk1IDUuMjIwMDcgMC41MDAyMDkgNS4yMjQxMSAwLjQ1ODg1OCA1LjI0Mjk5TDAuMTEzMzgxIDUuMzkyNjNDMC4wODgwMzY3IDUuNDAzNDIgMC4wODI3MDEyIDUuNDM3MTIgMC4xMDQwNDMgNS40NTZMMC4xOTQ3NDggNS41MzI4NEMwLjIyMDA5MiA1LjU1NDQxIDAuMjA1NDE5IDUuNTk3NTYgMC4xNzIwNzIgNS41OTg5TDAuMDM2MDE1IDUuNjAxNkMwLjAxNjAwNjcgNS42MDE2IDAgNS42MTkxMyAwIDUuNjM5MzVWNS42NTgyMkMwIDUuNjc4NDQgMC4wMTYwMDY3IDUuNjk0NjIgMC4wMzYwMTUgNS42OTU5N0wwLjE1MzM5NyA1LjY5NzMyQzAuMTkzNDE0IDUuNjk4NjcgMC4yMDQwODUgNS43NTI1OSAwLjE2ODA3IDUuNzY4NzdMMC4wNjY2OTQ1IDUuODE0NjFDMC4wNTIwMjE3IDUuODIxMzUgMC4wNDQwMTg0IDUuODM2MTggMC4wNDUzNTIzIDUuODUyMzZMMC4wNTQ2ODk1IDUuOTU0ODJDMC4wNjQwMjY3IDYuMDU1OTMgMC4xMzg3MjUgNi4xMzY4MiAwLjIzODc2NiA2LjE1M0wwLjMxMDc5NiA2LjE2NTEzQzAuMzQ1NDc3IDYuMTcwNTIgMC4zNTM0ODEgNi4yMTYzNiAwLjMyNDEzNSA2LjIzMzg5TDAuMzAxNDU5IDYuMjQ3MzdDMC4yNzc0NDkgNi4yNjIyIDAuMjc3NDQ5IDYuMjk3MjUgMC4zMDE0NTkgNi4zMTA3M0wwLjMxMzQ2NCA2LjMxNzQ3QzAuMzI0MTM1IDYuMzI0MjEgMC4zMzYxNCA2LjMyNDIxIDAuMzQ4MTQ1IDYuMzIwMTdMMC45NjU3MzYgNi4wMzg0QzEuMDQ1NzcgNi4wMDIgMS4xMzkxNCA2LjAxNjgzIDEuMjAzMTcgNi4wNzc1TDEuNzkxNDEgNi42MjA4MUMxLjgzNDEgNi42NTk5MSAxLjg1OTQ0IDYuNzE1MTggMS44NjIxMSA2Ljc3MzE1TDEuODgyMTIgNy4xODgzOEMxLjg4NDc5IDcuMjM1NTcgMS45MDA3OSA3LjI4MDA2IDEuOTMwMTQgNy4zMTY0NkwyLjUwOTA1IDguMDQ0NDdDMi41MTk3MiA4LjA1Nzk1IDIuNTM4MzkgOC4wNjE5OSAyLjU1NDQgOC4wNTM5QzIuNTc0NDEgOC4wNDMxMiAyLjU4MTA4IDguMDE3NSAyLjU2Nzc0IDcuOTk4NjNDMi41Njc3NCA3Ljk5ODYzIDIuOTMzMjIgOC4zODE1MSAyLjk2NzkxIDguMzk3NjhMMy4yNjQwMyA4LjU0NTk4QzMuMjk0NzEgOC41NjA4MSAzLjMyNjcyIDguNTY4OSAzLjM2MTQgOC41Njg5SDMuNTA4MTNDMy41MjI4IDguNTY4OSAzLjUzNjE0IDguNTc2OTkgMy41NDE0OCA4LjU5MDQ3TDMuNTkwODMgOC42OTgzMkMzLjU5MDgzIDguNjk5IDMuNTkxMTcgOC42OTkzMyAzLjU5MTUgOC42OTk2N0MzLjU5MTgzIDguNzAwMDEgMy41OTIxNyA4LjcwMDM1IDMuNTkyMTcgOC43MDEwMkwzLjU5NDE0IDguNzA0MjJDMy42MDkzOCA4LjcyOTA0IDMuNjgxNzQgOC44NDY5IDMuNzU4OSA4Ljg1MjAxQzMuODQ1NiA4Ljg1NzQxIDQuMDAxNjcgOC44NTIwMSA0LjAwMTY3IDguODUyMDFDNC4wMDE2NyA4Ljg1MjAxIDQuMDU3NjkgOC44NTA2NyA0LjA1NzY5IDguOTEyNjhWOS4wMDcwNUM0LjA1NzY5IDkuMDIwNTMgNC4wNTEwMiA5LjAzMjY3IDQuMDM5MDIgOS4wMzk0MUMzLjk5MSA5LjA2NjM3IDMuODY2OTUgOS4xNDU5MSAzLjg2Njk1IDkuMjM2MjRWOS40NDc5QzMuODY2OTUgOS40NTczNCAzLjg2OTYxIDkuNDY1NDMgMy44NzQ5NSA5LjQ3MjE3QzMuODkwOTYgOS40OTEwNCAzLjkyNTY0IDkuNTMxNDkgMy45NTQ5OCA5LjU1NTc1QzMuOTgyMjIgOS41Nzc1NCA0LjAyNjgyIDkuNjI4NiA0LjA1MzUgOS42NTkxM0w0LjA2NTcgOS42NzMwNEM0LjA3MTAzIDkuNjc5NzggNC4wNzM3IDkuNjg3ODcgNC4wNzM3IDkuNjk3MzFWOS44MTg2NEM0LjA3NDM3IDkuODIwNjcgNC4wNzQ3IDkuODIzMDMgNC4wNzUwMyA5LjgyNTM5QzQuMDc1MzcgOS44Mjc3NCA0LjA3NTcgOS44MzAxIDQuMDc2MzcgOS44MzIxM0M0LjA4MzA0IDkuODQ4MyA0LjEwMDM4IDkuODg4NzUgNC4xMzEwNiA5LjkwMzU4QzQuMTQ5NzMgOS45MTMwMiA0LjE5NjQyIDkuOTUwNzYgNC4yMzkxIDkuOTg4NTFDNC4yOTI0NiAxMC4wMzQzIDQuMzIwNDcgMTAuMTAzMSA0LjMxNTEzIDEwLjE3NDZMNC4yODg0NiAxMC41MTk3QzQuMjg3MTIgMTAuNTI2NCA0LjI4NjEyIDEwLjUzMzIgNC4yODUxMiAxMC41Mzk5QzQuMjg0MTMgMTAuNTQ2NiA0LjI4MzExIDEwLjU1MzQgNC4yODE3OSAxMC41NjAxTDQuMTYzMDcgMTEuMDEwNEM0LjE2MTc0IDExLjAyMzkgNC4xNjA3NCAxMS4wMzcgNC4xNTk3NCAxMS4wNTAyQzQuMTU4NzQgMTEuMDYzMyA0LjE1NzczIDExLjA3NjUgNC4xNTY0IDExLjA5TDQuMTY4NDEgMTEuMjc0N0M0LjE3MTA3IDExLjMwNyA0LjE2ODQxIDExLjMzOTQgNC4xNTc3MyAxMS4zNzA0TDQuMTEzNzIgMTEuNDk1OEM0LjEwMDM4IDExLjUzNjIgNC4wOTc3MSAxMS41NzkzIDQuMTA3MDUgMTEuNjIxMUw0LjE2MzA3IDExLjg1NDRDNC4xNjk3NCAxMS44ODEzIDQuMTg0NDEgMTEuOTA1NiA0LjIwNzA5IDExLjkyMzFMNC4yNjQ0NSAxMS45NjlDNC4yODU3OSAxMS45ODY1IDQuMzE3OCAxMi4wMTA4IDQuMzQwNDggMTEuOTk0NkM0LjQxNzExIDExLjk0MTQgNC40NTk4NyAxMS43NzY1IDQuNDk0ODYgMTEuNjQxNUM0LjUxMDQyIDExLjU4MTUgNC41MjQ0NCAxMS41Mjc0IDQuNTM5MjMgMTEuNDkxN0M0LjU0ODQgMTEuNDY5MSA0LjYwNTgzIDExLjM4NjggNC42NzMyNSAxMS4yOTAyQzQuNzgyMzMgMTEuMTM0IDQuOTE3NTQgMTAuOTQwNCA0LjkxNjcyIDEwLjkwMTJMNC45MTQwNSAxMC44MTA5QzQuOTE0MDUgMTAuNzg5MyA0LjkzMDA2IDEwLjc3MzEgNC45NTE0IDEwLjc3MzFINS4wNjQ3OEM1LjA3NTQ1IDEwLjc3MzEgNS4wODQ3OSAxMC43NjkxIDUuMDkxNDYgMTAuNzYxTDUuMzU2OSAxMC40NjcxQzUuMzYzNTcgMTAuNDYwNCA1LjM2NjI0IDEwLjQ1MDkgNS4zNjYyNCAxMC40NDE1VjEwLjMyMTVDNS4zNjYyNCAxMC4yOTk5IDUuMzgzNTggMTAuMjgzOCA1LjQwNDkyIDEwLjI4MzhDNS40NTAyNyAxMC4yODY1IDUuNTI0OTcgMTAuMjg2NSA1LjU1MDMyIDEwLjI2NDlDNS41NzY3NyAxMC4yNDI2IDUuNjQ2OTIgMTAuMTYxNCA1LjY4NzgxIDEwLjExNDFMNS43MDkwNSAxMC4wODk2QzUuNzE0MzggMTAuMDgyOSA1LjcxODM5IDEwLjA3NDggNS43MTgzOSAxMC4wNjU0VjkuODc1MjdDNS43MTgzOSA5LjgxOTk5IDUuNzM4MzkgOS43Njc0MSA1Ljc3NTc0IDkuNzI1NjJMNS45MDkxMyA5LjU3NzMyQzUuOTQ2NDggOS41MzY4OCA1Ljk1NTgyIDkuNDc2MjEgNS45MjkxNCA5LjQyMjI5QzUuOTE1OCA5LjM5NjY3IDUuODkzMTMgOS4zNzUxIDUuODY2NDUgOS4zNjE2MloiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xNC45MTU5IDEwLjcwMDdDMTQuOTEyMSAxMC42OTk2IDE0LjkwOSAxMC42OTk2IDE0LjkwNzUgMTAuNzAxMUMxNC45MDE2IDEwLjcwNjIgMTQuOTEyNiAxMC43MzY2IDE0LjkzMjEgMTAuNzY4NUMxNC45NjMgMTAuODE5NCAxNC45NjUxIDEwLjgyOTcgMTQuOTQ4IDEwLjg1NDRDMTQuOTMxMSAxMC44Nzg2IDE0LjkzMTcgMTAuODg0NiAxNC45NTE4IDEwLjg5NzhDMTQuOTg3NSAxMC45MjE0IDE0Ljk3OTcgMTAuOTMxOSAxNC45MzAxIDEwLjkyNzNDMTQuODkxOSAxMC45MjM5IDE0Ljg4MTQgMTAuOTI5NyAxNC44NTkxIDEwLjk2NjhDMTQuODM5MiAxMC45OTU5IDE0LjgxMjkgMTEuMDIxMyAxNC43ODE2IDExLjA0MTRDMTQuNzEwNiAxMS4wODQ4IDE0LjY3NDQgMTEuMTUgMTQuNzIxMyAxMS4xNUMxNC43MzQ1IDExLjE1IDE0LjczODkgMTEuMTU5MSAxNC43MzM5IDExLjE3NTlDMTQuNzI0NSAxMS4yMDgyIDE0LjcyODEgMTEuMjA4MiAxNC43OTg5IDExLjE3NDJDMTQuODQwMSAxMS4xNTQ0IDE0Ljg1OTIgMTEuMTM1OCAxNC44NjUxIDExLjEwOTFDMTQuODcwMiAxMS4wODYyIDE0Ljg4NjEgMTEuMDY3NCAxNC45MDYyIDExLjA2MDdDMTQuOTI0MyAxMS4wNTQ3IDE0LjkzNzYgMTEuMDQ2NCAxNC45MzYgMTEuMDQyQzE0LjkyOTIgMTEuMDIzOCAxNC45NjkxIDEwLjk2MDMgMTQuOTg0NCAxMC45NjQ5QzE1LjAwNDUgMTAuOTcxIDE1LjA2NDUgMTAuOTA1MiAxNS4wNTM1IDEwLjg4OTFDMTUuMDQ5MiAxMC44ODI5IDE1LjA1NSAxMC44Nzc5IDE1LjA2NjQgMTAuODc3OUMxNS4wODc4IDEwLjg3NzkgMTUuMTA5MyAxMC44Mjk3IDE1LjA5NjIgMTAuODEwOEMxNS4wOTIxIDEwLjgwNDcgMTUuMDcyOCAxMC44MDM2IDE1LjA1MzUgMTAuODA3OUMxNS4wMjkyIDEwLjgxMzQgMTUuMDE4NCAxMC44MTAzIDE1LjAxODEgMTAuNzk4MkMxNS4wMTc1IDEwLjc3NzMgMTQuOTQzMiAxMC43MDk0IDE0LjkxNTkgMTAuNzAwN1oiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xMi44ODUgOS4yNzM5MkwxMi4zOTk1IDkuMjE3M0MxMi4zODcxIDkuMjE2MDYgMTIuMzc0OSA5LjIxMjg4IDEyLjM2MzUgOS4yMDc4NkwxMi4yNDYxIDkuMTU5MzJDMTIuMjI4OCA5LjE1MjU4IDEyLjIxMTQgOS4xNDA0NSAxMi4xOTgxIDkuMTI2OTdMMTEuODA3MiA4LjcxMzA4QzExLjgwMTkgOC43MDc2OSAxMS43OTU0IDguNzAzNTYgMTEuNzg4MiA4LjcwMDk5QzExLjc4MTEgOC42OTg0MyAxMS43NzM0IDguNjk3NDkgMTEuNzY1OSA4LjY5ODI1QzExLjcyODUgOC43MDM2NSAxMS43MTI1IDguNzQ4MTQgMTEuNzM3OSA4Ljc3NjQ1TDEyLjE0ODcgOS4yNDE1NkMxMi4xNjYxIDkuMjYwNDQgMTIuMTg3NCA5LjI3MzkyIDEyLjIxMTQgOS4yODIwMUwxMi40NDM1IDkuMzUyMTFDMTIuNDU2OSA5LjM1NjE2IDEyLjQ2ODkgOS4zNTc1IDEyLjQ4MjIgOS4zNTc1SDEyLjg3OTdMMTIuODg1IDkuMjczOTJaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMTMuODUwOCA5LjUzNTQ2TDEzLjgzMDggOS41OTIwOEMxMy43OTA3IDkuNzA1MzMgMTMuNjc4NyA5Ljc3Njc4IDEzLjU2IDkuNzYxOTVDMTMuNTUxOSA5Ljc2MTAyIDEzLjU0NDEgOS43NTgwNyAxMy41Mzc0IDkuNzUzMzdDMTMuNTMwNyA5Ljc0ODY3IDEzLjUyNTMgOS43NDIzNyAxMy41MjE2IDkuNzM1MDJDMTMuNTE3OSA5LjcyNzY4IDEzLjUxNjEgOS43MTk1MiAxMy41MTYyIDkuNzExMjhDMTMuNTE2NCA5LjcwMzA0IDEzLjUxODYgOS42OTQ5NyAxMy41MjI2IDkuNjg3OEwxMy42MjI3IDkuNTAxNzZMMTMuMzYyNiA5LjUxMTE5QzEzLjMyNzkgOS41MTI1NCAxMy4yOTMyIDkuNTIwNjMgMTMuMjYyNSA5LjUzNTQ2TDEzLjE2NTEgOS41ODEzQzEzLjEzOTggOS41OTM0MyAxMy4xMTU4IDkuNjA5NjEgMTMuMDk1OCA5LjYyOTgzTDEyLjkxNDQgOS44MDc3OUMxMi44OTMgOS44MjkzNiAxMi44Njc3IDkuODQ2ODkgMTIuODM5NyA5Ljg1OTAyTDEyLjcxNyA5LjkxNDI5QzEyLjYyNDkgOS45NTYwOSAxMi41NjQ5IDEwLjA0NzggMTIuNTY0OSAxMC4xNTAyVjEwLjE2OTFDMTIuNTY0OSAxMC4yMDQxIDEyLjU3MTYgMTAuMjM3OSAxMi41ODQ5IDEwLjI3MDJMMTIuNjgwOSAxMC40OThDMTIuNjgzNiAxMC41MDM0IDEyLjY4NDkgMTAuNTA3NSAxMi42ODYzIDEwLjUxMjlDMTIuNzAyMyAxMC41NzQ5IDEyLjc2OSAxMC42MTEzIDEyLjgyOSAxMC41ODk3TDEzLjA3NDQgMTAuNTAyMUMxMy4xMDkxIDEwLjQ5IDEzLjE0NjUgMTAuNDg0NiAxMy4xODI1IDEwLjQ4ODZMMTMuNDc1OSAxMC41MTU2QzEzLjU1NiAxMC41MjIzIDEzLjYyNjcgMTAuNTY2OCAxMy42Njk0IDEwLjYzNTZMMTMuNjg5NCAxMC42NjY2QzEzLjczNjEgMTAuNzQyMSAxMy44MTc0IDEwLjc4NzkgMTMuOTA2OCAxMC43ODc5SDE0LjAyNTVDMTQuMDkzNSAxMC43ODc5IDE0LjE1ODkgMTAuNzYwOSAxNC4yMDY5IDEwLjcxMjRMMTQuMzM3NiAxMC41ODAzQzE0LjM4NTcgMTAuNTMxOCAxNC40MTIzIDEwLjQ2NTcgMTQuNDEyMyAxMC4zOTY5VjEwLjIyNDRDMTQuNDEyMyAxMC4xNTE2IDE0LjM4MTcgMTAuMDgyOCAxNC4zMjk2IDEwLjAzNDNMMTQuMDYxNSA5Ljc4NjIyQzE0LjAzNjIgOS43NjMzIDE0LjAxNjIgOS43MzQ5OSAxNC4wMDI4IDkuNzAzOThMMTMuOTIyOCA5LjUyODcyQzEzLjkwNTUgOS41MDE3NiAxMy44NjE0IDkuNTAzMTEgMTMuODUwOCA5LjUzNTQ2WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTEzLjMyMTkgOS4yNTAxQzEzLjMzODcgOS4yNTEzMiAxMy4zNTA2IDkuMjYzODggMTMuMzUwMiA5LjI4NzI5QzEzLjM0OTkgOS4zMDE3NSAxMy4zMjEgOS4zMjk4MiAxMy4yODU3IDkuMzQ5NjJDMTMuMjUxNSA5LjM2ODgyIDEzLjIzMDcgOS4zNzk2NiAxMy4yMTgxIDkuMzgyNDhDMTMuMjAyIDkuMzg2MDkgMTMuMTk5MyA5LjM3NjYgMTMuMTk5MyA5LjM1NDU3QzEzLjE5OTMgOS4zMzc1NSAxMy4yMDU0IDkuMzIzOTQgMTMuMjEyOCA5LjMyMzk0QzEzLjIyMDQgOS4zMjM5NCAxMy4yNDM0IDkuMzA0NDggMTMuMjY0MSA5LjI4MDlDMTMuMjgzNSA5LjI1ODg4IDEzLjMwNTMgOS4yNDg4OCAxMy4zMjE5IDkuMjUwMVoiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xMy4wNzkgOS4yNzE5NUMxMy4yMzkxIDkuMjcxMjggMTMuMjI3NyA5LjMxMTU0IDEzLjA2NTcgOS4zMTk2NUMxMi45NzE0IDkuMzI0MzIgMTIuOTQ1MiA5LjMxOTY1IDEyLjk1MDkgOS4yOTg5N0MxMi45NTU5IDkuMjgwNzQgMTIuOTk1NiA5LjI3MjEyIDEzLjA3OSA5LjI3MTk1WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTYuMTE3MDggNS41MjA0Nkg2LjIwNjQ1TDYuMjc0NDcgNS41NjYzTDYuNDU1ODggNS41MTkxMUw2LjQ4OTIzIDUuNlY1LjcxNDU5TDYuMzE0NDkgNS43MzYxNkM2LjI3ODQ4IDUuNzQwMjEgNi4yNDI0NiA1LjczMDc3IDYuMjE0NDUgNS43MDc4NUw2LjA2MTA1IDUuNTg2NTJMNi4xMTcwOCA1LjUyMDQ2WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTguMTIwNTggNC41NTExM0g3Ljg4OTgxTDcuODMzNzkgNC41OTAyM0w4LjAzMTIxIDQuODQwOTlIOC4xMjA1OEw4LjIwMzI4IDQuNjg4NjRMOC40MDQ3IDQuNzkyNDVMOC40MzY3MSA0Ljc0MzkyTDguMTk3OTQgNC41NzU0QzguMTc1MjcgNC41NTkyMiA4LjE0ODU5IDQuNTUxMTMgOC4xMjA1OCA0LjU1MTEzWiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTguNjExNDUgNC4zNzE4M0g4LjMxMjY2TDguMjg0NjUgNC40MTc2Nkw4LjM3MTM1IDQuNDgyMzhDOC4zOTQwMyA0LjQ5OTkgOC40MjIwNCA0LjUwOTM0IDguNDUxMzggNC41MDkzNEg4LjYxMTQ1TDguNjg3NDggNC40Mjk4TDguNjExNDUgNC4zNzE4M1oiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0zLjA0MjQ2IDQuMzc4NTdMMi44NDUwNCA0LjQ1MjcyTDIuNjU0MyA0LjUwMTI1TDIuOTI3NzQgNC42MzA2N0wzLjE0MzgzIDQuNTYxOTJMMy4yMTU4NiA0LjU0ODQzTDMuMTU4NTEgNC40MzkyM0wzLjA0MjQ2IDQuMzc4NTdaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMy40MTQ2MSA0Ljc4MDMySDMuMzI5MjVWNC44MjM0NkwzLjM3NDYgNC44Mzk2NEwzLjM4NTI3IDQuODg0MTNMMy40NTU5NiA0Ljg5NDkxTDMuNTAzOTggNC45NDg4NEwzLjkyODE2IDQuOTM1MzZMMy45NTIxNyA0Ljg4NDEzTDMuOTE0ODIgNC44Mjg4NUgzLjQ1ODYzTDMuNDE0NjEgNC43ODAzMloiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0zLjAzMDQ1IDQuODg0MTNMMi45OTcxMSA0Ljc4ODQxTDMuMDMwNDUgNC43Njk1M0wzLjE1NzE3IDQuNzgwMzJMMy4xODc4NSA0LjgwODYzTDMuMTE3MTYgNC44OTA4N0wzLjAzMDQ1IDQuODg0MTNaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNMy4yMTU4NiA0LjcyNTA0TDMuMjMxODcgNC42NzExMkwzLjI2NjU1IDQuNjQ2ODVMMy4zMDEyMyA0LjY2MDMzTDMuMzU4NTkgNC42ODQ2VjQuNzA4ODdIMy4zMjkyNUwzLjI4MjU2IDQuNzQ2NjFMMy4yMTU4NiA0LjcyNTA0WiIgZmlsbD0iIzA1MDUwNSIvPg0KPHBhdGggZD0iTTMuODQ0MTMgOC4wOTU0NEwzLjc2MTQzIDguMTMxODRDMy43NTA3NSA4LjEzNzI0IDMuNzUwNzUgOC4xNTM0MSAzLjc2MTQzIDguMTU2MTFMMy44NDk0NiA4LjE5MjUxTDMuOTUyMTcgOC4xNzYzM0w0LjExODkxIDguMjkwOTNINC4yMzc2MkM0LjIzNzYyIDguMjkwOTMgNC4zMTg5OSA4LjI4MDE0IDQuMzE4OTkgOC4yNTg1N0M0LjMxODk5IDguMjM3IDQuMjM3NjIgOC4yMjYyMiA0LjIzNzYyIDguMjI2MjJMNC4wNjU1NSA4LjA5NTQ0SDMuODQ0MTNaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8cGF0aCBkPSJNNC40MDAzNiA4LjI3MjA1QzQuNDAwMzYgOC4yNzIwNSA0LjMyNTY2IDguMzE2NTQgNC4zMzUgOC4zMzgxMUM0LjM1MTAxIDguMzc1ODYgNC40OTUwNyA4LjMzODExIDQuNDk1MDcgOC4zMzgxMUM0LjQ5NTA3IDguMzM4MTEgNC41NDcwOSA4LjI4OTU4IDQuNTM3NzUgOC4yNzIwNUM0LjUyMDQxIDguMjQxMDQgNC40MDAzNiA4LjI3MjA1IDQuNDAwMzYgOC4yNzIwNVoiIGZpbGw9IiMwNTA1MDUiLz4NCjxwYXRoIGQ9Ik0xNC4xNjE4IDEwLjkyOTNIMTMuODgxNkwxMy45NTYzIDExLjA5MzhIMTQuMDIxN0wxNC4xNjE4IDEwLjkyOTNaIiBmaWxsPSIjMDUwNTA1Ii8+DQo8L3N2Zz4NCg=="},26826:e=>{"use strict";e.exports=i},1821:e=>{"use strict";e.exports=s},48891:e=>{"use strict";e.exports=o},34796:e=>{"use strict";e.exports=a},30726:e=>{"use strict";e.exports=n},58290:e=>{"use strict";e.exports=l},41362:e=>{"use strict";e.exports=r}},t={};function M(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,M),o.exports}M.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return M.d(t,{a:t}),t},M.d=(e,t)=>{for(var i in t)M.o(t,i)&&!M.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},M.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),M.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";M.r(c),M.d(c,{Draw:()=>pt,DrawingElevationMode3D:()=>xt,JimuDraw:()=>rs,JimuDrawCreationMode:()=>Lt,JimuMap:()=>le,JimuSymbolType:()=>ke,MapStatesEditor:()=>re,MapThumb:()=>n,SymbolList:()=>Ue,SymbolSelector:()=>Be,useMeasurementsUnitsInfos:()=>ft});var e={};M.r(e),M.d(e,{Draw:()=>o,JimuMap:()=>s,SymbolSelector:()=>a});var t=M(34796),i=M(48891);const s=e=>i.css`
    position: relative;

    .map-is-live-mode {
      .is-widget {
        pointer-events: auto !important;
      }
    }

    .widget-map-usemask {
      pointer-events: auto !important;
    }

    .map-is-design-mode {
      .exbmap-ui,
      .exbmap-ui-tool {
        pointer-events: none !important;
      }

      .is-widget {
        pointer-events: auto !important;
      }
    }

    .widget-map{
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
      z-index: -1;
      .overview-container{
        position: absolute;
        top: 12px;
        right: 12px;
        width: 300px;
        height: 200px;
        border: 1px solid black;
        z-index: 1;
      }

      .extent-container{
        background-color: rgba(0, 0, 0, 0.5);
        position: absolute;
        z-index: 2;
      }

      .extent-btn-container{
        button{
          outline: none;
        }
        .previous-extent-btn{
          color: #111;
        }
        .next-extent-btn{
          color: #222;
        }
      }
    }

    .exbmap-ui-layout{
      z-index: 0;
    }

    .mapswitch-container {
      position: absolute;
      z-index: 7;
      width: 32px;
      height: 32px;
      bottom: 10px;
      left: 10px;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)
    }

    .mapswitch-icon {
      fill: black;
      left: 8px;
      top: 8px;
      position: absolute;
      display: block;
    }

    .widget-map-background {
      background-color: ${"white"};
      position: absolute;
      z-index: 1;
    }

    @keyframes appear {
      0%{opacity:0}
      25%{opacity:.25}
      50%{opacity:.5;}
      75%{opacity:.75}
      100%{opacity:1;}
    }

    @keyframes disappear {
      0%{opacity:1}
      25%{opacity:.75}
      50%{opacity:.5;}
      75%{opacity:.25}
      100%{opacity:0;}
    }

    .multisourcemap-item-appear {
      animation: appear 300ms;
      -webkit-animation: appear 300ms;
      -moz-animation: appear 300ms;
      animation-fill-mode: forwards;
      -webkit-animation-fill-mode: forwards;
      -moz-animation-fill-mode: forwards;
      animation-timing-function: ease-in;
      -webkit-animation-timing-function: ease-in;
      -moz-animation-timing-function: ease-in;
    }

    .multisourcemap-item-disappear {
      animation: disappear 300ms;
      -webkit-animation: disappear 300ms;
      -moz-animation: disappear 300ms;
      animation-fill-mode: forwards;
      -webkit-animation-fill-mode: forwards;
      -moz-animation-fill-mode: forwards;
      animation-timing-function: ease-in;
      -webkit-animation-timing-function: ease-in;
      -moz-animation-timing-function: ease-in;
    }

    .multisourcemap-item-appear-noanimate {
      opacity: 1;
    }

    .multisourcemap-item-disappear-noanimate {
      opacity: 0;
    }

    .exbmap-ui-tool-shell {
      pointer-events: auto;
    }
  `,o=e=>{const t=e.theme;return i.css`
    .jimu-draw-loader {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      width: 100%;
      animation: esri-fade-in 500ms ease-in-out;
    }

    .jimu-draw-loader:before {
      background-color: rgba(110,110,110,0.3);
      width: 100%;
      z-index: 0;
      content: "";
      opacity: 1;
      position: absolute;
      height: 2px;
      top: 0;
      transition: opacity 500ms ease-in-out;
    }

    .jimu-draw-loader:after {
      background-color: ${t.colors.primary};
      width: 20%;
      z-index: 0;
      animation: looping-progresss-bar-ani 1500ms linear infinite;
      content: "";
      opacity: 1;
      position: absolute;
      height: 2px;
      top: 0;
      transition: opacity 500ms ease-in-out;
    }
  `},a=e=>i.css`
    &.jimu-symbol-selector {
      .symbol-selector-preview-btn {
        min-width: 16px;
        min-height: 16px;
      }
    }
  `;class n extends i.React.PureComponent{constructor(e){super(e),this.unmount=!1,this.state={mapThumbCache:{}}}componentDidMount(){this.unmount=!1,this.requestThumbUrlByProps()}componentDidUpdate(e,t){e.mapItemId!==this.props.mapItemId&&this.requestThumbUrlByProps()}getMapThumbKey(e,t){return`${e||"empty"}-${t||"empty"}`}addMapThumbUrlToCache(e,t){if(this.unmount)return;if(this.state.mapThumbCache[e])return;const i=Object.assign(Object.assign({},this.state.mapThumbCache),{[e]:t});this.setState({mapThumbCache:i})}requestThumbUrlByProps(){const e=this.props.portUrl,t=this.props.mapItemId,s=this.getMapThumbKey(e,t);if(!(s in this.state.mapThumbCache))if(t||this.addMapThumbUrlToCache(s,null),e&&e!==(0,i.getAppStore)().getState().portalUrl)i.esri.restPortal.searchItems({q:`id:${t}`,portal:e+"/sharing/rest"}).then((e=>{if(!this.unmount)if(e.results[0]){const t=`${this.props.portUrl}/sharing/rest/content/items/${e.results[0].id}/info/${e.results[0].thumbnail}`;this.addMapThumbUrlToCache(s,t)}else this.addMapThumbUrlToCache(s,null)}));else{const e=(0,i.getAppStore)().getState().portalUrl;i.esri.restPortal.searchItems({q:`id:${t}`,authentication:i.SessionManager.getInstance().getMainSession(),portal:e+"/sharing/rest"}).then((t=>{var o;if(!this.unmount)if(null===(o=t.results[0])||void 0===o?void 0:o.thumbnail){const o=i.SessionManager.getInstance().getSessionByUrl(e);let a=null;a=o&&(null==o?void 0:o.token)?`${e}/sharing/rest/content/items/${t.results[0].id}/info/${t.results[0].thumbnail}?token=${null==o?void 0:o.token}`:`${e}/sharing/rest/content/items/${t.results[0].id}/info/${t.results[0].thumbnail}`,this.addMapThumbUrlToCache(s,a)}else this.addMapThumbUrlToCache(s,null)}))}}componentWillUnmount(){this.unmount=!0}render(){const e=this.getMapThumbKey(this.props.portUrl,this.props.mapItemId),t=this.state.mapThumbCache[e];return t?i.React.createElement("img",{className:"w-100 h-100",src:t,style:{display:"block",objectFit:"cover",objectPosition:"50% 50%"}}):i.React.createElement("img",{className:"w-100 h-100",src:M(3568)})}}var l=M(30726),r=M(1821),u=M(26826);class p extends i.React.PureComponent{}class g extends i.React.PureComponent{constructor(){super(...arguments),this.moveY=0,this.startY=0,this.isRegisted=!1,this.registerTouchEvent=e=>{e&&!this.isRegisted&&(e.addEventListener("touchstart",(e=>{this.moveY=0;const t=e.touches[0];this.startY=t.clientY}),{passive:!1}),e.addEventListener("touchmove",(t=>{const i=t.touches[0];this.moveY=-1*(i.clientY-this.startY),this.startY=i.clientY,e.scrollTop=e.scrollTop+this.moveY}),{passive:!1}),e.addEventListener("touchend",(e=>{this.moveY=0,this.startY=0}),{passive:!1}),this.isRegisted=!0)}}getStyle(){return i.css`
      overflow: auto;
      pointer-events: auto;
      `}render(){return(0,i.jsx)("div",{css:this.getStyle(),className:this.props.className,style:this.props.style,ref:e=>{this.registerTouchEvent(e)}},this.props.children)}}class d extends i.React.PureComponent{componentWillUnmount(){this.props.onDestroyed&&this.props.onDestroyed()}render(){return i.React.createElement(i.React.Fragment,null,this.props.children)}}const N=M(85277),h=M(91055);class D extends p{constructor(e){super(e),this.toolName=null,this.isContainedToMobilePanel=!1,this.generation=0,this._getContent=()=>this.props.toolJson.isOnlyExpanded?(0,i.jsx)("div",{css:this._cssStyle(),className:"exbmap-ui exbmap-ui-tool-panel"},(0,i.jsx)(i.ErrorBoundary,null,this.getExpandPanel())):this.props.isMobile?this._renderMobileTool():this._renderPCTool(),this.onResize=(e,t)=>{e&&t&&(this.generation=t,this.forceUpdate())};const t=this.props.jimuMapView&&this.props.jimuMapView.view&&this.props.jimuMapView.view.container;l.MobilePanelManager.getInstance().checkDomIsContained(t)&&(this.isContainedToMobilePanel=!0),this.modifiers=[{name:"flip",options:{padding:0}},{name:"preventOverflow",options:{padding:15,boundariesElement:t}}],this._onKeyDown=this._onKeyDown.bind(this),this.onPopperToggle=this.onPopperToggle.bind(this)}_cssStyle(){return i.css`
      /* pointer-events: auto;
      box-shadow: 0 1px 2px rgba(0,0,0,0.3);
      position: relative;

      .exbmap-ui-tool-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .exbmap-ui-tool-icon-selected {
        color: #000;
        background-color: #eee;
      }

      .exbmap-ui-tool-icon-selected:after {
        width: 0;
        height: 0;
        border-top: 6px solid #000;
        border-left: 6px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
        margin-top: 1px;
        margin-right: 1px;
      }

      .exbmap-ui-expand-content {
        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;
        min-height: 10px;
        min-width: 10px;
        padding-top: ${i.polished.rem(10)};
        padding-bottom: ${i.polished.rem(10)};
        padding-left: ${i.polished.rem(20)};
        padding-right: ${i.polished.rem(20)};

        .exbmap-ui-expand-content-header {
          margin-bottom: ${i.polished.rem(10)};
        }

        .panel-title {
          font-size: ${i.polished.rem(16)};
          color: #000000;
        }

        .panel-icon {
          cursor: pointer;
          color: #6e6e6e;
        }

        .panel-icon:hover {
          color: #2e2e2e;
        }
      }

      .expand-placement-bottom {
        padding-top: 0.25rem !important;
      }

      .expand-placement-left {
        padding-right: 0.25rem !important;
      }

      .expand-placement-right {
        padding-left: 0.25rem !important;
      }

      .expand-placement-top {
        padding-bottom: 0.25rem !important;
      } */
      `}focusDefaultElement(){}onShowPanel(){}onClosePanel(){}destroy(){}static getIsNeedSetting(){return!0}onPopperToggle(e){e&&"keydown"===e.type&&"Escape"===e.key&&(this._onIconClick(),this.iconContainer.focus())}_onKeyDown(e){"Enter"!==e.key&&" "!==e.key||(this.props.activeToolName!==this.toolName?this._onIconClick():this.focusDefaultElement())}_onIconClick(e){const t=this.getIcon()&&this.getIcon().onIconClick;t&&t(e),this.getExpandPanel()&&(this.isContainedToMobilePanel,this.props.activeToolName&&this.props.activeToolName===this.toolName?this.props.onActiveToolNameChange(null):(this.props.onActiveToolNameChange(this.toolName),this.onShowPanel()))}_initIconContainer(e){e&&!this.iconContainer&&(this.iconContainer=e,this.forceUpdate())}_renderPCTool(){let e=this.getIcon();e||(e={icon:N,onIconClick:()=>{}});const t=this.getExpandPanel();return(0,i.jsx)("div",{className:"exbmap-ui exbmap-ui-tool",css:this._cssStyle()},(0,i.jsx)("div",{style:{},ref:e=>{this._initIconContainer(e)},className:(0,i.classNames)("exbmap-ui-tool esri-widget--button",{"exbmap-ui-tool-icon-selected":this.toolName===this.props.activeToolName&&t}),title:this.props.toolJson.isShowIconTitle?this.getTitle():"",onClick:e=>{this._onIconClick(e)},"aria-expanded":this.props.activeToolName===this.toolName,role:"button",tabIndex:0,onKeyDown:this._onKeyDown},(0,i.jsx)(l.Icon,{width:16,height:16,className:"exbmap-ui-tool-icon",icon:e.icon})),this.iconContainer&&this.toolName===this.props.activeToolName&&t&&(0,i.jsx)(d,{onDestroyed:()=>{this.onClosePanel()}},(0,i.jsx)(l.Popper,{className:"exbmap-ui-popper",reference:this.iconContainer,open:!(this.toolName!==this.props.activeToolName||!t),placement:this.props.toolJson.panelPlacement,modifiers:this.modifiers,version:this.generation,disablePortal:!0,toggle:this.onPopperToggle,forceLatestFocusElements:!0},(0,i.jsx)("div",{className:this.getExpandPanelPlacementClassName()},(0,i.jsx)("div",{className:"exbmap-ui-expand-content"},(0,i.jsx)("div",{className:"w-100 justify-content-between d-flex exbmap-ui-expand-content-header"},(0,i.jsx)("div",{className:"panel-title text-truncate",style:{maxWidth:"210px"},title:this.getTitle()},this.getTitle()),(0,i.jsx)("div",{onClick:()=>{this.props.onActiveToolNameChange(null)},role:"button",tabIndex:0,"aria-label":this.props.intl.formatMessage({id:"close",defaultMessage:"close"})},(0,i.jsx)(l.Icon,{className:"panel-icon",width:20,height:20,icon:h}))),(0,i.jsx)(i.ErrorBoundary,null,t,(0,i.jsx)(i.ReactResizeDetector,{handleHeight:!0,onResize:this.onResize})))))))}_renderMobileTool(){let e=this.getIcon();e||(e={icon:N,onIconClick:()=>{}});const t=this.getExpandPanel();return(0,i.jsx)("div",{className:"exbmap-ui exbmap-ui-tool",css:this._cssStyle()},(0,i.jsx)("div",{style:{},ref:e=>{this.iconContainer=e},className:(0,i.classNames)("exbmap-ui-tool border-0 esri-widget--button",{"exbmap-ui-tool-icon-selected":this.toolName===this.props.activeToolName&&t}),title:this.props.toolJson.isShowIconTitle?this.getTitle():"",onClick:e=>{this._onIconClick(e)}},(0,i.jsx)(l.Icon,{width:16,height:16,className:"exbmap-ui-tool-icon",icon:e.icon})),this.toolName===this.props.activeToolName&&t&&i.ReactDOM.createPortal((0,i.jsx)(d,{onDestroyed:()=>{this.onClosePanel()}},(0,i.jsx)("div",{className:"w-100 h-100 d-flex flex-column"},(0,i.jsx)("div",{className:"w-100 justify-content-between d-flex exbmap-ui-expand-content-header",style:{padding:"10px",fontWeight:"bold"}},(0,i.jsx)("div",{className:"panel-title text-truncate w-100",title:this.getTitle()},this.getTitle()),(0,i.jsx)("div",{style:{zIndex:1,pointerEvents:"auto",width:"40px",height:"30px"},onClick:()=>{this.props.onActiveToolNameChange(null)},className:"d-flex justify-content-end align-items-start"},(0,i.jsx)(l.Icon,{className:"panel-icon",width:20,height:20,icon:h,color:"#6e6e6e"}))),(0,i.jsx)("div",{className:"flex-grow-1 w-100",style:{position:"relative"}},(0,i.jsx)(g,{className:"w-100 h-100",style:{position:"absolute",paddingLeft:"10px",paddingRight:"10px"}},(0,i.jsx)(i.ErrorBoundary,null,this.getExpandPanel()))))),document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`)))}getExpandPanelPlacementClassName(){return this.props.toolJson.panelPlacement?`expand-placement-${this.props.toolJson.panelPlacement.split("-")[0]}`:null}render(){return this._getContent()}}class y extends i.React.PureComponent{constructor(e){super(e),this.Zoom=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Zoom"]).then((e=>{[this.Zoom]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.ZoomBtn=new this.Zoom({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.ZoomBtn&&(this.ZoomBtn.destroy(),this.ZoomBtn=null)}render(){return i.React.createElement("div",{ref:e=>{this.container=e}})}}const m=i.React.createContext({isShowMapSwitchBtn:!1,dataSourceIds:[],activeDataSourceId:null,switchMap:()=>{},fullScreenMap:()=>{},initialMapState:null,mapComponentId:null});class j extends i.React.PureComponent{constructor(e){super(e),this.Home=null,this.generateViewPointFromInitialMapState=e=>"2d"===e.viewType?new this.Viewpoint({targetGeometry:this.Extent.fromJSON(e.extent),rotation:e.rotation}):this.Viewpoint.fromJSON(e.viewPoint),this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Home","esri/geometry/Extent","esri/Viewpoint"]).then((e=>{[this.Home,this.Extent,this.Viewpoint]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(e){this.state.apiLoaded&&this.container&&(this.homeBtn&&(this.container.innerHTML=""),this.homeBtn=new this.Home({container:this.container,view:this.props.jimuMapView.view,viewpoint:this.props.initialMapState?this.generateViewPointFromInitialMapState(this.props.initialMapState):this.props.jimuMapView.view.map.initialViewProperties.viewpoint}),e.initialMapState!==this.props.initialMapState&&this.props.jimuMapView.view.goTo(this.homeBtn.viewpoint,{animate:!1}))}componentWillUnmount(){this.homeBtn&&(this.homeBtn.destroy(),this.homeBtn=null)}render(){return i.React.createElement("div",{className:"esri-widget--button",ref:e=>{this.container||(this.container=e)}})}}class S extends i.React.PureComponent{constructor(e){super(e),this.Compass=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Compass"]).then((e=>{[this.Compass]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.CompassBtn=new this.Compass({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.CompassBtn&&(this.CompassBtn.destroy(),this.CompassBtn=null)}render(){return i.React.createElement("div",{ref:e=>{this.container=e}})}}class I extends i.React.PureComponent{constructor(e){super(e),this.Locate=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Locate"]).then((e=>{[this.Locate]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.LocateBtn=new this.Locate({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.LocateBtn&&(this.LocateBtn.destroy(),this.LocateBtn=null)}render(){return i.React.createElement("div",{className:"esri-widget--button",ref:e=>{this.container=e}})}}class T extends i.React.PureComponent{constructor(e){super(e),this.Navigation=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/NavigationToggle"]).then((e=>{[this.Navigation]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.NavigationBtn=new this.Navigation({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.NavigationBtn&&(this.NavigationBtn.destroy(),this.NavigationBtn=null)}render(){return i.React.createElement("div",{ref:e=>{this.container=e}})}}class w extends i.React.PureComponent{constructor(e){super(e),this.Search=null,this.state={apiLoaded:!1}}getStyle(){return i.css`
      /* border: solid 1px rgba(110,110,110,0.3); */
    `}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Search"]).then((e=>{[this.Search]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.SearchBtn=new this.Search({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.SearchBtn&&(this.SearchBtn.destroy(),this.SearchBtn=null)}render(){return(0,i.jsx)("div",{css:this.getStyle(),className:"w-100",ref:e=>{this.container=e}},!this.state.apiLoaded&&(0,i.jsx)("div",{className:"exbmap-basetool-loader"}))}}class z extends i.React.PureComponent{constructor(e){super(e),this.LayerList=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/LayerList"]).then((e=>{[this.LayerList]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.LayerListBtn=new this.LayerList({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.LayerListBtn&&(this.LayerListBtn=null)}render(){return i.React.createElement("div",{ref:e=>{this.container=e},style:{width:"100%",minHeight:"32px",position:"relative"}},!this.state.apiLoaded&&i.React.createElement("div",{className:"exbmap-basetool-loader"}))}}class O extends i.React.PureComponent{constructor(e){super(e),this.Legend=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Legend"]).then((e=>{[this.Legend]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.LegendBtn=new this.Legend({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.LegendBtn&&(this.LegendBtn=null)}render(){return i.React.createElement("div",{ref:e=>{this.container=e},style:{width:"100%",minHeight:"32px",position:"relative"}},!this.state.apiLoaded&&i.React.createElement("div",{className:"exbmap-basetool-loader"}))}}class x extends i.React.PureComponent{constructor(e){super(e),this.BaseMap=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/BasemapGallery"]).then((e=>{[this.BaseMap]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.BaseMapBtn=new this.BaseMap({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.BaseMapBtn&&(this.BaseMapBtn.destroy(),this.BaseMapBtn=null)}render(){return this.props.isMobile?i.React.createElement("div",{ref:e=>{this.container=e},style:{width:"100%",minHeight:"32px",maxWidth:"none",maxHeight:"none",overflowY:"auto",position:"relative"}},!this.state.apiLoaded&&i.React.createElement("div",{className:"exbmap-basetool-loader"})):i.React.createElement("div",{ref:e=>{this.container=e},style:{width:"250px",minHeight:"32px",position:"relative"},className:"exbmap-ui-pc-expand-maxheight"},!this.state.apiLoaded&&i.React.createElement("div",{className:"exbmap-basetool-loader"}))}}class L extends i.React.PureComponent{constructor(e){super(e),this.ScaleBar=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/ScaleBar"]).then((e=>{[this.ScaleBar]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.ScaleBarBtn=new this.ScaleBar({container:this.container,view:this.props.jimuMapView.view,unit:"metric"}))}componentWillUnmount(){this.ScaleBarBtn&&(this.ScaleBarBtn.destroy(),this.ScaleBarBtn=null)}render(){return i.React.createElement("div",{ref:e=>{this.container=e}})}}class A extends i.React.PureComponent{constructor(e){super(e),this.Attribution=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Attribution"]).then((e=>{[this.Attribution]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(){this.state.apiLoaded&&this.container&&(this.AttributionBtn=new this.Attribution({container:this.container,view:this.props.jimuMapView.view}))}componentWillUnmount(){this.AttributionBtn&&(this.AttributionBtn.destroy(),this.AttributionBtn=null)}render(){return i.React.createElement("div",{style:{position:"relative"},ref:e=>{this.container=e}})}}class b extends i.React.PureComponent{constructor(e){super(e),this.MeasureInstance=null,this.state={apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/"+this.props.measureModule.path]).then((e=>{[this.MeasureClass]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(e){if(e.activeTabIndex===this.props.activeTabIndex&&e.measureModule===this.props.measureModule){if(this.state.apiLoaded&&this.parentContainer&&this.container)if(this.props.measureInstance)this.parentContainer.innerHTML="",this.parentContainer.appendChild(this.props.measureInstance.container),"measured"!==this.props.measureInstance.viewModel.state&&"measuring"!==this.props.measureInstance.viewModel.state&&this.props.measureInstance.viewModel.start();else{const e=new this.MeasureClass({container:this.container,view:this.props.jimuMapView.view});e.viewModel.start(),this.props.onMeasurceInstanceCreated(e,this.props.activeTabIndex)}}else this.reload()}reload(){this.setState({apiLoaded:!1},(()=>{(0,u.loadArcGISJSAPIModules)(["esri/widgets/"+this.props.measureModule.path]).then((e=>{[this.MeasureClass]=e,this.setState({apiLoaded:!0})}))}))}render(){return i.React.createElement("div",{className:"w-100",style:{width:"250px",position:"relative",minHeight:"32px"},ref:e=>{this.parentContainer=e}},i.React.createElement("div",{ref:e=>{this.container=e}},!this.state.apiLoaded&&i.React.createElement("div",{className:"exbmap-basetool-loader"})))}}var C;!function(e){e.Point="point",e.Polyline="polyline",e.Polygon="polygon",e.Circle="circle",e.Rectangle="rectangle"}(C||(C={}));const E={style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[0,0,128,255],width:1},type:"esriSMS",size:18},v={tags:["solid"],title:"Blue Thin",style:"esriSLSSolid",color:[79,129,189,255],width:3,name:"Blue 1",type:"esriSLS"},k={style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}},f=M(33630),U=M(46638),Q=M(35076),Y=M(80435),P=M(88155),R=M(78363),V=M(98775);class G extends i.React.PureComponent{constructor(e){super(e),this.currentActiveTool="rectangle",this.jsonUtils=null,this.resultGraphics=[],this.removeEvents=[],this.toggleIsSelectActive=()=>{this.setState({isActive:!this.state.isActive})},this.getSelectToolIcon=()=>"Point"===this.state.currentSelectType?R:"Rectangle"===this.state.currentSelectType?U:"Lasso"===this.state.currentSelectType?Q:"Circle"===this.state.currentSelectType?Y:"Line"===this.state.currentSelectType?P:U,this.toggleSelectTypePopup=()=>{this.setState({isShowSelectTypePopup:!this.state.isShowSelectTypePopup})},this.toggleResultPopup=()=>{this.setState({isShowResultPopup:!this.state.isShowResultPopup})},this.setCurrentSelectType=e=>{this.initializeSketchTool(),"Point"===e&&(this.sketchViewModel.create("point"),this.currentActiveTool="point"),"Rectangle"===e&&(this.sketchViewModel.create("rectangle"),this.currentActiveTool="rectangle"),"Lasso"===e&&(this.sketchViewModel.create("polygon"),this.currentActiveTool="polygon"),"Circle"===e&&(this.sketchViewModel.create("circle"),this.currentActiveTool="circle"),"Line"===e&&(this.sketchViewModel.create("polyline"),this.currentActiveTool="polyline"),this.setState({currentSelectType:e,isShowSelectTypePopup:!1,isActive:!0})},this.clearSelect=()=>{this.props.jimuMapView.clearSelectedFeatures(),this.props.onClearSelect&&this.props.onClearSelect(null,{sketchViewModel:this.sketchViewModel})},this.state={isShowResultPopup:!1,isShowSelectTypePopup:!1,currentSelectType:"Rectangle",sketcheInitialized:!1,isActive:!1,spatialRelationship:"intersects",resultGraphics:[],isQuerying:!1}}getCSSStyle(){const e=this.props.theme,t=e.arcgis.components.button.variants.default.default.bg,s=e.arcgis.components.button.variants.default.default.border;return i.css`
      .select-tool-container {
        ${t&&`background-color: ${t};`}
        ${s&&`border: ${s.color} ${s.width} solid;`}
      }

      .select-tool-btn {
        width: 32px;
        height: 32px;
      }

      .content-bg {
        background-color: ${e.colors.palette.light[100]};
      }

      .content-title {
        font-size: ${i.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${e.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${e.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${e.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${i.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${e.colors.primary};
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `}componentDidMount(){this.state.sketcheInitialized||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/rest/support/Query","esri/symbols/support/jsonUtils","esri/geometry/geometryEngine"]).then((e=>{[this.SketchViewModel,this.GraphicsLayer,this.Query,this.jsonUtils,this.geometryEngine]=e,this.props.jimuMapView.view.when((()=>{this.initializeSketchTool(),this.setState({sketcheInitialized:!0})}))}))}componentDidUpdate(e,t){return t.sketcheInitialized!==this.state.sketcheInitialized&&this.state.sketcheInitialized?(this.initializeSketchTool(),void(this.state.isActive&&this.currentActiveTool&&this.sketchViewModel.create(this.currentActiveTool))):e.jimuMapView&&this.props.jimuMapView&&e.jimuMapView.id!==this.props.jimuMapView.id&&this.state.sketcheInitialized?(this.initializeSketchTool(),this.sketchViewModel.view=this.props.jimuMapView.view,void(this.state.isActive&&this.currentActiveTool&&this.sketchViewModel.create(this.currentActiveTool))):void(t.isActive!==this.state.isActive&&(this.initializeSketchTool(),this.state.isActive?this.sketchViewModel.create(this.currentActiveTool):this.removeSketchViewModel()))}componentWillUnmount(){this.removeSketchViewModel()}removeSketchViewModel(){this.sketchViewModel&&(this.sketchViewModel.destroy(),this.sketchViewModel=null,this.removeEvents.forEach((e=>{e()})),this.removeEvents=[])}initializeSketchTool(){if(this.SketchViewModel&&!this.sketchViewModel){this.sketchViewModel=new this.SketchViewModel({view:this.props.jimuMapView.view,layer:new this.GraphicsLayer,pointSymbol:this.jsonUtils.fromJSON(E),polylineSymbol:this.jsonUtils.fromJSON(v),polygonSymbol:this.jsonUtils.fromJSON(k)});const e=this.sketchViewModel.on("create",(e=>{const{spatialRelationship:t}=this.state;if("start"===e.state)this.props.onSelectStart&&this.props.onSelectStart(e,{spatialRelationship:t,sketchViewModel:this.sketchViewModel});else if("complete"===e.state){this.sketchViewModel.create(this.currentActiveTool);const s=this.props.onSelectComplete||((e,{spatialRelationship:t})=>{const s=e.graphic;s.geometry?(this.setState({isQuerying:!0}),this.props.jimuMapView.selectFeaturesByGraphic(s,t,i.DataSourceSelectionMode.New).then((()=>{this.setState({isQuerying:!1})}))):console.log("sketch graphic.geometry is null")});s(e,{spatialRelationship:t,sketchViewModel:this.sketchViewModel})}}));this.removeEvents.push(e.remove)}}render(){return(0,i.jsx)("div",{css:this.getCSSStyle()},(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-center select-tool-container",ref:e=>{this.btnContainer=e}},(0,i.jsx)("div",{className:"d-flex"},(0,i.jsx)("div",{className:"d-flex"},(0,i.jsx)("button",{onClick:this.toggleIsSelectActive,className:(0,i.classNames)("esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center",{active:this.state.isActive}),disabled:!this.state.sketcheInitialized},(0,i.jsx)(l.Icon,{width:16,height:16,icon:this.getSelectToolIcon()})),(0,i.jsx)("button",{onClick:this.toggleSelectTypePopup,style:{width:18},className:(0,i.classNames)("esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center",{active:this.state.isShowSelectTypePopup}),disabled:!this.state.sketcheInitialized},(0,i.jsx)(l.Icon,{width:8,height:8,icon:f}))),(0,i.jsx)("button",{className:"select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0",ref:e=>{this.selectResultContainer=e},onClick:this.clearSelect,disabled:!this.state.sketcheInitialized},(0,i.jsx)(l.Icon,{width:16,height:16,icon:V})),(0,i.jsx)(l.Popper,{css:this.getCSSStyle(),reference:this.btnContainer,open:this.state.isShowSelectTypePopup,placement:"bottom-start",toggle:this.toggleSelectTypePopup},(0,i.jsx)("div",{className:"p-4 content-bg",style:{display:"flex",flexDirection:"column"}},(0,i.jsx)("div",{className:"content-title"},this.props.intl.formatMessage({id:"SelectionTool",defaultMessage:l.defaultMessages.SelectionTool})),(0,i.jsx)("div",{className:"mt-2 mb-2"},(0,i.jsx)("div",{className:"d-flex mb-2"},[{toolType:C.Rectangle,selectType:"Rectangle",icon:U,title:this.props.intl.formatMessage({id:"SelectionToolRectangle",defaultMessage:l.defaultMessages.SelectionToolRectangle})},{toolType:C.Polygon,selectType:"Lasso",icon:Q,title:this.props.intl.formatMessage({id:"SelectionToolLasso",defaultMessage:l.defaultMessages.SelectionToolLasso})},{toolType:C.Circle,selectType:"Circle",icon:Y,title:this.props.intl.formatMessage({id:"SelectionToolCircle",defaultMessage:l.defaultMessages.SelectionToolCircle})},{toolType:C.Polyline,selectType:"Line",icon:P,title:this.props.intl.formatMessage({id:"SelectionToolLine",defaultMessage:l.defaultMessages.SelectionToolLine})},{toolType:C.Point,selectType:"Point",icon:R,title:this.props.intl.formatMessage({id:"SelectionToolPoint",defaultMessage:l.defaultMessages.SelectionToolPoint})}].filter(((e,t)=>{var i;return!(null===(i=this.props.availableTools)||void 0===i?void 0:i.length)||this.props.availableTools.includes(e.toolType)})).map(((e,t)=>(0,i.jsx)("div",{key:t,className:(0,i.classNames)("select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover",{"select-tool-type-choosed":this.state.currentSelectType===e.selectType}),onClick:()=>{this.setCurrentSelectType(e.selectType)}},(0,i.jsx)(l.Icon,{width:16,height:16,icon:e.icon}),(0,i.jsx)("div",{className:"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center",title:e.title},e.title)))))),this.props.availableSelectionMode?(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)("div",{className:"content-title"},this.props.intl.formatMessage({id:"SelectionMode",defaultMessage:l.defaultMessages.SelectionMode})),(0,i.jsx)("div",null,(0,i.jsx)("div",{className:"d-flex align-items-center mt-2"},(0,i.jsx)(l.Radio,{style:{cursor:"pointer"},checked:"intersects"===this.state.spatialRelationship,onChange:()=>{this.setState({spatialRelationship:"intersects"})}}),(0,i.jsx)("label",{className:"m-0 ml-2 content-title",style:{cursor:"pointer"},onClick:()=>{this.setState({spatialRelationship:"intersects"})}},this.props.intl.formatMessage({id:"SelectionWithin",defaultMessage:l.defaultMessages.SelectionWithin}))),(0,i.jsx)("div",{className:"d-flex align-items-center mt-2"},(0,i.jsx)(l.Radio,{style:{cursor:"pointer"},checked:"contains"===this.state.spatialRelationship,onChange:()=>{this.setState({spatialRelationship:"contains"})}}),(0,i.jsx)("label",{className:"m-0 ml-2 content-title",style:{cursor:"pointer"},onClick:()=>{this.setState({spatialRelationship:"contains"})}},this.props.intl.formatMessage({id:"SelectionContain",defaultMessage:l.defaultMessages.SelectionContain}))))):null)))),(this.state.isQuerying||!this.state.sketcheInitialized)&&(0,i.jsx)("div",{className:"select-tool-loader"}))}}const B={Zoom:class extends D{constructor(){super(...arguments),this.toolName="Zoom"}getTitle(){return this.props.intl.formatMessage({id:"ZoomLabel",defaultMessage:l.defaultMessages.ZoomLabel})}getIcon(){return null}getExpandPanel(){return i.React.createElement(y,{jimuMapView:this.props.jimuMapView})}},Home:class extends D{constructor(){super(...arguments),this.toolName="Home",this.getHomeContent=e=>i.React.createElement(j,{jimuMapView:this.props.jimuMapView,initialMapState:e})}getTitle(){return this.props.intl.formatMessage({id:"HomeLabel",defaultMessage:l.defaultMessages.HomeLabel})}getIcon(){return null}getExpandPanel(){return i.React.createElement(m.Consumer,null,(({initialMapState:e})=>this.getHomeContent(e)))}},Navigation:class extends D{constructor(){super(...arguments),this.toolName="Navigation"}getTitle(){return"Navigation"}getIcon(){return null}getExpandPanel(){return i.React.createElement(T,{jimuMapView:this.props.jimuMapView})}},Locate:class extends D{constructor(){super(...arguments),this.toolName="Locate"}getTitle(){return"Locate"}getIcon(){return null}getExpandPanel(){return i.React.createElement(I,{jimuMapView:this.props.jimuMapView})}},Compass:class extends D{constructor(){super(...arguments),this.toolName="Compass"}getTitle(){return this.props.intl.formatMessage({id:"CompassLabel",defaultMessage:l.defaultMessages.CompassLabel})}getIcon(){return null}getExpandPanel(){return i.React.createElement(S,{jimuMapView:this.props.jimuMapView})}},Search:class extends D{constructor(){super(...arguments),this.toolName="Search"}getTitle(){return this.props.intl.formatMessage({id:"SearchLabel",defaultMessage:l.defaultMessages.SearchLabel})}getIcon(){return{icon:M(50516)}}getExpandPanel(){return this.props.isMobile?(0,i.jsx)("div",{style:{minHeight:"32px",position:"relative",width:"100%"}},(0,i.jsx)(w,{jimuMapView:this.props.jimuMapView})):(0,i.jsx)("div",{style:{minWidth:"250px",minHeight:"32px",position:"relative"}},(0,i.jsx)(w,{jimuMapView:this.props.jimuMapView}))}},Layers:class extends D{constructor(e){super(e),this.toolName="Layers",this.handleTabIndexChange=e=>{this.setState({activeTabIndex:e})},this.handleKeyDown=(e,t)=>{"Enter"!==e.key&&" "!==e.key||this.handleTabIndexChange(t)},this.state={activeTabIndex:0}}getTitle(){return this.props.intl.formatMessage({id:"LayersLabel",defaultMessage:l.defaultMessages.LayersLabel})}getIcon(){return{icon:M(41273)}}getExpandPanel(){return i.React.createElement("div",{style:{width:this.props.isMobile?"100%":"250px",minHeight:"32px",position:"relative"},className:(0,i.classNames)({"exbmap-ui-pc-expand-maxheight":!this.props.isMobile})},i.React.createElement(l.Nav,{tabs:!0},i.React.createElement(l.NavItem,null,i.React.createElement(l.NavLink,{active:0===this.state.activeTabIndex,onClick:()=>{this.handleTabIndexChange(0)},onKeyDown:e=>{this.handleKeyDown(e,0)}},this.props.intl.formatMessage({id:"LayersLabelLayer",defaultMessage:l.defaultMessages.LayersLabelLayer}))),i.React.createElement(l.NavItem,null,i.React.createElement(l.NavLink,{active:1===this.state.activeTabIndex,onClick:()=>{this.handleTabIndexChange(1)},onKeyDown:e=>{this.handleKeyDown(e,1)}},this.props.intl.formatMessage({id:"LayersLabelLegend",defaultMessage:l.defaultMessages.LayersLabelLegend})))),i.React.createElement("div",{className:"mt-1"}),0===this.state.activeTabIndex&&i.React.createElement(z,{jimuMapView:this.props.jimuMapView}),1===this.state.activeTabIndex&&i.React.createElement(O,{jimuMapView:this.props.jimuMapView}))}},BaseMap:class extends D{constructor(){super(...arguments),this.toolName="BaseMap"}getTitle(){return this.props.intl.formatMessage({id:"BaseMapLabel",defaultMessage:l.defaultMessages.BaseMapLabel})}getIcon(){return{icon:M(12818)}}getExpandPanel(){return i.React.createElement(x,{jimuMapView:this.props.jimuMapView,isMobile:this.props.isMobile})}},Measure:class extends D{constructor(e){super(e),this.toolName="Measure",this.measureModules2D=[{name:"Line",title:"Line",path:"DistanceMeasurement2D",src:M(83149)},{name:"Polygon",title:"Polygon",path:"AreaMeasurement2D",src:M(62263)}],this.measureModules3D=[{name:"Line",title:"Line",path:"DirectLineMeasurement3D",src:M(83149)},{name:"Polygon",title:"Polygon",path:"AreaMeasurement3D",src:M(62263)}],this.handleMeasurceInstanceCreated=(e,t)=>{const i=this.state.measureInstances;i[t]=e,this.setState({measureInstances:i})},this.onTabClick=e=>{if(this.state.activeTabIndex===e);else{this.setState({activeTabIndex:e});for(let t=0;t<this.state.measureInstances.length;t++)t!==e&&this.state.measureInstances[t]&&(this.state.measureInstances[t].visible=!1),t===e&&this.state.measureInstances[t]&&(this.state.measureInstances[t].visible=!0)}},this.handleKeyDown=(e,t)=>{"Enter"!==e.key&&" "!==e.key||this.onTabClick(t)},this.onClosePanel=()=>{for(let e=0;e<this.state.measureInstances.length;e++)this.state.measureInstances[e]&&(this.state.measureInstances[e].visible=!1)},this.onShowPanel=()=>{for(let e=0;e<this.state.measureInstances.length;e++)e!==this.state.activeTabIndex&&this.state.measureInstances[e]&&(this.state.measureInstances[e].visible=!1),e===this.state.activeTabIndex&&this.state.measureInstances[e]&&(this.state.measureInstances[e].visible=!0)},this.state={activeTabIndex:0,measureInstances:[null,null]}}getTitle(){return this.props.intl.formatMessage({id:"MeasureLabel",defaultMessage:l.defaultMessages.MeasureLabel})}getIcon(){return{icon:M(38317)}}focusDefaultElement(){var e;null===(e=this.activeTabRef)||void 0===e||e.focus()}destroy(){for(let e=0;e<this.state.measureInstances.length;e++)this.state.measureInstances[e]&&!this.state.measureInstances[e].destroyed&&this.state.measureInstances[e].destroy()}getExpandPanel(){return"2d"===this.props.jimuMapView.view.type?i.React.createElement("div",{style:{width:this.props.isMobile?"100%":"",position:"relative"},className:(0,i.classNames)({"exbmap-ui-pc-expand-maxheight":!this.props.isMobile})},i.React.createElement(l.Nav,{tabs:!0},this.measureModules2D.map(((e,t)=>{const s=0===t?"drawModeLine":"drawModePolygon";return i.React.createElement(l.NavItem,{key:t},i.React.createElement(l.NavLink,{active:this.state.activeTabIndex===t,ref:e=>{this.state.activeTabIndex===t&&(this.activeTabRef=e)},onClick:()=>{this.onTabClick(t)},onKeyDown:e=>{this.handleKeyDown(e,t)},"aria-label":this.props.intl.formatMessage({id:`${s}`,defaultMessage:l.defaultMessages[s]})},i.React.createElement(l.Icon,{width:16,height:16,className:"m-0",icon:e.src})))}))),i.React.createElement(b,{activeTabIndex:this.state.activeTabIndex,jimuMapView:this.props.jimuMapView,measureModule:this.measureModules2D[this.state.activeTabIndex],measureInstance:this.state.measureInstances[this.state.activeTabIndex],onMeasurceInstanceCreated:this.handleMeasurceInstanceCreated})):"3d"===this.props.jimuMapView.view.type?i.React.createElement("div",{style:{width:this.props.isMobile?"100%":"",position:"relative"},className:(0,i.classNames)({"exbmap-ui-pc-expand-maxheight":!this.props.isMobile})},i.React.createElement(l.Nav,{tabs:!0},this.measureModules3D.map(((e,t)=>{const s=0===t?"drawModeLine":"drawModePolygon";return i.React.createElement(l.NavItem,{key:t},i.React.createElement(l.NavLink,{active:this.state.activeTabIndex===t,ref:e=>{this.state.activeTabIndex===t&&(this.activeTabRef=e)},onClick:()=>{this.onTabClick(t)},onKeyDown:e=>{this.handleKeyDown(e,t)},"aria-label":this.props.intl.formatMessage({id:`${s}`,defaultMessage:l.defaultMessages[s]})},i.React.createElement(l.Icon,{width:16,height:16,className:"m-0",icon:e.src})))}))),i.React.createElement(b,{activeTabIndex:this.state.activeTabIndex,jimuMapView:this.props.jimuMapView,measureModule:this.measureModules3D[this.state.activeTabIndex],measureInstance:this.state.measureInstances[this.state.activeTabIndex],onMeasurceInstanceCreated:this.handleMeasurceInstanceCreated})):null}},MapSwitch:class extends D{constructor(){super(...arguments),this.toolName="MapSwitch",this.switchMap=()=>{},this.handleKeyDown=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(null==e||e.preventDefault(),t())},this.getContent=(e,t,s,o,a)=>{const r=()=>{(0,i.getAppStore)().dispatch(i.appActions.requestAutoControlMapWidget(a,a)),o()};if(e){if(this.props.isMobile)return(0,i.jsx)("div",{className:"exbmap-ui-tool esri-widget--button",onClick:r,style:{marginTop:"10px"},role:"button",tabIndex:0,onKeyDown:e=>{this.handleKeyDown(e,r)},"aria-label":this.props.intl.formatMessage({id:"SwitchMap",defaultMessage:l.defaultMessages.SwitchMap})},(0,i.jsx)(l.Icon,{width:16,height:16,className:"exbmap-ui-tool-icon",icon:this.getIcon().icon}));{let e=null;return e=window.jimuConfig.isBuilder?(0,i.getAppStore)().getState().appStateInBuilder.appConfig.dataSources:(0,i.getAppStore)().getState().appConfig.dataSources,(0,i.jsx)("div",{css:this.getStyle(),onClick:r,role:"button",tabIndex:0,onKeyDown:e=>{this.handleKeyDown(e,r)},"aria-label":this.props.intl.formatMessage({id:"SwitchMap",defaultMessage:l.defaultMessages.SwitchMap})},(0,i.jsx)("div",{title:e[t[0]]?e[t[0]].label:null,className:(0,i.classNames)("mapthumb-item",{front:t[0]!==s},{back:t[0]===s})},(0,i.jsx)(n,{mapItemId:e[t[0]]?e[t[0]].itemId:null,portUrl:e[t[0]]?e[t[0]].portalUrl:null})),(0,i.jsx)("div",{title:e[t[1]]?e[t[1]].label:null,className:(0,i.classNames)("mapthumb-item",{front:t[1]!==s},{back:t[1]===s})},(0,i.jsx)(n,{mapItemId:e[t[1]]?e[t[1]].itemId:null,portUrl:e[t[1]]?e[t[1]].portalUrl:null})))}}return null},this.getIconContent=(e,t,i,s)=>e?(this.switchMap=s,super.render()):null}static getIsNeedSetting(){return!1}getStyle(){return i.css`
      width: ${i.polished.rem(68)};
      height: ${i.polished.rem(52)};
      cursor: pointer;
      position: relative;

      .mapthumb-item {
        position: absolute;
        width: ${i.polished.rem(64)};
        height: ${i.polished.rem(48)};
        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;
      }

      .front {
        z-index: 1;
        bottom: 0;
        left: 0;
      }

      .back {
        z-index: 0;
        top: 0;
        right: 0;
      }
    `}getTitle(){return"MapSwitch"}getIcon(){return{icon:M(42247),onIconClick:()=>{this.switchMap()}}}getExpandPanel(){return this.props.toolJson.isOnlyExpanded?(0,i.jsx)(m.Consumer,null,(({isShowMapSwitchBtn:e,dataSourceIds:t,activeDataSourceId:i,switchMap:s,mapComponentId:o})=>this.getContent(e,t,i,s,o))):null}render(){return this.props.toolJson.isOnlyExpanded?super.render():(0,i.jsx)(m.Consumer,null,(({isShowMapSwitchBtn:e,dataSourceIds:t,activeDataSourceId:i,switchMap:s})=>this.getIconContent(e,t,i,s)))}},FullScreen:class extends D{constructor(){super(...arguments),this.toolName="Fullscreen",this.fullScreenMap=()=>{},this.getContent=e=>(this.fullScreenMap=e,super.render())}getTitle(){return this.props.intl.formatMessage({id:"FullScreenLabel",defaultMessage:l.defaultMessages.FullScreenLabel})}getIcon(){return{icon:M(90438),onIconClick:e=>{this.fullScreenMap()}}}getExpandPanel(){return null}render(){return i.React.createElement(m.Consumer,null,(({fullScreenMap:e})=>this.getContent(e)))}},ScaleBar:class extends D{constructor(){super(...arguments),this.toolName="ScaleBar"}getTitle(){return"ScaleBar"}getIcon(){return null}getExpandPanel(){return i.React.createElement(L,{jimuMapView:this.props.jimuMapView})}},Attribution:class extends D{constructor(){super(...arguments),this.toolName="Attribution"}static getIsNeedSetting(){return!1}getTitle(){return"Attribution"}getIcon(){return null}getExpandPanel(){return i.React.createElement(A,{jimuMapView:this.props.jimuMapView})}},Select:class extends D{constructor(e){super(e),this.toolName="Select",this.state={}}getTitle(){return this.props.intl.formatMessage({id:"SelectLabel",defaultMessage:l.defaultMessages.SelectLabel})}getIcon(){return{icon:M(46638)}}getExpandPanel(){return(0,i.jsx)(G,{intl:this.props.intl,jimuMapView:this.props.jimuMapView})}}},F=B;class H extends p{render(){const e=F[this.props.toolName];return e?(0,i.jsx)("div",{className:(0,i.classNames)(this.props.className,"exbmap-ui exbmap-ui-tool-shell divitem",this.props.layoutConfig.elements[this.props.toolName].className,{"exbmap-ui-hidden-element":this.props.isHidden,"mb-0 mr-0":this.props.isLastElement,"rounded-pill":["Compass"].includes(this.props.toolName)})},(0,i.jsx)(e,{ref:"baseToolInstance",toolJson:this.props.layoutConfig.elements[this.props.toolName],toolName:this.props.toolName,isMobile:this.props.isMobile,jimuMapView:this.props.jimuMapView,activeToolName:this.props.activeToolName,onActiveToolNameChange:this.props.onActiveToolNameChange,intl:this.props.intl})):this.props.isMobile?(0,i.jsx)("span",null):null}}class W extends p{getStyle(){const e=this.props.layoutConfig.layout[this.props.groupName]&&this.props.layoutConfig.layout[this.props.groupName].position,t=this.props.layoutConfig.elements[this.props.groupName].direction;return i.css`
      position: ${e?"absolute":"relative"};
      top: ${e?e.top:null}px;
      bottom: ${e?e.bottom:null}px;
      left: ${e?e.left:null}px;
      right: ${e?e.right:null}px;
      display: flex;
      flex-flow: ${"vertical"===t?"column":"row"};
      align-items: flex-start;

      > .exbmap-ui + .exbmap-ui {
        margin-top: ${"vertical"===t?"10px":0};
        margin-left: ${"horizontal"===t?"10px":0};
      }

      .exbmap-ui-group-expand-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .expand-mobile-panel {
        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;
        border-radius: 10px 10px 0px 0px;
      }

      .expand-mobile-panel-transition {
        transition: height 0.3s;
      }

      .expand-mobile-panel-touch-container {
        top: 0;
        position: absolute;
        width: 100%;
        height: 31px;
      }

      .expand-mobile-panel-bar {
        width: 36px;
        height: 4px;
        background-color: #434343;
        border-radius: 2px;
      }
      `}constructor(e){super(e),this.moveY=0,this.startY=0,this.sliding=!1,this.startDrag=!1,this.currentBottomPanelHeight=0,this.thumbMapElementNames=["FullScreen","Zoom","MapSwitch"],this.checkIsHiddenElement=e=>!!this.props.hiddenElementNames&&!!this.props.hiddenElementNames.includes(e),this.start=(e,t)=>{if(this.startDrag=!0,"touch"===t){this.moveY=0;const t=e.touches[0];this.startY=t.clientY}"mouse"===t&&(this.moveY=0,this.startY=e.clientY),document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).classList.remove("expand-mobile-panel-transition")},this.move=(e,t)=>{if("touch"===t){this.sliding=!0;const t=e.touches[0];this.moveY=-1*(t.clientY-this.startY)}if("mouse"===t&&this.startDrag&&(this.sliding=!0,this.moveY=-1*(e.clientY-this.startY)),"mouse"===t&&!this.startDrag)return;let i=150;this.state.bottomPanelHeight+this.moveY>i&&(i=this.state.bottomPanelHeight+this.moveY),document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).style.height=`${i}px`,this.currentBottomPanelHeight=i;const s=this.state.widgetHeight-i;s>360&&this.props.onSetHiddenElementNames([]),s>200&&s<=360&&this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage1),s>54&&s<=200&&this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage2),s<54&&this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage3)},this.end=(e,t)=>{if("mouse"!==t||this.startDrag){if(this.startDrag=!1,this.sliding=!1,document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).classList.add("expand-mobile-panel-transition"),"touch"===t&&Math.abs(this.moveY)<10)return document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).style.height=`${this.state.bottomPanelHeight}px`,void(this.currentBottomPanelHeight=this.state.bottomPanelHeight);if(this.moveY>=0){let e=0;e=this.currentBottomPanelHeight>=150&&this.currentBottomPanelHeight<.6*this.state.widgetHeight?.6*this.state.widgetHeight:this.currentBottomPanelHeight>=.6*this.state.widgetHeight&&this.currentBottomPanelHeight<this.state.widgetHeight?this.state.widgetHeight-20:150,this.setState({bottomPanelHeight:e},(()=>{this.checkResponsive()})),this.currentBottomPanelHeight=e}else{let e=0;e=this.currentBottomPanelHeight>150&&this.currentBottomPanelHeight<.6*this.state.widgetHeight?150:this.currentBottomPanelHeight>=.6*this.state.widgetHeight&&this.currentBottomPanelHeight<this.state.widgetHeight?.6*this.state.widgetHeight:150,this.setState({bottomPanelHeight:e},(()=>{this.checkResponsive()})),this.currentBottomPanelHeight=e}}},this.checkResponsive=()=>{if(this.state.isThumbMap)return void this.props.onSetHiddenElementNames([]);if(0===this.state.bottomPanelHeight)return this.props.onActiveToolNameChange(null),void this.props.onSetHiddenElementNames([]);const e=this.state.widgetHeight-this.state.bottomPanelHeight;e>360&&this.props.onSetHiddenElementNames([]),e>200&&e<=360&&this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage1),e>54&&e<=200&&this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage2),e<54&&this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage3)},this.onResize=(e,t)=>{e<320&&t<380?this.setState({widgetWidth:e,widgetHeight:t,isThumbMap:!0},(()=>{this.checkResponsive()})):this.setState({widgetWidth:e,widgetHeight:t,isThumbMap:!1},(()=>{this.checkResponsive()}))},this.returnNullNode=e=>this.props.isMobile?(0,i.jsx)("span",{key:e}):null,this.checkIsLastElement=(e,t)=>{const i=t.toolName,s=this.props.layoutConfig,o=s.layout[e.groupName].children,a=o.indexOf(i);if(a===o.length-1)return!0;if(a<o.length-1){let e=!0;for(let t=a+1;t<o.length;t++){const i=o[t];if("GROUP"!==s.elements[o[t]].type&&(!F[i].getIsNeedSetting()||this.props.toolConfig&&this.props.toolConfig[`can${i}`]||s.lockToolNames&&s.lockToolNames.includes(i))){e=!1;break}}return e}},this.getGroupContent=e=>{if(e){const t=e.layout[this.props.groupName]&&e.layout[this.props.groupName].children;return this.checkIsShowGroup(e,t)?(0,i.jsx)("div",{css:this.getStyle(),className:(0,i.classNames)("exbmap-ui exbmap-ui-group",this.props.className,{"exbmap-ui-hidden-element":this.props.isHidden}),style:this.props.style},t.map(((t,s)=>e.elements[t]?"GROUP"===e.elements[t].type?(0,i.jsx)(W,{isHidden:this.checkIsHiddenElement(t),className:e.elements[t].className,style:e.elements[t].style,key:s,layoutConfig:e,toolConfig:this.props.toolConfig,isMobile:this.props.isMobile,intl:this.props.intl,jimuMapView:this.props.jimuMapView,groupName:t,activeToolName:this.props.activeToolName,hiddenElementNames:this.props.hiddenElementNames,onActiveToolNameChange:this.props.onActiveToolNameChange,isThumbMap:this.props.isMainGroup?this.state.isThumbMap:this.props.isThumbMap}):"TOOL"===e.elements[t].type&&(!F[t].getIsNeedSetting()||this.props.toolConfig&&this.props.toolConfig[`can${t}`]||e.lockToolNames&&e.lockToolNames.includes(t))?(0,i.jsx)(H,{isHidden:this.checkIsHiddenElement(t),key:s,layoutConfig:e,activeToolName:this.props.activeToolName,toolConfig:this.props.toolConfig,jimuMapView:this.props.jimuMapView,toolName:t,onActiveToolNameChange:this.props.onActiveToolNameChange,intl:this.props.intl,isMobile:this.props.isMobile,isLastElement:this.checkIsLastElement(e.elements[this.props.groupName],e.elements[t])}):this.returnNullNode(s):this.returnNullNode(s))),this.props.isMobile&&this.props.isMainGroup&&(0,i.jsx)(i.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}),this.props.isMainGroup&&(0,i.jsx)("div",{className:"exbmap-ui w-100",style:{position:"relative",pointerEvents:"auto",overflow:"hidden",touchAction:"none",display:!this.props.isMobile||this.state.isThumbMap||this.props.isThumbMap?"none":"block"},ref:e=>{e&&e.addEventListener("touchmove",(e=>{e.preventDefault()}),{passive:!1})}},(0,i.jsx)("div",{id:`${this.props.jimuMapView.id}-bottom-panel`,className:"exbmap-ui w-100 expand-mobile-panel expand-mobile-panel-transition",style:{overflow:"hidden",pointerEvents:"auto",position:"relative",backgroundColor:"#fff",touchAction:"none",height:`${this.sliding?this.currentBottomPanelHeight:this.state.bottomPanelHeight}px`}}),this.props.activeToolName&&(0,i.jsx)("div",{style:{touchAction:"none"},className:"expand-mobile-panel-touch-container d-flex justify-content-center align-items-center",onMouseDown:e=>{this.start(e,"mouse")},onMouseMove:e=>{this.move(e,"mouse")},onMouseLeave:e=>{this.end(e,"mouse")},onMouseUp:e=>{this.end(e,"mouse")},onTouchStart:e=>{this.start(e,"touch")},onTouchMove:e=>{this.move(e,"touch")},onTouchEnd:e=>{this.end(e,"touch")}},(0,i.jsx)("div",{className:"expand-mobile-panel-bar"})))):this.returnNullNode()}return this.returnNullNode()},this.checkIsShowGroup=(e,t)=>{if(t&&0!==t.length){const i=[];this.findAllToolNames(e,t,i);let s=!1;for(let t=0;t<i.length;t++)if(this.props.toolConfig[`can${i[t]}`]||!F[i[t]].getIsNeedSetting()||e.lockToolNames&&e.lockToolNames.includes(i[t])){s=!0;break}return s}return!1},this.findAllToolNames=(e,t,i)=>{if(t&&0!==t.length)for(let s=0;s<t.length;s++)if("GROUP"===e.elements[t[s]].type){const o=e.elements[t[s]].groupName;this.findAllToolNames(e,e.layout[o]&&e.layout[o].children,i)}else i.push(t[s])},this.state={bottomPanelHeight:0,isThumbMap:!!this.props.isMobile}}componentDidUpdate(e,t){if(this.props.activeToolName!==e.activeToolName){if(this.props.activeToolName&&e.activeToolName)return;this.props.activeToolName&&!e.activeToolName&&this.props.isMobile&&this.props.isMainGroup&&(this.setState({bottomPanelHeight:150},(()=>{this.checkResponsive()})),this.currentBottomPanelHeight=150),!this.props.activeToolName&&e.activeToolName&&this.props.isMobile&&this.props.isMainGroup&&(this.setState({bottomPanelHeight:0},(()=>{this.checkResponsive()})),this.currentBottomPanelHeight=0)}}render(){return this.getGroupContent(this.props.layoutConfig)}}class J extends i.React.PureComponent{constructor(e){super(e),this.getMaxHeightForPcExpand=e=>{if(e){if(e<65)return null;{const t=e-65;return t<300?t:300}}return null},this.handleActiveNameChange=e=>{this.setState({activeToolName:e})},this.handSetHiddenElementNames=e=>{this.setState({hiddenElementNames:e})},this.getLayoutContent=e=>e&&this.props.toolConfig?(0,i.jsx)("div",{css:this.getStyle()},Object.keys(e.layout).map(((t,s)=>e.elements[t]&&"GROUP"===e.elements[t].type&&e.layout[t].position?(0,i.jsx)(W,{className:e.elements[t].className,style:e.elements[t].style,isResponsive:e.elements[t].isResponsive,isMobile:this.props.isMobile,isMainGroup:!0,key:s,layoutConfig:e,toolConfig:this.props.toolConfig,onActiveToolNameChange:this.handleActiveNameChange,jimuMapView:this.props.jimuMapView,groupName:t,activeToolName:this.state.activeToolName,hiddenElementNames:e.mobileResponsiveStrategy&&this.state.hiddenElementNames,intl:this.props.intl,onSetHiddenElementNames:this.handSetHiddenElementNames}):null))):null,this.state={activeToolName:null,toolsContentInMobileExpandPanel:null,hiddenElementNames:[]},this.contentRef=document.createElement("div"),this.contentRef.className="exbmap-ui esri-ui-inner-container exbmap-ui-layout"}getStyle(){return i.css`
      z-index: 0;

      .expand-panel-transition {
        transition: opacity 0.3s, right 0.3s;
      }

      .scale-attribution-xy-group {
        > div:first-of-type:nth-last-of-type(1) {
          width: 100%;
          max-width: 100% !important;
        }
      }

      .exbmap-ui-hidden-element {
        display: none !important;
      }

      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-ui-pc-expand-maxheight {
        max-height: ${this.getMaxHeightForPcExpand(this.props.widgetHeight)}px;
        overflow: auto
      }
      `}componentDidMount(){this.props.jimuMapView&&this.props.jimuMapView.view&&this.props.jimuMapView.view.ui&&this.props.jimuMapView.view.ui.container&&this.props.jimuMapView.view.ui.container.appendChild(this.contentRef)}render(){return this.props.jimuMapView&&this.props.jimuMapView.view&&this.props.jimuMapView.view.ui&&this.props.jimuMapView.view.ui.container?(0,i.jsx)("div",null,i.ReactDOM.createPortal(this.getLayoutContent(this.props.layoutConfig),this.contentRef)):null}}const Z=[{elements:{navigator:{type:"GROUP",groupName:"navigator",direction:"vertical"},interact:{type:"GROUP",groupName:"interact",direction:"vertical",isResponsive:!0},bottom:{type:"GROUP",groupName:"bottom",direction:"vertical",className:"w-100"},"bottom-line1":{type:"GROUP",groupName:"bottom-line1",direction:"horizontal",className:"d-flex align-items-center justify-content-between w-100 scale-attribution-xy-group",style:{marginBottom:0}},"bottom-line2":{type:"GROUP",groupName:"bottom-line2",direction:"horizontal",className:"d-flex align-items-center justify-content-between w-100",style:{paddingLeft:"15px",paddingRight:"15px",marginBottom:"10px"}},attributionGroup:{type:"GROUP",groupName:"attributionGroup",direction:"horizontal",style:{maxWidth:"60%"}},Zoom:{type:"TOOL",toolName:"Zoom",isOnlyExpanded:!0,isShowIconTitle:!1},Home:{type:"TOOL",toolName:"Home",isOnlyExpanded:!0,isShowIconTitle:!1},Compass:{type:"TOOL",toolName:"Compass",isOnlyExpanded:!0,isShowIconTitle:!1},Navigation:{type:"TOOL",toolName:"Navigation",isOnlyExpanded:!0,isShowIconTitle:!1},Locate:{type:"TOOL",toolName:"Locate",isOnlyExpanded:!0,isShowIconTitle:!1},Layers:{type:"TOOL",toolName:"Layers",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},BaseMap:{type:"TOOL",toolName:"BaseMap",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},Measure:{type:"TOOL",toolName:"Measure",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},MapSwitch:{type:"TOOL",toolName:"MapSwitch",isOnlyExpanded:!0,isShowIconTitle:!0},FullScreen:{type:"TOOL",toolName:"FullScreen",isOnlyExpanded:!1,isShowIconTitle:!0},ScaleBar:{type:"TOOL",toolName:"ScaleBar",isOnlyExpanded:!0,isShowIconTitle:!1},Attribution:{type:"TOOL",toolName:"Attribution",isOnlyExpanded:!0,isShowIconTitle:!1,className:"w-100"},Search:{type:"TOOL",toolName:"Search",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"}},layout:{navigator:{children:["Zoom","Home","Navigation","Locate","Compass"],position:{top:15,left:15}},interact:{children:["Search","Layers","BaseMap","Measure"],position:{top:15,right:15}},"bottom-line1":{children:["ScaleBar","attributionGroup"]},"bottom-line2":{children:["MapSwitch","FullScreen"]},bottom:{children:["bottom-line2","bottom-line1"],position:{bottom:0,left:0}},attributionGroup:{children:["Attribution"]}}},{elements:{navigator:{type:"GROUP",groupName:"navigator",direction:"vertical"},interact:{type:"GROUP",groupName:"interact",direction:"horizontal",isResponsive:!0},fullScreenGroup:{type:"GROUP",groupName:"fullScreenGroup",direction:"horizontal"},bottom:{type:"GROUP",groupName:"bottom",direction:"vertical",className:"w-100"},"bottom-line1":{type:"GROUP",groupName:"bottom-line1",direction:"horizontal",className:"d-flex align-items-center justify-content-between w-100 scale-attribution-xy-group",style:{marginBottom:0}},"bottom-line2":{type:"GROUP",groupName:"bottom-line2",direction:"horizontal",className:"d-flex align-items-end justify-content-between w-100",style:{paddingLeft:"15px",paddingRight:"15px",marginBottom:"10px"}},attributionGroup:{type:"GROUP",groupName:"attributionGroup",direction:"horizontal",style:{maxWidth:"60%"},className:"attibute-group"},Zoom:{type:"TOOL",toolName:"Zoom",isOnlyExpanded:!0,isShowIconTitle:!1},Home:{type:"TOOL",toolName:"Home",isOnlyExpanded:!0,isShowIconTitle:!1},Compass:{type:"TOOL",toolName:"Compass",isOnlyExpanded:!0,isShowIconTitle:!1},Navigation:{type:"TOOL",toolName:"Navigation",isOnlyExpanded:!0,isShowIconTitle:!1},Locate:{type:"TOOL",toolName:"Locate",isOnlyExpanded:!0,isShowIconTitle:!1},Layers:{type:"TOOL",toolName:"Layers",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"},BaseMap:{type:"TOOL",toolName:"BaseMap",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"},Measure:{type:"TOOL",toolName:"Measure",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"},MapSwitch:{type:"TOOL",toolName:"MapSwitch",isOnlyExpanded:!0,isShowIconTitle:!0},FullScreen:{type:"TOOL",toolName:"FullScreen",isOnlyExpanded:!1,isShowIconTitle:!0},ScaleBar:{type:"TOOL",toolName:"ScaleBar",isOnlyExpanded:!0,isShowIconTitle:!1},Attribution:{type:"TOOL",toolName:"Attribution",isOnlyExpanded:!0,isShowIconTitle:!1,className:"w-100"},Search:{type:"TOOL",toolName:"Search",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"bottom"}},layout:{navigator:{children:["Compass","Locate","Navigation","Zoom","Home"]},interact:{children:["Search","Layers","BaseMap","Measure"],position:{top:15,left:15}},fullScreenGroup:{children:["FullScreen"],position:{top:15,right:15}},"bottom-line1":{children:["ScaleBar","attributionGroup"]},"bottom-line2":{children:["MapSwitch","navigator"]},bottom:{children:["bottom-line2","bottom-line1"],position:{bottom:0,left:0}},attributionGroup:{children:["Attribution"]}}}],_=[{elements:{mainGroup:{type:"GROUP",groupName:"mainGroup",direction:"vertical",style:{position:"absolute"},className:"d-flex flex-column"},topGroup:{type:"GROUP",groupName:"topGroup",direction:"horizontal",className:"d-flex w-100 align-items-center justify-content-between",style:{padding:"10px"}},midGroup:{type:"GROUP",groupName:"midGroup",direction:"horizontal",className:"flex-grow-1 d-flex w-100 justify-content-between"},"midGroup-left":{type:"GROUP",groupName:"midGroup-left",direction:"vertical",className:"h-100 d-flex flex-column-reverse",style:{paddingLeft:"10px",paddingRight:"10px",paddingBottom:"10px"}},"midGroup-left-content":{type:"GROUP",groupName:"midGroup-left-content",direction:"vertical"},"midGroup-right":{type:"GROUP",groupName:"midGroup-right",direction:"vertical",className:"h-100 d-flex flex-column justify-content-between",style:{paddingRight:"10px",paddingLeft:"10px",paddingBottom:"10px"}},"midGroup-right-content-top":{type:"GROUP",groupName:"midGroup-right-content-top",direction:"vertical"},"midGroup-right-content-bottom":{type:"GROUP",groupName:"midGroup-right-content-bottom",direction:"vertical"},bottomGroup:{type:"GROUP",groupName:"bottomGroup",direction:"vertical"},Search:{type:"TOOL",toolName:"Search",isOnlyExpanded:!0,isShowIconTitle:!1,className:"flex-grow-1"},FullScreen:{type:"TOOL",toolName:"FullScreen",isOnlyExpanded:!1,isShowIconTitle:!0},Locate:{type:"TOOL",toolName:"Locate",isOnlyExpanded:!0,isShowIconTitle:!1},Compass:{type:"TOOL",toolName:"Compass",isOnlyExpanded:!0,isShowIconTitle:!1,className:"mb-0"},MapSwitch:{type:"TOOL",toolName:"MapSwitch",isOnlyExpanded:!0,isShowIconTitle:!0},Zoom:{type:"TOOL",toolName:"Zoom",isOnlyExpanded:!0,isShowIconTitle:!1},Home:{type:"TOOL",toolName:"Home",isOnlyExpanded:!0,isShowIconTitle:!1},Layers:{type:"TOOL",toolName:"Layers",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},BaseMap:{type:"TOOL",toolName:"BaseMap",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"},Measure:{type:"TOOL",toolName:"Measure",isOnlyExpanded:!1,isShowIconTitle:!0,panelPlacement:"left-start"}},layout:{mainGroup:{children:["topGroup","midGroup","bottomGroup"],position:{top:0,left:0,bottom:0,right:0}},topGroup:{children:["Search","FullScreen"]},midGroup:{children:["midGroup-left","midGroup-right"]},"midGroup-left":{children:["midGroup-left-content"]},"midGroup-left-content":{children:["Compass","MapSwitch"]},"midGroup-right":{children:["midGroup-right-content-top","midGroup-right-content-bottom"]},"midGroup-right-content-top":{children:["Layers","BaseMap","Measure"]},"midGroup-right-content-bottom":{children:["Zoom","Home","Locate"]}},mobileResponsiveStrategy:{stage1:["midGroup-left-content","midGroup-right-content-bottom"],stage2:["midGroup-left-content","midGroup-right-content-bottom","midGroup-right-content-top"],stage3:["topGroup","midGroup-left-content","midGroup-right-content-bottom","midGroup-right-content-top"]},lockToolNames:[]}];var $=function(e,t,i,s){return new(i||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}))};const q=M(42247);var K;!function(e){e.Loading="LOADING",e.Loadok="LOADOK",e.LoadError="LOADERROR"}(K||(K={}));class X extends i.React.PureComponent{constructor(e){super(e),this.highLightHandles={},this.mapBaseViewEventHandles={},this.dsManager=i.DataSourceManager.getInstance(),this.startRenderMap=()=>{(0,u.loadArcGISJSAPIModules)(["esri/geometry/Extent","esri/Viewpoint"]).then((e=>{[this.Extent,this.Viewpoint]=e,this.setState({isModulesLoaded:!0})}))},this.analysisMapView=()=>$(this,void 0,void 0,(function*(){return this.mapView?yield Promise.resolve(null):this.MapView?(this.initMapView(),yield Promise.resolve(null)):yield(0,u.loadArcGISJSAPIModules)(["esri/geometry/Geometry","esri/webmap/InitialViewProperties","esri/Basemap","esri/layers/TileLayer","esri/views/MapView","esri/WebMap","esri/portal/Portal","esri/portal/PortalItem"]).then((e=>$(this,void 0,void 0,(function*(){return[this.Geometry,this.InitialViewProperties,this.Basemap,this.TileLayer,this.MapView,this.WebMap,this.Portal,this.PortalItem]=e,this.initMapView(),yield Promise.resolve(null)}))))})),this.analysisSceneView=()=>$(this,void 0,void 0,(function*(){return this.sceneView?yield Promise.resolve(null):this.SceneView?(this.initSceneView(),yield Promise.resolve(null)):yield(0,u.loadArcGISJSAPIModules)(["esri/views/SceneView","esri/WebScene","esri/portal/Portal","esri/portal/PortalItem"]).then((e=>$(this,void 0,void 0,(function*(){return[this.SceneView,this.WebScene,this.Portal,this.PortalItem]=e,this.initSceneView(),yield Promise.resolve(null)}))))})),this.generateViewPointFromInitialMapState=e=>"2d"===e.viewType?new this.Viewpoint({targetGeometry:this.Extent.fromJSON(e.extent),rotation:e.rotation}):this.Viewpoint.fromJSON(e.viewPoint),this.cloneMap=e=>{let t=null;const s=e.getDataSourceJson();let o=null;if(s.type===r.DataSourceTypes.WebMap&&(o=this.WebMap),s.type===r.DataSourceTypes.WebScene&&(o=this.WebScene),s.portalUrl){const e=new this.Portal({url:i.portalUrlUtils.getPlatformUrlByOrgUrl(s.portalUrl)});t=new o({portalItem:new this.PortalItem({id:s.itemId,portal:e})})}else t=new o({portalItem:new this.PortalItem({id:s.itemId})});return t},this.getInitViewPointForDefaultWebMap=()=>{const e=this.props.defaultMapInfo&&this.props.defaultMapInfo.defaultExtent;let t=null;return t=this.props.baseWidgetProps.jimuMapConfig.initialMapState&&this.props.baseWidgetProps.jimuMapConfig.initialMapState.viewPoint?this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.jimuMapConfig.initialMapState):new this.Viewpoint({targetGeometry:new this.Extent({xmin:e&&e.xmin,ymin:e&&e.ymin,xmax:e&&e.xmax,ymax:e&&e.ymax,spatialReference:{wkid:e.spatialReference.wkid}})}),t},this.getDefaultWebMap=()=>{const e=this.props.defaultMapInfo&&this.props.defaultMapInfo.defaultExtent;let t=null;return t=new this.Viewpoint({targetGeometry:new this.Extent({xmin:e&&e.xmin,ymin:e&&e.ymin,xmax:e&&e.xmax,ymax:e&&e.ymax,spatialReference:{wkid:e.spatialReference.wkid}})}),new this.WebMap({portalItem:{id:this.props.defaultMapInfo.defaultMapId,portal:{url:(0,i.getAppStore)().getState().portalUrl}},initialViewProperties:new this.InitialViewProperties({spatialReference:e&&e.spatialReference,viewpoint:t})})},this.initMapView=()=>{if(this.extentWatch=null,this.mapView)return;let e;if(this.props.isDefaultMap)e={map:this.getDefaultWebMap(),container:this.mapContainer,viewpoint:this.getInitViewPointForDefaultWebMap(),rotation:this.props.baseWidgetProps.jimuMapConfig.initialMapState&&this.props.baseWidgetProps.jimuMapConfig.initialMapState.rotation};else{const t=this.cloneMap(this.state.mapDs);e=this.props.baseWidgetProps.jimuMapConfig.initialMapState?{map:t,container:this.mapContainer,viewpoint:this.props.baseWidgetProps.jimuMapConfig.initialMapState&&this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.jimuMapConfig.initialMapState)}:{map:t,container:this.mapContainer}}e.timeZone="system",this.mapView=new this.MapView(e),this.mapView.popup.spinnerEnabled=!1,u.MapViewManager.getInstance().createJimuMapView({mapWidgetId:this.props.baseWidgetProps.id,dataSourceId:this.props.dataSourceId,view:this.mapView,mapViewManager:u.MapViewManager.getInstance()}).then((()=>{this.setState({mapLoadStatus:K.Loadok},(()=>{this.props.onMapLoaded(this.props.dataSourceId,K.Loadok)}));const e=`${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`,t=u.MapViewManager.getInstance().getJimuMapViewById(e);t&&(this.props.onJimuMapViewCreated(t),this.setState({mapBaseJimuMapView:t})),this.extentWatch||(this.extentWatch=this.mapView.watch("extent",(e=>{if(!e)return;const t=this.mapView.viewpoint.clone(),s=this.mapView.stationary,o=new i.ExtentChangeMessage(this.props.baseWidgetProps.id,e,t,s);o.addRelatedWidgetId(this.props.baseWidgetProps.id),this.props.onExtentChanged(this.props.dataSourceId,o);const a=this.mapView;this.watchStationaryHandle&&(this.watchStationaryHandle.remove(),this.watchStationaryHandle=null),this.watchStationaryHandle=a.watch("stationary",(()=>{if(a.stationary){const e=a.viewpoint.clone(),t=a.extent.clone(),s=!0,o=new i.ExtentChangeMessage(this.props.baseWidgetProps.id,t,e,s);o.addRelatedWidgetId(this.props.baseWidgetProps.id),this.props.onExtentChanged(this.props.dataSourceId,o)}}))}))),setTimeout((()=>{this.goHome(!1)}),500)})),this.bindMapBaseViewEvent(this.mapView)},this.initSceneView=()=>{if(this.extentWatch=null,this.sceneView)return;const e=this.cloneMap(this.state.mapDs);let t;t=this.props.baseWidgetProps.jimuMapConfig.initialMapState?{map:e,container:this.mapContainer,qualityProfile:"low",popup:{defaultPopupTemplateEnabled:!0},viewpoint:this.props.baseWidgetProps.jimuMapConfig.initialMapState&&this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.jimuMapConfig.initialMapState)}:{map:e,container:this.mapContainer,qualityProfile:"low",popup:{defaultPopupTemplateEnabled:!0}},this.sceneView=new this.SceneView(t),this.sceneView.popup.spinnerEnabled=!1,u.MapViewManager.getInstance().createJimuMapView({mapWidgetId:this.props.baseWidgetProps.id,dataSourceId:this.props.dataSourceId,view:this.sceneView,mapViewManager:u.MapViewManager.getInstance()}),this.sceneView.when((()=>{this.setState({mapLoadStatus:K.Loadok},(()=>{this.props.onMapLoaded(this.props.dataSourceId,K.Loadok)}));const e=`${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`,t=u.MapViewManager.getInstance().getJimuMapViewById(e);t&&(this.props.onJimuMapViewCreated(t),this.setState({mapBaseJimuMapView:t})),this.extentWatch||(this.extentWatch=this.sceneView.watch("extent",(e=>{if(!e)return;const t=this.sceneView,s=t.viewpoint.clone(),o=t.stationary,a=new i.ExtentChangeMessage(this.props.baseWidgetProps.id,e,s,o);a.addRelatedWidgetId(this.props.baseWidgetProps.id),this.props.onExtentChanged(this.props.dataSourceId,a),this.watchStationaryHandle&&(this.watchStationaryHandle.remove(),this.watchStationaryHandle=null),this.watchStationaryHandle=t.watch("stationary",(()=>{if(t.stationary){const e=t.viewpoint.clone(),s=t.extent.clone(),o=!0,a=new i.ExtentChangeMessage(this.props.baseWidgetProps.id,s,e,o);a.addRelatedWidgetId(this.props.baseWidgetProps.id),this.props.onExtentChanged(this.props.dataSourceId,a)}}))}))),setTimeout((()=>{this.goHome(!1)}),500)})),this.bindMapBaseViewEvent(this.sceneView)},this.updateMapView=e=>{e.disablePopUp?(this.mapView.closePopup(),this.mapView.popupEnabled=!1):this.mapView.popupEnabled=!0,this.mapView.ui&&(this.mapView.ui.components=[])},this.updateSceneView=e=>{e.disablePopUp?(this.sceneView.closePopup(),this.sceneView.popupEnabled=!1):this.sceneView.popupEnabled=!0,this.sceneView.ui&&(this.sceneView.ui.components=[])},this.bindMapBaseViewEvent=e=>{e&&(this.mapBaseViewEventHandles["mouse-wheel"]&&(this.mapBaseViewEventHandles["mouse-wheel"].remove(),this.mapBaseViewEventHandles["mouse-wheel"]=null),this.mapBaseViewEventHandles["mouse-wheel"]=e.on("mouse-wheel",(t=>{if(this.props.baseWidgetProps.jimuMapConfig.disableScroll)return t.stopPropagation(),void this.handleDisableWheel();this.props.onViewChanged&&this.props.onViewChanged({dataSourceId:this.props.dataSourceId,viewpoint:e.viewpoint.clone()})})),this.mapBaseViewEventHandles.drag&&(this.mapBaseViewEventHandles.drag.remove(),this.mapBaseViewEventHandles.drag=null),this.mapBaseViewEventHandles.drag=e.on("drag",(()=>{this.props.onViewChanged&&this.props.onViewChanged({dataSourceId:this.props.dataSourceId,viewpoint:e.viewpoint.clone()})})),this.mapBaseViewEventHandles.click&&(this.mapBaseViewEventHandles.click.remove(),this.mapBaseViewEventHandles.click=null),this.mapBaseViewEventHandles.click=e.on("click",(()=>{for(const e in this.highLightHandles)this.highLightHandles[e].remove()})))},this.getMapDsId=()=>this.state.mapDs&&this.state.mapDs.id,this.onDataSourceCreated=e=>{this.setState({mapDs:e,preMapDs:this.state.mapDs})},this.onCreateDataSourceFailed=e=>{console.warn(e),this.setState({mapLoadStatus:K.LoadError,mapDs:null,preMapDs:this.state.mapDs},(()=>{this.props.onMapLoaded(this.props.dataSourceId,K.LoadError),u.MapViewManager.getInstance().createJimuMapView({mapWidgetId:this.props.baseWidgetProps.id,dataSourceId:this.props.dataSourceId,view:null,mapViewManager:u.MapViewManager.getInstance()})}))},this.setViewPoint=e=>{e&&this.state.mapDs&&(this.state.mapDs.type===r.DataSourceTypes.WebMap&&this.mapView&&(this.mapView.viewpoint=e),this.state.mapDs.type===r.DataSourceTypes.WebScene&&this.sceneView&&(this.sceneView.viewpoint=e))},this.getMapLoadStatus=()=>this.state.mapLoadStatus,this.getViewPoint=()=>this.state.mapDs?this.state.mapDs.type===r.DataSourceTypes.WebMap?this.mapView&&this.mapView.viewpoint?this.mapView.viewpoint.clone():null:this.state.mapDs.type===r.DataSourceTypes.WebScene?this.sceneView&&this.sceneView.viewpoint?(this.sceneView.goTo(this.sceneView.viewpoint.camera,{animate:!1}),this.sceneView.viewpoint.clone()):null:void 0:null,this.getViewType=()=>this.state.mapDs&&this.state.mapDs.type,this.goToTilt=e=>{this.sceneView&&this.sceneView.goTo({tilt:e})},this.goHome=e=>$(this,void 0,void 0,(function*(){if(!this.state.mapDs)return yield Promise.resolve(null);const t=this.getMapBaseInitViewPoint();return this.state.mapDs.type===r.DataSourceTypes.WebMap&&this.mapView?this.mapView.goTo(t,{animate:e}):this.state.mapDs.type===r.DataSourceTypes.WebScene&&this.sceneView?this.sceneView.goTo(t,{animate:e}):yield Promise.resolve(null)})),this.getMapBaseInitViewPoint=()=>{var e,t,i;return this.props.isDefaultMap?this.getInitViewPointForDefaultWebMap():this.props.baseWidgetProps.jimuMapConfig.initialMapState?this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.jimuMapConfig.initialMapState):null===(i=null===(t=null===(e=this.state.mapDs.map)||void 0===e?void 0:e.initialViewProperties)||void 0===t?void 0:t.viewpoint)||void 0===i?void 0:i.clone()},this.formatMessage=e=>this.props.baseWidgetProps.intl.formatMessage({id:e,defaultMessage:l.defaultMessages[e]}),this.handleDisableWheel=()=>{this.widgetContainer.style.pointerEvents="none",setTimeout((()=>{this.widgetContainer.style.pointerEvents="auto"}),50)},this.getLayoutConfig=()=>"xsmall"===this.state.widthBreakpoint?_[0]:this.props.baseWidgetProps.jimuMapConfig.layoutIndex?Z[this.props.baseWidgetProps.jimuMapConfig.layoutIndex]:Z[0],this.onResize=(e,t)=>{e&&t&&(e<=545&&e>0?this.setState({widthBreakpoint:"xsmall",widgetHeight:t}):this.setState({widthBreakpoint:"other",widgetHeight:t}))},this.getMapSwitchForErrorMap=()=>i.React.createElement(m.Consumer,null,(({isShowMapSwitchBtn:e,dataSourceIds:t,activeDataSourceId:s,switchMap:o})=>i.React.createElement("div",{className:"mapswitch-container",style:{display:e?"block":"none",marginBottom:"xsmall"===this.state.widthBreakpoint?10:0}},i.React.createElement("div",{onClick:e=>{e.preventDefault(),o()},className:"jimu-widget esri-widget--button"},i.React.createElement(l.Icon,{icon:q,width:16,height:16,className:"mapswitch-icon"}))))),this.state={mapLoadStatus:K.Loading,widthBreakpoint:null,mapBaseJimuMapView:null,dataSourceId:null,widgetHeight:null}}componentDidMount(){0===this.widgetContainer.getElementsByClassName("widget-map").length&&(this.mapContainer||(this.mapContainer=document&&document.createElement("div"),this.mapContainer.className="jimu-widget widget-map"),this.widgetContainer.appendChild(this.mapContainer)),!this.props.startLoadModules||this.state.isModulesLoaded?(this.getMapDsId()||this.props.isDefaultMap)&&(this.state.mapDs||this.props.isDefaultMap)&&(this.props.isDefaultMap?this.analysisMapView().then((()=>{this.updateMapView(this.props.baseWidgetProps.jimuMapConfig)})):(this.state.mapDs.type===r.DataSourceTypes.WebMap&&this.analysisMapView().then((()=>{this.updateMapView(this.props.baseWidgetProps.jimuMapConfig)})),this.state.mapDs.type===r.DataSourceTypes.WebScene&&this.analysisSceneView().then((()=>{this.updateSceneView(this.props.baseWidgetProps.jimuMapConfig)})))):this.startRenderMap()}componentDidUpdate(){if(!this.state.isModulesLoaded)return;const e=this.getMapDsId(),t=this.state.preMapDs&&this.state.preMapDs.id,i=this.state.mapDs&&this.state.mapDs.getDataSourceJson().itemId,s=this.state.preMapDs&&this.state.preMapDs.getDataSourceJson().itemId;if(e!==t||i!==s){this.mapView=null,this.sceneView=null;const e=this.state.preMapDs&&`${this.props.baseWidgetProps.id}-${this.state.preMapDs.id}`;if(e&&u.MapViewManager.getInstance().destroyJimuMapView(e),this.state.mapLoadStatus===K.LoadError&&!this.state.mapDs)return void this.setState({preMapDs:this.state.mapDs});this.setState({preMapDs:this.state.mapDs,mapLoadStatus:K.Loading})}this.props.isDefaultMap&&(this.sceneView=null,this.analysisMapView().then((()=>{this.updateMapView(this.props.baseWidgetProps.jimuMapConfig)}))),this.state.mapDs&&(this.state.mapDs.type===r.DataSourceTypes.WebMap&&(this.sceneView=null,this.analysisMapView().then((()=>{this.updateMapView(this.props.baseWidgetProps.jimuMapConfig)}))),this.state.mapDs.type===r.DataSourceTypes.WebScene&&(this.mapView=null,this.analysisSceneView().then((()=>{this.updateSceneView(this.props.baseWidgetProps.jimuMapConfig)}))))}static getDerivedStateFromProps(e,t){return e.dataSourceId!==t.dataSourceId?{dataSourceId:e.dataSourceId,mapLoadStatus:K.Loading}:null}componentWillUnmount(){const e=`${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;u.MapViewManager.getInstance().destroyJimuMapView(e),this.mapView&&!this.mapView.destroyed&&(this.mapView.container=null,this.mapView=null),this.sceneView&&!this.sceneView.destroyed&&(this.sceneView.container=null,this.sceneView=null),this.highLightHandles={},this.extentWatch&&(this.extentWatch.remove(),this.extentWatch=null),this.watchStationaryHandle&&(this.watchStationaryHandle.remove(),this.watchStationaryHandle=null)}render(){let e=null;if(this.props.baseWidgetProps.useDataSources)for(let t=0;t<this.props.baseWidgetProps.useDataSources.length;t++)this.props.baseWidgetProps.useDataSources[t].dataSourceId===this.props.dataSourceId&&(e=this.props.baseWidgetProps.useDataSources[t]);return i.React.createElement("div",{className:"jimu-widget",style:{position:"relative"},ref:e=>{this.widgetContainer=e}},this.state.mapLoadStatus===K.Loading&&i.React.createElement("div",{className:"jimu-widget widget-map-background"},i.React.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"})),this.state.mapLoadStatus===K.LoadError&&i.React.createElement("div",{className:"jimu-widget widget-map-background"},this.getMapSwitchForErrorMap(),i.React.createElement("div",{className:"jimu-widget d-flex justify-content-center align-items-center"},"map failed")),this.state.mapBaseJimuMapView&&this.state.widthBreakpoint&&i.React.createElement(J,{isMobile:"xsmall"===this.state.widthBreakpoint,jimuMapView:this.state.mapBaseJimuMapView,appMode:this.props.baseWidgetProps.appMode,intl:this.props.baseWidgetProps.intl,layoutConfig:this.getLayoutConfig(),toolConfig:this.props.baseWidgetProps.jimuMapConfig.toolConfig?this.props.baseWidgetProps.jimuMapConfig.toolConfig:{},widgetHeight:"xsmall"===this.state.widthBreakpoint?null:this.state.widgetHeight}),!this.props.isDefaultMap&&i.React.createElement("div",{style:{position:"absolute",display:"none"}},i.React.createElement(i.DataSourceComponent,{useDataSource:e,onDataSourceCreated:this.onDataSourceCreated,onCreateDataSourceFailed:this.onCreateDataSourceFailed})),i.React.createElement(i.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}))}}const ee={firstMapVisible:[{zIndex:6,opacity:1},{zIndex:5,opacity:0}],secondMapVisible:[{zIndex:5,opacity:0},{zIndex:6,opacity:1}]};class te extends i.React.PureComponent{constructor(e){super(e),this.mutableStatePropsMap={},this.reInitWidgetInstance=e=>{this.state=e,this.isReIniting=!0},this.changeInitialMapDataSourceID=(e,t)=>{if(this.props.baseWidgetProps.useDataSources.length>1){const i=this.refs.firstMapInstance,s=this.refs.secondMapInstance;this.state.currentMapIndex?this.state.firstMapDsId&&this.state.firstMapDsId===e?(this.startChangeInitialMapAnimation(t),i.goHome(!1)):s.goHome(!1):this.state.secondMapDsId&&this.state.secondMapDsId===e?(this.startChangeInitialMapAnimation(t),s.goHome(!1)):i.goHome(!1)}},this.startChangeInitialMapAnimation=e=>{const t=Object.assign({},this.state),i=this.refs.firstMapInstance,s=this.refs.secondMapInstance;if(this.state.currentMapIndex){t.currentMapIndex=0,t.multiMapStyle=ee.firstMapVisible;const o=s&&s.getViewPoint&&s.getViewPoint();o&&i&&i.setViewPoint&&i.setViewPoint(o),this.setState(t,(()=>{e()}))}else{t.currentMapIndex=1,t.multiMapStyle=ee.secondMapVisible;const o=i&&i.getViewPoint&&i.getViewPoint();o&&s&&s.setViewPoint&&s.setViewPoint(o),this.setState(t,(()=>{e()}))}},this.switchMap=()=>{return e=this,t=void 0,s=function*(){if(!this.props.baseWidgetProps.useDataSources||this.props.baseWidgetProps.useDataSources.length<2)return void(yield Promise.resolve());const e=Object.assign({},this.state);e.useAnimation=!0;const t=this.refs.firstMapInstance,i=this.refs.secondMapInstance;if(this.state.currentMapIndex){e.currentMapIndex=0,e.multiMapStyle=ee.firstMapVisible;const s=i&&i.getViewPoint&&i.getViewPoint();s&&t&&t.setViewPoint&&t.setViewPoint(s)}else{e.currentMapIndex=1,e.multiMapStyle=ee.secondMapVisible;const s=t&&t.getViewPoint&&t.getViewPoint();s&&i&&i.setViewPoint&&i.setViewPoint(s)}if(t&&i){const e=t.getViewType(),s=i.getViewType();e&&s&&e!==s&&(t.goToTilt(0),i.goToTilt(0),this.state.currentMapIndex?setTimeout((()=>{t.goToTilt(45)}),300):setTimeout((()=>{i.goToTilt(45)}),300))}return new Promise(((t,i)=>{this.setState(e,(()=>{this.confirmJimuMapViewIsActive(),setTimeout((()=>{this.setState({useAnimation:!1},(()=>{t(null)}))}),500)}))}))},new((i=void 0)||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}));var e,t,i,s},this.handleMutableStatePropsChanged=(e,t,i)=>{},this.handleViewChanged=e=>{if(null===e.viewpoint){const e=this.refs.firstMapInstance,t=this.refs.secondMapInstance;return e&&e.goHome(!1),void(t&&t.goHome(!1))}const t=this.getCurrentVisibleDsId();if(t===e.dataSourceId){if(this.state.firstMapDsId&&this.state.firstMapDsId!==t){const t=this.refs.firstMapInstance;t&&t.setViewPoint(e.viewpoint)}if(this.state.secondMapDsId&&this.state.secondMapDsId!==t){const t=this.refs.secondMapInstance;t&&t.setViewPoint(e.viewpoint)}this.props.onViewPointChanged&&this.props.onViewPointChanged(e.viewpoint)}},this.handleExtentChanged=(e,t)=>{this.getCurrentVisibleDsId()===e&&(i.MessageManager.getInstance().publishMessage(t),this.props.onExtentChanged&&this.props.onExtentChanged(t.extent))},this.handleMapLoaded=(e,t)=>{this.forceUpdate()},this.handleJimuMapViewCreated=e=>{this.props.onJimuMapViewCreated&&this.props.onJimuMapViewCreated(e),this.confirmJimuMapViewIsActive()},this.confirmJimuMapViewIsActive=()=>{if(this.props.isDefaultMap){const e=`${this.props.baseWidgetProps.id}-null`,t=u.MapViewManager.getInstance().getJimuMapViewById(e);return void(t&&this.setActiveJimuMapView(t,!0))}const e=[];this.state.firstMapDsId&&e.push(this.state.firstMapDsId),this.state.secondMapDsId&&e.push(this.state.secondMapDsId);const t=this.getCurrentVisibleDsId();for(let i=0;i<e.length;i++){const s=`${this.props.baseWidgetProps.id}-${e[i]}`,o=u.MapViewManager.getInstance().getJimuMapViewById(s);o&&(e[i]===t?this.setActiveJimuMapView(o,!0):this.setActiveJimuMapView(o,!1))}},this.isShowMapSwitchBtn=()=>{const e=this.refs.firstMapInstance,t=this.refs.secondMapInstance;return!(!e||!t)&&(e.getMapLoadStatus()!==K.Loading&&t.getMapLoadStatus()!==K.Loading||void 0)},this.getCurrentVisibleDsId=()=>1===this.state.multiMapStyle[0].opacity?this.state.firstMapDsId:this.state.secondMapDsId,this.handleViewGroupCreate=e=>{this.props.onViewGroupCreate&&this.props.onViewGroupCreate(e)},this.state={currentMapIndex:0,multiMapStyle:ee.firstMapVisible,firstMapDsId:null,secondMapDsId:null,useAnimation:!1,useDataSources:null,currentJimuMapView:null},this.mutableStatePropsMap={},this.useMapWidgetIds=this.props.baseWidgetProps.id?(0,i.Immutable)([this.props.baseWidgetProps.id]):(0,i.Immutable)([])}componentDidMount(){if(!this.isReIniting&&this.props.baseWidgetProps.useDataSources){const e=this.props.baseWidgetProps.jimuMapConfig.initialMapDataSourceID;e?e===(this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId)?this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId}):e===(this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId)?this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId}):this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId}):this.setState({firstMapDsId:this.props.baseWidgetProps.useDataSources[0]&&this.props.baseWidgetProps.useDataSources[0].dataSourceId,secondMapDsId:this.props.baseWidgetProps.useDataSources[1]&&this.props.baseWidgetProps.useDataSources[1].dataSourceId})}}static getDerivedStateFromProps(e,t){return e.baseWidgetProps.useDataSources!==t.useDataSources?te.getChangedState(t.firstMapDsId,t.secondMapDsId,e.baseWidgetProps.useDataSources):null}componentDidUpdate(e,t,i){this.isReIniting?this.isReIniting=!1:(this.props.baseWidgetProps.jimuMapConfig.initialMapDataSourceID!==e.baseWidgetProps.jimuMapConfig.initialMapDataSourceID&&this.changeInitialMapDataSourceID(this.props.baseWidgetProps.jimuMapConfig.initialMapDataSourceID,this.confirmJimuMapViewIsActive),this.props.baseWidgetProps.useDataSources!==e.baseWidgetProps.useDataSources&&this.confirmJimuMapViewIsActive())}setActiveJimuMapView(e,t){e.isActive!==t&&(t?(e.setIsActive(t),this.setState({currentJimuMapView:e}),this.props.onActiveViewChange&&this.props.onActiveViewChange(e)):e.setIsActive(t))}render(){return i.React.createElement(m.Provider,{value:{isShowMapSwitchBtn:this.props.baseWidgetProps.useDataSources&&this.props.baseWidgetProps.useDataSources.length>1&&this.isShowMapSwitchBtn(),dataSourceIds:[this.state.firstMapDsId,this.state.secondMapDsId],activeDataSourceId:this.getCurrentVisibleDsId(),switchMap:this.switchMap,fullScreenMap:this.props.fullScreenMap,initialMapState:this.props.baseWidgetProps.jimuMapConfig&&this.props.baseWidgetProps.jimuMapConfig.initialMapState,mapComponentId:this.props.baseWidgetProps.id}},!this.props.isDefaultMap&&i.React.createElement("div",{className:"jimu-widget",style:{position:"relative"}},i.React.createElement("div",{className:(0,i.classNames)("jimu-widget",{"multisourcemap-item-appear":this.state.useAnimation&&this.state.multiMapStyle[0].opacity,"multisourcemap-item-disappear":this.state.useAnimation&&!this.state.multiMapStyle[0].opacity,"multisourcemap-item-appear-noanimate":this.state.multiMapStyle[0].opacity,"multisourcemap-item-disappear-noanimate":!this.state.multiMapStyle[0].opacity}),style:{position:"absolute",zIndex:this.state.multiMapStyle[0].zIndex}},this.state.firstMapDsId&&i.React.createElement(X,{ref:"firstMapInstance",onViewChanged:this.handleViewChanged,baseWidgetProps:this.props.baseWidgetProps,onMapLoaded:this.handleMapLoaded,onMutableStatePropsChanged:this.handleMutableStatePropsChanged,onExtentChanged:(e,t)=>{this.handleExtentChanged(e,t)},onJimuMapViewCreated:this.handleJimuMapViewCreated,startLoadModules:this.props.startLoadModules,dataSourceId:this.state.firstMapDsId})),i.React.createElement("div",{className:(0,i.classNames)("jimu-widget",{"multisourcemap-item-appear":this.state.useAnimation&&this.state.multiMapStyle[1].opacity,"multisourcemap-item-disappear":this.state.useAnimation&&!this.state.multiMapStyle[1].opacity,"multisourcemap-item-appear-noanimate":this.state.multiMapStyle[1].opacity,"multisourcemap-item-disappear-noanimate":!this.state.multiMapStyle[1].opacity}),style:{position:"absolute",zIndex:this.state.multiMapStyle[1].zIndex}},this.state.secondMapDsId&&i.React.createElement(X,{ref:"secondMapInstance",onViewChanged:this.handleViewChanged,baseWidgetProps:this.props.baseWidgetProps,onMapLoaded:this.handleMapLoaded,onMutableStatePropsChanged:this.handleMutableStatePropsChanged,onExtentChanged:(e,t)=>{this.handleExtentChanged(e,t)},onJimuMapViewCreated:this.handleJimuMapViewCreated,startLoadModules:this.props.startLoadModules,dataSourceId:this.state.secondMapDsId}))),this.props.isDefaultMap&&i.React.createElement("div",{className:"jimu-widget",style:{position:"relative"}},i.React.createElement("div",{className:(0,i.classNames)("jimu-widget multisourcemap-item-appear-noanimate"),style:{position:"absolute",zIndex:6}},i.React.createElement(X,{ref:"firstMapInstance",isDefaultMap:this.props.isDefaultMap,onViewChanged:this.handleViewChanged,baseWidgetProps:this.props.baseWidgetProps,onMapLoaded:this.handleMapLoaded,onMutableStatePropsChanged:this.handleMutableStatePropsChanged,dataSourceId:null,onExtentChanged:(e,t)=>{this.handleExtentChanged(e,t)},onJimuMapViewCreated:this.handleJimuMapViewCreated,startLoadModules:this.props.startLoadModules,defaultMapInfo:this.props.defaultMapInfo}))),i.React.createElement(u.JimuMapViewComponent,{useMapWidgetId:this.useMapWidgetIds[0],onViewGroupCreate:this.handleViewGroupCreate}))}}te.getChangedState=(e,t,i)=>{const s={};if(i&&i[0]){const o=[],a=[];for(let t=0;t<i.length;t++)e!==i[t].dataSourceId?o.push(i[t].dataSourceId):a.push(i[t].dataSourceId);a.length>0?(s.firstMapDsId=e,s.secondMapDsId=o[0]):0===a.length&&(o.includes(t)?(o.splice(o.indexOf(t),1),s.firstMapDsId=o[0],s.secondMapDsId=t):(s.firstMapDsId=o[0],s.secondMapDsId=o[1]))}else s.firstMapDsId=null,s.secondMapDsId=null;return s.firstMapDsId!==e?s.firstMapDsId?(s.multiMapStyle=ee.firstMapVisible,s.currentMapIndex=0):s.secondMapDsId?(s.multiMapStyle=ee.secondMapVisible,s.currentMapIndex=1):(s.multiMapStyle=ee.firstMapVisible,s.currentMapIndex=0):s.secondMapDsId?s.secondMapDsId!==t&&(s.multiMapStyle=ee.secondMapVisible,s.currentMapIndex=1):(s.multiMapStyle=ee.firstMapVisible,s.currentMapIndex=0),s};const ie=te;function se(e){return!window.jimuConfig.isInBuilder||e!==i.AppMode.Design}class oe extends i.React.PureComponent{constructor(e){super(e),this.handleJimuMapViewCreated=e=>{this.props.onJimuMapViewCreated&&this.props.onJimuMapViewCreated(e)},this.state={defaultMapInfo:null}}componentDidMount(){u.portalUtils.getDefaultWebMap((0,i.getAppStore)().getState().portalUrl).then((e=>{this.setState({defaultMapInfo:e})}))}render(){return i.React.createElement("div",{className:"w-100 h-100"},!this.state.defaultMapInfo&&i.React.createElement("div",{className:"widget-map jimu-widget"},i.React.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"})),this.state.defaultMapInfo&&i.React.createElement("div",{className:(0,i.classNames)("jimu-widget",{"map-is-design-mode":!se(this.props.baseWidgetProps.appMode)})},i.React.createElement(ie,{key:0,fullScreenMap:this.props.fullScreenMap,baseWidgetProps:this.props.baseWidgetProps,startLoadModules:this.props.startLoadModules,isDefaultMap:!0,onViewPointChanged:this.props.onViewPointChanged,onExtentChanged:this.props.onExtentChanged,ref:this.props.setMultiSourceMapInstance,onViewGroupCreate:this.props.onViewGroupCreate,onActiveViewChange:this.props.onActiveViewChange,defaultMapInfo:this.state.defaultMapInfo,onJimuMapViewCreated:this.handleJimuMapViewCreated})))}}class ae extends i.React.PureComponent{constructor(e){super(e),this.multiSourceMapInstance=null,this.startRenderMap=()=>{setTimeout((()=>{this.setState({startLoadModules:!0})}),100)},this.getPlaceHolderImage=()=>{let e=this.props.jimuMapConfig.placeholderImage;if(e){const t=new RegExp("^(.)+/sharing/rest/content/items/(.)+/info/(.)+"),s=i.SessionManager.getInstance().getMainSession();t.test(e)&&s&&(e+=`?token=${null==s?void 0:s.token}`)}return e},this.fullScreenMap=()=>{if(i.utils.isTouchDevice())if("fixed"===this.container.style.position)this.container.style.height=`${this.containerClientRect.height}px`,this.container.style.width=`${this.containerClientRect.width}px`,this.container.style.top=`${this.containerClientRect.top}px`,this.container.style.left=`${this.containerClientRect.left}px`,setTimeout((()=>{this.container.style.transition=null,this.container.style.position="relative",this.container.style.zIndex="0",this.container.style.height="100%",this.container.style.width="100%",this.container.style.top="0",this.container.style.left="0",this.container.style.backgroundColor="none",this.parentContainer.appendChild(this.container)}),100);else{const e=this.container.getBoundingClientRect();this.containerClientRect=e,this.container.style.height=`${e.height}px`,this.container.style.width=`${e.width}px`,this.container.style.position="fixed",this.container.style.top=`${e.top}px`,this.container.style.left=`${e.left}px`,l.MobilePanelManager.getInstance().checkDomIsContained(this.container)?this.container.style.zIndex="502":this.container.style.zIndex="105",document&&document.body.appendChild(this.container),setTimeout((()=>{this.container.style.transition="top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s",this.container.style.top="0px",this.container.style.left="0px",this.container.style.right="0px",this.container.style.bottom="0px",this.container.style.height=null,this.container.style.width=null,this.container.style.backgroundColor="#fff"}),100)}else{const e=this.container;if(!document)return;document.fullscreenElement===e&&document.exitFullscreen();const t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){const e=new ActiveXObject("WScript.Shell");null!==e&&e.SendKeys("{F11}")}}},this.handleViewGroupCreate=e=>{e&&e.setMapWidgetInstance(this),this.props.onViewGroupCreate&&this.props.onViewGroupCreate(e)},this.handleJimuMapViewCreated=e=>{this.props.onJimuMapViewCreated&&this.props.onJimuMapViewCreated(e)},this.switchMap=()=>{return e=this,t=void 0,s=function*(){if(this.multiSourceMapInstance)return yield this.multiSourceMapInstance.switchMap();yield Promise.resolve()},new((i=void 0)||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}));var e,t,i,s},this.setMultiSourceMapInstance=e=>{this.multiSourceMapInstance=e},this.state={}}componentDidMount(){this.state.startLoadModules||!window.jimuConfig.isInBuilder&&this.props.jimuMapConfig.canPlaceHolder||this.startRenderMap()}render(){return this.state.startLoadModules?this.props.useDataSources&&this.props.useDataSources[0]&&this.props.useDataSources[0].dataSourceId?i.React.createElement("div",{className:"jimu-widget",ref:e=>{this.parentContainer=e}},i.React.createElement("div",{className:(0,i.classNames)(this.props.className,"jimu-widget"),ref:e=>{this.container=e}},i.React.createElement("div",{className:(0,i.classNames)("jimu-widget",{"map-is-design-mode":!se(this.props.appMode)})},i.React.createElement(ie,{fullScreenMap:this.fullScreenMap,baseWidgetProps:this.props,startLoadModules:this.state.startLoadModules,onViewPointChanged:this.props.onViewPointChanged,onExtentChanged:this.props.onExtentChanged,onActiveViewChange:this.props.onActiveViewChange,onViewGroupCreate:this.handleViewGroupCreate,ref:this.setMultiSourceMapInstance,onJimuMapViewCreated:this.handleJimuMapViewCreated})))):i.React.createElement("div",{className:"jimu-widget",ref:e=>{this.parentContainer=e}},i.React.createElement("div",{className:(0,i.classNames)(this.props.className,"jimu-widget"),ref:e=>{this.container=e}},i.React.createElement("div",{className:(0,i.classNames)("jimu-widget",{"map-is-design-mode":!se(this.props.appMode)})},i.React.createElement(oe,{fullScreenMap:this.fullScreenMap,baseWidgetProps:this.props,startLoadModules:this.state.startLoadModules,isDefaultMap:!0,setMultiSourceMapInstance:this.setMultiSourceMapInstance,onViewPointChanged:this.props.onViewPointChanged,onExtentChanged:this.props.onExtentChanged,onActiveViewChange:this.props.onActiveViewChange,onViewGroupCreate:this.handleViewGroupCreate,onJimuMapViewCreated:this.handleJimuMapViewCreated})))):i.React.createElement("div",{className:(0,i.classNames)(this.props.className,"jimu-widget")},i.React.createElement("div",{className:"widget-map jimu-widget"},i.React.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"})))}}const ne=i.ReactRedux.connect((e=>window.jimuConfig.isBuilder?{appMode:i.AppMode.Run}:{appMode:e&&e.appRuntimeInfo&&e.appRuntimeInfo.appMode}))((0,i.injectIntl)(ae)),le=(0,t.withStyles)(ne,"JimuMap");class re extends i.React.PureComponent{constructor(e){super(e),this.handleClickOk=()=>{const e=this.state.currentJimuMapView;if(!e)return;const t=e.view;if(t&&t.viewpoint&&t.extent){const i=e.dataSourceId?e.dataSourceId:void 0,s=this.props.jimuMapConfig.setIn(["initialMapState","viewPoint"],t.viewpoint.toJSON()).setIn(["initialMapState","extent"],t.extent.toJSON()).setIn(["initialMapState","rotation"],t.viewpoint.rotation).setIn(["initialMapState","viewType"],t.type).setIn(["initialMapDataSourceID"],i);this.props.onConfigChanged&&this.props.onConfigChanged(s),this.setState({isShowDialog:!1})}},this.handleClickClose=()=>{this.setState({isShowDialog:!1})},this.showDialog=()=>{this.setState({isShowDialog:!0})},this.handleActiveViewChange=e=>{this.setState({currentJimuMapView:e})},this.getWidgetSize=()=>{const e=this.querySelector(`div.widget-renderer[data-widgetid="${this.props.id}"]`);let t=null;if(e){const i=e.getBoundingClientRect();t={width:i.width,height:i.height};const s=t.width+100,o=t.height+200;if(document.body.clientWidth>=s&&document.body.clientHeight>=o)return t}else t={width:document.body.clientWidth-100,height:document.body.clientHeight-300};return this.getRightSize(t)},this.getRightSize=e=>{const t=document.body.clientWidth-100<1280?document.body.clientWidth-100:1280,i=document.body.clientHeight-300<800?document.body.clientHeight-300:800;if(t/i>=e.width/e.height){const t=i;return{width:t*e.width/e.height,height:t}}return{width:t,height:t*e.height/e.width}},this.state={isShowDialog:!1,currentJimuMapView:null}}querySelector(e){const t=document.querySelector(`iframe[name="${i.APP_FRAME_NAME_IN_BUILDER}"]`);return t?(t.contentDocument||t.contentWindow.document).querySelector(e):null}render(){let e=null;e=this.props.isUseWidgetSize?this.getWidgetSize():this.getRightSize({width:document.body.clientWidth-100,height:document.body.clientHeight-300});const t=this.props.jimuMapConfig?this.props.jimuMapConfig.set("toolConfig",{canZoom:!0,canHome:!0,canSearch:!0,canCompass:!0}):(0,i.Immutable)({});return(0,i.jsx)("div",null,(0,i.jsx)(l.Button,{onClick:this.showDialog},this.props.buttonLabel),this.state.isShowDialog&&(0,i.jsx)(l.AlertPopup,{isOpen:this.state.isShowDialog,title:this.props.title,onClickOk:()=>{this.handleClickOk()},onClickClose:()=>{this.handleClickClose()}},(0,i.jsx)("div",{style:{width:`${e&&e.width}px`,height:`${e&&e.height}px`}},(0,i.jsx)("div",{className:"w-100 h-100",style:{backgroundColor:"gray"}},(0,i.jsx)(le,{id:this.props.id+"editor",useDataSources:this.props.useDataSources,jimuMapConfig:t,onActiveViewChange:e=>{this.handleActiveViewChange(e)}})))))}}var Me=M(58290);const ce=(e,t)=>{const s=(0,l.getButtonIconSizeNumber)(t);return i.css`
  position: relative;

  &.symbol-item {
    background-color: transparent;

    &:hover {
      background-color: ${e.colors.secondary};
    }

    .icon-btn-sizer { /* inner wapper in jimu-btn*/
      width: 100%;
      height: 100%;
    }
  }

  &.symbol-in-list {
    border: none;
  }

  &.selector-previewer {
    .icon-btn-sizer {
      width: ${s}px;
      height: ${s}px;
    }
  }

  &.symbol-item-active {
    border: 1px solid ${e.colors.primary};
  }

  .symbol-wapper {
    width: 100%;
    height: 100%;

    .outer-preview-btn {
      max-width: ${s}px;
      max-height: ${s}px;
    }
    .inner-preview-btn {
      width: ${s}px;
      height: ${s}px;
    }
  }
  /* scale display of polyline-symbol ,#13458 */
  .jimu-polyline-symbol {
    width: 200%;
    transform: scaleX(0.5);
  }
  `};var ue=M(53720),pe=M.n(ue);const ge=e=>{const t=window.SVG,{className:s}=e,o=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["className"]),a=(0,i.classNames)("jimu-icon jimu-icon-component",s);return t?i.React.createElement(t,Object.assign({className:a,src:pe()},o)):i.React.createElement("svg",Object.assign({className:a},o))};class de extends i.React.PureComponent{constructor(e){super(e),this.symbolUtils=null,this.ApiSyncRenderSymbolFlag=!1,this.renderPreviewHTMLPromise=null,this.innerIconWH=16,this.onHandleSymbolClick=()=>{this.props.onClick&&(this.props.isActive?this.props.onClick(null,null):this.props.onClick(this.props.index,this.props.symbol))},this.state={symbolLoading:!0,apiLoaded:!1}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/symbols/support/symbolUtils"]).then((e=>{[this.symbolUtils]=e,this.setState({apiLoaded:!0})}))}componentDidUpdate(e,t){var s,o;this.innerIconWH=(0,l.getButtonIconSizeNumber)(this.props.btnSize||"default"),this.state.apiLoaded&&this.props.symbol&&(this.ApiSyncRenderSymbolFlag&&i.lodash.isDeepEqual(null===(s=e.symbol)||void 0===s?void 0:s.toJSON(),null===(o=this.props.symbol)||void 0===o?void 0:o.toJSON())||(this.ApiSyncRenderSymbolFlag=!0,this.btnContainerRef.innerHTML&&(this.btnContainerRef.innerHTML=""),this.setState({symbolLoading:!0},(()=>{const e={node:this.btnContainerRef,scale:!0,size:{width:2*this.innerIconWH}};this.renderPreviewHTMLPromise=this.symbolUtils.renderPreviewHTML(this.props.symbol,e),this.renderPreviewHTMLPromise.then((e=>{var t;const i=e.children[0],s="0,0,"+parseFloat(null==i?void 0:i.getAttribute("width"))+","+parseFloat(null==i?void 0:i.getAttribute("height"));if(i&&(null==i||i.setAttribute("viewBox",s)),null===(t=this.props.symbol)||void 0===t?void 0:t.type.includes("picture-marker")){null==i||i.setAttribute("style","width: 100%; height: 100%;");const e=null==i?void 0:i.querySelector("image");null==e||e.setAttribute("style","width: 100%; height: 100%;"),null==e||e.setAttribute("preserveAspectRatio","")}this.setState({symbolLoading:!1})}))}))))}render(){var e;const t=null===(e=this.props.a11yNeedFocus)||void 0===e||e?"button":"div";return(0,i.jsx)(l.Button,{tag:t,onClick:this.onHandleSymbolClick,className:(0,i.classNames)("w-100 h-100 justify-content-center d-flex align-items-center symbol-item",{"symbol-item-active":this.props.isActive,"selector-previewer":this.props.isSelectorPreview,"symbol-in-list":!this.props.isSelectorPreview}),css:ce(this.props.theme,this.props.btnSize||"default"),size:this.props.btnSize,ref:this.props.btnRef,icon:!0},this.state.symbolLoading&&(0,i.jsx)(ge,{color:this.props.theme.colors.palette.light[600]}),(0,i.jsx)("div",{ref:e=>{this.btnContainerRef=e},css:{width:this.innerIconWH,height:this.innerIconWH},className:(0,i.classNames)("justify-content-center align-items-center symbol-wapper",{"outer-preview-btn":this.props.isSelectorPreview,"d-flex":!this.state.symbolLoading,"d-none":this.state.symbolLoading,"jimu-polyline-symbol":this.props.jimuSymbolType===Me.JimuSymbolType.Polyline})}))}}const Ne=de,he=(i.React.forwardRef(((e,t)=>(0,i.jsx)(Ne,Object.assign({btnRef:t},e)))),i.React.memo((e=>{const s=(0,t.useTheme)(),o=(0,i.useIntl)();return i.React.createElement("div",{className:"jimu-symbol-list-preview w-100 d-flex mb-1"},i.React.createElement("div",{className:"justify-content-start d-flex align-items-center mr-5"},o.formatMessage({id:"drawToolPreview",defaultMessage:l.defaultMessages.drawToolPreview})),i.React.createElement("div",{className:"preview-item justify-content-center d-flex mt-1 mb-1 ml-4"},i.React.createElement(Ne,{theme:s,jimuSymbolType:null,symbol:e.symbol,isInnerPreviewBtn:!0,a11yNeedFocus:!1})))}))),De={Point:{type:"esriSMS",color:[0,0,128,128],angle:0,xoffset:0,yoffset:0,size:18,style:"esriSMSCircle",outline:{type:"esriSLS",color:[0,0,128,255],width:1,style:"esriSLSSolid"}},Polyline:{color:[130,130,130,255],style:"esriSLSSolid",type:"esriSLS",width:2},Polygon:{color:[150,150,150,51],outline:{color:[50,50,50,255],style:"esriSLSSolid",type:"esriSLS",width:2},style:"esriSFSSolid",type:"esriSFS"}},ye=()=>{const[e,t]=i.React.useState(null);return i.hooks.useEffectOnce((()=>{(0,i.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils"]).then((e=>{const[i]=e;t({jsonUtils:i})}))})),i.React.useCallback(((t,i)=>{let s;return s=(null==e?void 0:e.jsonUtils)&&!t?((e,t)=>{let i=null;switch(e){case ke.Point:i=null==t?void 0:t.fromJSON(De.Point);break;case ke.Polyline:i=null==t?void 0:t.fromJSON(De.Polyline);break;case ke.Polygon:i=null==t?void 0:t.fromJSON(De.Polygon);break;default:i=null}return i})(i,null==e?void 0:e.jsonUtils):t,s}),[null==e?void 0:e.jsonUtils])},me=(e,t)=>isNaN(e)?0:Number(Number(e).toFixed(t)),je=e=>{if(e){const t=e.toRgba();return`rgba(${t[0]},${t[1]},${t[2]},${Number(t[3]).toFixed(3)})`}return null},Se=(e,t)=>{var s,o;const a=i.utils.formatPercentageNumber(t);return null!==(o=null===(s=(0,i.getAppStore)().getState().appContext)||void 0===s?void 0:s.isRTL)&&void 0!==o&&o?a+": "+e:e+": "+a},Ie=i.React.memo((e=>{const t=i.React.useRef(null),s=isNaN(e.opacityPercentage)?"":e.opacityPercentage;return(0,i.jsx)("div",{className:"d-flex style-setting--input-unit",css:i.css`
        &.style-setting--input-unit {

          border-radius: 2px;
          height: 26px;
          flex-grow: 1;
          z-index: 0;

          &:focus-within {
            z-index: 1;
          }

          input {
            width: 45px;
            height: 100%;
            font-size: 12px;
            padding: 0;
            text-align: center;
          }
          .style-setting--unit-selector {
            background: var(--light-200);
            color: var(--light-800);
            height: 26px;
            width: auto;
            min-width: 0;
            padding: 0;
            margin-left: 0;
            font-size: 12px;

            border: 1px solid var(--light-500);
            border-top-right-radius: 2px;
            border-bottom-right-radius: 2px;

            width: 26px;
            margin-left: -1px;
            z-index: -1;
          }
        }
      `},(0,i.jsx)("div",{className:"numeric-input"},(0,i.jsx)(l.NumericInput,{size:"sm",min:0,max:100,precision:0,value:s,showHandlers:!1,onAcceptValue:(i,s)=>{"keydown"===s.type&&(t.current=setTimeout((()=>{clearTimeout(t.current),t.current=null}),150)),t.current&&"blur"===s.type||(t=>{const i=e.symbol.clone();i.color.a=me(t,1)/100,e.onSymbolChanged(i)})(i)}})),(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-center style-setting--unit-selector"},"%"))}));var Te=M(41362);class we extends i.React.PureComponent{constructor(e){super(e),this.onHandleChange=e=>{null==e||""===e||Number(e)<this.props.min?this.setState({value:this.props.min}):Number(e)>this.props.max?this.setState({value:this.props.max}):this.setState({value:e})},this.onTriggerChange=()=>{this.props.value!==this.state.value&&this.props.onChange(this.state.value)},this.state={value:this.props.value}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}render(){return i.React.createElement(l.NumericInput,{size:this.props.size,onPressEnter:this.onTriggerChange,onBlur:this.onTriggerChange,value:this.state.value,min:this.props.min,max:this.props.max,style:this.props.style,onChange:this.onHandleChange})}}var ze=function(e,t,i,s){return new(i||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}))};class Oe extends i.React.PureComponent{constructor(e){super(e),this.jsonUtils=null,this.Portal=null,this.portal=null,this.portalUrl=null,this.allPointSymbolList={},this.setInitialPointSymbolList=e=>{if(e){const t="Basic";let i=!1;for(let s=0;s<e.length;s++)if(e[s].title===t){this.fetchPointSymbolListByItemId(e[s].id),i=!0;break}!i&&e&&e.length>0&&this.fetchPointSymbolListByItemId(e[0].id)}},this.handleSymbolSelected=(e,t)=>{this.setState({symbolSelectedInfo:{listItemId:this.state.currentPointSymbolListItemId,symbolIdx:e}}),this.props.onSymbolChanged(t)},this._isSymbolItemSelected=e=>{const t=this.state.currentPointSymbolListItemId===this.state.symbolSelectedInfo.listItemId,i=e===this.state.symbolSelectedInfo.symbolIdx;return t&&i},this.renderPointSymbolList=()=>{var e;return this.jsonUtils?this.state.showLoadingUI?i.React.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-secondary-loading"}):null===(e=this.state.pointSymbolList)||void 0===e?void 0:e.map(((e,t)=>{const s=this.jsonUtils.fromJSON(e);return i.React.createElement("div",{key:t,className:"symbol-item-wapper mt-1"},i.React.createElement(Ne,{theme:this.props.theme,jimuSymbolType:Me.JimuSymbolType.Point,index:t,symbol:s,isActive:this._isSymbolItemSelected(t),onClick:this.handleSymbolSelected}))})):null},this.fetchSymbolSetInfos=()=>ze(this,void 0,void 0,(function*(){return this.state.symbolSetInfos&&this.state.symbolSetInfos.length>0?yield Promise.resolve(this.state.symbolSetInfos):yield this.getSymbolSetGroupId().then((e=>ze(this,void 0,void 0,(function*(){return yield this.getSymbolSetInfos(e).then((e=>ze(this,void 0,void 0,(function*(){return yield Promise.resolve(e)}))))}))))})),this.getSymbolSetGroupId=()=>ze(this,void 0,void 0,(function*(){return this.portal?yield this.portal.queryGroups({query:this.portal.symbolSetsGroupQuery}).then((e=>ze(this,void 0,void 0,(function*(){const t=e.results[0];return yield Promise.resolve(t.id)}))),(()=>ze(this,void 0,void 0,(function*(){return yield Promise.reject(null)})))):yield Promise.reject(null)})),this.getSymbolSetInfos=e=>ze(this,void 0,void 0,(function*(){let t="group:"+e+' AND type:"Symbol Set"';const i=[];return this.portal?(t+=' AND (typekeywords:"by value" AND typekeywords:"marker")',yield this.portal.queryItems({query:t,num:20,sortField:"title"}).then((e=>ze(this,void 0,void 0,(function*(){const t=e.results;let s,o,a,n;if(t){for(let e=0;e<t.length;e++){const l=t[e];s=l.typeKeywords.join(" "),s.indexOf("marker")>-1&&(o=l.title,a={name:o,id:l.id,title:l.title,keywords:s,dataUrl:this.getItemUrl(this.portalUrl,l.id)},n=s.indexOf("default")>-1,n?(a.defaultType=!0,i.unshift(a)):i.push(a))}return yield Promise.resolve(i)}return yield Promise.reject(null)}))))):yield Promise.resolve(null)})),this.onSelectChanged=e=>{const t=e.target.value;this.fetchPointSymbolListByItemId(t)},this.fetchPointSymbolListByItemId=e=>{this.allPointSymbolList[e]?this.setState({pointSymbolList:this.allPointSymbolList[e],currentPointSymbolListItemId:e}):(this.setState({pointSymbolList:[],currentPointSymbolListItemId:e}),this.requestPointSymJson(e))},this.requestPointSymJson=e=>{this.setState({showLoadingUI:!0});const t=this.getItemUrl(this.portalUrl,e);i.esri.restRequest.request(t).then((t=>{this.allPointSymbolList[e]=t,this.setState({pointSymbolList:t,showLoadingUI:!1})}),(e=>{console.error(e),this.setState({showLoadingUI:!1})}))},this.getItemUrl=(e,t)=>{let i="";const s=this.getBaseItemUrl(e);return s&&t&&(i=s+"/"+t+"/data"),i},this.getBaseItemUrl=e=>{let t="";const i=this.portalUrl;return i&&(t=i+"/sharing/rest/content/items"),t},this.getPointSymbolParamsSetting=()=>this.props.symbol?"simple-marker"===this.props.symbol.type?this.getPointSymbolParamsSettingForSimpleMarker():"picture-marker"===this.props.symbol.type?this.getPointSymbolParamsSettingForPictureMarker():null:null,this.updateSymbolSize=e=>{const t=this.props.symbol.clone();"simple-marker"===t.type&&(t.size=e),"picture-marker"===t.type&&(t.width=e,t.height=e),this.props.onSymbolChanged(t)},this.updateSymbolFillColor=e=>{const t=this.props.symbol.clone();t.color=e,this.props.onSymbolChanged(t)},this.updateSymbolOutLineColor=e=>{const t=this.props.symbol.clone();t.outline.color=e,this.props.onSymbolChanged(t)},this.updateSymbolOutLineWeight=e=>{const t=this.props.symbol.clone();t.outline.width=e,this.props.onSymbolChanged(t)},this.updateSymbolOpacity=e=>{const t=this.props.symbol.clone();t.color.a=me(e,1),this.props.onSymbolChanged(t)},this.getOpacityInSymbol=()=>this.props.symbol.clone().color.a,this.getPointSymbolParamsSettingForSimpleMarker=()=>{const e=this.props.symbol,t=e.outline,s=je(t.color),o=t.width,a="x"===e.style||"cross"===e.style,n=this.getOpacityInSymbol(),r=(100*n).toFixed(1),M=this.props.intl.formatMessage({id:"drawToolOpacity",defaultMessage:l.defaultMessages.drawToolOpacity}),c=Se(M,r);return i.React.createElement(i.React.Fragment,null,i.React.createElement("div",{className:"params-setting-row-one w-100 d-flex align-items-center justify-content-between mb-2"},i.React.createElement(we,{size:"sm",style:{width:60},value:e.size,min:1,max:50,onChange:this.updateSymbolSize}),i.React.createElement("div",{className:"divide-line"}),i.React.createElement("div",{style:{position:"relative"}},i.React.createElement(Te.ColorPicker,{disabled:a,color:je(e.color),onChange:this.updateSymbolFillColor})),i.React.createElement("div",{className:"divide-line"}),i.React.createElement("div",{style:{position:"relative"}},i.React.createElement(Te.ColorPicker,{color:s,onChange:this.updateSymbolOutLineColor,outline:!0})),i.React.createElement(we,{size:"sm",style:{width:60},value:o,min:1,max:20,onChange:this.updateSymbolOutLineWeight})),i.React.createElement("div",{className:"params-setting-row-two w-100 d-flex align-items-center justify-content-between"},i.React.createElement(l.Slider,{title:c,value:n,min:0,max:1,step:.1,className:"slider mr-2",onChange:e=>{this.updateSymbolOpacity(e.currentTarget.value)}}),i.React.createElement(Ie,{symbol:this.props.symbol,opacityPercentage:Number(r),onSymbolChanged:this.props.onSymbolChanged})))},this.getPointSymbolParamsSettingForPictureMarker=()=>{const e=this.props.symbol;return i.React.createElement("div",{className:"w-100 d-flex align-items-center"},i.React.createElement(we,{value:e.width,size:"sm",min:1,max:50,style:{width:80},onChange:this.updateSymbolSize}))},this.state={apiLoaded:!1,symbolSetInfos:[],pointSymbolList:[],currentPointSymbolListItemId:null,symbolSelectedInfo:{listItemId:null,symbolIdx:null},showLoadingUI:!0},this.portalUrl=i.portalUrlUtils.getPlatformUrlByOrgUrl((0,i.getAppStore)().getState().portalUrl)}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils","esri/portal/Portal"]).then((e=>{[this.jsonUtils,this.Portal]=e,this.portal=new this.Portal({url:this.portalUrl}),this.setState({apiLoaded:!0},(()=>{"function"==typeof this.props.onA11yFocus&&this.props.onA11yFocus()}))}))}componentDidUpdate(e,t){!t.apiLoaded&&this.state.apiLoaded&&this.portal.load().then((()=>{this.fetchSymbolSetInfos().then((e=>{this.setState({symbolSetInfos:e},(()=>{this.setInitialPointSymbolList(this.state.symbolSetInfos)}))}))}))}render(){return i.React.createElement("div",{className:"w-100 "},i.React.createElement("div",{className:"d-flex w-100 justify-content-between align-items-center mb-4"},i.React.createElement("div",{className:"mr-5 keep-line"},this.props.intl.formatMessage({id:"drawToolSource",defaultMessage:l.defaultMessages.drawToolSource})),i.React.createElement(l.Select,{className:"ml-5 p-1 points-source-selector",onChange:this.onSelectChanged,value:this.state.currentPointSymbolListItemId},this.state.symbolSetInfos.map(((e,t)=>i.React.createElement("option",{key:t,value:e.id,title:e.title},i.React.createElement("div",{className:"text-truncate"}," ",e.title," ")))))),i.React.createElement("div",{className:"symbol-list-wapper p-1 mb-4"},this.renderPointSymbolList()),i.React.createElement("div",{className:"params-settings w-100"},this.getPointSymbolParamsSetting()))}}const xe=[{tags:["solid"],title:"Blue Thin",style:"esriSLSSolid",color:[79,129,189,255],width:3,name:"Blue 1",type:"esriSLS"},{tags:["solid"],title:"Red Thin",style:"esriSLSSolid",color:[192,80,77,255],width:3,name:"Red 1",type:"esriSLS"},{tags:["solid"],title:"Olive Green Thin",style:"esriSLSSolid",color:[155,187,89,255],width:3,name:"Olive Green 1",type:"esriSLS"},{tags:["solid"],title:"Purple Thin",style:"esriSLSSolid",color:[128,100,162,255],width:3,name:"Purple 1",type:"esriSLS"},{tags:["solid","blue","river"],title:"Aqua Thin",style:"esriSLSSolid",color:[75,172,198,255],width:3,name:"Aqua 1",type:"esriSLS"},{tags:["solid"],title:"Orange Thin",style:"esriSLSSolid",color:[247,150,70,255],width:3,name:"Orange 1",type:"esriSLS"},{tags:["solid"],title:"Blue",style:"esriSLSSolid",color:[79,129,189,255],width:5,name:"Blue 2",type:"esriSLS"},{tags:["solid"],title:"Red",style:"esriSLSSolid",color:[192,80,77,255],width:5,name:"Red 2",type:"esriSLS"},{tags:["solid"],title:"Olive Green",style:"esriSLSSolid",color:[155,187,89,255],width:5,name:"Olive Green 2",type:"esriSLS"},{tags:["solid"],title:"Purple",style:"esriSLSSolid",color:[128,100,162,255],width:5,name:"Purple 2",type:"esriSLS"},{tags:["solid","blue"],title:"Aqua",style:"esriSLSSolid",color:[75,172,198,255],width:5,name:"Aqua 2",type:"esriSLS"},{tags:["solid"],title:"Orange",style:"esriSLSSolid",color:[247,150,70,255],width:5,name:"Orange 2",type:"esriSLS"},{tags:["solid"],title:"Blue Thick",style:"esriSLSSolid",color:[79,129,189,255],width:7,name:"Blue 3",type:"esriSLS"},{tags:["solid","interstate","highway"],title:"Red Thick",style:"esriSLSSolid",color:[192,80,77,255],width:7,name:"Red 3",type:"esriSLS"},{tags:["solid"],title:"Olive Green Thick",style:"esriSLSSolid",color:[155,187,89,255],width:7,name:"Olive Green 3",type:"esriSLS"},{tags:["solid"],title:"Purple Thick",style:"esriSLSSolid",color:[128,100,162,255],width:7,name:"Purple 3",type:"esriSLS"},{tags:["solid","blue"],title:"Aqua Thick",style:"esriSLSSolid",color:[75,172,198,255],width:7,name:"Aqua 3",type:"esriSLS"},{tags:["solid"],title:"Orange Thick",style:"esriSLSSolid",color:[247,150,70,255],width:7,name:"Orange 3",type:"esriSLS"},{tags:["dashed"],title:"Blue Dash",style:"esriSLSDash",color:[79,129,189,255],width:3,name:"ColoredLineBlue4",type:"esriSLS"},{tags:["dashed"],title:"Red Dash",style:"esriSLSDash",color:[192,80,77,255],width:3,name:"ColoredLineRed4",type:"esriSLS"},{tags:["dashed"],title:"Olive Green Dash",style:"esriSLSDash",color:[155,187,89,255],width:3,name:"ColoredLineOliveGreen4",type:"esriSLS"},{tags:["dashed"],title:"Purple Dash ",style:"esriSLSDash",color:[128,100,162,255],width:3,name:"ColoredLinePurple4",type:"esriSLS"},{tags:["blue","dashed"],title:"Aqua Dash",style:"esriSLSDash",color:[75,172,198,255],width:3,name:"ColoredLineAqua4",type:"esriSLS"},{tags:["dashed"],title:"Orange Dash",style:"esriSLSDash",color:[247,150,70,255],width:3,name:"ColoredLineOrange4",type:"esriSLS"},{tags:["dotted"],title:"Blue Dot",style:"esriSLSDot",color:[79,129,189,255],width:3,name:"Blue Dot",type:"esriSLS"},{tags:["dotted"],title:"Red Dot",style:"esriSLSDot",color:[192,80,77,255],width:3,name:"Red Dot",type:"esriSLS"},{tags:["dotted"],title:"Olive Green Dot",style:"esriSLSDot",color:[155,187,89,255],width:3,name:"Olive Green Dot",type:"esriSLS"},{tags:["dotted"],title:"Purple Dot ",style:"esriSLSDot",color:[128,100,162,255],width:3,name:"Purple Dot",type:"esriSLS"},{tags:["blue","dotted"],title:"Aqua Dot",style:"esriSLSDot",color:[75,172,198,255],width:3,name:"Aqua Dot",type:"esriSLS"},{tags:["dotted"],title:"Orange Dot",style:"esriSLSDot",color:[247,150,70,255],width:3,name:"Orange Dot",type:"esriSLS"},{tags:["dashed","dotted"],title:"Blue Dash Dot",style:"esriSLSDashDot",color:[79,129,189,255],width:3,name:"Blue Dash Dot",type:"esriSLS"},{tags:["dashed","dotted"],title:"Red Dash Dot",style:"esriSLSDashDot",color:[192,80,77,255],width:3,name:"Red Dash Dot",type:"esriSLS"},{tags:["dashed","dotted"],title:"Olive Green Dash Dot",style:"esriSLSDashDot",color:[155,187,89,255],width:3,name:"Olive Green Dash Dot",type:"esriSLS"},{tags:["dashed","dotted"],title:"Purple Dash Dot ",style:"esriSLSDashDot",color:[128,100,162,255],width:3,name:"Purple Dash Dot",type:"esriSLS"},{tags:["blue","dashed","dotted"],title:"Aqua Dash Dot",style:"esriSLSDashDot",color:[75,172,198,255],width:3,name:"Aqua Dash Dot",type:"esriSLS"},{tags:["dashed","dotted"],title:"Orange Dash Dot",style:"esriSLSDashDot",color:[247,150,70,255],width:3,name:"Orange Dash Dot",type:"esriSLS"},{tags:["dashed","dotted"],title:"Blue Dash Dot Dot",style:"esriSLSDashDotDot",color:[79,129,189,255],width:3,name:"ColoredLineBlue5",type:"esriSLS"},{tags:["dashed","dotted"],title:"Red Dash Dot Dot",style:"esriSLSDashDotDot",color:[192,80,77,255],width:3,name:"ColoredLineRed5",type:"esriSLS"},{tags:["dashed","dotted"],title:"Olive Green Dash Dot Dot",style:"esriSLSDashDotDot",color:[155,187,89,255],width:3,name:"ColoredLineOliveGreen5",type:"esriSLS"},{tags:["dashed","dotted"],title:"Purple Dash Dot Dot ",style:"esriSLSDashDotDot",color:[128,100,162,255],width:3,name:"ColoredLinePurple5",type:"esriSLS"},{tags:["blue"],title:"Aqua Dash Dot Dot",style:"esriSLSDashDotDot",color:[75,172,198,255],width:3,name:"ColoredLineAqua5",type:"esriSLS"},{tags:["dashed","dotted"],title:"Orange Dash Dot Dot",style:"esriSLSDashDotDot",color:[247,150,70,255],width:3,name:"ColoredLineOrange5",type:"esriSLS"},{tags:["solid"],title:"Black",style:"esriSLSSolid",color:[0,0,0,255],width:3,name:"Gray 1",type:"esriSLS"},{tags:["solid"],title:"Gray 80",style:"esriSLSSolid",color:[51,51,51,255],width:3,name:"Gray 2",type:"esriSLS"},{tags:["solid"],title:"Gray 60",style:"esriSLSSolid",color:[119,119,119,255],width:3,name:"Gray 3",type:"esriSLS"},{tags:["solid"],title:"Gray 40",style:"esriSLSSolid",color:[187,187,187,255],width:3,name:"Gray 4",type:"esriSLS"},{tags:["solid"],title:"Gray 20",style:"esriSLSSolid",color:[221,221,221,255],width:3,name:"Gray 5",type:"esriSLS"},{tags:["solid"],title:"White",style:"esriSLSSolid",color:[255,255,255,255],width:3,name:"Gray 6",type:"esriSLS"},{tags:["green","solid"],title:"Lime",style:"esriSLSSolid",color:[0,255,0,255],width:5,name:"Lime",type:"esriSLS"},{tags:["solid"],title:"Brown",style:"esriSLSSolid",color:[165,42,42,255],width:5,name:"Brown",type:"esriSLS"},{tags:["solid"],title:"Green",style:"esriSLSSolid",color:[0,128,0,255],width:5,name:"Green",type:"esriSLS"},{tags:["solid"],title:"Yellow",style:"esriSLSSolid",color:[255,255,0,255],width:5,name:"Yellow",type:"esriSLS"},{tags:["blue","solid"],title:"Navy",style:"esriSLSSolid",color:[0,0,128,255],width:5,name:"Navy",type:"esriSLS"}],Le=[{intl:"Dash",label:"dash",value:"dash",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.25 1.5H38.75" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="7 7"/></svg>'},{intl:"DashDot",label:"dash dot",value:"dash-dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H5.9375C6.48978 0.5 6.9375 0.947715 6.9375 1.5C6.9375 2.05228 6.48978 2.5 5.9375 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM10.3125 1.5C10.3125 0.947715 10.7602 0.5 11.3125 0.5H12.6875C13.2398 0.5 13.6875 0.947715 13.6875 1.5C13.6875 2.05228 13.2398 2.5 12.6875 2.5H11.3125C10.7602 2.5 10.3125 2.05228 10.3125 1.5ZM17 1.5C17 0.947715 17.4477 0.5 18 0.5H22.6875C23.2398 0.5 23.6875 0.947715 23.6875 1.5C23.6875 2.05228 23.2398 2.5 22.6875 2.5H18C17.4477 2.5 17 2.05228 17 1.5ZM27.0625 1.5C27.0625 0.947715 27.5102 0.5 28.0625 0.5H29.4375C29.9898 0.5 30.4375 0.947715 30.4375 1.5C30.4375 2.05228 29.9898 2.5 29.4375 2.5H28.0625C27.5102 2.5 27.0625 2.05228 27.0625 1.5ZM34 0.5C33.4477 0.5 33 0.947715 33 1.5C33 2.05228 33.4477 2.5 34 2.5H38.6875C39.2398 2.5 39.6875 2.05228 39.6875 1.5C39.6875 0.947715 39.2398 0.5 38.6875 0.5H34Z" fill="black"/></svg>'},{intl:"Dot",label:"dot",value:"dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H1.78571C2.338 0.5 2.78571 0.947715 2.78571 1.5C2.78571 2.05228 2.338 2.5 1.78571 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM12.2143 1.5C12.2143 0.947715 12.662 0.5 13.2143 0.5H14.2857C14.838 0.5 15.2857 0.947715 15.2857 1.5C15.2857 2.05228 14.838 2.5 14.2857 2.5H13.2143C12.662 2.5 12.2143 2.05228 12.2143 1.5ZM24.7143 1.5C24.7143 0.947715 25.162 0.5 25.7143 0.5H26.7857C27.338 0.5 27.7857 0.947715 27.7857 1.5C27.7857 2.05228 27.338 2.5 26.7857 2.5H25.7143C25.162 2.5 24.7143 2.05228 24.7143 1.5ZM37.2143 1.5C37.2143 0.947715 37.662 0.5 38.2143 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H38.2143C37.662 2.5 37.2143 2.05228 37.2143 1.5Z" fill="black"/></svg>'},{intl:"LongDash",label:"long dash",value:"long-dash",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H13.1818C13.7341 0.5 14.1818 0.947715 14.1818 1.5C14.1818 2.05228 13.7341 2.5 13.1818 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM25.8182 1.5C25.8182 0.947715 26.2659 0.5 26.8182 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H26.8182C26.2659 2.5 25.8182 2.05228 25.8182 1.5Z" fill="black"/></svg>'},{intl:"LongDashDot",label:"long dash dot",value:"long-dash-dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H9.78659C10.3389 0.5 10.7866 0.947715 10.7866 1.5C10.7866 2.05228 10.3389 2.5 9.78659 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM18.5427 1.5C18.5427 0.947715 18.9904 0.5 19.5427 0.5H20.4573C21.0096 0.5 21.4573 0.947715 21.4573 1.5C21.4573 2.05228 21.0096 2.5 20.4573 2.5H19.5427C18.9904 2.5 18.5427 2.05228 18.5427 1.5ZM29.2134 1.5C29.2134 0.947715 29.6611 0.5 30.2134 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H30.2134C29.6611 2.5 29.2134 2.05228 29.2134 1.5Z" fill="black"/></svg>'},{intl:"LongDashDotDot",label:"long dash dot dot",value:"long-dash-dot-dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H7.89557C8.44785 0.5 8.89557 0.947715 8.89557 1.5C8.89557 2.05228 8.44785 2.5 7.89557 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM14.4905 1.5C14.4905 0.947715 14.9382 0.5 15.4905 0.5H16.2025C16.7548 0.5 17.2025 0.947715 17.2025 1.5C17.2025 2.05228 16.7548 2.5 16.2025 2.5H15.4905C14.9382 2.5 14.4905 2.05228 14.4905 1.5ZM22.7975 1.5C22.7975 0.947715 23.2452 0.5 23.7975 0.5H24.5095C25.0618 0.5 25.5095 0.947715 25.5095 1.5C25.5095 2.05228 25.0618 2.5 24.5095 2.5H23.7975C23.2452 2.5 22.7975 2.05228 22.7975 1.5ZM31.1044 1.5C31.1044 0.947715 31.5521 0.5 32.1044 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H32.1044C31.5521 2.5 31.1044 2.05228 31.1044 1.5Z" fill="black"/></svg>'},{intl:"ShortDash",label:"short dash",value:"short-dash",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H6.76471C7.31699 0.5 7.76471 0.947715 7.76471 1.5C7.76471 2.05228 7.31699 2.5 6.76471 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM13.4853 1.5C13.4853 0.947715 13.933 0.5 14.4853 0.5H25.5147C26.067 0.5 26.5147 0.947715 26.5147 1.5C26.5147 2.05228 26.067 2.5 25.5147 2.5H14.4853C13.933 2.5 13.4853 2.05228 13.4853 1.5ZM32.2353 1.5C32.2353 0.947715 32.683 0.5 33.2353 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H33.2353C32.683 2.5 32.2353 2.05228 32.2353 1.5Z" fill="black"/></svg>'},{intl:"ShortDashDot",label:"short dash dot",value:"short-dash-dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H5.06356C5.61584 0.5 6.06356 0.947715 6.06356 1.5C6.06356 2.05228 5.61584 2.5 5.06356 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM9.1483 1.5C9.1483 0.947715 9.59602 0.5 10.1483 0.5H11.1017C11.654 0.5 12.1017 0.947715 12.1017 1.5C12.1017 2.05228 11.654 2.5 11.1017 2.5H10.1483C9.59602 2.5 9.1483 2.05228 9.1483 1.5ZM15.1864 1.5C15.1864 0.947715 15.6342 0.5 16.1864 0.5H23.8136C24.3658 0.5 24.8136 0.947715 24.8136 1.5C24.8136 2.05228 24.3658 2.5 23.8136 2.5H16.1864C15.6342 2.5 15.1864 2.05228 15.1864 1.5ZM27.8983 1.5C27.8983 0.947715 28.346 0.5 28.8983 0.5H29.8517C30.404 0.5 30.8517 0.947715 30.8517 1.5C30.8517 2.05228 30.404 2.5 29.8517 2.5H28.8983C28.346 2.5 27.8983 2.05228 27.8983 1.5ZM33.9364 1.5C33.9364 0.947715 34.3842 0.5 34.9364 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H34.9364C34.3842 2.5 33.9364 2.05228 33.9364 1.5Z" fill="black"/></svg>'},{intl:"ShortDashDotDot",label:"short dash dot dot",value:"short-dash-dot-dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H4.13462C4.6869 0.5 5.13462 0.947715 5.13462 1.5C5.13462 2.05228 4.6869 2.5 4.13462 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM6.98077 1.5C6.98077 0.947715 7.42848 0.5 7.98077 0.5H8.70192C9.25421 0.5 9.70192 0.947715 9.70192 1.5C9.70192 2.05228 9.25421 2.5 8.70192 2.5H7.98077C7.42848 2.5 6.98077 2.05228 6.98077 1.5ZM11.5481 1.5C11.5481 0.947715 11.9958 0.5 12.5481 0.5H13.2692C13.8215 0.5 14.2692 0.947715 14.2692 1.5C14.2692 2.05228 13.8215 2.5 13.2692 2.5H12.5481C11.9958 2.5 11.5481 2.05228 11.5481 1.5ZM16.1154 1.5C16.1154 0.947715 16.5631 0.5 17.1154 0.5H22.8846C23.4369 0.5 23.8846 0.947715 23.8846 1.5C23.8846 2.05228 23.4369 2.5 22.8846 2.5H17.1154C16.5631 2.5 16.1154 2.05228 16.1154 1.5ZM25.7308 1.5C25.7308 0.947715 26.1785 0.5 26.7308 0.5H27.4519C28.0042 0.5 28.4519 0.947715 28.4519 1.5C28.4519 2.05228 28.0042 2.5 27.4519 2.5H26.7308C26.1785 2.5 25.7308 2.05228 25.7308 1.5ZM30.2981 1.5C30.2981 0.947715 30.7458 0.5 31.2981 0.5H32.0192C32.5715 0.5 33.0192 0.947715 33.0192 1.5C33.0192 2.05228 32.5715 2.5 32.0192 2.5H31.2981C30.7458 2.5 30.2981 2.05228 30.2981 1.5ZM34.8654 1.5C34.8654 0.947715 35.3131 0.5 35.8654 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H35.8654C35.3131 2.5 34.8654 2.05228 34.8654 1.5Z" fill="black"/></svg>'},{intl:"ShortDot",label:"short dot",value:"short-dot",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H1.74342C2.29571 0.5 2.74342 0.947715 2.74342 1.5C2.74342 2.05228 2.29571 2.5 1.74342 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5ZM6.00658 1.5C6.00658 0.947715 6.45429 0.5 7.00658 0.5H7.99342C8.54571 0.5 8.99342 0.947715 8.99342 1.5C8.99342 2.05228 8.54571 2.5 7.99342 2.5H7.00658C6.45429 2.5 6.00658 2.05228 6.00658 1.5ZM12.2566 1.5C12.2566 0.947715 12.7043 0.5 13.2566 0.5H14.2434C14.7957 0.5 15.2434 0.947715 15.2434 1.5C15.2434 2.05228 14.7957 2.5 14.2434 2.5H13.2566C12.7043 2.5 12.2566 2.05228 12.2566 1.5ZM18.5066 1.5C18.5066 0.947715 18.9543 0.5 19.5066 0.5H20.4934C21.0457 0.5 21.4934 0.947715 21.4934 1.5C21.4934 2.05228 21.0457 2.5 20.4934 2.5H19.5066C18.9543 2.5 18.5066 2.05228 18.5066 1.5ZM24.7566 1.5C24.7566 0.947715 25.2043 0.5 25.7566 0.5H26.7434C27.2957 0.5 27.7434 0.947715 27.7434 1.5C27.7434 2.05228 27.2957 2.5 26.7434 2.5H25.7566C25.2043 2.5 24.7566 2.05228 24.7566 1.5ZM31.0066 1.5C31.0066 0.947715 31.4543 0.5 32.0066 0.5H32.9934C33.5457 0.5 33.9934 0.947715 33.9934 1.5C33.9934 2.05228 33.5457 2.5 32.9934 2.5H32.0066C31.4543 2.5 31.0066 2.05228 31.0066 1.5ZM37.2566 1.5C37.2566 0.947715 37.7043 0.5 38.2566 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H38.2566C37.7043 2.5 37.2566 2.05228 37.2566 1.5Z" fill="black"/></svg>'},{intl:"Solid",label:"solid",value:"solid",img:'<svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 1.5C0.25 0.947715 0.697715 0.5 1.25 0.5H38.75C39.3023 0.5 39.75 0.947715 39.75 1.5C39.75 2.05228 39.3023 2.5 38.75 2.5H1.25C0.697715 2.5 0.25 2.05228 0.25 1.5Z" fill="black"/></svg>'}],Ae=e=>{const t=e.colors.black;return`\n  .line-options-img {\n    display: flex;\n    width: 40px;\n    color: ${t} !important;\n\n    path {\n      stroke: ${t} !important;\n      transform: translateY(50%);\n    }\n  }\n  `},be=e=>{var t,s;return i.css`
    &.jimu-symbol-list {
      /* preview */
      .jimu-symbol-list-preview {
        .preview-item {
          max-height: 80px;
          max-width: 80px;
        }
      }

      .keep-line {
        word-break: keep-all;
      }

      .points-source-selector {
        overflow: hidden;
      }

      /* setting row */
      .params-settings {
        .divide-line {
          border-right: 1px solid ${null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.palette.light[500]};
          height: 26px;
        }

        .numeric-input {

        }

        .params-setting-row-one {
          ${Ae(e)}
        }

        .params-setting-row-two {
          .slider {
            width: calc(100% - 80px)
          }
          .input-unit {
            width: 70px
          }
        }
      }

      /* symbols wapper */
      .symbol-list-wapper {
        display: flex;
        flex-wrap: wrap;

        background-color: ${null===(s=null==e?void 0:e.colors)||void 0===s?void 0:s.palette.light[200]};
        max-height: 150px;
        min-width: 200px;
        overflow-y: auto;
      }

      .symbol-item-wapper {
        /* 16.66666%; */
        flex: 0 0 calc(100%/${6});

        width: 32px;
        height: 32px;
      }
    }
  `};class Ce extends i.React.PureComponent{constructor(e){super(e),this.jsonUtils=null,this.handleSymbolSelected=(e,t)=>{this.setState({currentIndex:e}),this.props.onSymbolChanged(t)},this.onSelectChanged=e=>{const t=e.target.value,i=this.props.symbol.clone();i.style=t,this.props.onSymbolChanged(i)},this.updateSymbolLineWidth=e=>{const t=this.props.symbol.clone();t.width=e,this.props.onSymbolChanged(t)},this.getOpacityInSymbol=()=>{const e=this.props.symbol.clone().color;return null==e?void 0:e.a},this.updateSymbolOpacity=e=>{const t=this.props.symbol.clone();t.color.a=me(e,1),this.props.onSymbolChanged(t)},this.updateSymbolFillColor=e=>{const t=this.props.symbol.clone();t.color=e,this.props.onSymbolChanged(t)},this.renderPolylineSymbolList=()=>this.jsonUtils?xe.map(((e,t)=>{const s=this.jsonUtils.fromJSON(e);return(0,i.jsx)("div",{key:t,className:"symbol-item-wapper mt-1"},(0,i.jsx)(Ne,{theme:this.props.theme,jimuSymbolType:Me.JimuSymbolType.Polyline,index:t,key:t,symbol:s,isActive:this.state.currentIndex===t,onClick:this.handleSymbolSelected}))})):null,this.getPolylineSymbolParamsSetting=()=>{if(this.props.symbol){const e=this.props.symbol.clone(),t=e.color,s=null==e?void 0:e.style,o=null==e?void 0:e.width,a=this.getOpacityInSymbol(),n=(100*a).toFixed(1),r=this.props.intl.formatMessage({id:"drawToolOpacity",defaultMessage:l.defaultMessages.drawToolOpacity}),M=Se(r,n);return(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)("div",{className:"params-setting-row-one w-100 d-flex align-items-center justify-content-between mb-2"},(0,i.jsx)(we,{size:"sm",style:{width:80},value:o,min:1,max:20,onChange:this.updateSymbolLineWidth}),(0,i.jsx)("div",{className:"divide-line"}),(0,i.jsx)(l.Select,{size:"sm",value:s,onChange:this.onSelectChanged,style:{width:"80px"}},Le.map(((e,t)=>{return(0,i.jsx)(l.Option,{key:t,title:this.props.intl.formatMessage({id:`drawTool${e.intl}`,defaultMessage:l.defaultMessages[`drawTool${e.intl}`]}),value:e.value,label:e.label},(0,i.jsx)("div",{css:(s=this.props.theme,i.css`
    ${Ae(s)}
  `)},(0,i.jsx)(l.SVG,{className:"mx-2 line-options-img",src:`${e.img}`})));var s}))),(0,i.jsx)("div",{className:"divide-line"}),(0,i.jsx)(Te.ColorPicker,{color:je(t),onChange:this.updateSymbolFillColor,outline:!0})),(0,i.jsx)("div",{className:"params-setting-row-two w-100 d-flex align-items-center"},(0,i.jsx)(l.Slider,{title:M,value:a,min:0,max:1,step:.1,className:"slider mr-2",onChange:e=>{this.updateSymbolOpacity(e.currentTarget.value)}}),(0,i.jsx)(Ie,{symbol:this.props.symbol,opacityPercentage:Number(n),onSymbolChanged:this.props.onSymbolChanged})))}return null},this.state={apiLoaded:!1,currentIndex:null}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils"]).then((e=>{[this.jsonUtils]=e,this.setState({apiLoaded:!0},(()=>{"function"==typeof this.props.onA11yFocus&&this.props.onA11yFocus()}))}))}render(){return(0,i.jsx)("div",{className:"w-100 "},(0,i.jsx)("div",{className:"symbol-list-wapper p-1 mb-4"},this.renderPolylineSymbolList()),(0,i.jsx)("div",{className:"params-settings w-100 "},this.getPolylineSymbolParamsSetting()))}}const Ee=[{tags:["opaque"],title:"Blue",style:"esriSFSSolid",color:[79,129,189,255],name:"Blue 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}},{tags:["opaque"],title:"Red",style:"esriSFSSolid",color:[192,80,77,255],name:"Red 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[160,63,60,255],width:1.5,type:"esriSLS"}},{tags:["opaque"],title:"Olive Green",style:"esriSFSSolid",color:[155,187,89,255],name:"Olive Green 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[115,140,61,255],width:1.5,type:"esriSLS"}},{tags:["opaque"],title:"Purple",style:"esriSFSSolid",color:[128,100,162,255],name:"Purple 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[140,125,158,255],width:1.5,type:"esriSLS"}},{tags:["opaque","blue"],title:"Aqua",style:"esriSFSSolid",color:[75,172,198,255],name:"Aqua 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[63,131,150,255],width:1.5,type:"esriSLS"}},{tags:["opaque"],title:"Orange",style:"esriSFSSolid",color:[239,132,38,255],name:"Orange 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[184,115,59,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque"],title:"Blue",style:"esriSFSSolid",color:[79,129,189,128],name:"Blue 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque"],title:"Red",style:"esriSFSSolid",color:[192,80,77,128],name:"Red 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[160,63,60,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque"],title:"Olive Green",style:"esriSFSSolid",color:[155,187,89,128],name:"Olive Green 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[115,140,61,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque"],title:"Purple",style:"esriSFSSolid",color:[128,100,162,128],name:"Purple 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[140,125,158,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque","blue"],title:"Aqua",style:"esriSFSSolid",color:[75,172,198,128],name:"Aqua 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[63,131,150,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque"],title:"Orange",style:"esriSFSSolid",color:[239,132,38,128],name:"Orange 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[184,115,59,255],width:1.5,type:"esriSLS"}},{tags:["semi-opaque"],title:"Blue",style:"esriSFSSolid",color:[220,232,255,255],name:"Blue 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[108,151,203,255],width:1.5,type:"esriSLS"}},{tags:[""],title:"Red",style:"esriSFSSolid",color:[255,199,198,255],name:"Red 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[207,101,99,255],width:1.5,type:"esriSLS"}},{title:"Olive Green",style:"esriSFSSolid",color:[235,254,208,255],name:"Olive Green 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[166,191,116,255],width:1.5,type:"esriSLS"}},{title:"Purple",style:"esriSFSSolid",color:[224,212,242,255],name:"Purple 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[145,122,171,255],width:1.5,type:"esriSLS"}},{tags:["blue"],title:"Aqua",style:"esriSFSSolid",color:[194,240,255,255],name:"Aqua 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[101,179,200,255],width:1.5,type:"esriSLS"}},{title:"Orange",style:"esriSFSSolid",color:[255,214,180,255],name:"Orange 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[251,164,93,255],width:1.5,type:"esriSLS"}},{tags:["white","outline"],title:"Blue",style:"esriSFSSolid",color:[108,151,203,255],name:"Blue 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[255,255,255,255],width:2,type:"esriSLS"}},{tags:["white","outline"],title:"Red",style:"esriSFSSolid",color:[207,101,99,255],name:"Red 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[255,255,255,255],width:2,type:"esriSLS"}},{tags:["white","outline"],title:"Olive Green",style:"esriSFSSolid",color:[166,191,116,255],name:"Olive Green 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[255,255,255,255],width:2,type:"esriSLS"}},{tags:["white","outline","blue"],title:"Aqua",style:"esriSFSSolid",color:[101,179,200,255],name:"Purple 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[255,255,255,255],width:2,type:"esriSLS"}},{tags:["white","outline"],title:"Red",style:"esriSFSSolid",color:[246,91,60,255],name:"Aqua 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[255,255,255,255],width:2,type:"esriSLS"}},{tags:["white","outline"],title:"Orange",style:"esriSFSSolid",color:[251,164,93,255],name:"Orange 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[255,255,255,255],width:2,type:"esriSLS"}},{tags:["hollow"],title:"Blue",style:"esriSFSSolid",color:[108,151,203,0],name:"Blue 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[108,151,203,255],width:2,type:"esriSLS"}},{tags:["hollow"],title:"Red",style:"esriSFSSolid",color:[207,101,99,0],name:"Red 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[207,101,99,255],width:2,type:"esriSLS"}},{tags:["hollow"],title:"Olive Green",style:"esriSFSSolid",color:[166,191,116,0],name:"Olive Green 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[166,191,116,255],width:2,type:"esriSLS"}},{tags:["hollow"],title:"Aqua",style:"esriSFSSolid",color:[101,179,200,0],name:"Purple 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[101,179,200,255],width:2,type:"esriSLS"}},{tags:["hollow","blue"],title:"Red",style:"esriSFSSolid",color:[246,91,60,0],name:"Aqua 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[246,91,60,255],width:2,type:"esriSLS"}},{tags:["hollow"],title:"Orange",style:"esriSFSSolid",color:[251,164,93,0],name:"Orange 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[251,164,93,255],width:2,type:"esriSLS"}},{tags:["no outline"],title:"Blue",style:"esriSFSSolid",color:[58,120,192,255],name:"Blue 4",type:"esriSFS",outline:{style:"esriSLSNull",width:0,type:"esriSLS"}},{tags:["no outline"],title:"Red",style:"esriSFSSolid",color:[184,55,52,255],name:"Red 4",type:"esriSFS",outline:{style:"esriSLSNull",width:0,type:"esriSLS"}},{tags:["no outline"],title:"Olive Green",style:"esriSFSSolid",color:[142,179,65,255],name:"Olive Green 4",type:"esriSFS",outline:{style:"esriSLSNull",width:0,type:"esriSLS"}},{tags:["no outline"],title:"Purple",style:"esriSFSSolid",color:[111,79,150,255],name:"Purple 4",type:"esriSFS",outline:{style:"esriSLSNull",width:0,type:"esriSLS"}},{tags:["no outline","blue"],title:"Aqua",style:"esriSFSSolid",color:[47,157,187,255],name:"Aqua 4",type:"esriSFS",outline:{style:"esriSLSNull",width:0,type:"esriSLS"}},{tags:["no outline"],title:"Orange",style:"esriSFSSolid",color:[239,132,38,255],name:"Orange 4",type:"esriSFS",outline:{style:"esriSLSNull",width:0,type:"esriSLS"}},{title:"Black",style:"esriSFSSolid",color:[0,0,0,255],name:"Gray 7",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1,type:"esriSLS"}},{title:"Gray 80",style:"esriSFSSolid",color:[51,51,51,255],name:"Gray 8",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1,type:"esriSLS"}},{title:"Gray 60",style:"esriSFSSolid",color:[119,119,119,255],name:"Gray 9",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1,type:"esriSLS"}},{title:"Gray 40",style:"esriSFSSolid",color:[187,187,187,255],name:"Gray 10",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1,type:"esriSLS"}},{title:"Gray 20",style:"esriSFSSolid",color:[221,221,221,255],name:"Gray 11",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1,type:"esriSLS"}},{title:"White",style:"esriSFSSolid",color:[255,255,255,255],name:"Gray 12",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1,type:"esriSLS"}},{title:"Gray (opacity 50)",style:"esriSFSSolid",color:[1,1,1,153],name:"Gray 1",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1.5,type:"esriSLS"}},{title:"Gray (opacity 50)",style:"esriSFSSolid",color:[51,51,51,128],name:"Gray 2",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1.5,type:"esriSLS"}},{title:"Gray (opacity 50)",style:"esriSFSSolid",color:[119,119,119,128],name:"Gray 3",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1.5,type:"esriSLS"}},{title:"Gray (opacity 50)",style:"esriSFSSolid",color:[187,187,187,128],name:"Gray 4",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1.5,type:"esriSLS"}},{title:"Gray (opacity 50)",style:"esriSFSSolid",color:[221,221,221,128],name:"Gray 5",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1.5,type:"esriSLS"}},{title:"Gray (opacity 50)",style:"esriSFSSolid",color:[221,221,221,128],name:"Gray 6",type:"esriSFS",outline:{style:"esriSLSSolid",color:[0,0,0,255],width:1.5,type:"esriSLS"}},{tags:["green","blue","outline"],title:"Lime",style:"esriSFSSolid",color:[0,255,0,128],name:"Lime",type:"esriSFS",outline:{style:"esriSLSSolid",color:[71,105,146,255],width:1.5,type:"esriSLS"}},{tags:["blue","outline"],title:"Brown",style:"esriSFSSolid",color:[165,42,42,128],name:"Brown",type:"esriSFS",outline:{style:"esriSLSSolid",color:[71,105,146,255],width:1.5,type:"esriSLS"}},{tags:["blue","outline"],title:"Green",style:"esriSFSSolid",color:[0,128,0,128],name:"Green",type:"esriSFS",outline:{style:"esriSLSSolid",color:[71,105,146,255],width:1.5,type:"esriSLS"}},{tags:["blue","outline"],title:"Yellow",style:"esriSFSSolid",color:[255,255,0,128],name:"Yellow",type:"esriSFS",outline:{style:"esriSLSSolid",color:[71,105,146,255],width:1.5,type:"esriSLS"}},{tags:["blue","outline"],title:"Navy",style:"esriSFSSolid",color:[0,0,128,128],name:"Navy",type:"esriSFS",outline:{style:"esriSLSSolid",color:[71,105,146,255],width:1.5,type:"esriSLS"}}];class ve extends i.React.PureComponent{constructor(e){super(e),this.jsonUtils=null,this.handleSymbolSelected=(e,t)=>{this.setState({currentIndex:e}),this.props.onSymbolChanged(t)},this.renderPolygonSymbolList=()=>this.jsonUtils?Ee.map(((e,t)=>{const s=this.jsonUtils.fromJSON(e);return i.React.createElement("div",{key:t,className:"symbol-item-wapper mt-1"},i.React.createElement(Ne,{theme:this.props.theme,jimuSymbolType:Me.JimuSymbolType.Polygon,index:t,key:t,symbol:s,isActive:this.state.currentIndex===t,onClick:this.handleSymbolSelected}))})):null,this.getPolygonSymbolParamsSetting=()=>{if(this.props.symbol){const e=this.props.symbol.clone(),t=e.color,s=null==e?void 0:e.outline,o=je(null==s?void 0:s.color),a=null==s?void 0:s.width,n=this.getOpacityInSymbol(),r=(100*n).toFixed(1),M=this.props.intl.formatMessage({id:"drawToolOpacity",defaultMessage:l.defaultMessages.drawToolOpacity}),c=Se(M,r);return i.React.createElement(i.React.Fragment,null,i.React.createElement("div",{className:"w-100 d-flex justify-content-between align-items-center mb-2"},i.React.createElement(Te.ColorPicker,{color:je(t),onChange:this.updateSymbolFillColor}),i.React.createElement("div",{className:"divide-line"}),i.React.createElement("div",{style:{position:"relative"}},i.React.createElement(Te.ColorPicker,{color:o,onChange:this.updateSymbolOutLineColor,outline:!0})),i.React.createElement(we,{size:"sm",style:{width:80},value:a,min:0,max:20,onChange:this.updateSymbolOutLineWeight})),i.React.createElement("div",{className:"params-setting-row-two w-100 d-flex align-items-center"},i.React.createElement(l.Slider,{title:c,value:n,min:0,max:1,step:.1,className:"slider mr-2",onChange:e=>{this.updateSymbolOpacity(e.currentTarget.value)}}),i.React.createElement(Ie,{symbol:this.props.symbol,opacityPercentage:Number(r),onSymbolChanged:this.props.onSymbolChanged})))}return null},this.updateSymbolOutLineWeight=e=>{const t=this.props.symbol.clone();t.outline.width=e,this.props.onSymbolChanged(t)},this.updateSymbolOutLineColor=e=>{const t=this.props.symbol.clone();t.outline.color=e,this.props.onSymbolChanged(t)},this.updateSymbolFillColor=e=>{const t=this.props.symbol.clone();t.color=e,this.props.onSymbolChanged(t)},this.getOpacityInSymbol=()=>{const e=this.props.symbol.clone().color;return null==e?void 0:e.a},this.updateSymbolOpacity=e=>{const t=this.props.symbol.clone();t.color.a=me(e,1),this.props.onSymbolChanged(t)},this.state={apiLoaded:!1,currentIndex:null}}componentDidMount(){this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils"]).then((e=>{[this.jsonUtils]=e,this.setState({apiLoaded:!0},(()=>{"function"==typeof this.props.onA11yFocus&&this.props.onA11yFocus()}))}))}render(){return i.React.createElement("div",{className:"w-100 "},i.React.createElement("div",{className:"symbol-list-wapper p-1 mb-4"},this.renderPolygonSymbolList()),i.React.createElement("div",{className:"params-settings w-100"},this.getPolygonSymbolParamsSetting()))}}var ke,fe;(fe=ke||(ke={})).Point="Point",fe.Polyline="Polyline",fe.Polygon="Polygon";const Ue=i.React.memo((e=>{const s=(0,t.useTheme)(),o=(0,i.useIntl)(),{onPointSymbolChanged:a,onPolylineSymbolChanged:n,onPolygonSymbolChanged:r,onA11yFocus:M}=e,c=ye(),u=c(e.symbol,e.jimuSymbolType),[p,g]=i.React.useState(u);i.React.useEffect((()=>{g(c(e.symbol,e.jimuSymbolType))}),[e.symbol,e.jimuSymbolType,c]);const d=i.React.useCallback((e=>{g(e),void 0!==a&&a(e)}),[g,a]),N=i.React.useCallback((e=>{g(e),void 0!==n&&n(e)}),[g,n]),h=i.React.useCallback((e=>{g(e),void 0!==r&&r(e)}),[g,r]);i.React.useEffect((()=>{M()}),[e.jimuSymbolType,M]);const[D,y]=i.React.useState(!e.isShow);i.hooks.useUpdateEffect((()=>{y(!1)}),[e.isShow]);const m=e.jimuSymbolType===ke.Point,j=e.jimuSymbolType===ke.Polyline,S=e.jimuSymbolType===ke.Polygon,I=e.isShow?"d-flex":"d-none",T=m?"d-flex "+l.FOCUSABLE_CONTAINER_CLASS:"d-none",w=j?"d-flex "+l.FOCUSABLE_CONTAINER_CLASS:"d-none",z=S?"d-flex "+l.FOCUSABLE_CONTAINER_CLASS:"d-none";return(0,i.jsx)("div",{className:(0,i.classNames)(e.className,"jimu-symbol-list p-4"),css:be(s)},(m||j||S)&&(0,i.jsx)(he,{symbol:p}),!D&&(0,i.jsx)("div",{className:I},(0,i.jsx)("div",{className:"w-100 "+T},(0,i.jsx)(Oe,{intl:o,theme:s,symbol:p,onSymbolChanged:d,onA11yFocus:e.onA11yFocus})),(0,i.jsx)("div",{className:"w-100 "+w},(0,i.jsx)(Ce,{intl:o,theme:s,symbol:p,onSymbolChanged:N,onA11yFocus:e.onA11yFocus})),(0,i.jsx)("div",{className:"w-100 "+z},(0,i.jsx)(ve,{intl:o,theme:s,symbol:p,onSymbolChanged:h,onA11yFocus:e.onA11yFocus}))))})),Qe=()=>i.css`
    .content-container {
      width: 250px; /* width for FF ,#14111 */
    }
  `,{useState:Ye,useEffect:Pe,useCallback:Re,useRef:Ve}=i.React,Ge=i.React.memo((e=>{var s;const o=(0,t.useTheme)(),a=Ve(null),{onPopperToggle:n}=e,[r,M]=Ye(!1),c=Re(((e,t)=>{let i=e,s=r!==e;t&&(s=!0,i=!1),s&&M(e),"function"==typeof n&&s&&n(e)}),[n,r]);Pe((()=>()=>{c(!1,!0)}),[]);const u=Re(((e,t)=>{let i=!1;("pageOrSizeMode"===t||e.key&&"Escape"===(null==e?void 0:e.key))&&(i=!0),e.key||(i=!0),i&&(c(!1,!0),null==a||a.current.focus())}),[c,a]),[p,g]=Ye(0);i.hooks.useUpdateEffect((()=>{g((e=>e+1))}),[r]);const[d,N]=i.React.useState(!0);i.hooks.useUpdateEffect((()=>{d||N(!0)}),[d]);const h=i.React.useCallback((()=>{N(!1)}),[N]),{onPointSymbolChanged:D,onPolylineSymbolChanged:y,onPolygonSymbolChanged:m,onCreated:j}=e,S=ye(),I=S(e.symbol,e.jimuSymbolType),[T,w]=Ye(I);i.React.useEffect((()=>{w(S(e.symbol,e.jimuSymbolType))}),[e.symbol,e.jimuSymbolType,S]);const z=Re((e=>{w(e),void 0!==D&&D(e)}),[w,D]),O=Re((e=>{w(e),void 0!==y&&y(e)}),[w,y]),x=Re((e=>{w(e),void 0!==m&&m(e)}),[w,m]);Pe((()=>{"function"==typeof j&&j({symbol:I})}),[j,I]);const L=[{name:"preventOverflow",options:{boundary:document.body,rootBoundary:document}}],A=null===(s=e.isShowPreviewBtn)||void 0===s||s;return(0,i.jsx)("div",{className:"jimu-symbol-selector"},A&&(0,i.jsx)(Ne,{theme:o,jimuSymbolType:e.jimuSymbolType,isSelectorPreview:!0,symbol:T,onClick:()=>{c(!r)},className:"symbol-selector-preview-btn",btnSize:e.btnSize,btnRef:a}),(null==a?void 0:a.current)&&(0,i.jsx)(l.Popper,{reference:a.current,placement:"bottom",showArrow:!0,open:r,keepMount:!0,version:p,toggle:u,autoFocus:d,forceLatestFocusElements:!0,css:Qe(),modifiers:L},(0,i.jsx)("div",{className:"content-container"},(0,i.jsx)(Ue,{symbol:T,jimuSymbolType:e.jimuSymbolType,isShow:r,className:"content-container",onPointSymbolChanged:z,onPolylineSymbolChanged:O,onPolygonSymbolChanged:x,onA11yFocus:h}))))})),Be=(0,t.withStyles)((0,t.withTheme)(Ge),"SymbolSelector"),{useState:Fe,useEffect:He,useCallback:We}=i.React,Je=i.React.memo((e=>{var t;const[s,o]=Fe(!1),a=We((t=>{const i=s!==t;o(t),"function"==typeof e.onPopperToggle&&i&&e.onPopperToggle(t)}),[e,s]);He((()=>()=>{a(!1)}),[]);const n=We((t=>{var i;let s=!1;t.key&&"Escape"===(null==t?void 0:t.key)&&(s=!0),t.key,s&&(a(!1),null===(i=e.popperPositionRef)||void 0===i||i.focus())}),[e.popperPositionRef,a]),[r,M]=Fe(null!==(t=e.popperVersion)&&void 0!==t?t:0);He((()=>{M((e=>e+1))}),[s,e.popperVersion,e.popperPositionRef]);const c=e.jimuSymbolType===ke.Point,u=e.jimuSymbolType===ke.Polyline,p=e.jimuSymbolType===ke.Polygon,g=c?"d-flex":"d-none",d=u?"d-flex":"d-none",N=p?"d-flex":"d-none";return(0,i.jsx)("div",{className:"jimu-symbol-selector"},(0,i.jsx)(l.Popper,{reference:e.popperPositionRef,placement:"bottom",offset:[0,12],showArrow:!0,open:e.popperIsVisible,keepMount:!0,version:r,toggle:n,forceLatestFocusElements:!0,css:Qe()},(0,i.jsx)("div",{className:"content-container"},(0,i.jsx)("div",{className:g},(0,i.jsx)(Ue,{symbol:e.symbol,jimuSymbolType:ke.Point,isShow:c,onPointSymbolChanged:e.onPointSymbolChanged})),(0,i.jsx)("div",{className:d},(0,i.jsx)(Ue,{symbol:e.symbol,jimuSymbolType:ke.Polyline,isShow:u,onPolylineSymbolChanged:e.onPolylineSymbolChanged})),(0,i.jsx)("div",{className:N},(0,i.jsx)(Ue,{symbol:e.symbol,jimuSymbolType:ke.Polygon,isShow:p,onPolygonSymbolChanged:e.onPolygonSymbolChanged})))))})),Ze={Point:{type:"esriSMS",color:[0,0,128,128],angle:0,xoffset:0,yoffset:0,size:18,style:"esriSMSCircle",outline:{type:"esriSLS",color:[0,0,128,255],width:1,style:"esriSLSSolid"}},Polyline:{color:[130,130,130,255],style:"esriSLSSolid",type:"esriSLS",width:2},Polygon:{color:[150,150,150,51],outline:{color:[50,50,50,255],style:"esriSLSSolid",type:"esriSLS",width:2},style:"esriSFSSolid",type:"esriSFS"}},_e=(e,t)=>{let i=null;switch(e){case Me.JimuSymbolType.Point:i=null==t?void 0:t.fromJSON(Ze.Point);break;case Me.JimuSymbolType.Polyline:i=null==t?void 0:t.fromJSON(Ze.Polyline);break;case Me.JimuSymbolType.Polygon:i=null==t?void 0:t.fromJSON(Ze.Polygon);break;default:i=null}return i},$e=(e,t,i)=>[ct.Polyline].includes(e)?(t.polylineSymbol||(t.polylineSymbol=_e(ke.Polyline,i)),t.polylineSymbol):[ct.Polygon,ct.Rectangle,ct.Circle].includes(e)?(t.polygonSymbol||(t.polygonSymbol=_e(ke.Polygon,i)),t.polygonSymbol):(t.pointSymbol||(t.pointSymbol=_e(ke.Point,i)),t.pointSymbol),qe=e=>{switch(e){case ct.Point:return ke.Point;case ct.Polyline:return ke.Polyline;case ct.Polygon:case ct.Rectangle:case ct.Circle:return ke.Polygon;default:return null}},Ke=e=>{null==e||e.forEach((e=>{Xe(e)}))},Xe=e=>{!e||e.attributes&&e.attributes.id||(e.attributes={},e.attributes.id=i.utils.getUUID())};var et=M(74904),tt=M.n(et);const it=e=>{const t=window.SVG,{className:s}=e,o=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["className"]),a=(0,i.classNames)("jimu-icon jimu-icon-component",s);return t?i.React.createElement(t,Object.assign({className:a,src:tt()},o)):i.React.createElement("svg",Object.assign({className:a},o))};var st=M(23163),ot=M.n(st);const at=e=>{const t=window.SVG,{className:s}=e,o=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["className"]),a=(0,i.classNames)("jimu-icon jimu-icon-component",s);return t?i.React.createElement(t,Object.assign({className:a,src:ot()},o)):i.React.createElement("svg",Object.assign({className:a},o))};var nt=M(11001),lt=M.n(nt);const rt=e=>{const t=window.SVG,{className:s}=e,o=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i}(e,["className"]),a=(0,i.classNames)("jimu-icon jimu-icon-component",s);return t?i.React.createElement(t,Object.assign({className:a,src:lt()},o)):i.React.createElement("svg",Object.assign({className:a},o))};var Mt,ct;!function(e){e.Single="single",e.Continuous="continuous",e.Update="update"}(Mt||(Mt={})),function(e){e.Point="point",e.Polyline="polyline",e.Polygon="polygon",e.Rectangle="rectangle",e.Circle="circle"}(ct||(ct={}));class ut extends i.React.PureComponent{constructor(e){super(e),this.container=null,this.toolbarContainer=null,this.btnContainer=null,this.collapseBtnContainer=null,this.resizeObserver=null,this.SketchClass=null,this.SketchViewModelClass=null,this.GraphicsLayer=null,this.jsonUtils=null,this.sketch=null,this.layer=null,this.isLayerClearWhenUnmount=!1,this.AVAILABLE_TOOLS=[ct.Point,ct.Polyline,ct.Polygon,ct.Rectangle,ct.Circle],this._currentSymbols={pointSymbol:null,polylineSymbol:null,polygonSymbol:null},this.UPDATE_SYMBOL_FLAG=!1,this._onGraphicEdited=null,this.testBtnRef=null,this.deprecationNotice=()=>{const e="[jimu-ui/advanced/map/JimuDraw]",t="1.10";let i="\t🛑 Deprecated: [jimu-ui/advanced/map/Draw]";e&&(i+=`\n\t🛠️ Replacement: ${e}`),t&&(i+=`\n\t⚙️ Version: ${t}`),console.warn(i)},this._initSketch=()=>{var e,t,i,s,o;if(this.deactivate(),this._destroySketch(),this._removeLayer(),!(null===(e=this.props.jimuMapView)||void 0===e?void 0:e.view))return;if(this.props.layer)this.layer=this.props.layer;else{const e="draw-layer-"+this.props.jimuMapView.id+"-"+(new Date).getTime();this.layer=new this.GraphicsLayer({id:e,listMode:"hide",title:e}),this.isLayerClearWhenUnmount=!0}this.props.jimuMapView.view.map.findLayerById(this.layer.id)||this.props.jimuMapView.view.map.add(this.layer);const a=null!==(t=this.props.creationMode)&&void 0!==t?t:Mt.Continuous,n=null===(i=this.props.updateOnGraphicClick)||void 0===i||i,l=null!==(s=this.props.defaultCreateOptions)&&void 0!==s?s:null,r=null!==(o=this.props.defaultUpdateOptions)&&void 0!==o?o:null;this.sketch=new this.SketchClass({container:this.container,creationMode:a,visibleElements:this._getDefaultVisibleElements(this.props.visibleElements),viewModel:new this.SketchViewModelClass({view:this.props.jimuMapView.view,layer:this.layer,updateOnGraphicClick:n,defaultCreateOptions:l,defaultUpdateOptions:r,pointSymbol:this._currentSymbols.pointSymbol,polylineSymbol:this._currentSymbols.polylineSymbol,polygonSymbol:this._currentSymbols.polygonSymbol})}),this.sketch.when((()=>{var e,t,i,s,o;t=this.container,i=this.btnContainer,s=this.collapseBtnContainer,o=null!==(e=this.props.disableSymbolSelector)&&void 0!==e&&e,t&&t.children[0]&&(t.children[0].contains(i)&&t.children[0].removeChild(i),i.style.display="block",t.children[0].appendChild(i),t.children[0].contains(s)&&t.children[0].removeChild(s),t.children[0].appendChild(s),o||(s.style.display="block")),"function"==typeof this.props.onDrawToolCreated&&this.props.onDrawToolCreated({sketch:this.sketch,graphicsLayer:this.layer,complete:this.complete})})),this.sketch.watch("activeTool",(e=>{if(this.AVAILABLE_TOOLS.includes(e)){this.props.onDrawToolsActived&&this.props.onDrawToolsActived(e),((e,t,i,s)=>{if(e!==t)switch(t){case ct.Point:i.viewModel.pointSymbol=s.pointSymbol;break;case ct.Polyline:i.viewModel.polylineSymbol=s.polylineSymbol;break;case ct.Polygon:case ct.Rectangle:case ct.Circle:i.viewModel.polygonSymbol=s.polygonSymbol}})(this.state.currentActiveTool,e,this.sketch,this._currentSymbols);const t=((e,t)=>{let i=null;switch(e){case ct.Point:i="pin";break;case ct.Polyline:i="line";break;case ct.Polygon:case ct.Rectangle:case ct.Circle:i=e}return t.querySelector("calcite-icon[icon="+i+"]")})(e,this.toolbarContainer);this.setState({currentSymbol:$e(e,this._currentSymbols,this.jsonUtils),currentSymbolType:qe(e),currentActiveTool:e,currentActiveBtn:t,popperGeneration:this.state.popperGeneration+1})}else{if(this.UPDATE_SYMBOL_FLAG)return void(this.UPDATE_SYMBOL_FLAG=!1);this.setState({currentSymbolType:qe(e),currentActiveTool:null,popperGeneration:this.state.popperGeneration+1})}})),this.sketch.viewModel.on("create",(e=>{"start"===e.state&&this.props.onDrawStart&&this.props.onDrawStart(),"complete"===e.state&&this.props.onDrawEnd&&(null==e?void 0:e.graphic)&&(Ke([e.graphic]),this.props.onDrawEnd(e.graphic)),"cancel"===e.state&&this.props.onDrawCancel&&this.props.onDrawCancel()})),this.sketch.viewModel.on("update",(e=>{if(this.props.onGraphicEdited&&!e.aborted&&(clearTimeout(this._onGraphicEdited),this._onGraphicEdited=setTimeout((()=>{Ke(e.graphics),this.props.onGraphicEdited({type:"modified",graphics:e.graphics,layer:this.layer})}),200)),"complete"===e.state&&this.props.onGraphicEdited){Ke(e.graphics);const t=e.aborted?"aborted":"complete";this.props.onGraphicEdited({type:t,graphics:e.graphics,layer:this.layer})}})),this.sketch.viewModel.on("delete",(e=>{this.props.onGraphicEdited&&(Ke(e.graphics),this.props.onGraphicEdited({type:"deleted",graphics:e.graphics,layer:this.layer}))}))},this._getDefaultVisibleElements=e=>{let t=null!=e?e:null;return t=t?Object.assign(t,{settingsMenu:!1}):{settingsMenu:!1},t},this.complete=()=>{return e=this,t=void 0,s=function*(){yield new Promise(((e,t)=>{this.sketch&&["move","transform","reshape"].includes(this.sketch.activeTool)?(this.sketch.complete(),setTimeout((()=>{e(null)}),500)):e(null)}))},new((i=void 0)||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}));var e,t,i,s},this.deactivate=()=>{var e;this.sketch&&(null===(e=this.sketch.viewModel)||void 0===e||e.cancel())},this._destroySketch=()=>{this.sketch&&this.sketch.destroy()},this.clearGraphics=()=>{this.layer&&this.layer.removeAll(),this.props.onDrawToolCleared&&this.props.onDrawToolCleared()},this.onDrawToolContainerCreated=e=>{e&&(this.container||(this.container=e,this.resizeObserver=((e,t)=>{const i=new ResizeObserver(((e,i)=>{t()}));return i.observe(e),i})(this.container,(()=>{this.setState({containerWidth:this.container.clientWidth})}))))},this._isPopperOpen=()=>{let e=!1;return this.props.disableSymbolSelector?(e=!1,e):this.state.isPanelOpened?null===this.state.currentActiveTool?(e=!1,e):(e=!0,e):(e=!1,e)},this.handlePointSymbolChanged=e=>{const t=e||_e(ke.Point,this.jsonUtils);this._currentSymbols.pointSymbol=t,this.setState({currentSymbol:t},(()=>{this.UPDATE_SYMBOL_FLAG=!0,this.sketch.viewModel.create(this.state.currentActiveTool),this.sketch.viewModel.pointSymbol=t}))},this.handlePolylineSymbolChanged=e=>{const t=e||_e(ke.Polyline,this.jsonUtils);this._currentSymbols.polylineSymbol=t,this.setState({currentSymbol:t},(()=>{this.UPDATE_SYMBOL_FLAG=!0,this.sketch.viewModel.create(this.state.currentActiveTool),this.sketch.viewModel.polylineSymbol=t}))},this.handlePolygonSymbolChanged=e=>{const t=e||_e(ke.Polygon,this.jsonUtils);this._currentSymbols.polygonSymbol=t,this.setState({currentSymbol:t},(()=>{this.UPDATE_SYMBOL_FLAG=!0,this.sketch.viewModel.create(this.state.currentActiveTool),this.sketch.viewModel.polygonSymbol=t}))},this.handlePopperToggle=e=>{if(!e){const e=this.container.querySelectorAll(".esri-sketch__button--selected");e&&e[0]&&e[0].focus()}},this.state={apiLoaded:!1,currentActiveTool:null,currentActiveBtn:null,currentSymbol:null,currentSymbolType:null,containerWidth:null,isPanelOpened:!0,popperGeneration:0}}componentDidMount(){this.deprecationNotice(),this.state.apiLoaded||(0,u.loadArcGISJSAPIModules)(["esri/widgets/Sketch","esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/symbols/support/jsonUtils"]).then((e=>{var t,i,s;[this.SketchClass,this.SketchViewModelClass,this.GraphicsLayer,this.jsonUtils]=e,this._currentSymbols={pointSymbol:null!==(t=this.props.pointSymbol)&&void 0!==t?t:$e(ct.Point,this._currentSymbols,this.jsonUtils),polylineSymbol:null!==(i=this.props.polylineSymbol)&&void 0!==i?i:$e(ct.Polyline,this._currentSymbols,this.jsonUtils),polygonSymbol:null!==(s=this.props.polygonSymbol)&&void 0!==s?s:$e(ct.Polygon,this._currentSymbols,this.jsonUtils)},this.setState({apiLoaded:!0},(()=>{this._initSketch()}))}))}componentDidUpdate(e,t){var s,o;this.state.apiLoaded&&(null===(s=this.props.jimuMapView)||void 0===s?void 0:s.id)!==(null===(o=e.jimuMapView)||void 0===o?void 0:o.id)&&(this._removeLayer(e.jimuMapView),this._initSketch()),this.state.apiLoaded&&!this.isLayerClearWhenUnmount&&this.props.layer!==this.layer&&this._initSketch(),this.state.apiLoaded&&!i.lodash.isDeepEqual(this.props.visibleElements,e.visibleElements)&&this.sketch&&(this.deactivate(),this.sketch.visibleElements=this.props.visibleElements)}componentWillUnmount(){try{e=this.resizeObserver,t=this.container,e&&(e.unobserve(t),e.disconnect()),this.deactivate(),this._destroySketch(),this._removeLayer()}catch(e){console.error(e)}var e,t}componentDidCatch(e,t){console.error(e,t)}_removeLayer(e){var t;const i=null!=e?e:this.props.jimuMapView;this.isLayerClearWhenUnmount&&(null===(t=i.view)||void 0===t?void 0:t.map)&&this.layer&&i.view.map.remove(this.layer)}render(){var e,t;const s=((e,t)=>{var i,s;let o=!1;const a=e;if(a&&!t){const e=null===(i=a["rectangle-selection"])||void 0===i||i,t=null===(s=a["lasso-selection"])||void 0===s||s;o=!e&&!t}return o?"hide-selectiontools":""})(null===(e=this.props.visibleElements)||void 0===e?void 0:e.selectionTools,null===(t=this.props.updateOnGraphicClick)||void 0===t||t),o=this.props.intl.formatMessage({id:"collapse",defaultMessage:l.defaultMessages.collapse}),a=this.props.intl.formatMessage({id:"expand",defaultMessage:l.defaultMessages.expand}),n=this.state.isPanelOpened?(0,i.jsx)(at,{className:"mr-0"}):(0,i.jsx)(rt,{className:"mr-0"});return(0,i.jsx)("div",{className:(0,i.classNames)(this.props.className,"jimu-drawtool"),css:i.css`
      &.jimu-drawtool {
        .esri-widget {
          background-color: transparent;
        }

        .jimu-draw-tool.hide-selectiontools > .esri-sketch__panel > .esri-sketch__tool-section:first-of-type {
          display: none;
        }
      }
  `,style:{width:`${this.state.containerWidth?this.state.containerWidth:332}px`,minHeight:"45px"}},(0,i.jsx)("div",{className:"w-100 d-flex",ref:e=>{this.toolbarContainer=e}},!this.state.apiLoaded&&(0,i.jsx)("div",{style:{width:"332px",height:"45px"}},(0,i.jsx)("div",{className:"jimu-draw-loader"})),(0,i.jsx)("div",{ref:e=>{this.onDrawToolContainerCreated(e)},className:"jimu-draw-tool "+s}),(0,i.jsx)(l.Button,{type:"tertiary",size:"sm",style:{display:"none",height:"32px",whiteSpace:"nowrap"},className:"ml-1",onClick:this.clearGraphics,title:this.props.intl.formatMessage({id:"clear",defaultMessage:l.defaultMessages.clear}),ref:e=>{this.btnContainer=e}},(0,i.jsx)(it,{style:{margin:"0"}})),(0,i.jsx)(l.Button,{type:"tertiary",size:"sm",style:{display:"none",height:"32px"},className:"align-items-center justify-content-center mr-1",disabled:!this.AVAILABLE_TOOLS.includes(this.state.currentActiveTool),title:this.state.isPanelOpened?o:a,ref:e=>{this.collapseBtnContainer=e},onClick:()=>{this.setState({isPanelOpened:!this.state.isPanelOpened,popperGeneration:this.state.popperGeneration+1})}},n)),!this.props.disableSymbolSelector&&(0,i.jsx)(Je,{symbol:this.state.currentSymbol,jimuSymbolType:this.state.currentSymbolType,popperPositionRef:this.state.currentActiveBtn,popperIsVisible:this._isPopperOpen(),popperVersion:this.state.popperGeneration,onPointSymbolChanged:this.handlePointSymbolChanged,onPolylineSymbolChanged:this.handlePolylineSymbolChanged,onPolygonSymbolChanged:this.handlePolygonSymbolChanged,onPopperToggle:this.handlePopperToggle}))}}const pt=(0,t.withTheme)((0,t.withStyles)((0,i.injectIntl)(ut),"Draw")),gt="SymbolChanged",dt="JimuSymbolTypeChanged",Nt="SymbolCallBacksChanged",ht="DefaultSymbolsChanged",Dt="PointSymbolChanged",yt="PolylineSymbolChanged",mt="PolygonSymbolChanged",jt=e=>({type:dt,payload:e}),St=e=>{var t,i,s;return{symbol:null,jimuSymbolType:null,callBacks:{onPointSymbolChanged:null,onPolylineSymbolChanged:null,onPolygonSymbolChanged:null},defaultSymbols:{pointSymbol:null!==(t=null==e?void 0:e.pointSymbol)&&void 0!==t?t:null,polylineSymbol:null!==(i=null==e?void 0:e.polylineSymbol)&&void 0!==i?i:null,polygonSymbol:null!==(s=null==e?void 0:e.polygonSymbol)&&void 0!==s?s:null},pointSymbol:null,polylineSymbol:null,polygonSymbol:null}},It=(e,t)=>{switch(t.type){case gt:return Object.assign(Object.assign({},e),{symbol:t.payload});case ht:return Object.assign(Object.assign({},e),{defaultSymbols:t.payload});case Nt:return Object.assign(Object.assign({},e),{callBacks:Object.assign(e.callBacks,t.payload)});case dt:return Object.assign(Object.assign({},e),{jimuSymbolType:t.payload});case Dt:return Object.assign(Object.assign({},e),{pointSymbol:t.payload});case yt:return Object.assign(Object.assign({},e),{polylineSymbol:t.payload});case mt:return Object.assign(Object.assign({},e),{polygonSymbol:t.payload});default:throw new Error}},Tt=i.React.createContext(null),wt=e=>{const[t,s]=i.React.useReducer(It,e.initStates,St);return i.React.createElement(Tt.Provider,{value:{symbolContextStates:t,dispatchSymbolActions:s}},e.children)};var zt,Ot,xt,Lt,At,bt,Ct,Et,vt,kt;(kt=zt||(zt={})).Point="point",kt.Polyline="polyline",kt.Polygon="polygon",kt.Rectangle="rectangle",kt.Circle="circle",function(e){e.RectangleSelection="rectangle-selection",e.LassoSelection="lasso-selection"}(Ot||(Ot={})),function(e){e.RelativeToGround="relative-to-ground",e.RelativeToScene="relative-to-scene",e.OnTheGround="on-the-ground"}(xt||(xt={})),function(e){e.Single="single",e.Continuous="continuous",e.Update="update"}(Lt||(Lt={})),function(e){e.Acres="acres",e.Ares="ares",e.Hectares="hectares",e.SquareFeet="square-feet",e.SquareMeters="square-meters",e.SquareYards="square-yards",e.SquareKilometers="square-kilometers",e.SquareMiles="square-miles"}(At||(At={})),function(e){e.Meters="meters",e.Feet="feet",e.Kilometers="kilometers",e.Miles="miles",e.NauticalMiles="nautical-miles",e.Yards="yards"}(bt||(bt={})),function(e){e.DD="dd",e.DMS="dms"}(Ct||(Ct={})),(vt=Et||(Et={})).Position="pos",vt.GeodesicLength="geodesicLength",vt.PlanarLength="planarLength",vt.GeodesicArea="geodesicArea",vt.PlanarArea="planarArea";const ft=()=>{const e=e=>(0,i.useIntl)().formatMessage({id:e,defaultMessage:l.defaultMessages[e]});return[{actived:!0,type:ke.Point,value:Ct.DD,note:e("unitsLabelDD"),label:"Y°N, X°E"},{actived:!0,type:ke.Point,value:Ct.DMS,note:e("unitsLabelDMS"),label:"Y°A'B\"N, X°C'D\"E"},{actived:!0,type:ke.Polyline,value:bt.Kilometers,note:e("unitsLabelKilometers"),label:"km"},{actived:!0,type:ke.Polyline,value:bt.Meters,note:e("unitsLabelMeters"),label:"m"},{actived:!0,type:ke.Polyline,value:bt.Miles,note:e("unitsLabelMiles"),label:"mi"},{actived:!0,type:ke.Polyline,value:bt.Feet,note:e("unitsLabelFeet"),label:"ft"},{actived:!0,type:ke.Polygon,value:At.SquareKilometers,note:e("unitsLabelSquareKilometers"),label:"sq km"},{actived:!0,type:ke.Polygon,value:At.SquareMeters,note:e("unitsLabelSquareMeters"),label:"sq m"},{actived:!0,type:ke.Polygon,value:At.Hectares,note:e("unitsLabelHectares"),label:"ha"},{actived:!0,type:ke.Polygon,value:At.Acres,note:e("unitsLabelAcres"),label:"ac"},{actived:!0,type:ke.Polygon,value:At.SquareMiles,note:e("unitsLabelSquareMiles"),label:"sq mi"},{actived:!0,type:ke.Polygon,value:At.SquareFeet,note:e("unitsLabelSquareFeet"),label:"sq ft"}]},Ut="MeasurementsRuntimeInfoChanged",Qt="MeasurementsUnitsInfosChanged",Yt=e=>({type:Ut,payload:e}),Pt=e=>({measurementsRuntimeInfo:{enableMeasurements:!1,isMeasuring:!1,isShowLocationM:!1,isShowLengthM:!1,isShowAreaM:!1,isShowPerimeterM:!1,coordUnit:null,linearUnit:null,arealUnit:null,perimeterUnit:null,fontsColor:"",fontsSize:14,haloColor:"",haloSize:1,decimalPlaces:{point:3,line:3,area:3}},measurementsUnitsInfos:e}),Rt=(e,t)=>{switch(t.type){case Ut:return Object.assign(Object.assign({},e),{measurementsRuntimeInfo:Object.assign(e.measurementsRuntimeInfo,t.payload)});case Qt:return t.payload&&void 0!==t.payload.length&&t.payload.length>0?Object.assign(Object.assign({},e),{measurementsUnitsInfos:t.payload}):Object.assign({},e);default:throw new Error}},Vt=i.React.createContext(null),Gt=e=>{const t=ft(),[s,o]=i.React.useReducer(Rt,t,Pt);return i.React.createElement(Vt.Provider,{value:{measurementsContextStates:s,dispatchMeasurementsActions:o}},e.children)},Bt=(e,t)=>{let i=[];switch(e){case Me.JimuSymbolType.Point:i=Ft(t);break;case Me.JimuSymbolType.Polyline:i=Ht(t);break;case Me.JimuSymbolType.Polygon:i=Wt(t);break;default:i=[{actived:"",value:"",note:"",label:""}]}return i},Ft=e=>e.filter((e=>e.type===Me.JimuSymbolType.Point)),Ht=e=>e.filter((e=>e.type===Me.JimuSymbolType.Polyline)),Wt=e=>e.filter((e=>e.type===Me.JimuSymbolType.Polygon)),Jt=(e,t)=>{let i;switch(e){case _t.Coord:i=Me.JimuSymbolType.Point;break;case _t.Perimeter:case _t.Linear:i=Me.JimuSymbolType.Polyline;break;case _t.Areal:i=Me.JimuSymbolType.Polygon}const s=t.filter((e=>e.type===i)).find((e=>e.actived));return s?s.value:null},Zt=(e,t,i)=>{let s;switch(e){case _t.Coord:s=t.coordUnit;break;case _t.Linear:s=t.linearUnit;break;case _t.Areal:s=t.arealUnit;break;case _t.Perimeter:s=t.perimeterUnit}return void 0!==i.find((e=>!e.actived&&e.value===s))};var _t;!function(e){e.Coord="coord",e.Linear="linear",e.Areal="areal",e.Perimeter="perimeter"}(_t||(_t={}));const $t=i.React.memo((e=>{const t=ft(),[s,o]=i.React.useState((()=>Bt(Me.JimuSymbolType.Point,t))),[a,n]=i.React.useState((()=>Bt(Me.JimuSymbolType.Polyline,t))),[r,M]=i.React.useState((()=>Bt(Me.JimuSymbolType.Polygon,t))),[c,u]=i.React.useState({enableMeasurements:e.measurementsRuntimeInfo.enableMeasurements,isMeasuring:!1,isShowLocationM:!1,isShowLengthM:!1,isShowAreaM:!1,isShowPerimeterM:!1,coordUnit:Jt(_t.Coord,e.measurementsUnitsInfos),linearUnit:Jt(_t.Linear,e.measurementsUnitsInfos),arealUnit:Jt(_t.Areal,e.measurementsUnitsInfos),perimeterUnit:Jt(_t.Perimeter,e.measurementsUnitsInfos),fontsColor:e.measurementsRuntimeInfo.fontsColor,fontsSize:e.measurementsRuntimeInfo.fontsSize,haloColor:e.measurementsRuntimeInfo.haloColor,haloSize:e.measurementsRuntimeInfo.haloSize}),p=i.React.useCallback((()=>{const t=s.map((t=>{let i=Object.assign({},t);return e.measurementsUnitsInfos.forEach((e=>{e.value===t.value&&(i=Object.assign(Object.assign({},i),e))})),i}));o(t)}),[e.measurementsUnitsInfos,o,e.currentJimuSymbolType]),g=i.React.useCallback((()=>{const t=a.map((t=>{let i=Object.assign({},t);return e.measurementsUnitsInfos.forEach((e=>{e.value===t.value&&(i=Object.assign(Object.assign({},i),e))})),i}));n(t)}),[e.measurementsUnitsInfos,n,e.currentJimuSymbolType]),d=i.React.useCallback((()=>{const t=r.map((t=>{let i=Object.assign({},t);return e.measurementsUnitsInfos.forEach((e=>{e.value===t.value&&(i=Object.assign(Object.assign({},i),e))})),i}));M(t)}),[e.measurementsUnitsInfos,M,e.currentJimuSymbolType]);i.React.useEffect((()=>{function t(){let t={};const i=Zt(_t.Linear,c,e.measurementsUnitsInfos);if(i){const i=Jt(_t.Linear,e.measurementsUnitsInfos);t=Object.assign(Object.assign({},t),{linearUnit:i})}const s=Zt(_t.Perimeter,c,e.measurementsUnitsInfos);if(s){const i=Jt(_t.Perimeter,e.measurementsUnitsInfos);t=Object.assign(Object.assign({},t),{perimeterUnit:i})}(i||s)&&u(Object.assign(Object.assign({},c),t))}switch(e.currentJimuSymbolType){case Me.JimuSymbolType.Point:p(),function(){if(Zt(_t.Coord,c,e.measurementsUnitsInfos)){const t=Jt(_t.Coord,e.measurementsUnitsInfos);u(Object.assign(Object.assign({},c),{coordUnit:t}))}}();break;case Me.JimuSymbolType.Polyline:g(),t();break;case Me.JimuSymbolType.Polygon:g(),t(),d(),function(){if(Zt(_t.Areal,c,e.measurementsUnitsInfos)){const t=Jt(_t.Areal,e.measurementsUnitsInfos);u(Object.assign(Object.assign({},c),{arealUnit:t}))}}()}}),[e.measurementsUnitsInfos]),i.React.useEffect((()=>{switch(e.predefinedJimuSymbolType){case Me.JimuSymbolType.Point:p();break;case Me.JimuSymbolType.Polyline:g();break;case Me.JimuSymbolType.Polygon:g(),d()}}),[e.predefinedJimuSymbolType,e.measurementsUnitsInfos,p,g,d]),i.React.useEffect((()=>{e.predefinedJimuSymbolType===e.currentJimuSymbolType&&e.onMInfoSingletonChanged(Object.assign(Object.assign({},c),{enableMeasurements:e.measurementsRuntimeInfo.enableMeasurements,fontsColor:e.measurementsRuntimeInfo.fontsColor,fontsSize:e.measurementsRuntimeInfo.fontsSize}))}),[c,e.currentJimuSymbolType,e.measurementsRuntimeInfo.enableMeasurements,e.measurementsRuntimeInfo.fontsColor,e.measurementsRuntimeInfo.fontsSize]),i.React.useEffect((()=>{let t=!1;switch(e.currentJimuSymbolType){case Me.JimuSymbolType.Point:t=c.isShowLocationM;break;case Me.JimuSymbolType.Polyline:t=c.isShowLengthM;break;case Me.JimuSymbolType.Polygon:t=c.isShowAreaM||c.isShowPerimeterM}u(Object.assign(Object.assign({},c),{isMeasuring:t}))}),[e.currentJimuSymbolType,c.isShowLocationM,c.isShowLengthM,c.isShowAreaM,c.isShowPerimeterM]);const N=(0,i.useIntl)().formatMessage({id:"drawToolShowLocationMeasurement",defaultMessage:l.defaultMessages.drawToolShowLocationMeasurement}),h=(0,i.useIntl)().formatMessage({id:"drawToolShowLengthMeasurement",defaultMessage:l.defaultMessages.drawToolShowLengthMeasurement}),D=(0,i.useIntl)().formatMessage({id:"drawToolShowAreaMeasurement",defaultMessage:l.defaultMessages.drawToolShowAreaMeasurement}),y=(0,i.useIntl)().formatMessage({id:"drawToolShowPerimeterMeasurement",defaultMessage:l.defaultMessages.drawToolShowPerimeterMeasurement}),m=(0,i.useIntl)().formatMessage({id:"drawToolUnit",defaultMessage:l.defaultMessages.drawToolUnit});return(0,i.jsx)("div",{className:"measurements-setting-panel w-100 pb-4 px-4"},e.measurementsRuntimeInfo.enableMeasurements&&(0,i.jsx)(i.React.Fragment,null,e.predefinedJimuSymbolType===Me.JimuSymbolType.Point&&(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-between align-items-center",title:N},(0,i.jsx)("div",{className:"d-flex mr-2"},N),(0,i.jsx)(l.Switch,{className:"d-flex","aria-label":N,checked:c.isShowLocationM,onChange:()=>{var e;e=!c.isShowLocationM,u(Object.assign(Object.assign({},c),{isShowLocationM:e}))}})),c.isMeasuring&&(0,i.jsx)("div",{className:"d-flex justify-content-between align-items-center mt-2"},(0,i.jsx)(l.Label,{className:"d-flex unit-label flex-wrap justify-content-start align-items-center mr-5 mb-0",title:m},m),(0,i.jsx)(l.Select,{size:"sm",className:"d-flex unit-selector justify-content-center mt-1 mb-1 ml-4 p-1 ","aria-label":m,value:c.coordUnit,onChange:e=>{const t=e.target.value;u(Object.assign(Object.assign({},c),{coordUnit:t}))}},s.map(((e,t)=>e.actived&&(0,i.jsx)(l.Option,{key:t,title:null==e?void 0:e.note,value:null==e?void 0:e.value,label:null==e?void 0:e.label},null==e?void 0:e.note)))))),e.predefinedJimuSymbolType===Me.JimuSymbolType.Polyline&&(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-between align-items-center",title:h},(0,i.jsx)("div",{className:"d-flex mr-2"},h),(0,i.jsx)(l.Switch,{className:"d-flex","aria-label":h,checked:c.isShowLengthM,onChange:()=>{var e;e=!c.isShowLengthM,u(Object.assign(Object.assign({},c),{isShowLengthM:e}))}})),c.isMeasuring&&(0,i.jsx)("div",{className:"d-flex justify-content-between align-items-center mt-2"},(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-start align-items-center mr-5 mb-0",title:m},m),(0,i.jsx)(l.Select,{size:"sm",className:"d-flex unit-selector justify-content-center mt-1 mb-1 ml-4 p-1 ","aria-label":m,value:c.linearUnit,onChange:e=>{const t=e.target.value;u(Object.assign(Object.assign({},c),{linearUnit:t}))}},a.map(((e,t)=>e.actived&&(0,i.jsx)(l.Option,{key:t,title:null==e?void 0:e.note,value:null==e?void 0:e.value,label:null==e?void 0:e.label},null==e?void 0:e.note)))))),e.predefinedJimuSymbolType===Me.JimuSymbolType.Polygon&&(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-between align-items-center mb-0",title:D},(0,i.jsx)("div",{className:"d-flex mr-2"},D),(0,i.jsx)(l.Switch,{className:"d-flex","aria-label":D,checked:c.isShowAreaM,onChange:()=>{var e;e=!c.isShowAreaM,u(Object.assign(Object.assign({},c),{isShowAreaM:e}))}})),c.isShowAreaM&&(0,i.jsx)("div",{className:"d-flex justify-content-between align-items-center mt-2"},(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-start align-items-center mr-5 mb-0",title:m},m),(0,i.jsx)(l.Select,{size:"sm",className:"d-flex unit-selector justify-content-center mt-1 mb-1 ml-4 p-1 ","aria-label":m,value:c.arealUnit,onChange:e=>{const t=e.target.value;u(Object.assign(Object.assign({},c),{arealUnit:t}))}},r.map(((e,t)=>e.actived&&(0,i.jsx)(l.Option,{key:t,title:null==e?void 0:e.note,value:null==e?void 0:e.value,label:null==e?void 0:e.label},null==e?void 0:e.note)))))),(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-between align-items-center pt-4 mb-0",title:y},(0,i.jsx)("div",{className:"d-flex mr-2"},y),(0,i.jsx)(l.Switch,{className:"d-flex","aria-label":y,checked:c.isShowPerimeterM,onChange:()=>{var e;e=!c.isShowPerimeterM,u(Object.assign(Object.assign({},c),{isShowPerimeterM:e}))}})),c.isShowPerimeterM&&(0,i.jsx)("div",{className:"d-flex justify-content-between align-items-center mt-2"},(0,i.jsx)(l.Label,{className:"d-flex unit-label justify-content-start align-items-center mr-5 mb-0",title:m},m),(0,i.jsx)(l.Select,{size:"sm",className:"d-flex unit-selector unit-selector justify-content-center mt-1 mb-1 ml-4 p-1 ","aria-label":m,value:c.perimeterUnit,onChange:e=>{const t=e.target.value;u(Object.assign(Object.assign({},c),{perimeterUnit:t}))}},a.map(((e,t)=>e.actived&&(0,i.jsx)(l.Option,{key:t,title:null==e?void 0:e.note,value:null==e?void 0:e.value,label:null==e?void 0:e.label},null==e?void 0:e.note)))))))))})),qt=i.React.memo((e=>{const[t,s]=i.React.useState(null);i.React.useEffect((()=>{e.onMeasurementsInfoChanged(t)}),[t]);const o=e.jimuSymbolType===Me.JimuSymbolType.Point?"d-flex":"d-none",a=e.jimuSymbolType===Me.JimuSymbolType.Polyline?"d-flex":"d-none",n=e.jimuSymbolType===Me.JimuSymbolType.Polygon?"d-flex":"d-none";return(0,i.jsx)("div",{className:"measurements-container",css:i.css`
    &.measurements-container {
      .measurements-setting-panel {
        .unit-label {
          cursor: pointer;
          word-break: keep-all;
        }
        .unit-selector {
          overflow: hidden;
        }
      }
    }
  `},(0,i.jsx)("div",{className:o},(0,i.jsx)($t,{predefinedJimuSymbolType:Me.JimuSymbolType.Point,currentJimuSymbolType:e.jimuSymbolType,measurementsRuntimeInfo:e.measurementsRuntimeInfo,measurementsUnitsInfos:e.measurementsUnitsInfos,onMInfoSingletonChanged:s})),(0,i.jsx)("div",{className:a},(0,i.jsx)($t,{predefinedJimuSymbolType:Me.JimuSymbolType.Polyline,currentJimuSymbolType:e.jimuSymbolType,measurementsRuntimeInfo:e.measurementsRuntimeInfo,measurementsUnitsInfos:e.measurementsUnitsInfos,onMInfoSingletonChanged:s})),(0,i.jsx)("div",{className:n},(0,i.jsx)($t,{predefinedJimuSymbolType:Me.JimuSymbolType.Polygon,currentJimuSymbolType:e.jimuSymbolType,measurementsRuntimeInfo:e.measurementsRuntimeInfo,measurementsUnitsInfos:e.measurementsUnitsInfos,onMInfoSingletonChanged:s})))})),Kt=i.React.memo((e=>(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(Me.SymbolList,{symbol:e.symbol,jimuSymbolType:e.jimuSymbolType,isShow:e.isShow,onPointSymbolChanged:e.onPointSymbolChanged,onPolylineSymbolChanged:e.onPolylineSymbolChanged,onPolygonSymbolChanged:e.onPolygonSymbolChanged,onA11yFocus:e.onA11yFocus}),(0,i.jsx)(qt,{symbol:e.symbol,jimuSymbolType:e.jimuSymbolType,measurementsRuntimeInfo:e.measurementsRuntimeInfo,measurementsUnitsInfos:e.measurementsUnitsInfos,onMeasurementsInfoChanged:e.handleMeasurementsInfoChanged}))));var Xt;function ei(e,t){return e?i.css`
      &.auto-width-container {
        max-width: ${t}px
      }
  `:i.css`
      &.auto-width-container {
        min-width: ${t}px
      }
    `}!function(e){e.Panel="Panel",e.Toolbar="Toolbar",e.Hidden="Hidden"}(Xt||(Xt={}));const ti=i.React.memo((e=>{const s=(0,t.useTheme)(),{measurementsContextStates:o,dispatchMeasurementsActions:a}=i.React.useContext(Vt),{symbolContextStates:n,dispatchSymbolActions:l}=i.React.useContext(Tt),r=i.React.useCallback((e=>{a(Yt(e))}),[a]),M=i.React.useCallback((e=>{l((e=>({type:Dt,payload:e}))(e))}),[l]),c=i.React.useCallback((e=>{l((e=>({type:yt,payload:e}))(e))}),[l]),u=i.React.useCallback((e=>{l((e=>({type:mt,payload:e}))(e))}),[l]),p=i.React.useRef(null);i.React.useEffect((()=>()=>{var t,i;e.sketchContainer&&(null===(t=p.current)||void 0===t||t.unobserve(e.sketchContainer)),null===(i=p.current)||void 0===i||i.disconnect()}),[e.sketchContainer]);const[g,d]=i.React.useState(null),N=e.arrangement===Xt.Panel&&e.isAutoWidth&&!!e.sketchContainer;return i.React.useEffect((()=>{e.sketchContainer&&(p.current=new ResizeObserver(i.lodash.throttle((e=>{var t;const i=null===(t=e[0])||void 0===t?void 0:t.target,s=N?i.offsetWidth:i.scrollWidth;d(s)}),50)),p.current.observe(e.sketchContainer))}),[N,e.sketchContainer]),(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)("div",{className:"jimu-symbol-selector jimu-symbol-list w-100",css:be(s)},(0,i.jsx)("div",{className:"auto-width-container",css:ei(N,g)},(0,i.jsx)(Kt,{symbol:n.symbol,jimuSymbolType:n.jimuSymbolType,isShow:e.isShow,onPointSymbolChanged:M,onPolylineSymbolChanged:c,onPolygonSymbolChanged:u,measurementsRuntimeInfo:o.measurementsRuntimeInfo,measurementsUnitsInfos:o.measurementsUnitsInfos,handleMeasurementsInfoChanged:r,onA11yFocus:e.onA11yFocus}))))})),ii=M(85021),si=i.React.memo((e=>{var t;const s=(0,i.useIntl)(),{sketchContextStates:o}=i.React.useContext(as),[a,n]=i.React.useState(null),r=i.React.useCallback((e=>{var t,i;"function"==typeof(null===(t=o.callBacks)||void 0===t?void 0:t.onJimuDrawCreated)&&(null===(i=o.callBacks)||void 0===i||i.onJimuDrawCreated(e)),e.sketchToolsbarDom&&n(e.sketchToolsbarDom)}),[o.callBacks]),M=i.React.useRef(null),c=i.React.useCallback((()=>{setTimeout((()=>{var e;null===(e=(0,l.getFocusableElements)(M.current)[0])||void 0===e||e.focus()}),50)}),[]);i.React.useEffect((()=>{c()}),[e.popperPositionRef,c]);const u=i.React.useCallback((()=>{let e=!1;return null!=o.activeTool&&Ot.RectangleSelection!==o.activeTool&&Ot.LassoSelection!==o.activeTool||(e=!0),e}),[o.activeTool]),p=u()?"d-flex":"d-none",g=u()?"d-none":"d-flex",d=null!==(t=e.disableSymbolSelector)&&void 0!==t&&t,N=s.formatMessage({id:"drawToolSelectDrawMode",defaultMessage:l.defaultMessages.drawToolSelectDrawMode});return(0,i.jsx)("div",{className:"panel-layout-container d-flex h-100 p-4 "},(0,i.jsx)("div",{className:"select-draw-mode-tips"}," ",N," "),(0,i.jsx)(_i,{jimuMapView:e.jimuMapView,onJimuDrawCreated:r}),(0,i.jsx)("div",{className:"symbol-list-container align-items-center h-100",ref:e=>{M.current=e}},!d&&(0,i.jsx)(i.React.Fragment,null,p&&(0,i.jsx)("div",{className:"panel-layout-place-holder align-items-center justify-content-center w-100 h-100 "+p},(0,i.jsx)("img",{alt:`${N}`,src:ii})),(0,i.jsx)("div",{className:"panel-layout-symbollist-container "+g},(0,i.jsx)(ti,{isShow:!u(),arrangement:Xt.Panel,isAutoWidth:e.isAutoWidth,sketchContainer:a,onA11yFocus:c})))))})),oi=i.React.memo((e=>{var t,s;const{sketchContextStates:o}=i.React.useContext(as),[a,n]=i.React.useState(!1),r=i.React.useCallback(((t,i)=>{let s=t,o=a!==s;i&&(o=!0,s=!1),n(s),"function"==typeof e.onPopperToggle&&o&&e.onPopperToggle(s)}),[e,a]);i.React.useEffect((()=>()=>{r(!1,!0)}),[]);const{currentActiveToolChanged:M}=e,c=i.React.useCallback(((t,i)=>{var s;const o="pageOrSizeMode"===i;let a=o,n=!1;if((o||t&&t.key&&"Escape"===(null==t?void 0:t.key))&&(M(null),n=!0,a=!0),n){r(!1,a);const t=null===(s=e.popperPositionRef)||void 0===s?void 0:s.parentElement;t&&(t.tabIndex=0,t.focus(),t.removeAttribute("tabIndex"))}}),[e.popperPositionRef,r,M]),[u,p]=i.React.useState(null!==(t=e.popperVersion)&&void 0!==t?t:0);i.React.useEffect((()=>{p((e=>e+1))}),[a,e.popperVersion,e.popperPositionRef,e.popperIsVisible]);const[g,d]=i.React.useState(!0);l.hooks.useUpdateEffect((()=>{g||d(!0)}),[g,e.popperPositionRef]);const N=i.React.useCallback((()=>{d(!1)}),[d]),h=[{name:"preventOverflow",options:{boundary:document.body,rootBoundary:document}}],D=null!==(s=e.disableSymbolSelector)&&void 0!==s&&s;return(0,i.jsx)("div",{className:"toolbar-layout-container"},(0,i.jsx)(_i,{jimuMapView:e.jimuMapView,onJimuDrawCreated:o.callBacks.onJimuDrawCreated}),(0,i.jsx)("div",{className:"symbol-list-container"},!D&&(0,i.jsx)(l.Popper,{reference:e.popperPositionRef,placement:"bottom",offset:[0,12],showArrow:!0,open:e.popperIsVisible,keepMount:!0,version:u,toggle:c,autoFocus:g,forceLatestFocusElements:!0,css:Qe(),modifiers:h},(0,i.jsx)("div",{className:"content-container"},(0,i.jsx)(ti,{isShow:e.popperIsVisible,onA11yFocus:N})))))}));function ai(e){const t=e.colors.white,s=e.colors.palette.light[400],o=e.colors.palette.dark[800];return i.css`
    &.jimu-draw-layouts-container {
      overflow: auto;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);

      .panel-layout-container {
        flex-direction: column;
        min-height: 444px;

        .select-draw-mode-tips {
          min-width: 250px;
          font-size: ${i.polished.rem(13)};
          font-weight: 500;
          line-height: 18px;
          color: ${o};
        }

        .panel-layout-place-holder {
          min-height: 300px;
        }
      }

      .toolbar-layout-container {
        .jimu-drawtool {
          .jimu-draw-sketch-tools {
            background-color: ${t}; /* bg & border cover tools ONLY */
            border: 1px ${s} solid;
          }

          .jimu-draw-api-loader {
            padding: 0.5rem;
          }
        }
      }
    }

    &.jimu-draw-layouts-container.panel{
      background-color: ${t}; /* bg & border cover all panel */
      /*border: 1px ${s} solid;*/
    }

    &.jimu-draw-layouts-container.hide-bg-color {
      background-color: transparent !important;

      .jimu-draw-sketch-tools {
        background-color: transparent !important;
      }
    }
    &.jimu-draw-layouts-container.hide-border {
      border: none !important;
      box-shadow: unset !important;

      .jimu-draw-sketch-tools {
        border: none !important;
      }
    }
  `}const ni=i.React.memo((e=>{var s,o,a,n,l,r;const M=(0,t.useTheme)(),{layoutContextStates:c,dispatchLayoutActions:u}=i.React.useContext(Ni),{sketchContextStates:p,dispatchSketchActions:g}=i.React.useContext(as),{dispatchSymbolActions:d}=i.React.useContext(Tt);i.React.useEffect((()=>{u(ui(e.uiOptions)),d(jt(null))}),[e.uiOptions,u,d]);const N=i.React.useCallback((e=>{g(is(e))}),[g]),h=i.ReactRedux.useSelector((e=>{var t;return(null===(t=e.appRuntimeInfo)||void 0===t?void 0:t.appMode)===i.AppMode.Design})),D=null!==(o=null===(s=e.uiOptions)||void 0===s?void 0:s.arrangement)&&void 0!==o?o:Xt.Toolbar,y=D===Xt.Panel?"panel ":"toolbar ",m=(null===(a=e.uiOptions)||void 0===a?void 0:a.isHideBgColor)?"hide-bg-color ":"",j=(null===(n=e.uiOptions)||void 0===n?void 0:n.isHideBorder)?"hide-border ":"",S=p.activeTool===zt.Point||p.activeTool===zt.Polyline||p.activeTool===zt.Polygon||p.activeTool===zt.Rectangle||p.activeTool===zt.Circle,I=D===Xt.Panel?"surface-1 border-0 ":"";return(0,i.jsx)(i.React.Fragment,null,M&&(0,i.jsx)("div",{className:y+I+"jimu-draw-layouts-container h-100 "+m+j,css:ai(M)},D===Xt.Panel&&(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(si,{jimuMapView:e.jimuMapView,disableSymbolSelector:c.disableSymbolSelector,isAutoWidth:null===(l=e.uiOptions)||void 0===l?void 0:l.isAutoWidth,isAutoHeight:null===(r=e.uiOptions)||void 0===r?void 0:r.isAutoHeight,popperPositionRef:c.symbolsWapperPositionRef})),D===Xt.Toolbar&&(0,i.jsx)(i.React.Fragment,null,(0,i.jsx)(oi,{jimuMapView:e.jimuMapView,disableSymbolSelector:c.disableSymbolSelector,popperPositionRef:c.symbolsWapperPositionRef,popperIsVisible:S&&c.isExpandSymbolList&&!h,popperVersion:0,currentActiveToolChanged:N}))))})),li="UIOptionsChanged",ri="DisableSymbolSelectorChanged",Mi="IsExpandSymbolListChanged",ci="SymbolsWapperPositionRefChanged",ui=e=>({type:li,payload:null!=e?e:{}}),pi=e=>({type:ri,payload:e}),gi=e=>({enableSymbolSelectorFunRef:null,uiOptions:{arrangement:Xt.Toolbar,isHideBorder:!1},disableSymbolSelector:!1,isExpandSymbolList:!0,symbolsWapperPositionRef:null}),di=(e,t)=>{switch(t.type){case li:return Object.assign(Object.assign({},e),{uiOptions:Object.assign(e.uiOptions,t.payload)});case ri:return Object.assign(Object.assign({},e),{disableSymbolSelector:t.payload});case Mi:return Object.assign(Object.assign({},e),{isExpandSymbolList:t.payload});case ci:return Object.assign(Object.assign({},e),{symbolsWapperPositionRef:t.payload});default:throw new Error}},Ni=i.React.createContext(null),hi=e=>{const[t,s]=i.React.useReducer(di,e.initStates,gi);return t.enableSymbolSelectorFunRef=i.React.useCallback((e=>{s(pi(e))}),[s]),i.React.createElement(Ni.Provider,{value:{layoutContextStates:t,dispatchLayoutActions:s}},e.children)},Di="pushRecord",yi=e=>({_MAX_RECORDS_NUM:5,_currentIdx:0,_graphicsRecords:[[]],currentRecord:[],version:0,canUndo:!1,canRedo:!1,canClear:!1}),mi=(e,t)=>{const i=t._currentIdx+1;i<t._graphicsRecords.length-1?t._graphicsRecords.splice(i,t._MAX_RECORDS_NUM,e):t._graphicsRecords.push(e),t._graphicsRecords.length>t._MAX_RECORDS_NUM&&t._graphicsRecords.shift();const s=t._graphicsRecords.length-1,o=t._graphicsRecords[s];return Object.assign(Object.assign({},t),{_graphicsRecords:t._graphicsRecords,_currentIdx:s,currentRecord:o,canUndo:ji(s),canRedo:Si(s,t._graphicsRecords),canClear:Ii(o)})},ji=e=>!!(e>0),Si=(e,t)=>!!(e<t.length-1),Ii=e=>!!(e&&e.length>0),Ti=(e,t)=>e>-1&&e<t._graphicsRecords.length,wi=(e,t)=>{switch(t.type){case"Undo":{const t=e._currentIdx-1,i=e._graphicsRecords[t],s=ji(t),o=Si(t,e._graphicsRecords),a=Ii(i);return Ti(t,e)?Object.assign(Object.assign({},e),{_currentIdx:t,currentRecord:i,version:e.version+1,canUndo:s,canRedo:o,canClear:a}):Object.assign(Object.assign({},e),{canUndo:s,canRedo:o,canClear:a})}case"Redo":{const t=e._currentIdx+1,i=e._graphicsRecords[t],s=ji(t),o=Si(t,e._graphicsRecords),a=Ii(i);return Ti(t,e)?Object.assign(Object.assign({},e),{_currentIdx:t,currentRecord:i,version:e.version+1,canUndo:s,canRedo:o,canClear:a}):Object.assign(Object.assign({},e),{canUndo:s,canRedo:o,canClear:a})}case"Clear":return mi([],e);case Di:return mi(t.payload,e);default:throw new Error}},zi=i.React.createContext(null),Oi=e=>{const[t,s]=i.React.useReducer(wi,e.initStates,yi);return i.React.createElement(zi.Provider,{value:{graphicsUndoRedoContextStates:t,dispatchGraphicsUndoRedoActions:s}},e.children)},xi=(e,t)=>{var i,s,o,a,n;return{creationMode:(n=e.creationMode,null!=n?n:Lt.Continuous),visibleElements:(e=>{let t=null!=e?e:{settingsMenu:!1};return void 0===(null==e?void 0:e.settingsMenu)&&(t=Object.assign(t,{settingsMenu:!1})),t})(e.visibleElements),updateOnGraphicClick:null===(i=e.updateOnGraphicClick)||void 0===i||i,defaultCreateOptions:null!==(s=e.defaultCreateOptions)&&void 0!==s?s:null,defaultUpdateOptions:null!==(o=e.defaultUpdateOptions)&&void 0!==o?o:null,snappingOptions:null!==(a=e.snappingOptions)&&void 0!==a?a:((e,t)=>{let i=null!=e?e:{enabled:!1,featureSources:[{layer:t}]};return void 0===(null==e?void 0:e.featureSources)&&(i=Object.assign(i,{featureSources:[{layer:t}]})),i})(e.snappingOptions,t)}},Li=(e,t,i)=>[zt.Polyline].includes(e)?(t.polylineSymbol||(t.polylineSymbol=i(null,Me.JimuSymbolType.Polyline)),t.polylineSymbol):[zt.Polygon,zt.Rectangle,zt.Circle].includes(e)?(t.polygonSymbol||(t.polygonSymbol=i(null,Me.JimuSymbolType.Polygon)),t.polygonSymbol):(t.pointSymbol||(t.pointSymbol=i(null,Me.JimuSymbolType.Point)),t.pointSymbol),Ai=e=>{null==e||e.forEach((e=>{bi(e)}))},bi=e=>{!e||e.attributes&&e.attributes.jimuDrawId||(e.attributes={},e.attributes.jimuDrawId=e.uid)},Ci=e=>{const t=[];return null==e||e.forEach((e=>{const i=(e=>e&&e.attributes&&e.attributes.jimuDrawId?e.attributes.jimuDrawId:null)(e);null!==i&&t.push(i)})),t};var Ei=function(e,t,i,s){return new(i||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}))};const vi=(e,t,i,s,o,a,n,l,r,M,c,u)=>Ei(void 0,void 0,void 0,(function*(){switch(e){case Et.Position:{const o=yield Vi(e,t,i,s,a,n,l,r,c,u);yield fi(t,i),yield i.applyEdits({addFeatures:o.map((e=>e.labelGraphic))});break}case Et.GeodesicLength:if(o)yield fi(t,i);else{const o=yield Bi(e,t,i,s,a,l,r,M,c,u);yield fi(t,i),yield i.applyEdits({addFeatures:o.map((e=>e.labelGraphic))})}break;case Et.GeodesicArea:{const o=yield Fi(e,t,i,s,a,l,r,M,c,u);yield fi(t,i),yield i.applyEdits({addFeatures:o.map((e=>e.labelGraphic))});break}default:throw new Error}})),ki=(e,t)=>Ei(void 0,void 0,void 0,(function*(){const i=Ci([e]);return yield t.queryFeatures({where:"(jimuDrawId IN ("+i.join(",")+"))"})})),fi=(e,t)=>Ei(void 0,void 0,void 0,(function*(){const i=Ci(e);let s=[];i.length>0&&(s=(yield t.queryFeatures({where:"(jimuDrawId IN ("+i.join(",")+"))"})).features);const o={deleteFeatures:s};yield t.applyEdits(o)})),Ui=(e,t,i)=>i.geodesicLength(e,t),Qi=(e,t,i)=>i.geodesicArea(e,t),Yi=e=>{switch(e.geometry.type){case zt.Point:return Et.Position;case zt.Polyline:return Et.GeodesicLength;case zt.Polygon:return Et.GeodesicArea;default:throw new Error}},Pi=(e,t)=>{let i="";switch(e){case Et.Position:i=t.location;break;case Et.PlanarLength:case Et.GeodesicLength:i=t.length;break;case Et.PlanarArea:case Et.GeodesicArea:i=t.area}return i+" "},Ri=(e,t,i,s)=>{const o=null!=e?e:0;let a,n;if(o){let l=3;switch(t){case Et.GeodesicLength:l=s.line;break;case Et.GeodesicArea:l=s.area;break;default:throw new Error}a=o.toFixed(l),n=i(e,{maximumFractionDigits:l})}return{lengthString:a,i18nLength:n}},Vi=(e,t,i,s,o,a,n,l,r,M)=>Ei(void 0,void 0,void 0,(function*(){var o,c;const u=[];for(const p of t){const t=p.geometry,g=(yield ki(p,i)).features[0],d=null==g?void 0:g.attributes;(null===(o=null==g?void 0:g.attributes)||void 0===o?void 0:o.mInfo)&&(g.attributes.mInfo=JSON.parse(null===(c=null==g?void 0:g.attributes)||void 0===c?void 0:c.mInfo));let N=s.coordUnit;M&&(N=d.mInfo.mRuntimeInfo.coordUnit);let h=r.coordUnit;M&&(h=d.mInfo.coordUnitNls);let D=Pi(e,r);const y=s.decimalPlaces;D+=(yield Gi(t,N,a,n,y));let m=s;M&&(m=d.mInfo.mRuntimeInfo);const j={mRuntimeInfo:m,coordUnitNls:h};let S=p.attributes;M&&(S=Object.assign(Object.assign({},d),p.attributes)),void 0!==S.OBJECTID&&delete S.OBJECTID;const I=new l({geometry:t,symbol:null,attributes:Object.assign(Object.assign({},S),{mLabel:D,mInfo:JSON.stringify(j)})});u.push({mResults:"",label:D,labelGraphic:I})}return u})),Gi=(e,t,i,s,o)=>Ei(void 0,void 0,void 0,(function*(){var a;let n="";try{yield i.load();const l=null!==(a=(yield s.project([e]))[0])&&void 0!==a?a:null;n=i.toLatitudeLongitude(l,t,o.point)}catch(e){throw new Error(e)}return n})),Bi=(e,t,i,s,o,a,n,l,r,M,c)=>Ei(void 0,void 0,void 0,(function*(){var u,p,g;const d=[];for(const N of t){const t=N.geometry,h=yield a.project([t]),D=(yield ki(N,i)).features[0],y=null==D?void 0:D.attributes;(null===(u=null==D?void 0:D.attributes)||void 0===u?void 0:u.mInfo)&&(D.attributes.mInfo=JSON.parse(null===(p=null==D?void 0:D.attributes)||void 0===p?void 0:p.mInfo));let m=c?s.perimeterUnit:s.linearUnit;M&&(m=c?y.mInfo.mRuntimeInfo.perimeterUnit:y.mInfo.mRuntimeInfo.linearUnit);let j=c?r.perimeterUnit:r.linearUnit;M&&(j=c?y.mInfo.perimeterUnitNls:y.mInfo.linearUnitNls);const S=Ui(null!==(g=h[0])&&void 0!==g?g:null,m,o),I=s.decimalPlaces,{lengthString:T,i18nLength:w}=Ri(S,Et.GeodesicLength,l,I);let z=Pi(e,r);z=z+w+" "+j;let O=s;M&&(O=y.mInfo.mRuntimeInfo);const x={mRuntimeInfo:O,linearUnitNls:c?null:j,perimeterUnitNls:c?j:null};let L=N.attributes;M&&(L=Object.assign(Object.assign({},y),N.attributes)),void 0!==L.OBJECTID&&delete L.OBJECTID;const A=t.extent.center,b=new n({geometry:A,symbol:null,attributes:Object.assign(Object.assign({},L),{mLabel:z,mInfo:JSON.stringify(x)})});d.push({mResults:T,label:z,labelGraphic:b})}return d})),Fi=(e,t,i,s,o,a,n,l,r,M)=>Ei(void 0,void 0,void 0,(function*(){var c,u,p;const g=[];for(const d of t){let t="";const N=(yield ki(d,i)).features[0],h=null==N?void 0:N.attributes;(null===(c=null==N?void 0:N.attributes)||void 0===c?void 0:c.mInfo)&&(N.attributes.mInfo=JSON.parse(null===(u=null==N?void 0:N.attributes)||void 0===u?void 0:u.mInfo));let D,y="";const m=M?h.mInfo.mRuntimeInfo.isShowPerimeterM:s.isShowPerimeterM;if(m){const e=Et.GeodesicLength,c=!0,u=yield Bi(e,[d],i,s,o,a,n,l,r,M,c);y=u[0].label,D=u[0].labelGraphic.attributes.mInfo,D&&(D=JSON.parse(D)),t+=y}let j="";const S=d.geometry;let I,T;if(M?h.mInfo.mRuntimeInfo.isShowAreaM:s.isShowAreaM){let i=s.arealUnit;M&&(i=h.mInfo.mRuntimeInfo.arealUnit),I=r.arealUnit,M&&(I=h.mInfo.arealUnitNls);const n=yield a.project([S]),c=Qi(null!==(p=n[0])&&void 0!==p?p:null,i,o),u=s.decimalPlaces,{lengthString:g,i18nLength:d}=Ri(c,Et.GeodesicArea,l,u);T=g,j=Pi(e,r)+d+" "+I,s.isShowPerimeterM&&(t+=" \r\n"),t+=j}const w=S.extent.center;let z=s;M&&(z=h.mInfo.mRuntimeInfo);const O={mRuntimeInfo:z,perimeterUnitNls:m?D.perimeterUnitNls:null,arealUnitNls:I};let x=d.attributes;M&&(x=Object.assign(Object.assign({},h),d.attributes)),void 0!==x.OBJECTID&&delete x.OBJECTID;const L=new n({geometry:w,symbol:null,attributes:Object.assign(Object.assign({},x),{mLabel:t,mInfo:JSON.stringify(O)})});g.push({mResults:T,label:t,labelGraphic:L})}return g}));const Hi=i.React.memo((e=>{const[t,s]=i.React.useState(null);i.hooks.useEffectOnce((()=>{(0,u.loadArcGISJSAPIModules)(["esri/geometry/SpatialReference","esri/geometry/support/webMercatorUtils","esri/rest/geometryService"]).then((e=>{let t=null,i=null,o=null;[t,i,o]=e,s({SpatialReference:t,webMercatorUtils:i,geometryService:o})}))}));const o=i.React.useCallback((e=>{return s=void 0,o=void 0,n=function*(){var s;const o=t.SpatialReference.WGS84,a=null!==(s=e[0])&&void 0!==s?s:null;let n=[];if(t.webMercatorUtils.canProject(a.spatialReference,o))n.push(yield t.webMercatorUtils.project(a,o));else try{n=yield t.geometryService.project(i.utils.getGeometryService(),{geometries:e,outSpatialReference:o})}catch(e){throw new Error(e)}return n},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{r(n.next(e))}catch(e){t(e)}}function l(e){try{r(n.throw(e))}catch(e){t(e)}}function r(t){var s;t.done?e(t.value):(s=t.value,s instanceof a?s:new a((function(e){e(s)}))).then(i,l)}r((n=n.apply(s,o||[])).next())}));var s,o,a,n}),[null==t?void 0:t.webMercatorUtils,null==t?void 0:t.geometryService,null==t?void 0:t.SpatialReference.WGS84]);return i.React.useEffect((()=>{e.onLoad({project:o})}),[e,o]),null}));function Wi(e){return i.css`
    &.jimu-drawtool {
      min-height: 45px;

      .jimu-draw-api-loader {
        display: flex;
        width: 100%;
        height: 45px;
        padding: 0.5rem 0;

        .skeleton {
          display: flex;
          width: 100%;
          height: 100%;
          background-color: ${e.colors.palette.light[200]}
        }
      }

      .esri-widget {
        background-color: transparent;
      }

      .jimu-draw-sketch-tools {

        .esri-sketch__panel {
          flex-wrap: nowrap;

          .esri-sketch__section.esri-sketch__tool-section {
            flex-wrap: nowrap;
          }
        }

        .panel & {
          border: none !important; /* sub repo ,#12605 */
        }

        .appended-btn {
          white-space: nowrap;
          height: 32px;
        }
      }

      .jimu-draw-sketch-tools.hide-border {
        .toolbar & {
          border: none;
        }
      }
    }

    &.jimu-drawtool.hide-bg-color {
      background-color: transparent !important;
    }
  `}const Ji=i.React.memo((e=>{var s,o,a,n,r,M,c,p;const g=(0,t.useTheme)(),d=(0,i.useIntl)(),N=[zt.Point,zt.Polyline,zt.Polygon,zt.Rectangle,zt.Circle],h=i.React.useRef(null),{getMeasurementsNls:D}=(e=>{const t=(0,i.useIntl)().formatMessage({id:"drawToolLocationTip",defaultMessage:l.defaultMessages.drawToolLocationTip}),s=(0,i.useIntl)().formatMessage({id:"drawToolLengthTip",defaultMessage:l.defaultMessages.drawToolLengthTip}),o=(0,i.useIntl)().formatMessage({id:"drawToolAreaTip",defaultMessage:l.defaultMessages.drawToolAreaTip}),a=(0,i.useIntl)().formatMessage({id:"unitsNameDD",defaultMessage:l.defaultMessages.unitsNameDD}),n=(0,i.useIntl)().formatMessage({id:"unitsNameDMS",defaultMessage:l.defaultMessages.unitsNameDMS}),r=(0,i.useIntl)().formatMessage({id:"unitsNameMeters",defaultMessage:l.defaultMessages.unitsNameMeters}),M=(0,i.useIntl)().formatMessage({id:"unitsNameFeet",defaultMessage:l.defaultMessages.unitsNameFeet}),c=(0,i.useIntl)().formatMessage({id:"unitsNameKilometers",defaultMessage:l.defaultMessages.unitsNameKilometers}),u=(0,i.useIntl)().formatMessage({id:"unitsNameMiles",defaultMessage:l.defaultMessages.unitsNameMiles}),p=(0,i.useIntl)().formatMessage({id:"unitsNameNauticalMiles",defaultMessage:l.defaultMessages.unitsNameNauticalMiles}),g=(0,i.useIntl)().formatMessage({id:"unitsNameYards",defaultMessage:l.defaultMessages.unitsNameYards}),d=(0,i.useIntl)().formatMessage({id:"unitsNameAcres",defaultMessage:l.defaultMessages.unitsNameAcres}),N=(0,i.useIntl)().formatMessage({id:"unitsNameAres",defaultMessage:l.defaultMessages.unitsNameAres}),h=(0,i.useIntl)().formatMessage({id:"unitsNameHectares",defaultMessage:l.defaultMessages.unitsNameHectares}),D=(0,i.useIntl)().formatMessage({id:"unitsNameSquareFeet",defaultMessage:l.defaultMessages.unitsNameSquareFeet}),y=(0,i.useIntl)().formatMessage({id:"unitsNameSquareMeters",defaultMessage:l.defaultMessages.unitsNameSquareMeters}),m=(0,i.useIntl)().formatMessage({id:"unitsNameSquareYards",defaultMessage:l.defaultMessages.unitsNameSquareYards}),j=(0,i.useIntl)().formatMessage({id:"unitsNameSquareKilometers",defaultMessage:l.defaultMessages.unitsNameSquareKilometers}),S=(0,i.useIntl)().formatMessage({id:"unitsNameSquareMiles",defaultMessage:l.defaultMessages.unitsNameSquareMiles}),I=i.React.useCallback((e=>{let t="";switch(e.coordUnit){case Ct.DD:t=a;break;case Ct.DMS:t=n}return t}),[a,n]),T=i.React.useCallback(((e,t)=>{let i="";switch(t?e.perimeterUnit:e.linearUnit){case bt.Meters:i=r;break;case bt.Feet:i=M;break;case bt.Kilometers:i=c;break;case bt.Miles:i=u;break;case bt.NauticalMiles:i=p;break;case bt.Yards:i=g}return i}),[r,M,c,u,p,g]),w=i.React.useCallback((e=>{let t="";switch(e.arealUnit){case At.Acres:t=d;break;case At.Ares:t=N;break;case At.Hectares:t=h;break;case At.SquareFeet:t=D;break;case At.SquareMeters:t=y;break;case At.SquareYards:t=m;break;case At.SquareKilometers:t=j;break;case At.SquareMiles:t=S}return t}),[d,N,h,D,y,m,j,S]),z=i.React.useRef({location:t,length:s,area:o,coordUnit:I(e),linearUnit:T(e),arealUnit:w(e),perimeterUnit:T(e,!0)});return{getMeasurementsNls:e=>{const t=I(e),i=T(e),s=w(e),o=T(e,!0);return Object.assign(Object.assign({},z.current),{coordUnit:t,linearUnit:i,arealUnit:s,perimeterUnit:o})}}})(e.measurementsRuntimeInfo);h.current=D;const y=i.React.useRef(),[m,j]=i.React.useState(null);i.hooks.useEffectOnce((()=>{(0,u.loadArcGISJSAPIModules)(["esri/widgets/Sketch","esri/widgets/Sketch/SketchViewModel","esri/layers/GraphicsLayer","esri/Graphic","esri/geometry/geometryEngine","esri/geometry/coordinateFormatter","esri/symbols/TextSymbol","esri/layers/FeatureLayer"]).then((e=>{let t=null,i=null,s=null,o=null,a=null,n=null,l=null,r=null;[t,i,s,o,a,n,l,r]=e,j({Sketch:t,SketchViewModel:i,GraphicsLayer:s,Graphic:o,geometryEngine:a,coordinateFormatter:n,TextSymbol:l,FeatureLayer:r})}))}));const S=i.React.useRef({pointSymbol:null,polylineSymbol:null,polygonSymbol:null}),I=i.React.useRef(!1),T=ye();i.React.useEffect((()=>{var t,i,s,o,a,n;I.current||(S.current={pointSymbol:null!==(i=null===(t=e.defaultSymbols)||void 0===t?void 0:t.pointSymbol)&&void 0!==i?i:Li(zt.Point,S.current,T),polylineSymbol:null!==(o=null===(s=e.defaultSymbols)||void 0===s?void 0:s.polylineSymbol)&&void 0!==o?o:Li(zt.Polyline,S.current,T),polygonSymbol:null!==(n=null===(a=e.defaultSymbols)||void 0===a?void 0:a.polygonSymbol)&&void 0!==n?n:Li(zt.Polygon,S.current,T)},I.current=!0)}),[T,e.defaultSymbols]);const{getLayersGroupByJimuMapId:w,addLayersToMap:z,changeLayerElev:O,removeAllLayersFromMap:x}=(e=>{var t,s,o;const a=i.React.useRef(new Map),n=i.React.useRef(""),l=i.React.useRef("");i.React.useEffect((()=>{n.current=e.jimuMapView.id,l.current=e.jimuMapView.mapWidgetId}));const r=i.React.useCallback((t=>{var i;const s="jimu-draw-layer-"+e.jimuMapView.id+"-"+t,o=new(null===(i=e.apiModules)||void 0===i?void 0:i.GraphicsLayer)({id:s,listMode:"hide",title:s,elevationInfo:{mode:e.elevationInfo}});return e.jimuMapView.view.map.findLayerById(o.id)||e.jimuMapView.view.map.add(o),o}),[null===(t=e.apiModules)||void 0===t?void 0:t.GraphicsLayer,e.elevationInfo,e.jimuMapView.id,null===(s=e.jimuMapView.view)||void 0===s?void 0:s.map]),M=i.React.useCallback((t=>{var i,s,o,a,n,l;const r="jimu-draw-measurements-layer-"+e.jimuMapView.id+"-"+t,M="2d"===(null===(i=e.jimuMapView)||void 0===i?void 0:i.view.type),c=M?"text":"label-3d",u=(null===(s=e.measurementsRuntimeInfo)||void 0===s?void 0:s.fontsColor)||[0,0,0],p=(null===(o=e.measurementsRuntimeInfo)||void 0===o?void 0:o.fontsSize)||12,g=(null===(a=e.measurementsRuntimeInfo)||void 0===a?void 0:a.haloColor)||[255,255,255,.8],d=(null===(n=e.measurementsRuntimeInfo)||void 0===n?void 0:n.haloSize)||1;let N={type:c};N=M?Object.assign(Object.assign({},N),{type:"text",color:u,haloColor:g,haloSize:d,font:{size:p}}):Object.assign(Object.assign({},N),{symbolLayers:[{type:"text",material:{color:u},size:p,halo:{color:g,size:d}}],verticalOffset:{screenLength:40,maxWorldLength:500,minWorldLength:50},callout:{type:"line",size:1.5,color:"white",border:{color:"black"}}});const h=new(null===(l=e.apiModules)||void 0===l?void 0:l.FeatureLayer)({id:r,listMode:"hide",legendEnabled:!1,title:r,geometryType:"point",source:[],objectIdField:"OBJECTID",elevationInfo:{mode:Me.DrawingElevationMode3D.RelativeToGround},hasZ:!0,popupEnabled:!1,popupTemplate:null,outFields:["*"],labelsVisible:!0,screenSizePerspectiveEnabled:!1,fields:[{name:"OBJECTID",type:"oid"},{name:"jimuDrawId",type:"integer"},{name:"mLabel",type:"string"},{name:"mInfo",type:"string"}],labelingInfo:[{labelExpressionInfo:{expression:"$feature.mLabel"},symbol:N}]});return e.jimuMapView.view.map.findLayerById(h.id)||e.jimuMapView.view.map.add(h),h}),[null===(o=e.apiModules)||void 0===o?void 0:o.FeatureLayer,e.jimuMapView,e.measurementsRuntimeInfo]),c=i.React.useCallback((e=>{const t=void 0!==e?e:n.current;return a.current.get(t)}),[]),p=i.React.useCallback((()=>{let t=c();if(!t){const i=(new Date).getTime();t={canvasLayer:r(i),measurementsLayer:M(i)},a.current.set(e.jimuMapView.id,t)}return t}),[e.jimuMapView,c,r,M]),g=i.React.useCallback((()=>{var t;const i=null===(t=c())||void 0===t?void 0:t.canvasLayer;i&&(i.elevationInfo={mode:e.elevationInfo})}),[e.elevationInfo,c]),d=i.React.useCallback((e=>{const t=null!=e?e:l.current,i=u.MapViewManager.getInstance().getJimuMapViewGroup(t);if(i)for(const e in i.jimuMapViews){const t=c(e),i=u.MapViewManager.getInstance().getJimuMapViewById(e);(null==t?void 0:t.canvasLayer)&&i&&i.view.map.remove(t.canvasLayer),(null==t?void 0:t.measurementsLayer)&&i&&i.view.map.remove(t.measurementsLayer),a.current.set(i.id,null)}}),[c]);return{getLayersGroupByJimuMapId:c,addLayersToMap:p,changeLayerElev:g,removeAllLayersFromMap:d}})({jimuMapView:e.jimuMapView,apiModules:m,elevationInfo:e.elevationInfo,measurementsRuntimeInfo:e.measurementsRuntimeInfo}),L=i.React.useRef(null),A=i.React.useCallback((()=>{var e;(null==L?void 0:L.current)&&(null===(e=L.current.viewModel)||void 0===e||e.cancel())}),[]),b=i.React.useCallback((()=>{var e;(null==L?void 0:L.current)&&(null===(e=L.current)||void 0===e||e.destroy())}),[]),C=i.React.useRef(null),E=i.React.useRef(null),[v,k]=i.React.useState(null),f=i.React.useRef(!1),U=i.React.useCallback((()=>{f.current=!1}),[]),Q=i.React.useCallback((()=>{f.current=!0}),[]),[Y,P]=i.React.useState(0),R=e.currentSymbolTypeChanged,V=e.currentActiveToolChanged,G=i.React.useCallback((e=>{V(e),k(e),R((e=>{switch(e){case zt.Point:return Me.JimuSymbolType.Point;case zt.Polyline:return Me.JimuSymbolType.Polyline;case zt.Polygon:case zt.Rectangle:case zt.Circle:return Me.JimuSymbolType.Polygon;default:return null}})(e)),P(Y+1)}),[Y,R,V]),B=i.React.useRef(null),F=i.React.useRef(null),H=i.React.useCallback((()=>{var t,i,s,o;if(q(),!(null===(t=e.jimuMapView)||void 0===t?void 0:t.view)||!m)return;z();const{creationMode:a,visibleElements:n,updateOnGraphicClick:l,defaultCreateOptions:r,defaultUpdateOptions:M,snappingOptions:c}=xi({creationMode:e.creationMode,visibleElements:e.visibleElements,updateOnGraphicClick:e.updateOnGraphicClick,defaultCreateOptions:e.defaultCreateOptions,defaultUpdateOptions:e.defaultUpdateOptions,snappingOptions:e.snappingOptions},w().canvasLayer);L.current=new m.Sketch({container:C.current,creationMode:a,visibleElements:n,viewModel:new m.SketchViewModel({view:e.jimuMapView.view,layer:w().canvasLayer,updateOnGraphicClick:l,defaultCreateOptions:r,defaultUpdateOptions:M,snappingOptions:c,pointSymbol:null!==(i=S.current.pointSymbol)&&void 0!==i?i:null,polylineSymbol:null!==(s=S.current.polylineSymbol)&&void 0!==s?s:null,polygonSymbol:null!==(o=S.current.polygonSymbol)&&void 0!==o?o:null})}),L.current.when((()=>{var t;((e,t,i,s,o)=>{e&&e.children[0]&&(e.children[0].contains(t)&&e.children[0].removeChild(t),e.children[0].appendChild(t),i.style.display="block",o||s&&(s.style.display="block"))})(C.current,E.current,X.current,ee.current,null!==(t=e.disableSymbolSelector)&&void 0!==t&&t),"function"==typeof e.onJimuDrawCreated&&e.onJimuDrawCreated(Object.assign({sketch:L.current,getGraphicsLayer:()=>L.current.layer,completeOperation:te,destroy:q,sketchToolsbarDom:K.current},{enableSymbolSelector:e.enableSymbolSelector}))})),L.current.watch("activeTool",(t=>{B.current=t,F.current=null,clearTimeout(F.current),F.current=setTimeout((()=>{clearTimeout(F.current),(()=>{const t=B.current;if(N.includes(t)){e.onToolsActived&&e.onToolsActived(t),((e,t,i,s)=>{if(e!==t)switch(t){case zt.Point:i.viewModel.pointSymbol=s.pointSymbol;break;case zt.Polyline:i.viewModel.polylineSymbol=s.polylineSymbol;break;case zt.Polygon:case zt.Rectangle:case zt.Circle:i.viewModel.polygonSymbol=s.polygonSymbol}})(v,t,L.current,S.current),e.currentSymbolChanged(Li(t,S.current,T));const i=((e,t)=>{let i=null;switch(e){case zt.Point:i="pin";break;case zt.Polyline:i="line";break;case zt.Polygon:case zt.Rectangle:case zt.Circle:i=e}return t.querySelector("calcite-icon[icon="+i+"]")})(t,K.current);e.currentActiveBtnChanged(i),G(t)}else G(t)})()}),80)})),L.current.on("create",(t=>{if("start"===t.state&&e.onDrawingStarted&&e.onDrawingStarted(),"complete"===t.state&&e.onDrawingFinished&&(null==t?void 0:t.graphic)&&(Ai([t.graphic]),e.onDrawingFinished(t.graphic),(i=e.measurementsRuntimeInfo).enableMeasurements&&i.isMeasuring)){const i=Yi(t.graphic);vi(i,[t.graphic],w().measurementsLayer,e.measurementsRuntimeInfo,!1,m.geometryEngine,m.coordinateFormatter,ie.current,m.Graphic,d.formatNumber,null==h?void 0:h.current(e.measurementsRuntimeInfo),!1)}var i;"cancel"===t.state&&e.onDrawingCanceled&&e.onDrawingCanceled()})),L.current.on("update",(t=>{if(e.onDrawingUpdated&&!t.aborted){const i=setTimeout((()=>{Ai(t.graphics),e.onDrawingUpdated({type:"modified",graphics:t.graphics})}),200);clearTimeout(i)}"complete"===t.state&&e.onDrawingUpdated&&setTimeout((()=>{Ai(t.graphics);const i=t.aborted?"aborted":"complete";e.onDrawingUpdated({type:i,graphics:t.graphics});const s=f.current;var o,a,n,l,r,M,c,u,p,g;s?fi(t.graphics,w().measurementsLayer):(o=t.graphics,a=w().measurementsLayer,n=e.measurementsRuntimeInfo,l=s,r=m.geometryEngine,M=m.coordinateFormatter,c=ie.current,u=m.Graphic,p=d.formatNumber,g=null==h?void 0:h.current(e.measurementsRuntimeInfo),Ei(void 0,void 0,void 0,(function*(){for(const e of o)if((yield ki(e,a)).features.length>0){const t=Yi(e);vi(t,[e],a,n,l,r,M,c,u,p,g,!0)}})))}),50)})),L.current.on("delete",(t=>{Q(),setTimeout((()=>{Ai(t.graphics),e.onDrawingUpdated&&e.onDrawingUpdated({type:"deleted",graphics:t.graphics}),fi(t.graphics,w().measurementsLayer),U()}),300)}))}),[m,w,e.updateOnGraphicClick,e.defaultCreateOptions,e.defaultUpdateOptions,e.elevationInfo,e.onJimuDrawCreated,e.onDrawingCleared,e.onDrawingStarted,e.onDrawingFinished,e.onDrawingCanceled,e.onDrawingUpdated,e.enableSymbolSelector,z,A,b]);i.React.useEffect((()=>{L&&L.current||H()}),[m,e.jimuMapView]),i.React.useEffect((()=>{if(L&&L.current){A();const{creationMode:t,visibleElements:i,updateOnGraphicClick:s,defaultCreateOptions:o,defaultUpdateOptions:a,snappingOptions:n}=xi({creationMode:e.creationMode,visibleElements:e.visibleElements,updateOnGraphicClick:e.updateOnGraphicClick,defaultCreateOptions:e.defaultCreateOptions,defaultUpdateOptions:e.defaultUpdateOptions,snappingOptions:e.snappingOptions},w().canvasLayer),l=L.current;l.creationMode=t,l.visibleElements=i,l.viewModel.updateOnGraphicClick=s,l.viewModel.defaultCreateOptions=o,l.viewModel.defaultUpdateOptions=a,l.viewModel.snappingOptions=n,l.renderNow()}}),[A,w,e.creationMode,e.visibleElements,e.updateOnGraphicClick,e.defaultCreateOptions,e.defaultUpdateOptions,e.snappingOptions]);const W=i.React.useCallback((()=>{e.jimuMapView.mapWidgetId!==y.current&&x(y.current),y.current=e.jimuMapView.mapWidgetId}),[x,e.jimuMapView]);i.React.useEffect((()=>{var t;if(L&&L.current){A(),W(),z();const i=L.current;i.viewModel.view=e.jimuMapView.view,i.viewModel.layer=null===(t=w())||void 0===t?void 0:t.canvasLayer,i.renderNow()}}),[A,W,z,e.jimuMapView,w]),i.React.useEffect((()=>{var t;const i=null===(t=w())||void 0===t?void 0:t.canvasLayer;if(i){const t=e.isDisplayCanvasLayer?"show":"hide";i.listMode=t}}),[e.isDisplayCanvasLayer,w]),i.React.useEffect((()=>{O()}),[e.elevationInfo,O]);const J=i.React.useCallback(((e,t)=>{L&&(null==L?void 0:L.current)&&(L.current.activeTool!==e||t)&&(L.current.viewModel.create(e),L.current.renderNow())}),[]),Z=i.React.useCallback((()=>{var t,i,s;const o=null!==(t=e.pointSymbol)&&void 0!==t?t:null!==(s=null===(i=e.defaultSymbols)||void 0===i?void 0:i.pointSymbol)&&void 0!==s?s:S.current.pointSymbol;S.current.pointSymbol=o,L.current.viewModel.pointSymbol=o}),[e.pointSymbol,null===(s=e.defaultSymbols)||void 0===s?void 0:s.pointSymbol]),_=i.React.useCallback((()=>{var t,i,s;const o=null!==(t=e.polylineSymbol)&&void 0!==t?t:null!==(s=null===(i=e.defaultSymbols)||void 0===i?void 0:i.polylineSymbol)&&void 0!==s?s:S.current.polylineSymbol;S.current.polylineSymbol=o,L.current.viewModel.polylineSymbol=o}),[e.polylineSymbol,null===(o=e.defaultSymbols)||void 0===o?void 0:o.polylineSymbol]),$=i.React.useCallback((()=>{var t,i,s;const o=null!==(t=e.polygonSymbol)&&void 0!==t?t:null!==(s=null===(i=e.defaultSymbols)||void 0===i?void 0:i.polygonSymbol)&&void 0!==s?s:S.current.polygonSymbol;S.current.polygonSymbol=o,L.current.viewModel.polygonSymbol=o}),[e.polygonSymbol,null===(a=e.defaultSymbols)||void 0===a?void 0:a.polygonSymbol]);i.React.useEffect((()=>{var e;let t=!1;const i=(null===(e=null==L?void 0:L.current)||void 0===e?void 0:e.activeTool)!==v;switch(v){case zt.Point:t=i,Z();break;case zt.Polyline:t=i,_();break;case zt.Polygon:case zt.Rectangle:case zt.Circle:t=i,$()}t&&J(v,!0)}),[e.pointSymbol,e.polylineSymbol,e.polygonSymbol,v,Z,_,$,J]),i.React.useEffect((()=>{J(v)}),[v,J]);const q=i.React.useCallback((()=>{F.current&&clearTimeout(F.current),A(),b(),G(null),x()}),[A,b,G,x]);i.React.useEffect((()=>()=>{q()}),[]);const K=i.React.useRef(null),X=i.React.useRef(null),ee=i.React.useRef(null),te=()=>{return e=void 0,t=void 0,s=function*(){return new Promise(((e,t)=>{L&&L.current&&["move","transform","reshape"].includes(L.current.activeTool)?(L.current.complete(),setTimeout((()=>{e()}),500)):e()}))},new((i=void 0)||(i=Promise))((function(o,a){function n(e){try{r(s.next(e))}catch(e){a(e)}}function l(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}r((s=s.apply(e,t||[])).next())}));var e,t,i,s},ie=i.React.useRef(null),se=((e,t)=>{var i,s;let o=!1;const a=e;if(a&&!t){const e=null===(i=a["rectangle-selection"])||void 0===i||i,t=null===(s=a["lasso-selection"])||void 0===s||s;o=!e&&!t}return o?"hide-selectiontools":""})(null===(n=e.visibleElements)||void 0===n?void 0:n.selectionTools,null===(r=e.updateOnGraphicClick)||void 0===r||r),oe=null!=(ae=null===(M=e.uiOptions)||void 0===M?void 0:M.isHideBgColor)&&ae?"hide-bg-color ":"";var ae;const ne=null!=(le=null===(c=e.uiOptions)||void 0===c?void 0:c.isHideBorder)&&le?"hide-border ":"";var le;const re=d.formatMessage({id:"collapse",defaultMessage:l.defaultMessages.collapse}),ce=d.formatMessage({id:"expand",defaultMessage:l.defaultMessages.expand}),ue=e.isExpandSymbolList?(0,i.jsx)(at,{className:"mr-0"}):(0,i.jsx)(rt,{className:"mr-0"}),pe=d.formatMessage({id:"drawToolClearBtn",defaultMessage:l.defaultMessages.drawToolClearBtn});return(0,i.jsx)("div",{className:"jimu-drawtool "+oe,css:Wi(g)},!m&&(0,i.jsx)("div",{className:"jimu-draw-api-loader align-items-center justify-content-center"},(0,i.jsx)("div",{className:"skeleton"})),(0,i.jsx)("div",{className:"w-100 d-flex",ref:e=>{K.current=e},css:i.css`
      .jimu-draw-sketch-tools.hide-selectiontools > .esri-sketch__panel > .esri-sketch__tool-section:first-of-type {
        display: none;
      }
  `},(0,i.jsx)("div",{className:"jimu-draw-sketch-tools d-flex surface-1 border-0 "+ne+se},(0,i.jsx)("div",{ref:e=>{C.current=e}}),(0,i.jsx)("div",{ref:e=>{E.current=e},className:"additional-bts d-flex align-items-center justify-content-center mr-1"},(0,i.jsx)(l.Button,{type:"tertiary",style:{display:"none"},className:"appended-btn px-2 ",size:"sm",ref:e=>{X.current=e},title:pe,onClick:()=>{var t,i;(t=w().measurementsLayer).queryFeatures().then((e=>{const i={deleteFeatures:e.features};t.applyEdits(i)})),(i=w().canvasLayer)&&i.removeAll(),"function"==typeof e.onDrawingCleared&&e.onDrawingCleared()}},(0,i.jsx)(it,{style:{margin:"0"}})),(null===(p=e.uiOptions)||void 0===p?void 0:p.arrangement)===Xt.Toolbar&&(0,i.jsx)(l.Button,{type:"tertiary",style:{display:"none"},className:"appended-btn px-2 mr-1 ",size:"sm",title:e.isExpandSymbolList?re:ce,ref:e=>{ee.current=e},disabled:!N.includes(v),onClick:()=>{e.setIsExpandSymbolList(!e.isExpandSymbolList),P(Y+1)}},ue))),(0,i.jsx)(Hi,{onLoad:e=>{ie.current=e}})))})),Zi=i.React.memo((e=>{const{layoutContextStates:t,dispatchLayoutActions:s}=i.React.useContext(Ni),{sketchContextStates:o,dispatchSketchActions:a}=i.React.useContext(as),{symbolContextStates:n,dispatchSymbolActions:l}=i.React.useContext(Tt),{measurementsContextStates:r}=i.React.useContext(Vt),{dispatchGraphicsUndoRedoActions:M}=i.React.useContext(zi),c=i.React.useRef(null);i.React.useEffect((()=>{c.current=o.getGraphicsLayerFunRef}),[e,o]);const u=i.React.useCallback((e=>{var t;const i=c.current&&(null===(t=c.current().graphics)||void 0===t?void 0:t.items),s=[];i.forEach((e=>{s.push(e.toJSON())})),M({type:Di,payload:s}),"function"==typeof o.callBacks.onDrawingFinished&&o.callBacks.onDrawingFinished(e)}),[o.callBacks,M]),p=i.React.useCallback((e=>{l((e=>({type:gt,payload:e}))(e))}),[l]),g=i.React.useCallback((e=>{l(jt(e))}),[l]),d=i.React.useCallback((e=>{a(is(e))}),[a]),N=i.React.useCallback((e=>{s((e=>({type:ci,payload:e}))(e))}),[s]),h=i.React.useCallback((e=>{s((e=>({type:Mi,payload:e}))(e))}),[s]);return(0,i.jsx)(i.React.Fragment,null,e.jimuMapView&&(0,i.jsx)(Ji,{jimuMapView:e.jimuMapView,isDisplayCanvasLayer:o.isDisplayCanvasLayer,creationMode:o.drawingOptions.creationMode,visibleElements:o.drawingOptions.visibleElements,snappingOptions:o.drawingOptions.snappingOptions,updateOnGraphicClick:o.drawingOptions.updateOnGraphicClick,defaultCreateOptions:o.drawingOptions.defaultCreateOptions,defaultUpdateOptions:o.drawingOptions.defaultUpdateOptions,elevationInfo:o.drawingOptions.drawingElevationMode3D,defaultSymbols:n.defaultSymbols,pointSymbol:n.pointSymbol,polylineSymbol:n.polylineSymbol,polygonSymbol:n.polygonSymbol,onJimuDrawCreated:e=>{a(ts(e))},onToolsActived:e=>{var t;"function"==typeof(null===(t=o.callBacks)||void 0===t?void 0:t.onToolsActived)&&o.callBacks.onToolsActived(e)},onDrawingCleared:()=>{var e;"function"==typeof(null===(e=o.callBacks)||void 0===e?void 0:e.onDrawingCleared)&&o.callBacks.onDrawingCleared()},onDrawingStarted:()=>{"function"==typeof o.callBacks.onDrawingStarted&&o.callBacks.onDrawingStarted()},onDrawingCanceled:()=>{"function"==typeof o.callBacks.onDrawingCanceled&&o.callBacks.onDrawingCanceled()},onDrawingFinished:u,onDrawingUpdated:e=>{"function"==typeof o.callBacks.onDrawingUpdated&&o.callBacks.onDrawingUpdated(e)},currentSymbolChanged:p,currentSymbolTypeChanged:g,currentActiveToolChanged:d,uiOptions:t.uiOptions,disableSymbolSelector:t.disableSymbolSelector,currentActiveBtnChanged:N,isExpandSymbolList:t.isExpandSymbolList,setIsExpandSymbolList:h,enableSymbolSelector:t.enableSymbolSelectorFunRef,measurementsRuntimeInfo:r.measurementsRuntimeInfo}))})),_i=i.React.memo((e=>{const{sketchContextStates:t}=i.React.useContext(as),{layoutContextStates:s}=i.React.useContext(Ni);return i.React.useEffect((()=>{"function"==typeof e.onJimuDrawCreated&&t.sketchRef&&e.onJimuDrawCreated({sketch:t.sketchRef,getGraphicsLayer:t.getGraphicsLayerFunRef,completeOperation:t.completeDrawFunRef,destroy:t.destroy,enableSymbolSelector:s.enableSymbolSelectorFunRef,sketchToolsbarDom:t.sketchToolsbarDom})}),[e.onJimuDrawCreated,t.sketchRef,t.getGraphicsLayerFunRef,t.completeDrawFunRef]),(0,i.jsx)(Zi,Object.assign({},e))})),$i="SketchChanged",qi="IsDisplayCanvasLayerChanged",Ki="ActiveToolChanged",Xi="DrawingOptionsChanged",es="CallBacksChanged",ts=e=>({type:$i,payload:e}),is=e=>({type:Ki,payload:e}),ss=e=>({sketchRef:null,getGraphicsLayerFunRef:null,completeDrawFunRef:null,destroy:null,isDisplayCanvasLayer:!1,activeTool:null,drawingOptions:{creationMode:Lt.Continuous,drawingElevationMode3D:xt.OnTheGround,visibleElements:{createTools:{point:!0,polyline:!0,polygon:!0,rectangle:!0,circle:!0},undoRedoMenu:!0,settingsMenu:!1},snappingOptions:{enabled:!1},updateOnGraphicClick:!0,defaultCreateOptions:{hasZ:!0},defaultUpdateOptions:{enableZ:!1}},callBacks:{onJimuDrawCreated:null,onToolsActived:null,onDrawingCleared:null},sketchToolsbarDom:null}),os=(e,t)=>{switch(t.type){case $i:const i=t.payload;return Object.assign(Object.assign({},e),{sketchRef:i.sketch,getGraphicsLayerFunRef:i.getGraphicsLayer,completeDrawFunRef:i.completeOperation,destroy:i.destroy,sketchToolsbarDom:i.sketchToolsbarDom});case qi:return Object.assign(Object.assign({},e),{isDisplayCanvasLayer:t.payload});case Ki:return Object.assign(Object.assign({},e),{activeTool:t.payload});case Xi:return Object.assign(Object.assign({},e),{drawingOptions:Object.assign(e.drawingOptions,t.payload)});case es:return Object.assign(Object.assign({},e),{callBacks:Object.assign(e.callBacks,t.payload)});default:throw new Error}},as=i.React.createContext(null),ns=e=>{const[t,s]=i.React.useReducer(os,e.initStates,ss);return i.React.createElement(as.Provider,{value:{sketchContextStates:t,dispatchSketchActions:s}},e.children)},ls=i.React.memo((e=>{const{dispatchSketchActions:t}=i.React.useContext(as),{dispatchLayoutActions:s}=i.React.useContext(Ni),{dispatchSymbolActions:o}=i.React.useContext(Tt),{dispatchMeasurementsActions:a}=i.React.useContext(Vt);return i.React.useEffect((()=>{var i;t((i=e.isDisplayCanvasLayer,{type:qi,payload:i}))}),[e.isDisplayCanvasLayer,t]),i.React.useEffect((()=>{var i;t((i=e.drawingOptions,{type:Xi,payload:null!=i?i:{}}))}),[t,e.drawingOptions]),i.React.useEffect((()=>{var i;t((i={onJimuDrawCreated:e.onJimuDrawCreated,onToolsActived:e.onToolsActived,onDrawingCleared:e.onDrawingCleared,onDrawingStarted:e.onDrawingStarted,onDrawingCanceled:e.onDrawingCanceled,onDrawingFinished:e.onDrawingFinished,onDrawingUpdated:e.onDrawingUpdated},{type:es,payload:null!=i?i:{}}))}),[t,e.onJimuDrawCreated,e.onToolsActived,e.onDrawingCleared,e.onDrawingStarted,e.onDrawingCanceled,e.onDrawingFinished,e.onDrawingUpdated]),i.React.useEffect((()=>{s(pi(e.disableSymbolSelector))}),[e.disableSymbolSelector,s]),i.React.useEffect((()=>{var t;o((t=e.defaultSymbols,{type:ht,payload:t}))}),[e.defaultSymbols,o]),i.React.useEffect((()=>{var t;o((t={onPointSymbolChanged:e.onPointSymbolChanged,onPolylineSymbolChanged:e.onPolylineSymbolChanged,onPolygonSymbolChanged:e.onPolygonSymbolChanged},{type:Nt,payload:null!=t?t:{}}))}),[o,e.onPointSymbolChanged,e.onPolylineSymbolChanged,e.onPolygonSymbolChanged]),i.React.useEffect((()=>{a(Yt(Object.assign({},e.measurementsInfo)))}),[e.measurementsInfo,a]),i.React.useEffect((()=>{var t;a((t=e.measurementsUnitsInfos,{type:Qt,payload:t}))}),[e.measurementsUnitsInfos,a]),(0,i.jsx)(ni,{jimuMapView:e.jimuMapView,uiOptions:e.uiOptions})})),rs=i.React.memo((e=>(0,i.jsx)(Gt,{initStates:null},(0,i.jsx)(Oi,{initStates:null},(0,i.jsx)(ns,{initStates:null},(0,i.jsx)(wt,{initStates:e.defaultSymbols},(0,i.jsx)(hi,{initStates:null},(0,i.jsx)(ls,Object.assign({},e)))))))));(0,t.registerStyles)("jimu-ui/advanced/map/",e)})(),c})())}}}));