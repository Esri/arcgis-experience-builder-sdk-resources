/*! For license information please see arcgis_processing-templates_node_modules_arcgis_imagery-components-329eaa.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-329eaa"],{80362:(e,t,i)=>{i.r(t),i.d(t,{arcgis_imagery_collection_explorer:()=>g});var a=i(41126),s=i(14886),n=i(12839),r=i(20353),o=i(5482),l=i(18936),m=i(67455);function h(e){return`ImageryCollectionExplorer_${e}`}function c(e,t){const i={...(0,m.g)(h(e)),selectedImageItems:t};(0,m.s)(h(e),i)}const g=class{constructor(e){(0,a.r)(this,e),this.arcgisClose=(0,a.c)(this,"arcgisClose",7),this.manager=(0,s.u)(this),this.CodedValueDomain=(0,s.l)(n.h),this.Extent=(0,s.l)(n.i),this.Field=(0,s.l)(n.a),this.Graphic=(0,s.l)(n.b),this.geometryEngine=(0,s.l)(n.c),this.IdentityManager=(0,s.l)(n.d),this.ImageryLayer=(0,s.l)(n.e),this.MosaicRule=(0,s.l)(n.f),this.reactiveUtils=(0,s.l)(n.g),this.messages=(0,r.u)({blocking:!0}),this.handleCloseClick=()=>{var e;e=this.layer.id,(0,m.r)(h(e)),this.closeAllPopovers(),this.arcgisClose.emit()},this.handleImageItemInitialQuery=()=>{const{view:e,layer:t}=this,i=(0,l.g)(e);this.currentFilterDetail=this.currentFilterDetail??{selectedAOI:this.selectedAOI,queryField:null,queryValues:null,isIncludeOverviews:!1,displayExtent:i};const{queryField:a,queryValues:s,isIncludeOverviews:n}=this.currentFilterDetail,r=(0,l.b)(t,a,s,n,i,this.layerInitialMosaicRule?.lockRasterIds);this.totalImageItemCount=-1,this.imageItemFeatures=[],this.resetPaginationStartIndex(),this.queryImageCollectionItemsAndCount(r)},this.handleImageItemFilterQuery=async e=>{const{selectedAOI:t,queryField:i,queryValues:a,isIncludeOverviews:s,displayExtent:n}=e,{layer:r}=this;this.selectedAOI=t,this.activeQueryField=i;const o=(0,l.b)(r,i,a,s,n,this.layerInitialMosaicRule?.lockRasterIds);this.totalImageItemCount=-1,this.resetPaginationStartIndex(),this.imageItemFeatures=[],this.queryImageCollectionItemsAndCount(o)},this.queryImageCollectionItemsAndCount=async e=>{const{selectedAOI:t,layer:i,view:a,imageItemSortField:s,imageItemSortOrder:n,fetchAbortController:r}=this;this.hasQueryImageItemError=!1,this.isQueryingImageItems=!0,r&&r.abort();try{let r=null;if(this.fetchAbortController=new AbortController,t===o.A.VISIBLE?(e.orderByFields=[`${s.name} ${n}`],r=await(0,l.a)(i,a,e),this.totalImageItemCount=r?.features?.length??0):(this.totalImageItemCount<0&&(this.totalImageItemCount=await(0,l.c)(i,e,this.fetchAbortController?.signal)),this.totalImageItemCount>=0&&(e.orderByFields=[`${s.name} ${n}`],e.num=Math.min(5*this.imageItemCountPerPage,this.layer.sourceJSON?.maxRecordCount||this.imageItemCountPerPage),r=await(0,l.d)(i,e,this.fetchAbortController?.signal))),this.isQueryingImageItems=!1,!(r&&r.features?.length>0))return this.imageItemFeatures=[],void(this.inspectImageItemFeature=null);const m=e.start||0;for(let e=0;e<r.features.length;e++)this.imageItemFeatures[m+e]=r.features[e]}catch(e){const t=(0,o.b)(e);if(this.isQueryingImageItems=t,t)return;this.hasQueryImageItemError=!0,this.imageItemFeatures.some((e=>!!e))?this.imageItemListCurPageStartIndex=this.imageItemListPrevPageStartIndex:(this.totalImageItemCount=-1,this.imageItemFeatures=[])}},this.handleSelectNewImageItemToInspect=e=>{const t=this.getNewImageItemFeatureToInspect(e);this.inspectImageItemFeature=t,this.refreshImageItemInfo(t)},this.getNewImageItemFeatureToInspect=e=>{const{activeImageItemListNavTab:t,inspectImageItemFeature:i,imageItemFeatures:a,layer:s,selectedImageItemFeatures:n}=this,r=t===o.I.ALL?a:n,l=r.findIndex((e=>e.attributes[s.objectIdField]===i?.attributes[s.objectIdField]));return r[("previous"===e?l-1+r.length:l+1)%r.length]},this.refreshImageItemInfo=async e=>{const{layer:t}=this,i=await t.getCatalogItemRasterInfo(e?.attributes[t.objectIdField]);this.imageItemInfo=i},this.handleDisplayedFieldsInImageItemCardChange=e=>{const{imageItemCardDisplayedFields:t,layer:i,activeQueryField:a}=this;let s=[...t];const n=t.findIndex((t=>t.name===e.name));if(n>=0){const e=t.splice(n,1);s=[...e,...t]}n<0&&s.length<4&&(s=[e,...t]);(0,l.e)(i,a).forEach((e=>{s.findIndex((t=>t.name===e.name))<0&&s.length<4&&s.push(e)})),this.imageItemCardDisplayedFields=s},this.handleOpenImageItemFiltersPopover=()=>{const{isShowingFiltersPopover:e}=this;this.closeAllPopovers(),this.isShowingFiltersPopover=!e},this.handleOpenImageItemListSettingsPopover=()=>{const{isShowingListSettingsPopover:e}=this;this.closeAllPopovers(),this.isShowingListSettingsPopover=!e},this.handleOpenImageItemSortPopover=()=>{const{isShowingSortPopover:e}=this;this.closeAllPopovers(),this.isShowingSortPopover=!e},this.closeAllPopovers=()=>{this.isShowingFiltersPopover=!1,this.isShowingImageItemInspectPopover=!1,this.isShowingListSettingsPopover=!1,this.isShowingSortPopover=!1},this.highlightImageItem=async e=>{const{view:t,layer:i}=this;this.removeImageItemHighlight();const a=await t.whenLayerView(i);this.highlightImageItemHandler=a.highlight(e)},this.removeImageItemHighlight=()=>{this.highlightImageItemHandler?.remove()},this.clearAllImageItemSelections=()=>{this.selectedImageItemFeatures=[]},this.zoomToSelectedImageItems=e=>{const{view:t}=this;t.goTo(e)},this.openImageItemInspectPopover=e=>{const{layer:t,inspectImageItemFeature:i,isShowingImageItemInspectPopover:a}=this,s=e.attributes[t.objectIdField];i?.attributes[t.objectIdField]===s&&a?this.isShowingImageItemInspectPopover=!1:(this.closeAllPopovers(),this.isShowingImageItemInspectPopover=!0),this.removeImageItemHighlight(),this.inspectImageItemFeature=e,this.refreshImageItemInfo(e)},this.handleAddSelectedImageItemsAsNewLayer=e=>{if(!e)return;const{layer:t,view:i,activeQueryField:a,geometryEngine:s,ImageryLayer:n,MosaicRule:r}=this,o=this.getObjectIdsFromImageItemFeatures(e),m=`${t.objectIdField} in (${o.map((e=>`${e}`)).join(",")})`,h=(0,l.f)(t,a,e),c=e?.map((e=>e.geometry)),g=s.union(c),I=new n({url:t.url,title:h,renderer:t.renderer,definitionExpression:m,useViewTime:!1,rasterFunction:t.rasterFunction,...g?.extent&&{fullExtent:g.extent}}),d=new r({method:"lock-raster",lockRasterIds:o});I.mosaicRule=d,i.map.add(I)},this.handleImageItemListNavTabChange=e=>{this.activeImageItemListNavTab=e,this.resetPaginationStartIndex(),this.isShowingImageItemInspectPopover&&(this.isShowingImageItemInspectPopover=!1)},this.handleZoomToLayer=()=>{const{view:e,layer:t}=this;t.fullExtent&&e.goTo(t.fullExtent)},this.handleImageItemListPageChange=e=>{if(this.activeImageItemListNavTab===o.I.ALL){const t=(0,o.d)(e,this.imageItemCountPerPage,this.totalImageItemCount);if(!this.imageItemFeatures[t-1]){const{queryField:t,queryValues:i,isIncludeOverviews:a,displayExtent:s}=this.currentFilterDetail,{layer:n}=this,r=(0,l.b)(n,t,i,a,s,this.layerInitialMosaicRule?.lockRasterIds);r.start=e-1,this.queryImageCollectionItemsAndCount(r)}}},this.loadSavedUIOptionsFromLocalStorage=e=>{if(!e)return;const{Field:t,Graphic:i}=this,a=function(e){const t=(0,m.g)(h(e));return t?.sortingOption}(e);a&&(this.imageItemSortOrder=a.sortOrder,this.imageItemSortField=t.fromJSON(a.sortField));const s=function(e){const t=(0,m.g)(h(e));return t?.listSettingsOption}(e);s&&(this.imageItemCardDisplayedFields=s.selectedFields.map((e=>t.fromJSON(e))),this.isShowingThumbnails=s.isShowingThumbnails);const n=function(e){const t=(0,m.g)(h(e));return t?.filterOptions}(e);n&&(this.currentFilterDetail={...n,queryField:t.fromJSON(n.queryField)},this.isFilterApplied=!0,this.activeQueryField=t.fromJSON(n.queryField));const r=function(e){const t=(0,m.g)(h(e));return t?.selectedImageItems}(e);if(r){const e=r.map((e=>i.fromJSON(e)));this.selectedImageItemFeatures=e}},this.portal=void 0,this.layer=void 0,this.view=void 0,this.activeQueryField=void 0,this.selectedAOI=o.A.DISPLAY_EXTENT,this.activeImageItemListNavTab=o.I.ALL,this.totalImageItemCount=-1,this.imageItemFeatures=[],this.selectedImageItemFeatures=[],this.imageItemInfo=void 0,this.inspectImageItemFeature=void 0,this.imageItemCardDisplayedFields=[],this.isShowingImageItemInspectPopover=!1,this.isShowingListSettingsPopover=!1,this.isShowingFiltersPopover=!1,this.isShowingSortPopover=!1,this.isShowingThumbnails=!1,this.isQueryingImageItems=!1,this.imageItemSortOrder=o.S.ASC,this.imageItemSortField=void 0,this.imageItemListCurPageStartIndex=1,this.imageItemListPrevPageStartIndex=1,this.isFilterApplied=!1,this.currentFilterDetail=void 0,this.hasQueryImageItemError=!1,this.hasExceedMaxMosaicImageCountError=!1}handleImageItemFiltersPopoverClose(){this.isShowingFiltersPopover=!1}handleImageItemListSettingsPopoverClose(){this.isShowingListSettingsPopover=!1}handleImageItemSortPopoverClose(){this.isShowingSortPopover=!1}handleImageItemInspectPopoverClose(){this.isShowingImageItemInspectPopover=!1}handleImageItemsSortChangeSave(e){const{sortField:t,sortOrder:i}=e.detail;this.imageItemSortOrder=i,this.imageItemSortField=t;const{currentFilterDetail:a,layer:s,selectedImageItemFeatures:n,Extent:r}=this,{queryField:o,queryValues:g,isIncludeOverviews:I,displayExtent:d}=a,u="extent"===d?.type?d:r.fromJSON(d),p=(0,l.b)(s,o,g,I,u,this.layerInitialMosaicRule.lockRasterIds);this.resetPaginationStartIndex(),this.imageItemFeatures=[],this.queryImageCollectionItemsAndCount(p),n?.length>0&&this.sortSelectedImageItems(n),function(e,t){const i={...(0,m.g)(h(e)),sortingOption:t};(0,m.s)(h(e),i)}(s.id,e.detail),c(s.id,this.selectedImageItemFeatures)}handleImageItemListSettingsSave(e){const{selectedFields:t,isShowingThumbnails:i}=e.detail;this.isShowingThumbnails=i,this.imageItemCardDisplayedFields=t.length>0?t:[this.activeQueryField],function(e,t){const i={...(0,m.g)(h(e)),listSettingsOption:t};(0,m.s)(h(e),i)}(this.layer.id,{isShowingThumbnails:i,selectedFields:this.imageItemCardDisplayedFields})}handleImageItemToInspectChange(e){const t=e.detail;this.handleSelectNewImageItemToInspect(t)}handleZoomToInspectingImageItem(){const{inspectImageItemFeature:e,view:t}=this;t.goTo(e)}handleAddInspectingImageItemToLayer(){const{inspectImageItemFeature:e}=this;e&&this.handleAddSelectedImageItemsAsNewLayer([e])}handleImageItemFilterApply(e){this.isFilterApplied=!0;const t=e.detail;this.currentFilterDetail=t,this.handleImageItemFilterQuery(t),function(e,t){const i={...(0,m.g)(h(e)),filterOptions:t};(0,m.s)(h(e),i)}(this.layer.id,t)}handleSelectedImageItemsChange(e){if(0===e.length&&((0,l.r)(this.layer,this.layerInitialMosaicRule),this.activeImageItemListNavTab===o.I.SELECT&&this.handleImageItemListNavTabChange(o.I.ALL)),e.length>0&&(this.hasExceedMaxMosaicImageCountError=e.length>=this.layer.sourceJSON?.maxMosaicImageCount,!this.hasExceedMaxMosaicImageCountError)){const t=this.getObjectIdsFromImageItemFeatures(e);(0,l.l)(this.layer,t)}c(this.layer.id,this.selectedImageItemFeatures)}handleQueryFieldChanged(){this.handleDisplayedFieldsInImageItemCardChange(this.activeQueryField)}async setFocus(){this.refCloseButtonNode?.setFocus()}async componentWillLoad(){this.locale=this.messages._t9nLocale,this.loadSavedUIOptionsFromLocalStorage(this.layer.id),this.currentMapExtent=this.view.extent;const{fields:e,sourceJSON:t,mosaicRule:i}=this.layer||{},a=(0,l.h)(e),n=(0,l.i)(a);this.activeQueryField=this.activeQueryField||n,this.imageItemSortField=this.imageItemSortField||n,this.layerInitialMosaicRule=i.clone(),this.imageItemCountPerPage=Math.min(60,t?.maxRecordCount||60),this.handleImageItemInitialQuery(),this.watchExtentChangeHandler=this.reactiveUtils.watch((()=>[this.view.stationary,this.view.extent]),(0,s.d)((()=>{if(this.view.stationary)if(this.fetchAbortController?.abort(),this.isFilterApplied&&this.currentFilterDetail&&!(0,l.j)(this.currentMapExtent,this.view)){const e=(0,l.g)(this.view);this.currentFilterDetail.displayExtent=e,this.handleImageItemFilterQuery(this.currentFilterDetail)}else this.handleImageItemInitialQuery()}),300))}disconnectedCallback(){(0,l.r)(this.layer,this.layerInitialMosaicRule),this.removeImageItemHighlight(),this.watchExtentChangeHandler?.remove()}render(){const{messages:e,locale:t,imageItemInfo:i,inspectImageItemFeature:s,imageItemCardDisplayedFields:n,isShowingThumbnails:r,imageItemSortField:m,imageItemSortOrder:h,isShowingImageItemInspectPopover:c,isShowingListSettingsPopover:g,isShowingSortPopover:I,isShowingFiltersPopover:d,hasQueryImageItemError:u,hasExceedMaxMosaicImageCountError:p,layer:v,view:y}=this,S=!v?.loaded;return(0,a.h)(a.H,{key:"1c3964b86bc2b923cdb2aeb40b2317f04692aa3d",class:"calcite-match-height"},(0,a.h)("calcite-panel",{key:"441add3e8c3f31ec577f70496ab37cf30f5dba4c",loading:S,heading:e.imageCollectionExplorer,class:"panel"},this.renderPanelCloseButton(),this.renderActionBar(),this.renderImageItemList()),(0,a.h)("arcgis-imagery-item-filters-popover",{key:"49b74fe500643efc39a50d8924cb797a7ccb4c8c",locale:t,layer:v,view:y,referenceElement:this.el,messages:e,open:d,currentFilterDetail:this.currentFilterDetail}),(0,a.h)("arcgis-imagery-item-list-settings-popover",{key:"15ac87e7a7ec6fd15d306d62ee1674e72964320d",referenceElement:this.el,messages:e,fields:(0,l.h)(v.fields),preselectedFields:n,isShowingThumbnails:r,open:g}),(0,a.h)("arcgis-imagery-item-sort-popover",{key:"08f59368736cf56ba5e23372352de1d58d8e35d8",open:I,referenceElement:this.el,messages:e,fields:v.fields,preselectedSortField:m,preselectedSortOrder:h}),(0,a.h)("arcgis-imagery-item-details-popover",{key:"cf3464ec1572ac958bfca99a1fca0d2f6b1f2e05",layer:v,view:y,referenceElement:this.el,messages:e,open:c,imageItemInfo:i,imageItemFeatureGraphic:s}),u&&this.renderAlert("",e.filterFailedErrorMessage,o.a.DANGER),p&&this.renderAlert("",e.exceedMaxMosaicImageCountErrorMessage,o.a.WARNING))}renderPanelCloseButton(){const{messages:e}=this;return(0,a.h)("calcite-action",{text:e.close,icon:"x",slot:"header-actions-end",onClick:this.handleCloseClick,ref:e=>this.refCloseButtonNode=e})}renderActionBar(){const{messages:e,imageItemSortOrder:t,imageItemSortField:i,isShowingFiltersPopover:s,isShowingListSettingsPopover:n,isShowingSortPopover:r}=this,l=t===o.S.ASC;return(0,a.h)("calcite-action-bar",{slot:"action-bar",expanded:!0,"expand-disabled":!0,layout:"horizontal",scale:"l"},(0,a.h)("calcite-action",{icon:"sliders",text:"",title:e.filters,textEnabled:!1,active:s,onClick:this.handleOpenImageItemFiltersPopover}),(0,a.h)("calcite-action",{icon:"list",text:"",title:e.listSettings,textEnabled:!1,active:n,onClick:this.handleOpenImageItemListSettingsPopover}),(0,a.h)("div",{class:"sort-image-item-action-wrapper"},(0,a.h)("calcite-action",{icon:l?"sort-ascending":"sort-descending",textEnabled:!0,text:`${e.sortBy} ${i?.name}`,title:l?e.sortImageItemAscendingOrder:e.sortImageItemDescendingOrder,active:r,onClick:this.handleOpenImageItemSortPopover})))}renderImageItemListTabs(){const{messages:e,activeImageItemListNavTab:t,selectedImageItemFeatures:i}=this,s=i.length>0;return(0,a.h)("calcite-tabs",{layout:"center"},(0,a.h)("calcite-tab-nav",{slot:"title-group"},(0,a.h)("calcite-tab-title",{selected:t===o.I.ALL,onClick:()=>this.handleImageItemListNavTabChange(o.I.ALL)},e.all),(0,a.h)("calcite-tab-title",{selected:t===o.I.SELECT,disabled:!s,onClick:()=>this.handleImageItemListNavTabChange(o.I.SELECT)},e.selected)))}renderImageItemList(){const{messages:e,isQueryingImageItems:t,totalImageItemCount:i,selectedImageItemFeatures:s,imageItemFeatures:n,activeImageItemListNavTab:r}=this;if(t)return(0,a.h)("calcite-loader",{label:e.loading,scale:"m"});const l=r===o.I.ALL?i>0&&n?.length>0:s?.length>0;return(0,a.h)("div",{class:"image-item-list-container"},this.renderImageItemListTabs(),s?.length>0&&this.renderImageItemListSelectionButtonGroup(),!l&&this.renderNoImageItemFetchedCoachMessage(),l&&this.renderImageItemListPaginationInfo(),l&&this.renderImageItemCardList(),l&&this.renderImageItemListPagination())}renderSelectedImageItemCount(){const{messages:e,selectedImageItemFeatures:t}=this,i=t.length,s=e.selectedImageItemCountInfo.replace("${selectedCount}",`${i}`);return i>0&&(0,a.h)("calcite-chip",{label:s,kind:"brand",closable:!0,onCalciteChipClose:()=>this.clearAllImageItemSelections()},s)}renderImageItemListSelectionButtonGroup(){const{messages:e,selectedImageItemFeatures:t}=this;return(0,a.h)("div",{class:"image-item-list-selection-button-wrapper"},this.renderSelectedImageItemCount(),(0,a.h)("div",{style:{display:"flex"}},(0,a.h)("calcite-button",{label:e.addToMap,appearance:"transparent","icon-start":"add-layer",kind:"neutral",scale:"s",title:e.addToMap,onClick:()=>this.handleAddSelectedImageItemsAsNewLayer(t)}),(0,a.h)("calcite-button",{label:e.zoomToSelection,appearance:"transparent","icon-start":"zoom-to-object",kind:"neutral",scale:"s",title:e.zoomToSelection,onClick:()=>this.zoomToSelectedImageItems(t)})))}renderImageItemListPaginationInfo(){const{messages:e,activeImageItemListNavTab:t,totalImageItemCount:i,imageItemListCurPageStartIndex:s,selectedImageItemFeatures:n}=this,r=t===o.I.ALL?i:n.length,l=(0,o.d)(s,this.imageItemCountPerPage,r),m=e.imageItemPaginationAndTotalCountInfo.replace("${totalCount}",`${r}`).replace("${start}",`${s}`).replace("${end}",`${l}`);return(0,a.h)("div",{class:"list-pagination-info-wrapper"},m)}renderImageItemCardList(){const{messages:e,activeImageItemListNavTab:t,imageItemFeatures:i,selectedImageItemFeatures:s,layer:n,isShowingThumbnails:r,imageItemListCurPageStartIndex:l,inspectImageItemFeature:m,isShowingImageItemInspectPopover:h}=this,c=t===o.I.ALL?i:s,g=(0,o.d)(l,this.imageItemCountPerPage,c.length),I=c?.slice(l-1,g).map((i=>{if(!i)return null;const l=i.attributes[n.objectIdField],c=t===o.I.SELECT||this.getObjectIdsFromImageItemFeatures(s).includes(l),g=h&&m?.attributes[n.objectIdField]===l;return(0,a.h)("li",{onMouseOver:()=>this.highlightImageItem(i),onMouseOut:this.removeImageItemHighlight},(0,a.h)("calcite-card",null,(0,a.h)("div",{class:"image-item-info-container"},r?this.renderPreviewThumbnail(l):null,(0,a.h)("div",{class:"image-item-info-text-section"},(0,a.h)("div",null,i.attributes.Name||i.attributes.name),this.renderFeatureAttributesInImageItemCard(i))),(0,a.h)("div",{slot:"footer-start",style:{"flex-wrap":"wrap"}},(0,a.h)("calcite-button",{kind:"neutral","icon-start":"information",appearance:g?"solid":"transparent",title:e.viewImageDetails,onClick:()=>this.openImageItemInspectPopover(i)}),(0,a.h)("calcite-button",{kind:"neutral","icon-start":"zoom-to-object",appearance:"transparent",title:e.zoomToImage,onClick:()=>this.zoomToSelectedImageItems([i])}),(0,a.h)("calcite-button",{kind:"neutral","icon-start":"add-layer",appearance:"transparent",title:e.addImageToMap,onClick:()=>this.handleAddSelectedImageItemsAsNewLayer([i])})),(0,a.h)("div",{slot:"footer-end"},(0,a.h)("calcite-button",{appearance:c?"solid":"outline",kind:"neutral",iconEnd:c?"x":"",onClick:()=>{const e=c?s.filter((e=>e?.attributes[n.objectIdField]!==l)):[...s,i];this.sortSelectedImageItems(e)}},c?e.selected:e.select))))}));return(0,a.h)("ul",{class:"image-item-card-list"},I)}renderPreviewThumbnail(e){const{layer:t,IdentityManager:i}=this,s=i.findCredential(t.url),{token:n}=s||{},r=`${t.url}/${e}/thumbnail${n?`?token=${n}`:""}`;return(0,a.h)("img",{src:r})}renderFeatureAttributesInImageItemCard(e){const{imageItemCardDisplayedFields:t,CodedValueDomain:i}=this,s=t.map((t=>{let s=e.attributes[t.name];if("date"===t.type)s=(0,o.g)(s);else if((0,o.i)(t)){const e=t.domain;s="function"==typeof e.getName?e.getName(s):i.fromJSON(t.domain).getName(s)}return(0,a.h)("li",null,`${t.name} : ${s}`)}));return(0,a.h)("ul",{class:"image-item-card-displayed-field-list"},s)}renderImageItemListPagination(){const{messages:e,activeImageItemListNavTab:t,totalImageItemCount:i,imageItemListCurPageStartIndex:s,selectedImageItemFeatures:n}=this,r=t===o.I.ALL?i:n.length;return(0,a.h)("div",{class:"pagination-wrapper"},(0,a.h)("calcite-pagination",{onCalcitePaginationChange:e=>{const t=e.target;this.imageItemListPrevPageStartIndex=this.imageItemListCurPageStartIndex,this.imageItemListCurPageStartIndex=t.startItem,this.handleImageItemListPageChange(this.imageItemListCurPageStartIndex)},startItem:s,totalItems:r,pageSize:this.imageItemCountPerPage,messageOverrides:{next:e.next,previous:e.previous},class:{hide:!r||r<this.imageItemCountPerPage}}))}renderNoImageItemFetchedCoachMessage(){const{messages:e,isFilterApplied:t}=this;return(0,a.h)("div",{class:"no-image-item-coach-wrapper"},(0,a.h)("calcite-icon",{scale:"l",icon:"overview"}),t?e.updateFilterOrZoomToBrowseImages:e.zoomToBrowseImages,t?(0,a.h)("calcite-button",{kind:"neutral",appearance:"outline",onClick:this.handleOpenImageItemFiltersPopover},e.updateFilters):(0,a.h)("calcite-button",{kind:"neutral",appearance:"outline",onClick:this.handleZoomToLayer},e.zoomToImages))}renderAlert(e,t,i){return(0,a.h)("calcite-alert",{kind:i,label:t,open:!0,icon:"exclamation-mark-circle"},(0,a.h)("div",{slot:"title"},e),(0,a.h)("div",{slot:"message"},t))}resetPaginationStartIndex(){this.imageItemListCurPageStartIndex=1,this.imageItemListPrevPageStartIndex=1}getObjectIdsFromImageItemFeatures(e){const{layer:t}=this;return Array.isArray(e)?e.filter((e=>!!e)).map((e=>e.attributes[t.objectIdField])):[]}sortSelectedImageItems(e){const{imageItemSortField:t,imageItemSortOrder:i,locale:a}=this,s=e.sort(((e,s)=>{const n=e.attributes[t.name],r=s.attributes[t.name];return i===o.S.ASC?(0,o.c)(n,r,a):(0,o.c)(r,n,a)}));this.selectedImageItemFeatures=s}static get assetsDirs(){return["assets"]}get el(){return(0,a.g)(this)}static get watchers(){return{selectedImageItemFeatures:["handleSelectedImageItemsChange"],activeQueryField:["handleQueryFieldChanged"]}}};g.style=":host {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.image-item-list-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  padding: 5px 5px 0;\n}\n\n.image-item-card-list {\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  overflow-y: auto;\n  list-style: none;\n}\n\n.image-item-list-selection-button-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem;\n}\n\n.image-item-info-container {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.image-item-info-container > img {\n  max-width: 50%;\n}\n\n.image-item-info-text-section {\n  flex: 1;\n  word-break: break-word;\n}\n\n.image-item-info-text-section > div {\n  margin-bottom: 10px;\n  font-size: var(--calcite-font-size--1);\n  font-weight: var(--calcite-font-weight-medium);\n  color: var(--calcite-color-text-1);\n}\n\n.list-pagination-info-wrapper {\n  padding-inline-start: 0.5rem;\n}\n\n.image-item-inspect-button-group {\n  text-align: start;\n}\n\n.image-item-card-displayed-field-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  word-break: break-word;\n}\n\n.sort-image-item-action-wrapper {\n  border-inline-start: 1px solid var(--calcite-color-foreground-3);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n}\n\n.pagination-wrapper {\n  display: flex;\n  justify-content: center;\n  padding: 0.5rem 0;\n  .hide {\n    display: none;\n  }\n}\n\n.no-image-item-coach-wrapper {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  gap: 1rem;\n}\n"},67455:(e,t,i)=>{i.d(t,{g:()=>r,r:()=>n,s:()=>s});const a="arcgisImageryComponents";function s(e,t){const i=o();i[e]=t,function(e){const t=JSON.stringify(e);"{}"===t?localStorage.removeItem(a):localStorage.setItem(a,t)}(i)}function n(e){s(e,void 0)}function r(e){return o()[e]}function o(){const e=localStorage.getItem(a);return e?JSON.parse(e):{}}},20353:(e,t,i)=>{i.d(t,{u:()=>n});var a=i(14886),s=i(41126);const n=(0,a.m)(s.a)}}]);